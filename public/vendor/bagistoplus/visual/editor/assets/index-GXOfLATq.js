function xm(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const We={},mc=[],Ur=()=>{},pT=()=>!1,Ap=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),M1=e=>e.startsWith("onUpdate:"),ft=Object.assign,D1=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},PD=Object.prototype.hasOwnProperty,it=(e,t)=>PD.call(e,t),ke=Array.isArray,vc=e=>Qc(e)==="[object Map]",dl=e=>Qc(e)==="[object Set]",A_=e=>Qc(e)==="[object Date]",$D=e=>Qc(e)==="[object RegExp]",Se=e=>typeof e=="function",kt=e=>typeof e=="string",ao=e=>typeof e=="symbol",pt=e=>e!==null&&typeof e=="object",L1=e=>(pt(e)||Se(e))&&Se(e.then)&&Se(e.catch),fT=Object.prototype.toString,Qc=e=>fT.call(e),RD=e=>Qc(e).slice(8,-1),wm=e=>Qc(e)==="[object Object]",_m=e=>kt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,bc=xm(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),km=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},AD=/-\w/g,_n=km(e=>e.replace(AD,t=>t.slice(1).toUpperCase())),ND=/\B([A-Z])/g,sr=km(e=>e.replace(ND,"-$1").toLowerCase()),Np=km(e=>e.charAt(0).toUpperCase()+e.slice(1)),yd=km(e=>e?`on${Np(e)}`:""),qn=(e,t)=>!Object.is(e,t),yc=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},hT=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Cm=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Kh=e=>{const t=kt(e)?Number(e):NaN;return isNaN(t)?e:t};let N_;const Em=()=>N_||(N_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),MD="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",DD=xm(MD);function Yt(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=kt(r)?BD(r):Yt(r);if(o)for(const i in o)t[i]=o[i]}return t}else if(kt(e)||pt(e))return e}const LD=/;(?![^(]*\))/g,VD=/:([^]+)/,FD=/\/\*[^]*?\*\//g;function BD(e){const t={};return e.replace(FD,"").split(LD).forEach(n=>{if(n){const r=n.split(VD);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ne(e){let t="";if(kt(e))t=e;else if(ke(e))for(let n=0;n<e.length;n++){const r=Ne(e[n]);r&&(t+=r+" ")}else if(pt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Be(e){if(!e)return null;let{class:t,style:n}=e;return t&&!kt(t)&&(e.class=Ne(t)),n&&(e.style=Yt(n)),e}const HD="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",zD=xm(HD);function gT(e){return!!e||e===""}function UD(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=js(e[r],t[r]);return n}function js(e,t){if(e===t)return!0;let n=A_(e),r=A_(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=ao(e),r=ao(t),n||r)return e===t;if(n=ke(e),r=ke(t),n||r)return n&&r?UD(e,t):!1;if(n=pt(e),r=pt(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,i=Object.keys(t).length;if(o!==i)return!1;for(const s in e){const a=e.hasOwnProperty(s),l=t.hasOwnProperty(s);if(a&&!l||!a&&l||!js(e[s],t[s]))return!1}}return String(e)===String(t)}function Om(e,t){return e.findIndex(n=>js(n,t))}const mT=e=>!!(e&&e.__v_isRef===!0),j=e=>kt(e)?e:e==null?"":ke(e)||pt(e)&&(e.toString===fT||!Se(e.toString))?mT(e)?j(e.value):JSON.stringify(e,vT,2):String(e),vT=(e,t)=>mT(t)?vT(e,t.value):vc(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o],i)=>(n[Xv(r,i)+" =>"]=o,n),{})}:dl(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Xv(n))}:ao(t)?Xv(t):pt(t)&&!ke(t)&&!wm(t)?String(t):t,Xv=(e,t="")=>{var n;return ao(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};function jD(e){return e==null?"initial":typeof e=="string"?e===""?" ":e:String(e)}let Sn;class V1{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Sn,!t&&Sn&&(this.index=(Sn.scopes||(Sn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Sn;try{return Sn=this,t()}finally{Sn=n}}}on(){++this._on===1&&(this.prevScope=Sn,Sn=this)}off(){this._on>0&&--this._on===0&&(Sn=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function GD(e){return new V1(e)}function bT(){return Sn}function WD(e,t=!1){Sn&&Sn.cleanups.push(e)}let xt;const Jv=new WeakSet;class Gd{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Sn&&Sn.active&&Sn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Jv.has(this)&&(Jv.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xT(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,M_(this),wT(this);const t=xt,n=io;xt=this,io=!0;try{return this.fn()}finally{_T(this),xt=t,io=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)H1(t);this.deps=this.depsTail=void 0,M_(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Jv.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){wy(this)&&this.run()}get dirty(){return wy(this)}}let yT=0,xd,wd;function xT(e,t=!1){if(e.flags|=8,t){e.next=wd,wd=e;return}e.next=xd,xd=e}function F1(){yT++}function B1(){if(--yT>0)return;if(wd){let t=wd;for(wd=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;xd;){let t=xd;for(xd=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function wT(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function _T(e){let t,n=e.depsTail,r=n;for(;r;){const o=r.prevDep;r.version===-1?(r===n&&(n=o),H1(r),qD(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}e.deps=t,e.depsTail=n}function wy(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(kT(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function kT(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Wd)||(e.globalVersion=Wd,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!wy(e))))return;e.flags|=2;const t=e.dep,n=xt,r=io;xt=e,io=!0;try{wT(e);const o=e.fn(e._value);(t.version===0||qn(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{xt=n,io=r,_T(e),e.flags&=-3}}function H1(e,t=!1){const{dep:n,prevSub:r,nextSub:o}=e;if(r&&(r.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)H1(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function qD(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}function KD(e,t){e.effect instanceof Gd&&(e=e.effect.fn);const n=new Gd(e);t&&ft(n,t);try{n.run()}catch(o){throw n.stop(),o}const r=n.run.bind(n);return r.effect=n,r}function YD(e){e.effect.stop()}let io=!0;const CT=[];function Mi(){CT.push(io),io=!1}function Di(){const e=CT.pop();io=e===void 0?!0:e}function M_(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=xt;xt=void 0;try{t()}finally{xt=n}}}let Wd=0;class XD{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Im{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!xt||!io||xt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==xt)n=this.activeLink=new XD(xt,this),xt.deps?(n.prevDep=xt.depsTail,xt.depsTail.nextDep=n,xt.depsTail=n):xt.deps=xt.depsTail=n,ET(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=xt.depsTail,n.nextDep=void 0,xt.depsTail.nextDep=n,xt.depsTail=n,xt.deps===n&&(xt.deps=r)}return n}trigger(t){this.version++,Wd++,this.notify(t)}notify(t){F1();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{B1()}}}function ET(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)ET(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Yh=new WeakMap,ja=Symbol(""),_y=Symbol(""),qd=Symbol("");function $n(e,t,n){if(io&&xt){let r=Yh.get(e);r||Yh.set(e,r=new Map);let o=r.get(n);o||(r.set(n,o=new Im),o.map=r,o.key=n),o.track()}}function Ci(e,t,n,r,o,i){const s=Yh.get(e);if(!s){Wd++;return}const a=l=>{l&&l.trigger()};if(F1(),t==="clear")s.forEach(a);else{const l=ke(e),c=l&&_m(n);if(l&&n==="length"){const u=Number(r);s.forEach((p,h)=>{(h==="length"||h===qd||!ao(h)&&h>=u)&&a(p)})}else switch((n!==void 0||s.has(void 0))&&a(s.get(n)),c&&a(s.get(qd)),t){case"add":l?c&&a(s.get("length")):(a(s.get(ja)),vc(e)&&a(s.get(_y)));break;case"delete":l||(a(s.get(ja)),vc(e)&&a(s.get(_y)));break;case"set":vc(e)&&a(s.get(ja));break}}B1()}function JD(e,t){const n=Yh.get(e);return n&&n.get(t)}function Il(e){const t=He(e);return t===e?t:($n(t,"iterate",qd),lr(e)?t:t.map(lo))}function Tm(e){return $n(e=He(e),"iterate",qd),e}function ms(e,t){return Jo(e)?Si(e)?Rc(lo(t)):Rc(t):lo(t)}const ZD={__proto__:null,[Symbol.iterator](){return Zv(this,Symbol.iterator,e=>ms(this,e))},concat(...e){return Il(this).concat(...e.map(t=>ke(t)?Il(t):t))},entries(){return Zv(this,"entries",e=>(e[1]=ms(this,e[1]),e))},every(e,t){return fi(this,"every",e,t,void 0,arguments)},filter(e,t){return fi(this,"filter",e,t,n=>n.map(r=>ms(this,r)),arguments)},find(e,t){return fi(this,"find",e,t,n=>ms(this,n),arguments)},findIndex(e,t){return fi(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return fi(this,"findLast",e,t,n=>ms(this,n),arguments)},findLastIndex(e,t){return fi(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return fi(this,"forEach",e,t,void 0,arguments)},includes(...e){return Qv(this,"includes",e)},indexOf(...e){return Qv(this,"indexOf",e)},join(e){return Il(this).join(e)},lastIndexOf(...e){return Qv(this,"lastIndexOf",e)},map(e,t){return fi(this,"map",e,t,void 0,arguments)},pop(){return Cu(this,"pop")},push(...e){return Cu(this,"push",e)},reduce(e,...t){return D_(this,"reduce",e,t)},reduceRight(e,...t){return D_(this,"reduceRight",e,t)},shift(){return Cu(this,"shift")},some(e,t){return fi(this,"some",e,t,void 0,arguments)},splice(...e){return Cu(this,"splice",e)},toReversed(){return Il(this).toReversed()},toSorted(e){return Il(this).toSorted(e)},toSpliced(...e){return Il(this).toSpliced(...e)},unshift(...e){return Cu(this,"unshift",e)},values(){return Zv(this,"values",e=>ms(this,e))}};function Zv(e,t,n){const r=Tm(e),o=r[t]();return r!==e&&!lr(e)&&(o._next=o.next,o.next=()=>{const i=o._next();return i.done||(i.value=n(i.value)),i}),o}const QD=Array.prototype;function fi(e,t,n,r,o,i){const s=Tm(e),a=s!==e&&!lr(e),l=s[t];if(l!==QD[t]){const p=l.apply(e,i);return a?lo(p):p}let c=n;s!==e&&(a?c=function(p,h){return n.call(this,ms(e,p),h,e)}:n.length>2&&(c=function(p,h){return n.call(this,p,h,e)}));const u=l.call(s,c,r);return a&&o?o(u):u}function D_(e,t,n,r){const o=Tm(e);let i=n;return o!==e&&(lr(e)?n.length>3&&(i=function(s,a,l){return n.call(this,s,a,l,e)}):i=function(s,a,l){return n.call(this,s,ms(e,a),l,e)}),o[t](i,...r)}function Qv(e,t,n){const r=He(e);$n(r,"iterate",qd);const o=r[t](...n);return(o===-1||o===!1)&&Mp(n[0])?(n[0]=He(n[0]),r[t](...n)):o}function Cu(e,t,n=[]){Mi(),F1();const r=He(e)[t].apply(e,n);return B1(),Di(),r}const eL=xm("__proto__,__v_isRef,__isVue"),OT=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ao));function tL(e){ao(e)||(e=String(e));const t=He(this);return $n(t,"has",e),t.hasOwnProperty(e)}class IT{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(o?i?AT:RT:i?$T:PT).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const s=ke(t);if(!o){let l;if(s&&(l=ZD[n]))return l;if(n==="hasOwnProperty")return tL}const a=Reflect.get(t,n,Ce(t)?t:r);if((ao(n)?OT.has(n):eL(n))||(o||$n(t,"get",n),i))return a;if(Ce(a)){const l=s&&_m(n)?a:a.value;return o&&pt(l)?Kd(l):l}return pt(a)?o?Kd(a):Tr(a):a}}class TT extends IT{constructor(t=!1){super(!1,t)}set(t,n,r,o){let i=t[n];const s=ke(t)&&_m(n);if(!this._isShallow){const c=Jo(i);if(!lr(r)&&!Jo(r)&&(i=He(i),r=He(r)),!s&&Ce(i)&&!Ce(r))return c||(i.value=r),!0}const a=s?Number(n)<t.length:it(t,n),l=Reflect.set(t,n,r,Ce(t)?t:o);return t===He(o)&&(a?qn(r,i)&&Ci(t,"set",n,r):Ci(t,"add",n,r)),l}deleteProperty(t,n){const r=it(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&r&&Ci(t,"delete",n,void 0),o}has(t,n){const r=Reflect.has(t,n);return(!ao(n)||!OT.has(n))&&$n(t,"has",n),r}ownKeys(t){return $n(t,"iterate",ke(t)?"length":ja),Reflect.ownKeys(t)}}class ST extends IT{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const nL=new TT,rL=new ST,oL=new TT(!0),iL=new ST(!0),ky=e=>e,vf=e=>Reflect.getPrototypeOf(e);function sL(e,t,n){return function(...r){const o=this.__v_raw,i=He(o),s=vc(i),a=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,c=o[e](...r),u=n?ky:t?Rc:lo;return!t&&$n(i,"iterate",l?_y:ja),{next(){const{value:p,done:h}=c.next();return h?{value:p,done:h}:{value:a?[u(p[0]),u(p[1])]:u(p),done:h}},[Symbol.iterator](){return this}}}}function bf(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function aL(e,t){const n={get(o){const i=this.__v_raw,s=He(i),a=He(o);e||(qn(o,a)&&$n(s,"get",o),$n(s,"get",a));const{has:l}=vf(s),c=t?ky:e?Rc:lo;if(l.call(s,o))return c(i.get(o));if(l.call(s,a))return c(i.get(a));i!==s&&i.get(o)},get size(){const o=this.__v_raw;return!e&&$n(He(o),"iterate",ja),o.size},has(o){const i=this.__v_raw,s=He(i),a=He(o);return e||(qn(o,a)&&$n(s,"has",o),$n(s,"has",a)),o===a?i.has(o):i.has(o)||i.has(a)},forEach(o,i){const s=this,a=s.__v_raw,l=He(a),c=t?ky:e?Rc:lo;return!e&&$n(l,"iterate",ja),a.forEach((u,p)=>o.call(i,c(u),c(p),s))}};return ft(n,e?{add:bf("add"),set:bf("set"),delete:bf("delete"),clear:bf("clear")}:{add(o){!t&&!lr(o)&&!Jo(o)&&(o=He(o));const i=He(this);return vf(i).has.call(i,o)||(i.add(o),Ci(i,"add",o,o)),this},set(o,i){!t&&!lr(i)&&!Jo(i)&&(i=He(i));const s=He(this),{has:a,get:l}=vf(s);let c=a.call(s,o);c||(o=He(o),c=a.call(s,o));const u=l.call(s,o);return s.set(o,i),c?qn(i,u)&&Ci(s,"set",o,i):Ci(s,"add",o,i),this},delete(o){const i=He(this),{has:s,get:a}=vf(i);let l=s.call(i,o);l||(o=He(o),l=s.call(i,o)),a&&a.call(i,o);const c=i.delete(o);return l&&Ci(i,"delete",o,void 0),c},clear(){const o=He(this),i=o.size!==0,s=o.clear();return i&&Ci(o,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=sL(o,e,t)}),n}function Sm(e,t){const n=aL(e,t);return(r,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(it(n,o)&&o in r?n:r,o,i)}const lL={get:Sm(!1,!1)},cL={get:Sm(!1,!0)},uL={get:Sm(!0,!1)},dL={get:Sm(!0,!0)},PT=new WeakMap,$T=new WeakMap,RT=new WeakMap,AT=new WeakMap;function pL(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function fL(e){return e.__v_skip||!Object.isExtensible(e)?0:pL(RD(e))}function Tr(e){return Jo(e)?e:Pm(e,!1,nL,lL,PT)}function NT(e){return Pm(e,!1,oL,cL,$T)}function Kd(e){return Pm(e,!0,rL,uL,RT)}function hL(e){return Pm(e,!0,iL,dL,AT)}function Pm(e,t,n,r,o){if(!pt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=fL(e);if(i===0)return e;const s=o.get(e);if(s)return s;const a=new Proxy(e,i===2?r:n);return o.set(e,a),a}function Si(e){return Jo(e)?Si(e.__v_raw):!!(e&&e.__v_isReactive)}function Jo(e){return!!(e&&e.__v_isReadonly)}function lr(e){return!!(e&&e.__v_isShallow)}function Mp(e){return e?!!e.__v_raw:!1}function He(e){const t=e&&e.__v_raw;return t?He(t):e}function fe(e){return!it(e,"__v_skip")&&Object.isExtensible(e)&&hT(e,"__v_skip",!0),e}const lo=e=>pt(e)?Tr(e):e,Rc=e=>pt(e)?Kd(e):e;function Ce(e){return e?e.__v_isRef===!0:!1}function Q(e){return MT(e,!1)}function co(e){return MT(e,!0)}function MT(e,t){return Ce(e)?e:new gL(e,t)}class gL{constructor(t,n){this.dep=new Im,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:He(t),this._value=n?t:lo(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||lr(t)||Jo(t);t=r?t:He(t),qn(t,n)&&(this._rawValue=t,this._value=r?t:lo(t),this.dep.trigger())}}function mL(e){e.dep&&e.dep.trigger()}function d(e){return Ce(e)?e.value:e}function pe(e){return Se(e)?e():d(e)}const vL={get:(e,t,n)=>t==="__v_raw"?e:d(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return Ce(o)&&!Ce(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function z1(e){return Si(e)?e:new Proxy(e,vL)}class bL{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Im,{get:r,set:o}=t(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=o}get value(){return this._value=this._get()}set value(t){this._set(t)}}function U1(e){return new bL(e)}function j1(e){const t=ke(e)?new Array(e.length):{};for(const n in e)t[n]=DT(e,n);return t}class yL{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0,this._raw=He(t);let o=!0,i=t;if(!ke(t)||!_m(String(n)))do o=!Mp(i)||lr(i);while(o&&(i=i.__v_raw));this._shallow=o}get value(){let t=this._object[this._key];return this._shallow&&(t=d(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&Ce(this._raw[this._key])){const n=this._object[this._key];if(Ce(n)){n.value=t;return}}this._object[this._key]=t}get dep(){return JD(this._raw,this._key)}}class xL{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function wL(e,t,n){return Ce(e)?e:Se(e)?new xL(e):pt(e)&&arguments.length>1?DT(e,t,n):Q(e)}function DT(e,t,n){return new yL(e,t,n)}class _L{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Im(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Wd-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&xt!==this)return xT(this,!0),!0}get value(){const t=this.dep.track();return kT(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function kL(e,t,n=!1){let r,o;return Se(e)?r=e:(r=e.get,o=e.set),new _L(r,o,n)}const CL={GET:"get",HAS:"has",ITERATE:"iterate"},EL={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},yf={},Xh=new WeakMap;let vs;function OL(){return vs}function LT(e,t=!1,n=vs){if(n){let r=Xh.get(n);r||Xh.set(n,r=[]),r.push(e)}}function IL(e,t,n=We){const{immediate:r,deep:o,once:i,scheduler:s,augmentJob:a,call:l}=n,c=v=>o?v:lr(v)||o===!1||o===0?Ei(v,1):Ei(v);let u,p,h,f,g=!1,m=!1;if(Ce(e)?(p=()=>e.value,g=lr(e)):Si(e)?(p=()=>c(e),g=!0):ke(e)?(m=!0,g=e.some(v=>Si(v)||lr(v)),p=()=>e.map(v=>{if(Ce(v))return v.value;if(Si(v))return c(v);if(Se(v))return l?l(v,2):v()})):Se(e)?t?p=l?()=>l(e,2):e:p=()=>{if(h){Mi();try{h()}finally{Di()}}const v=vs;vs=u;try{return l?l(e,3,[f]):e(f)}finally{vs=v}}:p=Ur,t&&o){const v=p,_=o===!0?1/0:o;p=()=>Ei(v(),_)}const b=bT(),w=()=>{u.stop(),b&&b.active&&D1(b.effects,u)};if(i&&t){const v=t;t=(..._)=>{v(..._),w()}}let E=m?new Array(e.length).fill(yf):yf;const k=v=>{if(!(!(u.flags&1)||!u.dirty&&!v))if(t){const _=u.run();if(o||g||(m?_.some((T,N)=>qn(T,E[N])):qn(_,E))){h&&h();const T=vs;vs=u;try{const N=[_,E===yf?void 0:m&&E[0]===yf?[]:E,f];E=_,l?l(t,3,N):t(...N)}finally{vs=T}}}else u.run()};return a&&a(k),u=new Gd(p),u.scheduler=s?()=>s(k,!1):k,f=v=>LT(v,!1,u),h=u.onStop=()=>{const v=Xh.get(u);if(v){if(l)l(v,4);else for(const _ of v)_();Xh.delete(u)}},t?r?k(!0):E=u.run():s?s(k.bind(null,!0),!0):u.run(),w.pause=u.pause.bind(u),w.resume=u.resume.bind(u),w.stop=w,w}function Ei(e,t=1/0,n){if(t<=0||!pt(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Ce(e))Ei(e.value,t,n);else if(ke(e))for(let r=0;r<e.length;r++)Ei(e[r],t,n);else if(dl(e)||vc(e))e.forEach(r=>{Ei(r,t,n)});else if(wm(e)){for(const r in e)Ei(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Ei(e[r],t,n)}return e}const VT=[];function TL(e){VT.push(e)}function SL(){VT.pop()}function PL(e,t){}const $L={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},RL={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function eu(e,t,n,r){try{return r?e(...r):e()}catch(o){pl(o,t,n)}}function qr(e,t,n,r){if(Se(e)){const o=eu(e,t,n,r);return o&&L1(o)&&o.catch(i=>{pl(i,t,n)}),o}if(ke(e)){const o=[];for(let i=0;i<e.length;i++)o.push(qr(e[i],t,n,r));return o}}function pl(e,t,n,r=!0){const o=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||We;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let p=0;p<u.length;p++)if(u[p](e,l,c)===!1)return}a=a.parent}if(i){Mi(),eu(i,null,10,[e,l,c]),Di();return}}AL(e,n,o,r,s)}function AL(e,t,n,r=!0,o=!1){if(o)throw e;console.error(e)}const Kn=[];let Fo=-1;const xc=[];let bs=null,Xl=0;const FT=Promise.resolve();let Jh=null;function Nn(e){const t=Jh||FT;return e?t.then(this?e.bind(this):e):t}function NL(e){let t=Fo+1,n=Kn.length;for(;t<n;){const r=t+n>>>1,o=Kn[r],i=Xd(o);i<e||i===e&&o.flags&2?t=r+1:n=r}return t}function G1(e){if(!(e.flags&1)){const t=Xd(e),n=Kn[Kn.length-1];!n||!(e.flags&2)&&t>=Xd(n)?Kn.push(e):Kn.splice(NL(t),0,e),e.flags|=1,BT()}}function BT(){Jh||(Jh=FT.then(HT))}function Yd(e){ke(e)?xc.push(...e):bs&&e.id===-1?bs.splice(Xl+1,0,e):e.flags&1||(xc.push(e),e.flags|=1),BT()}function L_(e,t,n=Fo+1){for(;n<Kn.length;n++){const r=Kn[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Kn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Zh(e){if(xc.length){const t=[...new Set(xc)].sort((n,r)=>Xd(n)-Xd(r));if(xc.length=0,bs){bs.push(...t);return}for(bs=t,Xl=0;Xl<bs.length;Xl++){const n=bs[Xl];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}bs=null,Xl=0}}const Xd=e=>e.id==null?e.flags&2?-1:1/0:e.id;function HT(e){try{for(Fo=0;Fo<Kn.length;Fo++){const t=Kn[Fo];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),eu(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Fo<Kn.length;Fo++){const t=Kn[Fo];t&&(t.flags&=-2)}Fo=-1,Kn.length=0,Zh(),Jh=null,(Kn.length||xc.length)&&HT()}}let Jl,xf=[];function zT(e,t){var n,r;Jl=e,Jl?(Jl.enabled=!0,xf.forEach(({event:o,args:i})=>Jl.emit(o,...i)),xf=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{zT(i,t)}),setTimeout(()=>{Jl||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,xf=[])},3e3)):xf=[]}let wn=null,$m=null;function Jd(e){const t=wn;return wn=e,$m=e&&e.type.__scopeId||null,t}function ML(e){$m=e}function DL(){$m=null}const LL=e=>O;function O(e,t=wn,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&ep(-1);const i=Jd(t);let s;try{s=e(...o)}finally{Jd(i),r._d&&ep(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function yo(e,t){if(wn===null)return e;const n=Vp(wn),r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[i,s,a,l=We]=t[o];i&&(Se(i)&&(i={mounted:i,updated:i}),i.deep&&Ei(s),r.push({dir:i,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return e}function Bo(e,t,n,r){const o=e.dirs,i=t&&t.dirs;for(let s=0;s<o.length;s++){const a=o[s];i&&(a.oldValue=i[s].value);let l=a.dir[r];l&&(Mi(),qr(l,n,8,[e.el,a,e,t]),Di())}}const UT=Symbol("_vte"),jT=e=>e.__isTeleport,_d=e=>e&&(e.disabled||e.disabled===""),V_=e=>e&&(e.defer||e.defer===""),F_=e=>typeof SVGElement<"u"&&e instanceof SVGElement,B_=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Cy=(e,t)=>{const n=e&&e.to;return kt(n)?t?t(n):null:n},GT={name:"Teleport",__isTeleport:!0,process(e,t,n,r,o,i,s,a,l,c){const{mc:u,pc:p,pbc:h,o:{insert:f,querySelector:g,createText:m,createComment:b}}=c,w=_d(t.props);let{shapeFlag:E,children:k,dynamicChildren:v}=t;if(e==null){const _=t.el=m(""),T=t.anchor=m("");f(_,n,r),f(T,n,r);const N=(x,I)=>{E&16&&u(k,x,I,o,i,s,a,l)},C=()=>{const x=t.target=Cy(t.props,g),I=WT(x,t,m,f);x&&(s!=="svg"&&F_(x)?s="svg":s!=="mathml"&&B_(x)&&(s="mathml"),o&&o.isCE&&(o.ce._teleportTargets||(o.ce._teleportTargets=new Set)).add(x),w||(N(x,I),gh(t,!1)))};w&&(N(n,T),gh(t,!0)),V_(t.props)?(t.el.__isMounted=!1,Wt(()=>{C(),delete t.el.__isMounted},i)):C()}else{if(V_(t.props)&&e.el.__isMounted===!1){Wt(()=>{GT.process(e,t,n,r,o,i,s,a,l,c)},i);return}t.el=e.el,t.targetStart=e.targetStart;const _=t.anchor=e.anchor,T=t.target=e.target,N=t.targetAnchor=e.targetAnchor,C=_d(e.props),x=C?n:T,I=C?_:N;if(s==="svg"||F_(T)?s="svg":(s==="mathml"||B_(T))&&(s="mathml"),v?(h(e.dynamicChildren,v,x,o,i,s,a),nx(e,t,!0)):l||p(e,t,x,I,o,i,s,a,!1),w)C?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):wf(t,n,_,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const R=t.target=Cy(t.props,g);R&&wf(t,R,null,c,0)}else C&&wf(t,T,N,c,1);gh(t,w)}},remove(e,t,n,{um:r,o:{remove:o}},i){const{shapeFlag:s,children:a,anchor:l,targetStart:c,targetAnchor:u,target:p,props:h}=e;if(p&&(o(c),o(u)),i&&o(l),s&16){const f=i||!_d(h);for(let g=0;g<a.length;g++){const m=a[g];r(m,t,n,f,!!m.dynamicChildren)}}},move:wf,hydrate:VL};function wf(e,t,n,{o:{insert:r},m:o},i=2){i===0&&r(e.targetAnchor,t,n);const{el:s,anchor:a,shapeFlag:l,children:c,props:u}=e,p=i===2;if(p&&r(s,t,n),(!p||_d(u))&&l&16)for(let h=0;h<c.length;h++)o(c[h],t,n,2);p&&r(a,t,n)}function VL(e,t,n,r,o,i,{o:{nextSibling:s,parentNode:a,querySelector:l,insert:c,createText:u}},p){function h(m,b,w,E){b.anchor=p(s(m),b,a(m),n,r,o,i),b.targetStart=w,b.targetAnchor=E}const f=t.target=Cy(t.props,l),g=_d(t.props);if(f){const m=f._lpa||f.firstChild;if(t.shapeFlag&16)if(g)h(e,t,m,m&&s(m));else{t.anchor=s(e);let b=m;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")t.targetStart=b;else if(b.data==="teleport anchor"){t.targetAnchor=b,f._lpa=t.targetAnchor&&s(t.targetAnchor);break}}b=s(b)}t.targetAnchor||WT(f,t,u,c),p(m&&s(m),t,f,n,r,o,i)}gh(t,g)}else g&&t.shapeFlag&16&&h(e,t,e,s(e));return t.anchor&&s(t.anchor)}const FL=GT;function gh(e,t){const n=e.ctx;if(n&&n.ut){let r,o;for(t?(r=e.el,o=e.anchor):(r=e.targetStart,o=e.targetAnchor);r&&r!==o;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function WT(e,t,n,r){const o=t.targetStart=n(""),i=t.targetAnchor=n("");return o[UT]=i,e&&(r(o,e),r(i,e)),i}const wi=Symbol("_leaveCb"),_f=Symbol("_enterCb");function W1(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Je(()=>{e.isMounted=!0}),on(()=>{e.isUnmounting=!0}),e}const $r=[Function,Array],q1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:$r,onEnter:$r,onAfterEnter:$r,onEnterCancelled:$r,onBeforeLeave:$r,onLeave:$r,onAfterLeave:$r,onLeaveCancelled:$r,onBeforeAppear:$r,onAppear:$r,onAfterAppear:$r,onAppearCancelled:$r},qT=e=>{const t=e.subTree;return t.component?qT(t.component):t},BL={name:"BaseTransition",props:q1,setup(e,{slots:t}){const n=zt(),r=W1();return()=>{const o=t.default&&Rm(t.default(),!0);if(!o||!o.length)return;const i=KT(o),s=He(e),{mode:a}=s;if(r.isLeaving)return eb(i);const l=H_(i);if(!l)return eb(i);let c=Ac(l,s,r,n,p=>c=p);l.type!==Bt&&Li(l,c);let u=n.subTree&&H_(n.subTree);if(u&&u.type!==Bt&&!to(u,l)&&qT(n).type!==Bt){let p=Ac(u,s,r,n);if(Li(u,p),a==="out-in"&&l.type!==Bt)return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete p.afterLeave,u=void 0},eb(i);a==="in-out"&&l.type!==Bt?p.delayLeave=(h,f,g)=>{const m=XT(r,u);m[String(u.key)]=u,h[wi]=()=>{f(),h[wi]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{g(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function KT(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Bt){t=n;break}}return t}const YT=BL;function XT(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Ac(e,t,n,r,o){const{appear:i,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:p,onBeforeLeave:h,onLeave:f,onAfterLeave:g,onLeaveCancelled:m,onBeforeAppear:b,onAppear:w,onAfterAppear:E,onAppearCancelled:k}=t,v=String(e.key),_=XT(n,e),T=(x,I)=>{x&&qr(x,r,9,I)},N=(x,I)=>{const R=I[1];T(x,I),ke(x)?x.every(M=>M.length<=1)&&R():x.length<=1&&R()},C={mode:s,persisted:a,beforeEnter(x){let I=l;if(!n.isMounted)if(i)I=b||l;else return;x[wi]&&x[wi](!0);const R=_[v];R&&to(e,R)&&R.el[wi]&&R.el[wi](),T(I,[x])},enter(x){let I=c,R=u,M=p;if(!n.isMounted)if(i)I=w||c,R=E||u,M=k||p;else return;let B=!1;const z=x[_f]=J=>{B||(B=!0,J?T(M,[x]):T(R,[x]),C.delayedLeave&&C.delayedLeave(),x[_f]=void 0)};I?N(I,[x,z]):z()},leave(x,I){const R=String(e.key);if(x[_f]&&x[_f](!0),n.isUnmounting)return I();T(h,[x]);let M=!1;const B=x[wi]=z=>{M||(M=!0,I(),z?T(m,[x]):T(g,[x]),x[wi]=void 0,_[R]===e&&delete _[R])};_[R]=e,f?N(f,[x,B]):B()},clone(x){const I=Ac(x,t,n,r,o);return o&&o(I),I}};return C}function eb(e){if(Dp(e))return e=Ir(e),e.children=null,e}function H_(e){if(!Dp(e))return jT(e.type)&&e.children?KT(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Se(n.default))return n.default()}}function Li(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Li(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Rm(e,t=!1,n){let r=[],o=0;for(let i=0;i<e.length;i++){let s=e[i];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:i);s.type===ge?(s.patchFlag&128&&o++,r=r.concat(Rm(s.children,t,a))):(t||s.type!==Bt)&&r.push(a!=null?Ir(s,{key:a}):s)}if(o>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function P(e,t){return Se(e)?ft({name:e.name},t,{setup:e}):e}function nt(){const e=zt();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function K1(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function HL(e){const t=zt(),n=co(null);if(t){const o=t.refs===We?t.refs={}:t.refs;Object.defineProperty(o,e,{enumerable:!0,get:()=>n.value,set:i=>n.value=i})}return n}const Qh=new WeakMap;function wc(e,t,n,r,o=!1){if(ke(e)){e.forEach((g,m)=>wc(g,t&&(ke(t)?t[m]:t),n,r,o));return}if($s(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&wc(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?Vp(r.component):r.el,s=o?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===We?a.refs={}:a.refs,p=a.setupState,h=He(p),f=p===We?pT:g=>it(h,g);if(c!=null&&c!==l){if(z_(t),kt(c))u[c]=null,f(c)&&(p[c]=null);else if(Ce(c)){c.value=null;const g=t;g.k&&(u[g.k]=null)}}if(Se(l))eu(l,a,12,[s,u]);else{const g=kt(l),m=Ce(l);if(g||m){const b=()=>{if(e.f){const w=g?f(l)?p[l]:u[l]:l.value;if(o)ke(w)&&D1(w,i);else if(ke(w))w.includes(i)||w.push(i);else if(g)u[l]=[i],f(l)&&(p[l]=u[l]);else{const E=[i];l.value=E,e.k&&(u[e.k]=E)}}else g?(u[l]=s,f(l)&&(p[l]=s)):m&&(l.value=s,e.k&&(u[e.k]=s))};if(s){const w=()=>{b(),Qh.delete(e)};w.id=-1,Qh.set(e,w),Wt(w,n)}else z_(e),b()}}}function z_(e){const t=Qh.get(e);t&&(t.flags|=8,Qh.delete(e))}let U_=!1;const Tl=()=>{U_||(console.error("Hydration completed but contains mismatches."),U_=!0)},zL=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",UL=e=>e.namespaceURI.includes("MathML"),kf=e=>{if(e.nodeType===1){if(zL(e))return"svg";if(UL(e))return"mathml"}},ac=e=>e.nodeType===8;function jL(e){const{mt:t,p:n,o:{patchProp:r,createText:o,nextSibling:i,parentNode:s,remove:a,insert:l,createComment:c}}=e,u=(k,v)=>{if(!v.hasChildNodes()){n(null,k,v),Zh(),v._vnode=k;return}p(v.firstChild,k,null,null,null),Zh(),v._vnode=k},p=(k,v,_,T,N,C=!1)=>{C=C||!!v.dynamicChildren;const x=ac(k)&&k.data==="[",I=()=>m(k,v,_,T,N,x),{type:R,ref:M,shapeFlag:B,patchFlag:z}=v;let J=k.nodeType;v.el=k,z===-2&&(C=!1,v.dynamicChildren=null);let q=null;switch(R){case Rs:J!==3?v.children===""?(l(v.el=o(""),s(k),k),q=k):q=I():(k.data!==v.children&&(Tl(),k.data=v.children),q=i(k));break;case Bt:E(k)?(q=i(k),w(v.el=k.content.firstChild,k,_)):J!==8||x?q=I():q=i(k);break;case Wa:if(x&&(k=i(k),J=k.nodeType),J===1||J===3){q=k;const K=!v.children.length;for(let X=0;X<v.staticCount;X++)K&&(v.children+=q.nodeType===1?q.outerHTML:q.data),X===v.staticCount-1&&(v.anchor=q),q=i(q);return x?i(q):q}else I();break;case ge:x?q=g(k,v,_,T,N,C):q=I();break;default:if(B&1)(J!==1||v.type.toLowerCase()!==k.tagName.toLowerCase())&&!E(k)?q=I():q=h(k,v,_,T,N,C);else if(B&6){v.slotScopeIds=N;const K=s(k);if(x?q=b(k):ac(k)&&k.data==="teleport start"?q=b(k,k.data,"teleport end"):q=i(k),t(v,K,null,_,T,kf(K),C),$s(v)&&!v.type.__asyncResolved){let X;x?(X=S(ge),X.anchor=q?q.previousSibling:K.lastChild):X=k.nodeType===3?re(""):S("div"),X.el=k,v.component.subTree=X}}else B&64?J!==8?q=I():q=v.type.hydrate(k,v,_,T,N,C,e,f):B&128&&(q=v.type.hydrate(k,v,_,T,kf(s(k)),N,C,e,p))}return M!=null&&wc(M,null,T,v),q},h=(k,v,_,T,N,C)=>{C=C||!!v.dynamicChildren;const{type:x,props:I,patchFlag:R,shapeFlag:M,dirs:B,transition:z}=v,J=x==="input"||x==="option";if(J||R!==-1){B&&Bo(v,null,_,"created");let q=!1;if(E(k)){q=TS(null,z)&&_&&_.vnode.props&&_.vnode.props.appear;const X=k.content.firstChild;if(q){const de=X.getAttribute("class");de&&(X.$cls=de),z.beforeEnter(X)}w(X,k,_),v.el=k=X}if(M&16&&!(I&&(I.innerHTML||I.textContent))){let X=f(k.firstChild,v,k,_,T,N,C);for(;X;){Cf(k,1)||Tl();const de=X;X=X.nextSibling,a(de)}}else if(M&8){let X=v.children;X[0]===`
`&&(k.tagName==="PRE"||k.tagName==="TEXTAREA")&&(X=X.slice(1));const{textContent:de}=k;de!==X&&de!==X.replace(/\r\n|\r/g,`
`)&&(Cf(k,0)||Tl(),k.textContent=v.children)}if(I){if(J||!C||R&48){const X=k.tagName.includes("-");for(const de in I)(J&&(de.endsWith("value")||de==="indeterminate")||Ap(de)&&!bc(de)||de[0]==="."||X)&&r(k,de,null,I[de],void 0,_)}else if(I.onClick)r(k,"onClick",null,I.onClick,void 0,_);else if(R&4&&Si(I.style))for(const X in I.style)I.style[X]}let K;(K=I&&I.onVnodeBeforeMount)&&rr(K,_,v),B&&Bo(v,null,_,"beforeMount"),((K=I&&I.onVnodeMounted)||B||q)&&$S(()=>{K&&rr(K,_,v),q&&z.enter(k),B&&Bo(v,null,_,"mounted")},T)}return k.nextSibling},f=(k,v,_,T,N,C,x)=>{x=x||!!v.dynamicChildren;const I=v.children,R=I.length;for(let M=0;M<R;M++){const B=x?I[M]:I[M]=ir(I[M]),z=B.type===Rs;k?(z&&!x&&M+1<R&&ir(I[M+1]).type===Rs&&(l(o(k.data.slice(B.children.length)),_,i(k)),k.data=B.children),k=p(k,B,T,N,C,x)):z&&!B.children?l(B.el=o(""),_):(Cf(_,1)||Tl(),n(null,B,_,null,T,N,kf(_),C))}return k},g=(k,v,_,T,N,C)=>{const{slotScopeIds:x}=v;x&&(N=N?N.concat(x):x);const I=s(k),R=f(i(k),v,I,_,T,N,C);return R&&ac(R)&&R.data==="]"?i(v.anchor=R):(Tl(),l(v.anchor=c("]"),I,R),R)},m=(k,v,_,T,N,C)=>{if(Cf(k.parentElement,1)||Tl(),v.el=null,C){const R=b(k);for(;;){const M=i(k);if(M&&M!==R)a(M);else break}}const x=i(k),I=s(k);return a(k),n(null,v,I,x,_,T,kf(I),N),_&&(_.vnode.el=v.el,Lm(_,v.el)),x},b=(k,v="[",_="]")=>{let T=0;for(;k;)if(k=i(k),k&&ac(k)&&(k.data===v&&T++,k.data===_)){if(T===0)return i(k);T--}return k},w=(k,v,_)=>{const T=v.parentNode;T&&T.replaceChild(k,v);let N=_;for(;N;)N.vnode.el===v&&(N.vnode.el=N.subTree.el=k),N=N.parent},E=k=>k.nodeType===1&&k.tagName==="TEMPLATE";return[u,p]}const j_="data-allow-mismatch",GL={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Cf(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(j_);)e=e.parentElement;const n=e&&e.getAttribute(j_);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return t===0&&r.includes("children")?!0:r.includes(GL[t])}}const WL=Em().requestIdleCallback||(e=>setTimeout(e,1)),qL=Em().cancelIdleCallback||(e=>clearTimeout(e)),KL=(e=1e4)=>t=>{const n=WL(t,{timeout:e});return()=>qL(n)};function YL(e){const{top:t,left:n,bottom:r,right:o}=e.getBoundingClientRect(),{innerHeight:i,innerWidth:s}=window;return(t>0&&t<i||r>0&&r<i)&&(n>0&&n<s||o>0&&o<s)}const XL=e=>(t,n)=>{const r=new IntersectionObserver(o=>{for(const i of o)if(i.isIntersecting){r.disconnect(),t();break}},e);return n(o=>{if(o instanceof Element){if(YL(o))return t(),r.disconnect(),!1;r.observe(o)}}),()=>r.disconnect()},JL=e=>t=>{if(e){const n=matchMedia(e);if(n.matches)t();else return n.addEventListener("change",t,{once:!0}),()=>n.removeEventListener("change",t)}},ZL=(e=[])=>(t,n)=>{kt(e)&&(e=[e]);let r=!1;const o=s=>{r||(r=!0,i(),t(),s.target.dispatchEvent(new s.constructor(s.type,s)))},i=()=>{n(s=>{for(const a of e)s.removeEventListener(a,o)})};return n(s=>{for(const a of e)s.addEventListener(a,o,{once:!0})}),i};function QL(e,t){if(ac(e)&&e.data==="["){let n=1,r=e.nextSibling;for(;r;){if(r.nodeType===1){if(t(r)===!1)break}else if(ac(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else t(e)}const $s=e=>!!e.type.__asyncLoader;function eV(e){Se(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:o=200,hydrate:i,timeout:s,suspensible:a=!0,onError:l}=e;let c=null,u,p=0;const h=()=>(p++,c=null,f()),f=()=>{let g;return c||(g=c=t().catch(m=>{if(m=m instanceof Error?m:new Error(String(m)),l)return new Promise((b,w)=>{l(m,()=>b(h()),()=>w(m),p+1)});throw m}).then(m=>g!==c&&c?c:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),u=m,m)))};return P({name:"AsyncComponentWrapper",__asyncLoader:f,__asyncHydrate(g,m,b){let w=!1;(m.bu||(m.bu=[])).push(()=>w=!0);const E=()=>{w||b()},k=i?()=>{const v=i(E,_=>QL(g,_));v&&(m.bum||(m.bum=[])).push(v)}:E;u?k():f().then(()=>!m.isUnmounted&&k())},get __asyncResolved(){return u},setup(){const g=xn;if(K1(g),u)return()=>Ef(u,g);const m=k=>{c=null,pl(k,g,13,!r)};if(a&&g.suspense||Nc)return f().then(k=>()=>Ef(k,g)).catch(k=>(m(k),()=>r?S(r,{error:k}):null));const b=Q(!1),w=Q(),E=Q(!!o);return o&&setTimeout(()=>{E.value=!1},o),s!=null&&setTimeout(()=>{if(!b.value&&!w.value){const k=new Error(`Async component timed out after ${s}ms.`);m(k),w.value=k}},s),f().then(()=>{b.value=!0,g.parent&&Dp(g.parent.vnode)&&g.parent.update()}).catch(k=>{m(k),w.value=k}),()=>{if(b.value&&u)return Ef(u,g);if(w.value&&r)return S(r,{error:w.value});if(n&&!E.value)return Ef(n,g)}}})}function Ef(e,t){const{ref:n,props:r,children:o,ce:i}=t.vnode,s=S(e,r,o);return s.ref=n,s.ce=i,delete t.vnode.ce,s}const Dp=e=>e.type.__isKeepAlive,tV={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=zt(),r=n.ctx;if(!r.renderer)return()=>{const E=t.default&&t.default();return E&&E.length===1?E[0]:E};const o=new Map,i=new Set;let s=null;const a=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:p}}}=r,h=p("div");r.activate=(E,k,v,_,T)=>{const N=E.component;c(E,k,v,0,a),l(N.vnode,E,k,v,N,a,_,E.slotScopeIds,T),Wt(()=>{N.isDeactivated=!1,N.a&&yc(N.a);const C=E.props&&E.props.onVnodeMounted;C&&rr(C,N.parent,E)},a)},r.deactivate=E=>{const k=E.component;tg(k.m),tg(k.a),c(E,h,null,1,a),Wt(()=>{k.da&&yc(k.da);const v=E.props&&E.props.onVnodeUnmounted;v&&rr(v,k.parent,E),k.isDeactivated=!0},a)};function f(E){tb(E),u(E,n,a,!0)}function g(E){o.forEach((k,v)=>{const _=My(k.type);_&&!E(_)&&m(v)})}function m(E){const k=o.get(E);k&&(!s||!to(k,s))?f(k):s&&tb(s),o.delete(E),i.delete(E)}st(()=>[e.include,e.exclude],([E,k])=>{E&&g(v=>ed(E,v)),k&&g(v=>!ed(k,v))},{flush:"post",deep:!0});let b=null;const w=()=>{b!=null&&(ng(n.subTree.type)?Wt(()=>{o.set(b,Of(n.subTree))},n.subTree.suspense):o.set(b,Of(n.subTree)))};return Je(w),Mm(w),on(()=>{o.forEach(E=>{const{subTree:k,suspense:v}=n,_=Of(k);if(E.type===_.type&&E.key===_.key){tb(_);const T=_.component.da;T&&Wt(T,v);return}f(E)})}),()=>{if(b=null,!t.default)return s=null;const E=t.default(),k=E[0];if(E.length>1)return s=null,E;if(!Vi(k)||!(k.shapeFlag&4)&&!(k.shapeFlag&128))return s=null,k;let v=Of(k);if(v.type===Bt)return s=null,v;const _=v.type,T=My($s(v)?v.type.__asyncResolved||{}:_),{include:N,exclude:C,max:x}=e;if(N&&(!T||!ed(N,T))||C&&T&&ed(C,T))return v.shapeFlag&=-257,s=v,k;const I=v.key==null?_:v.key,R=o.get(I);return v.el&&(v=Ir(v),k.shapeFlag&128&&(k.ssContent=v)),b=I,R?(v.el=R.el,v.component=R.component,v.transition&&Li(v,v.transition),v.shapeFlag|=512,i.delete(I),i.add(I)):(i.add(I),x&&i.size>parseInt(x,10)&&m(i.values().next().value)),v.shapeFlag|=256,s=v,ng(k.type)?k:v}}},JT=tV;function ed(e,t){return ke(e)?e.some(n=>ed(n,t)):kt(e)?e.split(",").includes(t):$D(e)?(e.lastIndex=0,e.test(t)):!1}function ZT(e,t){eS(e,"a",t)}function QT(e,t){eS(e,"da",t)}function eS(e,t,n=xn){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Am(t,r,n),n){let o=n.parent;for(;o&&o.parent;)Dp(o.parent.vnode)&&nV(r,t,n,o),o=o.parent}}function nV(e,t,n,r){const o=Am(t,e,r,!0);Sr(()=>{D1(r[t],o)},n)}function tb(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Of(e){return e.shapeFlag&128?e.ssContent:e}function Am(e,t,n=xn,r=!1){if(n){const o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...s)=>{Mi();const a=el(n),l=qr(t,n,e,s);return a(),Di(),l});return r?o.unshift(i):o.push(i),i}}const Wi=e=>(t,n=xn)=>{(!Nc||e==="sp")&&Am(e,(...r)=>t(...r),n)},Nm=Wi("bm"),Je=Wi("m"),Y1=Wi("bu"),Mm=Wi("u"),on=Wi("bum"),Sr=Wi("um"),tS=Wi("sp"),nS=Wi("rtg"),rS=Wi("rtc");function oS(e,t=xn){Am("ec",e,t)}const X1="components",rV="directives";function iS(e,t){return J1(X1,e,!0,t)||e}const sS=Symbol.for("v-ndc");function Xn(e){return kt(e)?J1(X1,e,!1)||e:e||sS}function oV(e){return J1(rV,e)}function J1(e,t,n=!0,r=!1){const o=wn||xn;if(o){const i=o.type;if(e===X1){const a=My(i,!1);if(a&&(a===t||a===_n(t)||a===Np(_n(t))))return i}const s=G_(o[e]||i[e],t)||G_(o.appContext[e],t);return!s&&r?i:s}}function G_(e,t){return e&&(e[t]||e[_n(t)]||e[Np(_n(t))])}function Ie(e,t,n,r){let o;const i=n&&n[r],s=ke(e);if(s||kt(e)){const a=s&&Si(e);let l=!1,c=!1;a&&(l=!lr(e),c=Jo(e),e=Tm(e)),o=new Array(e.length);for(let u=0,p=e.length;u<p;u++)o[u]=t(l?c?Rc(lo(e[u])):lo(e[u]):e[u],u,void 0,i&&i[u])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,i&&i[a])}else if(pt(e))if(e[Symbol.iterator])o=Array.from(e,(a,l)=>t(a,l,void 0,i&&i[l]));else{const a=Object.keys(e);o=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];o[l]=t(e[u],u,l,i&&i[l])}}else o=[];return n&&(n[r]=o),o}function iV(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(ke(r))for(let o=0;o<r.length;o++)e[r[o].name]=r[o].fn;else r&&(e[r.name]=r.key?(...o)=>{const i=r.fn(...o);return i&&(i.key=r.key),i}:r.fn)}return e}function L(e,t,n={},r,o){if(wn.ce||wn.parent&&$s(wn.parent)&&wn.parent.ce){const c=Object.keys(n).length>0;return t!=="default"&&(n.name=t),y(),$(ge,null,[S("slot",n,r&&r())],c?-2:64)}let i=e[t];i&&i._c&&(i._d=!1),y();const s=i&&Z1(i(n)),a=n.key||s&&s.key,l=$(ge,{key:(a&&!ao(a)?a:`_${t}`)+(!s&&r?"_fb":"")},s||(r?r():[]),s&&e._===1?64:-2);return!o&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Z1(e){return e.some(t=>Vi(t)?!(t.type===Bt||t.type===ge&&!Z1(t.children)):!0)?e:null}function sV(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:yd(r)]=e[r];return n}const Ey=e=>e?DS(e)?Vp(e):Ey(e.parent):null,kd=ft(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ey(e.parent),$root:e=>Ey(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Q1(e),$forceUpdate:e=>e.f||(e.f=()=>{G1(e.update)}),$nextTick:e=>e.n||(e.n=Nn.bind(e.proxy)),$watch:e=>IV.bind(e)}),nb=(e,t)=>e!==We&&!e.__isScriptSetup&&it(e,t),Oy={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:o,props:i,accessCache:s,type:a,appContext:l}=e;if(t[0]!=="$"){const h=s[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return i[t]}else{if(nb(r,t))return s[t]=1,r[t];if(o!==We&&it(o,t))return s[t]=2,o[t];if(it(i,t))return s[t]=3,i[t];if(n!==We&&it(n,t))return s[t]=4,n[t];Iy&&(s[t]=0)}}const c=kd[t];let u,p;if(c)return t==="$attrs"&&$n(e.attrs,"get",""),c(e);if((u=a.__cssModules)&&(u=u[t]))return u;if(n!==We&&it(n,t))return s[t]=4,n[t];if(p=l.config.globalProperties,it(p,t))return p[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:i}=e;return nb(o,t)?(o[t]=n,!0):r!==We&&it(r,t)?(r[t]=n,!0):it(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,props:i,type:s}},a){let l;return!!(n[a]||e!==We&&a[0]!=="$"&&it(e,a)||nb(t,a)||it(i,a)||it(r,a)||it(kd,a)||it(o.config.globalProperties,a)||(l=s.__cssModules)&&l[a])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:it(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},aV=ft({},Oy,{get(e,t){if(t!==Symbol.unscopables)return Oy.get(e,t,e)},has(e,t){return t[0]!=="_"&&!DD(t)}});function lV(){return null}function cV(){return null}function uV(e){}function dV(e){}function pV(){return null}function fV(){}function hV(e,t){return null}function xo(){return aS().slots}function gV(){return aS().attrs}function aS(e){const t=zt();return t.setupContext||(t.setupContext=FS(t))}function Zd(e){return ke(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function Ze(e,t){const n=Zd(e);for(const r in t){if(r.startsWith("__skip"))continue;let o=n[r];o?ke(o)||Se(o)?o=n[r]={type:o,default:t[r]}:o.default=t[r]:o===null&&(o=n[r]={default:t[r]}),o&&t[`__skip_${r}`]&&(o.skipFactory=!0)}return n}function at(e,t){return!e||!t?e||t:ke(e)&&ke(t)?e.concat(t):ft({},Zd(e),Zd(t))}function mV(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function vV(e){const t=zt();let n=e();return Ry(),L1(n)&&(n=n.catch(r=>{throw el(t),r})),[n,()=>el(t)]}let Iy=!0;function bV(e){const t=Q1(e),n=e.proxy,r=e.ctx;Iy=!1,t.beforeCreate&&W_(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:s,watch:a,provide:l,inject:c,created:u,beforeMount:p,mounted:h,beforeUpdate:f,updated:g,activated:m,deactivated:b,beforeDestroy:w,beforeUnmount:E,destroyed:k,unmounted:v,render:_,renderTracked:T,renderTriggered:N,errorCaptured:C,serverPrefetch:x,expose:I,inheritAttrs:R,components:M,directives:B,filters:z}=t;if(c&&yV(c,r,null),s)for(const K in s){const X=s[K];Se(X)&&(r[K]=X.bind(n))}if(o){const K=o.call(n,n);pt(K)&&(e.data=Tr(K))}if(Iy=!0,i)for(const K in i){const X=i[K],de=Se(X)?X.bind(n,n):Se(X.get)?X.get.bind(n,n):Ur,Ue=!Se(X)&&Se(X.set)?X.set.bind(n):Ur,je=A({get:de,set:Ue});Object.defineProperty(r,K,{enumerable:!0,configurable:!0,get:()=>je.value,set:Ve=>je.value=Ve})}if(a)for(const K in a)lS(a[K],r,n,K);if(l){const K=Se(l)?l.call(n):l;Reflect.ownKeys(K).forEach(X=>{tu(X,K[X])})}u&&W_(u,e,"c");function q(K,X){ke(X)?X.forEach(de=>K(de.bind(n))):X&&K(X.bind(n))}if(q(Nm,p),q(Je,h),q(Y1,f),q(Mm,g),q(ZT,m),q(QT,b),q(oS,C),q(rS,T),q(nS,N),q(on,E),q(Sr,v),q(tS,x),ke(I))if(I.length){const K=e.exposed||(e.exposed={});I.forEach(X=>{Object.defineProperty(K,X,{get:()=>n[X],set:de=>n[X]=de,enumerable:!0})})}else e.exposed||(e.exposed={});_&&e.render===Ur&&(e.render=_),R!=null&&(e.inheritAttrs=R),M&&(e.components=M),B&&(e.directives=B),x&&K1(e)}function yV(e,t,n=Ur){ke(e)&&(e=Ty(e));for(const r in e){const o=e[r];let i;pt(o)?"default"in o?i=dt(o.from||r,o.default,!0):i=dt(o.from||r):i=dt(o),Ce(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:s=>i.value=s}):t[r]=i}}function W_(e,t,n){qr(ke(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function lS(e,t,n,r){let o=r.includes(".")?hS(n,r):()=>n[r];if(kt(e)){const i=t[e];Se(i)&&st(o,i)}else if(Se(e))st(o,e.bind(n));else if(pt(e))if(ke(e))e.forEach(i=>lS(i,t,n,r));else{const i=Se(e.handler)?e.handler.bind(n):t[e.handler];Se(i)&&st(o,i,e)}}function Q1(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=e.appContext,a=i.get(t);let l;return a?l=a:!o.length&&!n&&!r?l=t:(l={},o.length&&o.forEach(c=>eg(l,c,s,!0)),eg(l,t,s)),pt(t)&&i.set(t,l),l}function eg(e,t,n,r=!1){const{mixins:o,extends:i}=t;i&&eg(e,i,n,!0),o&&o.forEach(s=>eg(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const a=xV[s]||n&&n[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const xV={data:q_,props:K_,emits:K_,methods:td,computed:td,beforeCreate:Gn,created:Gn,beforeMount:Gn,mounted:Gn,beforeUpdate:Gn,updated:Gn,beforeDestroy:Gn,beforeUnmount:Gn,destroyed:Gn,unmounted:Gn,activated:Gn,deactivated:Gn,errorCaptured:Gn,serverPrefetch:Gn,components:td,directives:td,watch:_V,provide:q_,inject:wV};function q_(e,t){return t?e?function(){return ft(Se(e)?e.call(this,this):e,Se(t)?t.call(this,this):t)}:t:e}function wV(e,t){return td(Ty(e),Ty(t))}function Ty(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Gn(e,t){return e?[...new Set([].concat(e,t))]:t}function td(e,t){return e?ft(Object.create(null),e,t):t}function K_(e,t){return e?ke(e)&&ke(t)?[...new Set([...e,...t])]:ft(Object.create(null),Zd(e),Zd(t??{})):t}function _V(e,t){if(!e)return t;if(!t)return e;const n=ft(Object.create(null),e);for(const r in t)n[r]=Gn(e[r],t[r]);return n}function cS(){return{app:null,config:{isNativeTag:pT,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kV=0;function CV(e,t){return function(r,o=null){Se(r)||(r=ft({},r)),o!=null&&!pt(o)&&(o=null);const i=cS(),s=new WeakSet,a=[];let l=!1;const c=i.app={_uid:kV++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:HS,get config(){return i.config},set config(u){},use(u,...p){return s.has(u)||(u&&Se(u.install)?(s.add(u),u.install(c,...p)):Se(u)&&(s.add(u),u(c,...p))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,p){return p?(i.components[u]=p,c):i.components[u]},directive(u,p){return p?(i.directives[u]=p,c):i.directives[u]},mount(u,p,h){if(!l){const f=c._ceVNode||S(r,o);return f.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),p&&t?t(f,u):e(f,u,h),l=!0,c._container=u,u.__vue_app__=c,Vp(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(qr(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,p){return i.provides[u]=p,c},runWithContext(u){const p=Ga;Ga=c;try{return u()}finally{Ga=p}}};return c}}let Ga=null;function tu(e,t){if(xn){let n=xn.provides;const r=xn.parent&&xn.parent.provides;r===n&&(n=xn.provides=Object.create(r)),n[e]=t}}function dt(e,t,n=!1){const r=zt();if(r||Ga){let o=Ga?Ga._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Se(t)?t.call(r&&r.proxy):t}}function EV(){return!!(zt()||Ga)}const uS=Symbol.for("v-scx"),dS=()=>dt(uS);function pS(e,t){return Lp(e,null,t)}function OV(e,t){return Lp(e,null,{flush:"post"})}function fS(e,t){return Lp(e,null,{flush:"sync"})}function st(e,t,n){return Lp(e,t,n)}function Lp(e,t,n=We){const{immediate:r,deep:o,flush:i,once:s}=n,a=ft({},n),l=t&&r||!t&&i!=="post";let c;if(Nc){if(i==="sync"){const f=dS();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=Ur,f.resume=Ur,f.pause=Ur,f}}const u=xn;a.call=(f,g,m)=>qr(f,u,g,m);let p=!1;i==="post"?a.scheduler=f=>{Wt(f,u&&u.suspense)}:i!=="sync"&&(p=!0,a.scheduler=(f,g)=>{g?f():G1(f)}),a.augmentJob=f=>{t&&(f.flags|=4),p&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=IL(e,t,a);return Nc&&(c?c.push(h):l&&h()),h}function IV(e,t,n){const r=this.proxy,o=kt(e)?e.includes(".")?hS(r,e):()=>r[e]:e.bind(r,r);let i;Se(t)?i=t:(i=t.handler,n=t);const s=el(this),a=Lp(o,i.bind(r),n);return s(),a}function hS(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function rt(e,t,n=We){const r=zt(),o=_n(t),i=sr(t),s=gS(e,o),a=U1((l,c)=>{let u,p=We,h;return fS(()=>{const f=e[o];qn(u,f)&&(u=f,c())}),{get(){return l(),n.get?n.get(u):u},set(f){const g=n.set?n.set(f):f;if(!qn(g,u)&&!(p!==We&&qn(f,p)))return;const m=r.vnode.props;m&&(t in m||o in m||i in m)&&(`onUpdate:${t}`in m||`onUpdate:${o}`in m||`onUpdate:${i}`in m)||(u=f,c()),r.emit(`update:${t}`,g),qn(f,g)&&qn(f,p)&&!qn(g,h)&&c(),p=f,h=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?s||We:a,done:!1}:{done:!0}}}},a}const gS=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${_n(t)}Modifiers`]||e[`${sr(t)}Modifiers`];function TV(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||We;let o=n;const i=t.startsWith("update:"),s=i&&gS(r,t.slice(7));s&&(s.trim&&(o=n.map(u=>kt(u)?u.trim():u)),s.number&&(o=n.map(Cm)));let a,l=r[a=yd(t)]||r[a=yd(_n(t))];!l&&i&&(l=r[a=yd(sr(t))]),l&&qr(l,e,6,o);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,qr(c,e,6,o)}}const SV=new WeakMap;function mS(e,t,n=!1){const r=n?SV:t.emitsCache,o=r.get(e);if(o!==void 0)return o;const i=e.emits;let s={},a=!1;if(!Se(e)){const l=c=>{const u=mS(c,t,!0);u&&(a=!0,ft(s,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(pt(e)&&r.set(e,null),null):(ke(i)?i.forEach(l=>s[l]=null):ft(s,i),pt(e)&&r.set(e,s),s)}function Dm(e,t){return!e||!Ap(t)?!1:(t=t.slice(2).replace(/Once$/,""),it(e,t[0].toLowerCase()+t.slice(1))||it(e,sr(t))||it(e,t))}function mh(e){const{type:t,vnode:n,proxy:r,withProxy:o,propsOptions:[i],slots:s,attrs:a,emit:l,render:c,renderCache:u,props:p,data:h,setupState:f,ctx:g,inheritAttrs:m}=e,b=Jd(e);let w,E;try{if(n.shapeFlag&4){const v=o||r,_=v;w=ir(c.call(_,v,u,p,f,h,g)),E=a}else{const v=t;w=ir(v.length>1?v(p,{attrs:a,slots:s,emit:l}):v(p,null)),E=t.props?a:$V(a)}}catch(v){Cd.length=0,pl(v,e,1),w=S(Bt)}let k=w;if(E&&m!==!1){const v=Object.keys(E),{shapeFlag:_}=k;v.length&&_&7&&(i&&v.some(M1)&&(E=RV(E,i)),k=Ir(k,E,!1,!0))}return n.dirs&&(k=Ir(k,null,!1,!0),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&Li(k,n.transition),w=k,Jd(b),w}function PV(e,t=!0){let n;for(let r=0;r<e.length;r++){const o=e[r];if(Vi(o)){if(o.type!==Bt||o.children==="v-if"){if(n)return;n=o}}else return}return n}const $V=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ap(n))&&((t||(t={}))[n]=e[n]);return t},RV=(e,t)=>{const n={};for(const r in e)(!M1(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function AV(e,t,n){const{props:r,children:o,component:i}=e,{props:s,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Y_(r,s,c):!!s;if(l&8){const u=t.dynamicProps;for(let p=0;p<u.length;p++){const h=u[p];if(s[h]!==r[h]&&!Dm(c,h))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?Y_(r,s,c):!0:!!s;return!1}function Y_(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(t[i]!==e[i]&&!Dm(n,i))return!0}return!1}function Lm({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const vS={},bS=()=>Object.create(vS),yS=e=>Object.getPrototypeOf(e)===vS;function NV(e,t,n,r=!1){const o={},i=bS();e.propsDefaults=Object.create(null),xS(e,t,o,i);for(const s in e.propsOptions[0])s in o||(o[s]=void 0);n?e.props=r?o:NT(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function MV(e,t,n,r){const{props:o,attrs:i,vnode:{patchFlag:s}}=e,a=He(o),[l]=e.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const u=e.vnode.dynamicProps;for(let p=0;p<u.length;p++){let h=u[p];if(Dm(e.emitsOptions,h))continue;const f=t[h];if(l)if(it(i,h))f!==i[h]&&(i[h]=f,c=!0);else{const g=_n(h);o[g]=Sy(l,a,g,f,e,!1)}else f!==i[h]&&(i[h]=f,c=!0)}}}else{xS(e,t,o,i)&&(c=!0);let u;for(const p in a)(!t||!it(t,p)&&((u=sr(p))===p||!it(t,u)))&&(l?n&&(n[p]!==void 0||n[u]!==void 0)&&(o[p]=Sy(l,a,p,void 0,e,!0)):delete o[p]);if(i!==a)for(const p in i)(!t||!it(t,p))&&(delete i[p],c=!0)}c&&Ci(e.attrs,"set","")}function xS(e,t,n,r){const[o,i]=e.propsOptions;let s=!1,a;if(t)for(let l in t){if(bc(l))continue;const c=t[l];let u;o&&it(o,u=_n(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:Dm(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,s=!0)}if(i){const l=He(n),c=a||We;for(let u=0;u<i.length;u++){const p=i[u];n[p]=Sy(o,l,p,c[p],e,!it(c,p))}}return s}function Sy(e,t,n,r,o,i){const s=e[n];if(s!=null){const a=it(s,"default");if(a&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Se(l)){const{propsDefaults:c}=o;if(n in c)r=c[n];else{const u=el(o);r=c[n]=l.call(null,t),u()}}else r=l;o.ce&&o.ce._setProp(n,r)}s[0]&&(i&&!a?r=!1:s[1]&&(r===""||r===sr(n))&&(r=!0))}return r}const DV=new WeakMap;function wS(e,t,n=!1){const r=n?DV:t.propsCache,o=r.get(e);if(o)return o;const i=e.props,s={},a=[];let l=!1;if(!Se(e)){const u=p=>{l=!0;const[h,f]=wS(p,t,!0);ft(s,h),f&&a.push(...f)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return pt(e)&&r.set(e,mc),mc;if(ke(i))for(let u=0;u<i.length;u++){const p=_n(i[u]);X_(p)&&(s[p]=We)}else if(i)for(const u in i){const p=_n(u);if(X_(p)){const h=i[u],f=s[p]=ke(h)||Se(h)?{type:h}:ft({},h),g=f.type;let m=!1,b=!0;if(ke(g))for(let w=0;w<g.length;++w){const E=g[w],k=Se(E)&&E.name;if(k==="Boolean"){m=!0;break}else k==="String"&&(b=!1)}else m=Se(g)&&g.name==="Boolean";f[0]=m,f[1]=b,(m||it(f,"default"))&&a.push(p)}}const c=[s,a];return pt(e)&&r.set(e,c),c}function X_(e){return e[0]!=="$"&&!bc(e)}const ex=e=>e==="_"||e==="_ctx"||e==="$stable",tx=e=>ke(e)?e.map(ir):[ir(e)],LV=(e,t,n)=>{if(t._n)return t;const r=O((...o)=>tx(t(...o)),n);return r._c=!1,r},_S=(e,t,n)=>{const r=e._ctx;for(const o in e){if(ex(o))continue;const i=e[o];if(Se(i))t[o]=LV(o,i,r);else if(i!=null){const s=tx(i);t[o]=()=>s}}},kS=(e,t)=>{const n=tx(t);e.slots.default=()=>n},CS=(e,t,n)=>{for(const r in t)(n||!ex(r))&&(e[r]=t[r])},VV=(e,t,n)=>{const r=e.slots=bS();if(e.vnode.shapeFlag&32){const o=t._;o?(CS(r,t,n),n&&hT(r,"_",o,!0)):_S(t,r)}else t&&kS(e,t)},FV=(e,t,n)=>{const{vnode:r,slots:o}=e;let i=!0,s=We;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:CS(o,t,n):(i=!t.$stable,_S(t,o)),s=t}else t&&(kS(e,t),s={default:1});if(i)for(const a in o)!ex(a)&&s[a]==null&&delete o[a]},Wt=$S;function ES(e){return IS(e)}function OS(e){return IS(e,jL)}function IS(e,t){const n=Em();n.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:s,createText:a,createComment:l,setText:c,setElementText:u,parentNode:p,nextSibling:h,setScopeId:f=Ur,insertStaticContent:g}=e,m=(H,U,W,le=null,ne=null,oe=null,ye=void 0,be=null,ve=!!U.dynamicChildren)=>{if(H===U)return;H&&!to(H,U)&&(le=Xr(H),Ve(H,ne,oe,!0),H=null),U.patchFlag===-2&&(ve=!1,U.dynamicChildren=null);const{type:ae,ref:Te,shapeFlag:xe}=U;switch(ae){case Rs:b(H,U,W,le);break;case Bt:w(H,U,W,le);break;case Wa:H==null&&E(U,W,le,ye);break;case ge:M(H,U,W,le,ne,oe,ye,be,ve);break;default:xe&1?_(H,U,W,le,ne,oe,ye,be,ve):xe&6?B(H,U,W,le,ne,oe,ye,be,ve):(xe&64||xe&128)&&ae.process(H,U,W,le,ne,oe,ye,be,ve,Ro)}Te!=null&&ne?wc(Te,H&&H.ref,oe,U||H,!U):Te==null&&H&&H.ref!=null&&wc(H.ref,null,oe,H,!0)},b=(H,U,W,le)=>{if(H==null)r(U.el=a(U.children),W,le);else{const ne=U.el=H.el;U.children!==H.children&&c(ne,U.children)}},w=(H,U,W,le)=>{H==null?r(U.el=l(U.children||""),W,le):U.el=H.el},E=(H,U,W,le)=>{[H.el,H.anchor]=g(H.children,U,W,le,H.el,H.anchor)},k=({el:H,anchor:U},W,le)=>{let ne;for(;H&&H!==U;)ne=h(H),r(H,W,le),H=ne;r(U,W,le)},v=({el:H,anchor:U})=>{let W;for(;H&&H!==U;)W=h(H),o(H),H=W;o(U)},_=(H,U,W,le,ne,oe,ye,be,ve)=>{if(U.type==="svg"?ye="svg":U.type==="math"&&(ye="mathml"),H==null)T(U,W,le,ne,oe,ye,be,ve);else{const ae=H.el&&H.el._isVueCE?H.el:null;try{ae&&ae._beginPatch(),x(H,U,ne,oe,ye,be,ve)}finally{ae&&ae._endPatch()}}},T=(H,U,W,le,ne,oe,ye,be)=>{let ve,ae;const{props:Te,shapeFlag:xe,transition:Ee,dirs:Ae}=H;if(ve=H.el=s(H.type,oe,Te&&Te.is,Te),xe&8?u(ve,H.children):xe&16&&C(H.children,ve,null,le,ne,rb(H,oe),ye,be),Ae&&Bo(H,null,le,"created"),N(ve,H,H.scopeId,ye,le),Te){for(const bt in Te)bt!=="value"&&!bc(bt)&&i(ve,bt,null,Te[bt],oe,le);"value"in Te&&i(ve,"value",null,Te.value,oe),(ae=Te.onVnodeBeforeMount)&&rr(ae,le,H)}Ae&&Bo(H,null,le,"beforeMount");const Ye=TS(ne,Ee);Ye&&Ee.beforeEnter(ve),r(ve,U,W),((ae=Te&&Te.onVnodeMounted)||Ye||Ae)&&Wt(()=>{ae&&rr(ae,le,H),Ye&&Ee.enter(ve),Ae&&Bo(H,null,le,"mounted")},ne)},N=(H,U,W,le,ne)=>{if(W&&f(H,W),le)for(let oe=0;oe<le.length;oe++)f(H,le[oe]);if(ne){let oe=ne.subTree;if(U===oe||ng(oe.type)&&(oe.ssContent===U||oe.ssFallback===U)){const ye=ne.vnode;N(H,ye,ye.scopeId,ye.slotScopeIds,ne.parent)}}},C=(H,U,W,le,ne,oe,ye,be,ve=0)=>{for(let ae=ve;ae<H.length;ae++){const Te=H[ae]=be?ys(H[ae]):ir(H[ae]);m(null,Te,U,W,le,ne,oe,ye,be)}},x=(H,U,W,le,ne,oe,ye)=>{const be=U.el=H.el;let{patchFlag:ve,dynamicChildren:ae,dirs:Te}=U;ve|=H.patchFlag&16;const xe=H.props||We,Ee=U.props||We;let Ae;if(W&&ya(W,!1),(Ae=Ee.onVnodeBeforeUpdate)&&rr(Ae,W,U,H),Te&&Bo(U,H,W,"beforeUpdate"),W&&ya(W,!0),(xe.innerHTML&&Ee.innerHTML==null||xe.textContent&&Ee.textContent==null)&&u(be,""),ae?I(H.dynamicChildren,ae,be,W,le,rb(U,ne),oe):ye||X(H,U,be,null,W,le,rb(U,ne),oe,!1),ve>0){if(ve&16)R(be,xe,Ee,W,ne);else if(ve&2&&xe.class!==Ee.class&&i(be,"class",null,Ee.class,ne),ve&4&&i(be,"style",xe.style,Ee.style,ne),ve&8){const Ye=U.dynamicProps;for(let bt=0;bt<Ye.length;bt++){const ct=Ye[bt],tr=xe[ct],In=Ee[ct];(In!==tr||ct==="value")&&i(be,ct,tr,In,ne,W)}}ve&1&&H.children!==U.children&&u(be,U.children)}else!ye&&ae==null&&R(be,xe,Ee,W,ne);((Ae=Ee.onVnodeUpdated)||Te)&&Wt(()=>{Ae&&rr(Ae,W,U,H),Te&&Bo(U,H,W,"updated")},le)},I=(H,U,W,le,ne,oe,ye)=>{for(let be=0;be<U.length;be++){const ve=H[be],ae=U[be],Te=ve.el&&(ve.type===ge||!to(ve,ae)||ve.shapeFlag&198)?p(ve.el):W;m(ve,ae,Te,null,le,ne,oe,ye,!0)}},R=(H,U,W,le,ne)=>{if(U!==W){if(U!==We)for(const oe in U)!bc(oe)&&!(oe in W)&&i(H,oe,U[oe],null,ne,le);for(const oe in W){if(bc(oe))continue;const ye=W[oe],be=U[oe];ye!==be&&oe!=="value"&&i(H,oe,be,ye,ne,le)}"value"in W&&i(H,"value",U.value,W.value,ne)}},M=(H,U,W,le,ne,oe,ye,be,ve)=>{const ae=U.el=H?H.el:a(""),Te=U.anchor=H?H.anchor:a("");let{patchFlag:xe,dynamicChildren:Ee,slotScopeIds:Ae}=U;Ae&&(be=be?be.concat(Ae):Ae),H==null?(r(ae,W,le),r(Te,W,le),C(U.children||[],W,Te,ne,oe,ye,be,ve)):xe>0&&xe&64&&Ee&&H.dynamicChildren?(I(H.dynamicChildren,Ee,W,ne,oe,ye,be),(U.key!=null||ne&&U===ne.subTree)&&nx(H,U,!0)):X(H,U,W,Te,ne,oe,ye,be,ve)},B=(H,U,W,le,ne,oe,ye,be,ve)=>{U.slotScopeIds=be,H==null?U.shapeFlag&512?ne.ctx.activate(U,W,le,ye,ve):z(U,W,le,ne,oe,ye,ve):J(H,U,ve)},z=(H,U,W,le,ne,oe,ye)=>{const be=H.component=MS(H,le,ne);if(Dp(H)&&(be.ctx.renderer=Ro),LS(be,!1,ye),be.asyncDep){if(ne&&ne.registerDep(be,q,ye),!H.el){const ve=be.subTree=S(Bt);w(null,ve,U,W),H.placeholder=ve.el}}else q(be,H,U,W,ne,oe,ye)},J=(H,U,W)=>{const le=U.component=H.component;if(AV(H,U,W))if(le.asyncDep&&!le.asyncResolved){K(le,U,W);return}else le.next=U,le.update();else U.el=H.el,le.vnode=U},q=(H,U,W,le,ne,oe,ye)=>{const be=()=>{if(H.isMounted){let{next:xe,bu:Ee,u:Ae,parent:Ye,vnode:bt}=H;{const fr=SS(H);if(fr){xe&&(xe.el=bt.el,K(H,xe,ye)),fr.asyncDep.then(()=>{H.isUnmounted||be()});return}}let ct=xe,tr;ya(H,!1),xe?(xe.el=bt.el,K(H,xe,ye)):xe=bt,Ee&&yc(Ee),(tr=xe.props&&xe.props.onVnodeBeforeUpdate)&&rr(tr,Ye,xe,bt),ya(H,!0);const In=mh(H),Jr=H.subTree;H.subTree=In,m(Jr,In,p(Jr.el),Xr(Jr),H,ne,oe),xe.el=In.el,ct===null&&Lm(H,In.el),Ae&&Wt(Ae,ne),(tr=xe.props&&xe.props.onVnodeUpdated)&&Wt(()=>rr(tr,Ye,xe,bt),ne)}else{let xe;const{el:Ee,props:Ae}=U,{bm:Ye,m:bt,parent:ct,root:tr,type:In}=H,Jr=$s(U);if(ya(H,!1),Ye&&yc(Ye),!Jr&&(xe=Ae&&Ae.onVnodeBeforeMount)&&rr(xe,ct,U),ya(H,!0),Ee&&ba){const fr=()=>{H.subTree=mh(H),ba(Ee,H.subTree,H,ne,null)};Jr&&In.__asyncHydrate?In.__asyncHydrate(Ee,H,fr):fr()}else{tr.ce&&tr.ce._def.shadowRoot!==!1&&tr.ce._injectChildStyle(In);const fr=H.subTree=mh(H);m(null,fr,W,le,H,ne,oe),U.el=fr.el}if(bt&&Wt(bt,ne),!Jr&&(xe=Ae&&Ae.onVnodeMounted)){const fr=U;Wt(()=>rr(xe,ct,fr),ne)}(U.shapeFlag&256||ct&&$s(ct.vnode)&&ct.vnode.shapeFlag&256)&&H.a&&Wt(H.a,ne),H.isMounted=!0,U=W=le=null}};H.scope.on();const ve=H.effect=new Gd(be);H.scope.off();const ae=H.update=ve.run.bind(ve),Te=H.job=ve.runIfDirty.bind(ve);Te.i=H,Te.id=H.uid,ve.scheduler=()=>G1(Te),ya(H,!0),ae()},K=(H,U,W)=>{U.component=H;const le=H.vnode.props;H.vnode=U,H.next=null,MV(H,U.props,le,W),FV(H,U.children,W),Mi(),L_(H),Di()},X=(H,U,W,le,ne,oe,ye,be,ve=!1)=>{const ae=H&&H.children,Te=H?H.shapeFlag:0,xe=U.children,{patchFlag:Ee,shapeFlag:Ae}=U;if(Ee>0){if(Ee&128){Ue(ae,xe,W,le,ne,oe,ye,be,ve);return}else if(Ee&256){de(ae,xe,W,le,ne,oe,ye,be,ve);return}}Ae&8?(Te&16&&nn(ae,ne,oe),xe!==ae&&u(W,xe)):Te&16?Ae&16?Ue(ae,xe,W,le,ne,oe,ye,be,ve):nn(ae,ne,oe,!0):(Te&8&&u(W,""),Ae&16&&C(xe,W,le,ne,oe,ye,be,ve))},de=(H,U,W,le,ne,oe,ye,be,ve)=>{H=H||mc,U=U||mc;const ae=H.length,Te=U.length,xe=Math.min(ae,Te);let Ee;for(Ee=0;Ee<xe;Ee++){const Ae=U[Ee]=ve?ys(U[Ee]):ir(U[Ee]);m(H[Ee],Ae,W,null,ne,oe,ye,be,ve)}ae>Te?nn(H,ne,oe,!0,!1,xe):C(U,W,le,ne,oe,ye,be,ve,xe)},Ue=(H,U,W,le,ne,oe,ye,be,ve)=>{let ae=0;const Te=U.length;let xe=H.length-1,Ee=Te-1;for(;ae<=xe&&ae<=Ee;){const Ae=H[ae],Ye=U[ae]=ve?ys(U[ae]):ir(U[ae]);if(to(Ae,Ye))m(Ae,Ye,W,null,ne,oe,ye,be,ve);else break;ae++}for(;ae<=xe&&ae<=Ee;){const Ae=H[xe],Ye=U[Ee]=ve?ys(U[Ee]):ir(U[Ee]);if(to(Ae,Ye))m(Ae,Ye,W,null,ne,oe,ye,be,ve);else break;xe--,Ee--}if(ae>xe){if(ae<=Ee){const Ae=Ee+1,Ye=Ae<Te?U[Ae].el:le;for(;ae<=Ee;)m(null,U[ae]=ve?ys(U[ae]):ir(U[ae]),W,Ye,ne,oe,ye,be,ve),ae++}}else if(ae>Ee)for(;ae<=xe;)Ve(H[ae],ne,oe,!0),ae++;else{const Ae=ae,Ye=ae,bt=new Map;for(ae=Ye;ae<=Ee;ae++){const hr=U[ae]=ve?ys(U[ae]):ir(U[ae]);hr.key!=null&&bt.set(hr.key,ae)}let ct,tr=0;const In=Ee-Ye+1;let Jr=!1,fr=0;const ku=new Array(In);for(ae=0;ae<In;ae++)ku[ae]=0;for(ae=Ae;ae<=xe;ae++){const hr=H[ae];if(tr>=In){Ve(hr,ne,oe,!0);continue}let Ao;if(hr.key!=null)Ao=bt.get(hr.key);else for(ct=Ye;ct<=Ee;ct++)if(ku[ct-Ye]===0&&to(hr,U[ct])){Ao=ct;break}Ao===void 0?Ve(hr,ne,oe,!0):(ku[Ao-Ye]=ae+1,Ao>=fr?fr=Ao:Jr=!0,m(hr,U[Ao],W,null,ne,oe,ye,be,ve),tr++)}const P_=Jr?BV(ku):mc;for(ct=P_.length-1,ae=In-1;ae>=0;ae--){const hr=Ye+ae,Ao=U[hr],$_=U[hr+1],R_=hr+1<Te?$_.el||$_.placeholder:le;ku[ae]===0?m(null,Ao,W,R_,ne,oe,ye,be,ve):Jr&&(ct<0||ae!==P_[ct]?je(Ao,W,R_,2):ct--)}}},je=(H,U,W,le,ne=null)=>{const{el:oe,type:ye,transition:be,children:ve,shapeFlag:ae}=H;if(ae&6){je(H.component.subTree,U,W,le);return}if(ae&128){H.suspense.move(U,W,le);return}if(ae&64){ye.move(H,U,W,Ro);return}if(ye===ge){r(oe,U,W);for(let xe=0;xe<ve.length;xe++)je(ve[xe],U,W,le);r(H.anchor,U,W);return}if(ye===Wa){k(H,U,W);return}if(le!==2&&ae&1&&be)if(le===0)be.beforeEnter(oe),r(oe,U,W),Wt(()=>be.enter(oe),ne);else{const{leave:xe,delayLeave:Ee,afterLeave:Ae}=be,Ye=()=>{H.ctx.isUnmounted?o(oe):r(oe,U,W)},bt=()=>{oe._isLeaving&&oe[wi](!0),xe(oe,()=>{Ye(),Ae&&Ae()})};Ee?Ee(oe,Ye,bt):bt()}else r(oe,U,W)},Ve=(H,U,W,le=!1,ne=!1)=>{const{type:oe,props:ye,ref:be,children:ve,dynamicChildren:ae,shapeFlag:Te,patchFlag:xe,dirs:Ee,cacheIndex:Ae}=H;if(xe===-2&&(ne=!1),be!=null&&(Mi(),wc(be,null,W,H,!0),Di()),Ae!=null&&(U.renderCache[Ae]=void 0),Te&256){U.ctx.deactivate(H);return}const Ye=Te&1&&Ee,bt=!$s(H);let ct;if(bt&&(ct=ye&&ye.onVnodeBeforeUnmount)&&rr(ct,U,H),Te&6)tn(H.component,W,le);else{if(Te&128){H.suspense.unmount(W,le);return}Ye&&Bo(H,null,U,"beforeUnmount"),Te&64?H.type.remove(H,U,W,Ro,le):ae&&!ae.hasOnce&&(oe!==ge||xe>0&&xe&64)?nn(ae,U,W,!1,!0):(oe===ge&&xe&384||!ne&&Te&16)&&nn(ve,U,W),le&&Qe(H)}(bt&&(ct=ye&&ye.onVnodeUnmounted)||Ye)&&Wt(()=>{ct&&rr(ct,U,H),Ye&&Bo(H,null,U,"unmounted")},W)},Qe=H=>{const{type:U,el:W,anchor:le,transition:ne}=H;if(U===ge){Bn(W,le);return}if(U===Wa){v(H);return}const oe=()=>{o(W),ne&&!ne.persisted&&ne.afterLeave&&ne.afterLeave()};if(H.shapeFlag&1&&ne&&!ne.persisted){const{leave:ye,delayLeave:be}=ne,ve=()=>ye(W,oe);be?be(H.el,oe,ve):ve()}else oe()},Bn=(H,U)=>{let W;for(;H!==U;)W=h(H),o(H),H=W;o(U)},tn=(H,U,W)=>{const{bum:le,scope:ne,job:oe,subTree:ye,um:be,m:ve,a:ae}=H;tg(ve),tg(ae),le&&yc(le),ne.stop(),oe&&(oe.flags|=8,Ve(ye,H,U,W)),be&&Wt(be,U),Wt(()=>{H.isUnmounted=!0},U)},nn=(H,U,W,le=!1,ne=!1,oe=0)=>{for(let ye=oe;ye<H.length;ye++)Ve(H[ye],U,W,le,ne)},Xr=H=>{if(H.shapeFlag&6)return Xr(H.component.subTree);if(H.shapeFlag&128)return H.suspense.next();const U=h(H.anchor||H.el),W=U&&U[UT];return W?h(W):U};let $o=!1;const Ol=(H,U,W)=>{H==null?U._vnode&&Ve(U._vnode,null,null,!0):m(U._vnode||null,H,U,null,null,null,W),U._vnode=H,$o||($o=!0,L_(),Zh(),$o=!1)},Ro={p:m,um:Ve,m:je,r:Qe,mt:z,mc:C,pc:X,pbc:I,n:Xr,o:e};let va,ba;return t&&([va,ba]=t(Ro)),{render:Ol,hydrate:va,createApp:CV(Ol,va)}}function rb({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function ya({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function TS(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function nx(e,t,n=!1){const r=e.children,o=t.children;if(ke(r)&&ke(o))for(let i=0;i<r.length;i++){const s=r[i];let a=o[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[i]=ys(o[i]),a.el=s.el),!n&&a.patchFlag!==-2&&nx(s,a)),a.type===Rs&&a.patchFlag!==-1&&(a.el=s.el),a.type===Bt&&!a.el&&(a.el=s.el)}}function BV(e){const t=e.slice(),n=[0];let r,o,i,s,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(o=n[n.length-1],e[o]<c){t[r]=o,n.push(r);continue}for(i=0,s=n.length-1;i<s;)a=i+s>>1,e[n[a]]<c?i=a+1:s=a;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,s=n[i-1];i-- >0;)n[i]=s,s=t[s];return n}function SS(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:SS(t)}function tg(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ng=e=>e.__isSuspense;let Py=0;const HV={name:"Suspense",__isSuspense:!0,process(e,t,n,r,o,i,s,a,l,c){if(e==null)UV(t,n,r,o,i,s,a,l,c);else{if(i&&i.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}jV(e,t,n,r,o,s,a,l,c)}},hydrate:GV,normalize:WV},zV=HV;function Qd(e,t){const n=e.props&&e.props[t];Se(n)&&n()}function UV(e,t,n,r,o,i,s,a,l){const{p:c,o:{createElement:u}}=l,p=u("div"),h=e.suspense=PS(e,o,r,t,p,n,i,s,a,l);c(null,h.pendingBranch=e.ssContent,p,null,r,h,i,s),h.deps>0?(Qd(e,"onPending"),Qd(e,"onFallback"),c(null,e.ssFallback,t,n,r,null,i,s),_c(h,e.ssFallback)):h.resolve(!1,!0)}function jV(e,t,n,r,o,i,s,a,{p:l,um:c,o:{createElement:u}}){const p=t.suspense=e.suspense;p.vnode=t,t.el=e.el;const h=t.ssContent,f=t.ssFallback,{activeBranch:g,pendingBranch:m,isInFallback:b,isHydrating:w}=p;if(m)p.pendingBranch=h,to(m,h)?(l(m,h,p.hiddenContainer,null,o,p,i,s,a),p.deps<=0?p.resolve():b&&(w||(l(g,f,n,r,o,null,i,s,a),_c(p,f)))):(p.pendingId=Py++,w?(p.isHydrating=!1,p.activeBranch=m):c(m,o,p),p.deps=0,p.effects.length=0,p.hiddenContainer=u("div"),b?(l(null,h,p.hiddenContainer,null,o,p,i,s,a),p.deps<=0?p.resolve():(l(g,f,n,r,o,null,i,s,a),_c(p,f))):g&&to(g,h)?(l(g,h,n,r,o,p,i,s,a),p.resolve(!0)):(l(null,h,p.hiddenContainer,null,o,p,i,s,a),p.deps<=0&&p.resolve()));else if(g&&to(g,h))l(g,h,n,r,o,p,i,s,a),_c(p,h);else if(Qd(t,"onPending"),p.pendingBranch=h,h.shapeFlag&512?p.pendingId=h.component.suspenseId:p.pendingId=Py++,l(null,h,p.hiddenContainer,null,o,p,i,s,a),p.deps<=0)p.resolve();else{const{timeout:E,pendingId:k}=p;E>0?setTimeout(()=>{p.pendingId===k&&p.fallback(f)},E):E===0&&p.fallback(f)}}function PS(e,t,n,r,o,i,s,a,l,c,u=!1){const{p,m:h,um:f,n:g,o:{parentNode:m,remove:b}}=c;let w;const E=qV(e);E&&t&&t.pendingBranch&&(w=t.pendingId,t.deps++);const k=e.props?Kh(e.props.timeout):void 0,v=i,_={vnode:e,parent:t,parentComponent:n,namespace:s,container:r,hiddenContainer:o,deps:0,pendingId:Py++,timeout:typeof k=="number"?k:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(T=!1,N=!1){const{vnode:C,activeBranch:x,pendingBranch:I,pendingId:R,effects:M,parentComponent:B,container:z,isInFallback:J}=_;let q=!1;_.isHydrating?_.isHydrating=!1:T||(q=x&&I.transition&&I.transition.mode==="out-in",q&&(x.transition.afterLeave=()=>{R===_.pendingId&&(h(I,z,i===v?g(x):i,0),Yd(M),J&&C.ssFallback&&(C.ssFallback.el=null))}),x&&(m(x.el)===z&&(i=g(x)),f(x,B,_,!0),!q&&J&&C.ssFallback&&Wt(()=>C.ssFallback.el=null,_)),q||h(I,z,i,0)),_c(_,I),_.pendingBranch=null,_.isInFallback=!1;let K=_.parent,X=!1;for(;K;){if(K.pendingBranch){K.effects.push(...M),X=!0;break}K=K.parent}!X&&!q&&Yd(M),_.effects=[],E&&t&&t.pendingBranch&&w===t.pendingId&&(t.deps--,t.deps===0&&!N&&t.resolve()),Qd(C,"onResolve")},fallback(T){if(!_.pendingBranch)return;const{vnode:N,activeBranch:C,parentComponent:x,container:I,namespace:R}=_;Qd(N,"onFallback");const M=g(C),B=()=>{_.isInFallback&&(p(null,T,I,M,x,null,R,a,l),_c(_,T))},z=T.transition&&T.transition.mode==="out-in";z&&(C.transition.afterLeave=B),_.isInFallback=!0,f(C,x,null,!0),z||B()},move(T,N,C){_.activeBranch&&h(_.activeBranch,T,N,C),_.container=T},next(){return _.activeBranch&&g(_.activeBranch)},registerDep(T,N,C){const x=!!_.pendingBranch;x&&_.deps++;const I=T.vnode.el;T.asyncDep.catch(R=>{pl(R,T,0)}).then(R=>{if(T.isUnmounted||_.isUnmounted||_.pendingId!==T.suspenseId)return;T.asyncResolved=!0;const{vnode:M}=T;Ay(T,R,!1),I&&(M.el=I);const B=!I&&T.subTree.el;N(T,M,m(I||T.subTree.el),I?null:g(T.subTree),_,s,C),B&&(M.placeholder=null,b(B)),Lm(T,M.el),x&&--_.deps===0&&_.resolve()})},unmount(T,N){_.isUnmounted=!0,_.activeBranch&&f(_.activeBranch,n,T,N),_.pendingBranch&&f(_.pendingBranch,n,T,N)}};return _}function GV(e,t,n,r,o,i,s,a,l){const c=t.suspense=PS(t,r,n,e.parentNode,document.createElement("div"),null,o,i,s,a,!0),u=l(e,c.pendingBranch=t.ssContent,n,c,i,s);return c.deps===0&&c.resolve(!1,!0),u}function WV(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=J_(r?n.default:n),e.ssFallback=r?J_(n.fallback):S(Bt)}function J_(e){let t;if(Se(e)){const n=Qa&&e._c;n&&(e._d=!1,y()),e=e(),n&&(e._d=!0,t=Rn,RS())}return ke(e)&&(e=PV(e)),e=ir(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function $S(e,t){t&&t.pendingBranch?ke(e)?t.effects.push(...e):t.effects.push(e):Yd(e)}function _c(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e;let o=t.el;for(;!o&&t.component;)t=t.component.subTree,o=t.el;n.el=o,r&&r.subTree===n&&(r.vnode.el=o,Lm(r,o))}function qV(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const ge=Symbol.for("v-fgt"),Rs=Symbol.for("v-txt"),Bt=Symbol.for("v-cmt"),Wa=Symbol.for("v-stc"),Cd=[];let Rn=null;function y(e=!1){Cd.push(Rn=e?null:[])}function RS(){Cd.pop(),Rn=Cd[Cd.length-1]||null}let Qa=1;function ep(e,t=!1){Qa+=e,e<0&&Rn&&t&&(Rn.hasOnce=!0)}function AS(e){return e.dynamicChildren=Qa>0?Rn||mc:null,RS(),Qa>0&&Rn&&Rn.push(e),e}function V(e,t,n,r,o,i){return AS(D(e,t,n,r,o,i,!0))}function $(e,t,n,r,o){return AS(S(e,t,n,r,o,!0))}function Vi(e){return e?e.__v_isVNode===!0:!1}function to(e,t){return e.type===t.type&&e.key===t.key}function KV(e){}const NS=({key:e})=>e??null,vh=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?kt(e)||Ce(e)||Se(e)?{i:wn,r:e,k:t,f:!!n}:e:null);function D(e,t=null,n=null,r=0,o=null,i=e===ge?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&NS(t),ref:t&&vh(t),scopeId:$m,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:wn};return a?(rx(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=kt(n)?8:16),Qa>0&&!s&&Rn&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Rn.push(l),l}const S=YV;function YV(e,t=null,n=null,r=0,o=null,i=!1){if((!e||e===sS)&&(e=Bt),Vi(e)){const a=Ir(e,t,!0);return n&&rx(a,n),Qa>0&&!i&&Rn&&(a.shapeFlag&6?Rn[Rn.indexOf(e)]=a:Rn.push(a)),a.patchFlag=-2,a}if(rF(e)&&(e=e.__vccOpts),t){t=Fe(t);let{class:a,style:l}=t;a&&!kt(a)&&(t.class=Ne(a)),pt(l)&&(Mp(l)&&!ke(l)&&(l=ft({},l)),t.style=Yt(l))}const s=kt(e)?1:ng(e)?128:jT(e)?64:pt(e)?4:Se(e)?2:0;return D(e,t,n,r,o,s,i,!0)}function Fe(e){return e?Mp(e)||yS(e)?ft({},e):e:null}function Ir(e,t,n=!1,r=!1){const{props:o,ref:i,patchFlag:s,children:a,transition:l}=e,c=t?F(o||{},t):o,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&NS(c),ref:t&&t.ref?n&&i?ke(i)?i.concat(vh(t)):[i,vh(t)]:vh(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ge?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ir(e.ssContent),ssFallback:e.ssFallback&&Ir(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&Li(u,l.clone(u)),u}function re(e=" ",t=0){return S(Rs,null,e,t)}function XV(e,t){const n=S(Wa,null,e);return n.staticCount=t,n}function Z(e="",t=!1){return t?(y(),$(Bt,null,e)):S(Bt,null,e)}function ir(e){return e==null||typeof e=="boolean"?S(Bt):ke(e)?S(ge,null,e.slice()):Vi(e)?ys(e):S(Rs,null,String(e))}function ys(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ir(e)}function rx(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ke(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),rx(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!yS(t)?t._ctx=wn:o===3&&wn&&(wn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Se(t)?(t={default:t,_ctx:wn},n=32):(t=String(t),r&64?(n=16,t=[re(t)]):n=8);e.children=t,e.shapeFlag|=n}function F(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=Ne([t.class,r.class]));else if(o==="style")t.style=Yt([t.style,r.style]);else if(Ap(o)){const i=t[o],s=r[o];s&&i!==s&&!(ke(i)&&i.includes(s))&&(t[o]=i?[].concat(i,s):s)}else o!==""&&(t[o]=r[o])}return t}function rr(e,t,n,r=null){qr(e,t,7,[n,r])}const JV=cS();let ZV=0;function MS(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||JV,i={uid:ZV++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new V1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:wS(r,o),emitsOptions:mS(r,o),emit:null,emitted:null,propsDefaults:We,inheritAttrs:r.inheritAttrs,ctx:We,data:We,props:We,attrs:We,slots:We,refs:We,setupState:We,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=TV.bind(null,i),e.ce&&e.ce(i),i}let xn=null;const zt=()=>xn||wn;let rg,$y;{const e=Em(),t=(n,r)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(r),i=>{o.length>1?o.forEach(s=>s(i)):o[0](i)}};rg=t("__VUE_INSTANCE_SETTERS__",n=>xn=n),$y=t("__VUE_SSR_SETTERS__",n=>Nc=n)}const el=e=>{const t=xn;return rg(e),e.scope.on(),()=>{e.scope.off(),rg(t)}},Ry=()=>{xn&&xn.scope.off(),rg(null)};function DS(e){return e.vnode.shapeFlag&4}let Nc=!1;function LS(e,t=!1,n=!1){t&&$y(t);const{props:r,children:o}=e.vnode,i=DS(e);NV(e,r,i,t),VV(e,o,n||t);const s=i?QV(e,t):void 0;return t&&$y(!1),s}function QV(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Oy);const{setup:r}=n;if(r){Mi();const o=e.setupContext=r.length>1?FS(e):null,i=el(e),s=eu(r,e,0,[e.props,o]),a=L1(s);if(Di(),i(),(a||e.sp)&&!$s(e)&&K1(e),a){if(s.then(Ry,Ry),t)return s.then(l=>{Ay(e,l,t)}).catch(l=>{pl(l,e,0)});e.asyncDep=s}else Ay(e,s,t)}else VS(e,t)}function Ay(e,t,n){Se(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:pt(t)&&(e.setupState=z1(t)),VS(e,n)}let og,Ny;function eF(e){og=e,Ny=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,aV))}}const tF=()=>!og;function VS(e,t,n){const r=e.type;if(!e.render){if(!t&&og&&!r.render){const o=r.template||Q1(e).template;if(o){const{isCustomElement:i,compilerOptions:s}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,c=ft(ft({isCustomElement:i,delimiters:a},s),l);r.render=og(o,c)}}e.render=r.render||Ur,Ny&&Ny(e)}{const o=el(e);Mi();try{bV(e)}finally{Di(),o()}}}const nF={get(e,t){return $n(e,"get",""),e[t]}};function FS(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,nF),slots:e.slots,emit:e.emit,expose:t}}function Vp(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(z1(fe(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in kd)return kd[n](e)},has(t,n){return n in t||n in kd}})):e.proxy}function My(e,t=!0){return Se(e)?e.displayName||e.name:e.name||t&&e.__name}function rF(e){return Se(e)&&"__vccOpts"in e}const A=(e,t)=>kL(e,t,Nc);function uo(e,t,n){try{ep(-1);const r=arguments.length;return r===2?pt(t)&&!ke(t)?Vi(t)?S(e,null,[t]):S(e,t):S(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Vi(n)&&(n=[n]),S(e,t,n))}finally{ep(1)}}function oF(){}function iF(e,t,n,r){const o=n[r];if(o&&BS(o,e))return o;const i=t();return i.memo=e.slice(),i.cacheIndex=r,n[r]=i}function BS(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(qn(n[r],t[r]))return!1;return Qa>0&&Rn&&Rn.push(e),!0}const HS="3.5.25",sF=Ur,aF=RL,lF=Jl,cF=zT,uF={createComponentInstance:MS,setupComponent:LS,renderComponentRoot:mh,setCurrentRenderingInstance:Jd,isVNode:Vi,normalizeVNode:ir,getComponentPublicInstance:Vp,ensureValidVNode:Z1,pushWarningContext:TL,popWarningContext:SL},dF=uF,pF=null,fF=null,hF=null;let Dy;const Z_=typeof window<"u"&&window.trustedTypes;if(Z_)try{Dy=Z_.createPolicy("vue",{createHTML:e=>e})}catch{}const zS=Dy?e=>Dy.createHTML(e):e=>e,gF="http://www.w3.org/2000/svg",mF="http://www.w3.org/1998/Math/MathML",gi=typeof document<"u"?document:null,Q_=gi&&gi.createElement("template"),US={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t==="svg"?gi.createElementNS(gF,e):t==="mathml"?gi.createElementNS(mF,e):n?gi.createElement(e,{is:n}):gi.createElement(e);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>gi.createTextNode(e),createComment:e=>gi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>gi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,i){const s=n?n.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===i||!(o=o.nextSibling)););else{Q_.innerHTML=zS(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=Q_.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},is="transition",Eu="animation",Mc=Symbol("_vtc"),jS={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},GS=ft({},q1,jS),vF=e=>(e.displayName="Transition",e.props=GS,e),bF=vF((e,{slots:t})=>uo(YT,WS(e),t)),xa=(e,t=[])=>{ke(e)?e.forEach(n=>n(...t)):e&&e(...t)},ek=e=>e?ke(e)?e.some(t=>t.length>1):e.length>1:!1;function WS(e){const t={};for(const M in e)M in jS||(t[M]=e[M]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:i=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=s,appearToClass:u=a,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,g=yF(o),m=g&&g[0],b=g&&g[1],{onBeforeEnter:w,onEnter:E,onEnterCancelled:k,onLeave:v,onLeaveCancelled:_,onBeforeAppear:T=w,onAppear:N=E,onAppearCancelled:C=k}=t,x=(M,B,z,J)=>{M._enterCancelled=J,ps(M,B?u:a),ps(M,B?c:s),z&&z()},I=(M,B)=>{M._isLeaving=!1,ps(M,p),ps(M,f),ps(M,h),B&&B()},R=M=>(B,z)=>{const J=M?N:E,q=()=>x(B,M,z);xa(J,[B,q]),tk(()=>{ps(B,M?l:i),Vo(B,M?u:a),ek(J)||nk(B,r,m,q)})};return ft(t,{onBeforeEnter(M){xa(w,[M]),Vo(M,i),Vo(M,s)},onBeforeAppear(M){xa(T,[M]),Vo(M,l),Vo(M,c)},onEnter:R(!1),onAppear:R(!0),onLeave(M,B){M._isLeaving=!0;const z=()=>I(M,B);Vo(M,p),M._enterCancelled?(Vo(M,h),Ly(M)):(Ly(M),Vo(M,h)),tk(()=>{M._isLeaving&&(ps(M,p),Vo(M,f),ek(v)||nk(M,r,b,z))}),xa(v,[M,z])},onEnterCancelled(M){x(M,!1,void 0,!0),xa(k,[M])},onAppearCancelled(M){x(M,!0,void 0,!0),xa(C,[M])},onLeaveCancelled(M){I(M),xa(_,[M])}})}function yF(e){if(e==null)return null;if(pt(e))return[ob(e.enter),ob(e.leave)];{const t=ob(e);return[t,t]}}function ob(e){return Kh(e)}function Vo(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Mc]||(e[Mc]=new Set)).add(t)}function ps(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Mc];n&&(n.delete(t),n.size||(e[Mc]=void 0))}function tk(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let xF=0;function nk(e,t,n,r){const o=e._endId=++xF,i=()=>{o===e._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:s,timeout:a,propCount:l}=qS(e,t);if(!s)return r();const c=s+"end";let u=0;const p=()=>{e.removeEventListener(c,h),i()},h=f=>{f.target===e&&++u>=l&&p()};setTimeout(()=>{u<l&&p()},a+1),e.addEventListener(c,h)}function qS(e,t){const n=window.getComputedStyle(e),r=g=>(n[g]||"").split(", "),o=r(`${is}Delay`),i=r(`${is}Duration`),s=rk(o,i),a=r(`${Eu}Delay`),l=r(`${Eu}Duration`),c=rk(a,l);let u=null,p=0,h=0;t===is?s>0&&(u=is,p=s,h=i.length):t===Eu?c>0&&(u=Eu,p=c,h=l.length):(p=Math.max(s,c),u=p>0?s>c?is:Eu:null,h=u?u===is?i.length:l.length:0);const f=u===is&&/\b(?:transform|all)(?:,|$)/.test(r(`${is}Property`).toString());return{type:u,timeout:p,propCount:h,hasTransform:f}}function rk(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>ok(n)+ok(e[r])))}function ok(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Ly(e){return(e?e.ownerDocument:document).body.offsetHeight}function wF(e,t,n){const r=e[Mc];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const ig=Symbol("_vod"),KS=Symbol("_vsh"),ox={name:"show",beforeMount(e,{value:t},{transition:n}){e[ig]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Ou(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Ou(e,!0),r.enter(e)):r.leave(e,()=>{Ou(e,!1)}):Ou(e,t))},beforeUnmount(e,{value:t}){Ou(e,t)}};function Ou(e,t){e.style.display=t?e[ig]:"none",e[KS]=!t}function _F(){ox.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const YS=Symbol("");function kF(e){const t=zt();if(!t)return;const n=t.ut=(o=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(i=>sg(i,o))},r=()=>{const o=e(t.proxy);t.ce?sg(t.ce,o):Vy(t.subTree,o),n(o)};Y1(()=>{Yd(r)}),Je(()=>{st(r,Ur,{flush:"post"});const o=new MutationObserver(r);o.observe(t.subTree.el.parentNode,{childList:!0}),Sr(()=>o.disconnect())})}function Vy(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Vy(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)sg(e.el,t);else if(e.type===ge)e.children.forEach(n=>Vy(n,t));else if(e.type===Wa){let{el:n,anchor:r}=e;for(;n&&(sg(n,t),n!==r);)n=n.nextSibling}}function sg(e,t){if(e.nodeType===1){const n=e.style;let r="";for(const o in t){const i=jD(t[o]);n.setProperty(`--${o}`,i),r+=`--${o}: ${i};`}n[YS]=r}}const CF=/(?:^|;)\s*display\s*:/;function EF(e,t,n){const r=e.style,o=kt(n);let i=!1;if(n&&!o){if(t)if(kt(t))for(const s of t.split(";")){const a=s.slice(0,s.indexOf(":")).trim();n[a]==null&&bh(r,a,"")}else for(const s in t)n[s]==null&&bh(r,s,"");for(const s in n)s==="display"&&(i=!0),bh(r,s,n[s])}else if(o){if(t!==n){const s=r[YS];s&&(n+=";"+s),r.cssText=n,i=CF.test(n)}}else t&&e.removeAttribute("style");ig in e&&(e[ig]=i?r.display:"",e[KS]&&(r.display="none"))}const ik=/\s*!important$/;function bh(e,t,n){if(ke(n))n.forEach(r=>bh(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=OF(e,t);ik.test(n)?e.setProperty(sr(r),n.replace(ik,""),"important"):e[r]=n}}const sk=["Webkit","Moz","ms"],ib={};function OF(e,t){const n=ib[t];if(n)return n;let r=_n(t);if(r!=="filter"&&r in e)return ib[t]=r;r=Np(r);for(let o=0;o<sk.length;o++){const i=sk[o]+r;if(i in e)return ib[t]=i}return t}const ak="http://www.w3.org/1999/xlink";function lk(e,t,n,r,o,i=zD(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(ak,t.slice(6,t.length)):e.setAttributeNS(ak,t,n):n==null||i&&!gT(n)?e.removeAttribute(t):e.setAttribute(t,i?"":ao(n)?String(n):n)}function ck(e,t,n,r,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?zS(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=gT(n):n==null&&a==="string"?(n="",s=!0):a==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(o||t)}function Oi(e,t,n,r){e.addEventListener(t,n,r)}function IF(e,t,n,r){e.removeEventListener(t,n,r)}const uk=Symbol("_vei");function TF(e,t,n,r,o=null){const i=e[uk]||(e[uk]={}),s=i[t];if(r&&s)s.value=r;else{const[a,l]=SF(t);if(r){const c=i[t]=RF(r,o);Oi(e,a,c,l)}else s&&(IF(e,a,s,l),i[t]=void 0)}}const dk=/(?:Once|Passive|Capture)$/;function SF(e){let t;if(dk.test(e)){t={};let r;for(;r=e.match(dk);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):sr(e.slice(2)),t]}let sb=0;const PF=Promise.resolve(),$F=()=>sb||(PF.then(()=>sb=0),sb=Date.now());function RF(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;qr(AF(r,n.value),t,5,[r])};return n.value=e,n.attached=$F(),n}function AF(e,t){if(ke(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const pk=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,XS=(e,t,n,r,o,i)=>{const s=o==="svg";t==="class"?wF(e,r,s):t==="style"?EF(e,n,r):Ap(t)?M1(t)||TF(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):NF(e,t,r,s))?(ck(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&lk(e,t,r,s,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!kt(r))?ck(e,_n(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),lk(e,t,r,s))};function NF(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&pk(t)&&Se(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return pk(t)&&kt(n)?!1:t in e}const fk={};function JS(e,t,n){let r=P(e,t);wm(r)&&(r=ft({},r,t));class o extends Vm{constructor(s){super(r,s,n)}}return o.def=r,o}const MF=((e,t)=>JS(e,t,lP)),DF=typeof HTMLElement<"u"?HTMLElement:class{};class Vm extends DF{constructor(t,n={},r=lg){super(),this._def=t,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._patching=!1,this._dirty=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==lg?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow(ft({},t.shadowRootOptions,{mode:"open"})),this._root=this.shadowRoot):this._root=this}connectedCallback(){if(!this.isConnected)return;!this.shadowRoot&&!this._resolved&&this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof Vm){this._parent=t;break}this._instance||(this._resolved?this._mount(this._def):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._inheritParentContext(t))}_inheritParentContext(t=this._parent){t&&this._app&&Object.setPrototypeOf(this._app._context.provides,t._instance.provides)}disconnectedCallback(){this._connected=!1,Nn(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null,this._teleportTargets&&(this._teleportTargets.clear(),this._teleportTargets=void 0))})}_processMutations(t){for(const n of t)this._setAttr(n.attributeName)}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(this._processMutations.bind(this)),this._ob.observe(this,{attributes:!0});const t=(r,o=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:i,styles:s}=r;let a;if(i&&!ke(i))for(const l in i){const c=i[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=Kh(this._props[l])),(a||(a=Object.create(null)))[_n(l)]=!0)}this._numberProps=a,this._resolveProps(r),this.shadowRoot&&this._applyStyles(s),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>{r.configureApp=this._def.configureApp,t(this._def=r,!0)}):t(this._def)}_mount(t){this._app=this._createApp(t),this._inheritParentContext(),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)it(this,r)||Object.defineProperty(this,r,{get:()=>d(n[r])})}_resolveProps(t){const{props:n}=t,r=ke(n)?n:Object.keys(n||{});for(const o of Object.keys(this))o[0]!=="_"&&r.includes(o)&&this._setProp(o,this[o]);for(const o of r.map(_n))Object.defineProperty(this,o,{get(){return this._getProp(o)},set(i){this._setProp(o,i,!0,!this._patching)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const n=this.hasAttribute(t);let r=n?this.getAttribute(t):fk;const o=_n(t);n&&this._numberProps&&this._numberProps[o]&&(r=Kh(r)),this._setProp(o,r,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,n,r=!0,o=!1){if(n!==this._props[t]&&(this._dirty=!0,n===fk?delete this._props[t]:(this._props[t]=n,t==="key"&&this._app&&(this._app._ceVNode.key=n)),o&&this._instance&&this._update(),r)){const i=this._ob;i&&(this._processMutations(i.takeRecords()),i.disconnect()),n===!0?this.setAttribute(sr(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(sr(t),n+""):n||this.removeAttribute(sr(t)),i&&i.observe(this,{attributes:!0})}}_update(){const t=this._createVNode();this._app&&(t.appContext=this._app._context),aP(t,this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const n=S(this._def,ft(t,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const o=(i,s)=>{this.dispatchEvent(new CustomEvent(i,wm(s[0])?ft({detail:s},s[0]):{detail:s}))};r.emit=(i,...s)=>{o(i,s),sr(i)!==i&&o(sr(i),s)},this._setParent()}),n}_applyStyles(t,n){if(!t)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let o=t.length-1;o>=0;o--){const i=document.createElement("style");r&&i.setAttribute("nonce",r),i.textContent=t[o],this.shadowRoot.prepend(i)}}_parseSlots(){const t=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(t[r]||(t[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const t=this._getSlots(),n=this._instance.type.__scopeId;for(let r=0;r<t.length;r++){const o=t[r],i=o.getAttribute("name")||"default",s=this._slots[i],a=o.parentNode;if(s)for(const l of s){if(n&&l.nodeType===1){const c=n+"-s",u=document.createTreeWalker(l,1);l.setAttribute(c,"");let p;for(;p=u.nextNode();)p.setAttribute(c,"")}a.insertBefore(l,o)}else for(;o.firstChild;)a.insertBefore(o.firstChild,o);a.removeChild(o)}}_getSlots(){const t=[this];this._teleportTargets&&t.push(...this._teleportTargets);const n=new Set;for(const r of t){const o=r.querySelectorAll("slot");for(let i=0;i<o.length;i++)n.add(o[i])}return Array.from(n)}_injectChildStyle(t){this._applyStyles(t.styles,t)}_beginPatch(){this._patching=!0,this._dirty=!1}_endPatch(){this._patching=!1,this._dirty&&this._instance&&this._update()}_removeChildStyle(t){}}function ZS(e){const t=zt(),n=t&&t.ce;return n||null}function LF(){const e=ZS();return e&&e.shadowRoot}function VF(e="$style"){{const t=zt();if(!t)return We;const n=t.type.__cssModules;if(!n)return We;const r=n[e];return r||We}}const QS=new WeakMap,eP=new WeakMap,ag=Symbol("_moveCb"),hk=Symbol("_enterCb"),FF=e=>(delete e.props.mode,e),BF=FF({name:"TransitionGroup",props:ft({},GS,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=zt(),r=W1();let o,i;return Mm(()=>{if(!o.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!jF(o[0].el,n.vnode.el,s)){o=[];return}o.forEach(HF),o.forEach(zF);const a=o.filter(UF);Ly(n.vnode.el),a.forEach(l=>{const c=l.el,u=c.style;Vo(c,s),u.transform=u.webkitTransform=u.transitionDuration="";const p=c[ag]=h=>{h&&h.target!==c||(!h||h.propertyName.endsWith("transform"))&&(c.removeEventListener("transitionend",p),c[ag]=null,ps(c,s))};c.addEventListener("transitionend",p)}),o=[]}),()=>{const s=He(e),a=WS(s);let l=s.tag||ge;if(o=[],i)for(let c=0;c<i.length;c++){const u=i[c];u.el&&u.el instanceof Element&&(o.push(u),Li(u,Ac(u,a,r,n)),QS.set(u,{left:u.el.offsetLeft,top:u.el.offsetTop}))}i=t.default?Rm(t.default()):[];for(let c=0;c<i.length;c++){const u=i[c];u.key!=null&&Li(u,Ac(u,a,r,n))}return S(l,null,i)}}}),Fy=BF;function HF(e){const t=e.el;t[ag]&&t[ag](),t[hk]&&t[hk]()}function zF(e){eP.set(e,{left:e.el.offsetLeft,top:e.el.offsetTop})}function UF(e){const t=QS.get(e),n=eP.get(e),r=t.left-n.left,o=t.top-n.top;if(r||o){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${o}px)`,i.transitionDuration="0s",e}}function jF(e,t,n){const r=e.cloneNode(),o=e[Mc];o&&o.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(r);const{hasTransform:s}=qS(r);return i.removeChild(r),s}const Gs=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ke(t)?n=>yc(t,n):t};function GF(e){e.target.composing=!0}function gk(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const jr=Symbol("_assign");function mk(e,t,n){return t&&(e=e.trim()),n&&(e=Cm(e)),e}const Zo={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e[jr]=Gs(o);const i=r||o.props&&o.props.type==="number";Oi(e,t?"change":"input",s=>{s.target.composing||e[jr](mk(e.value,n,i))}),(n||i)&&Oi(e,"change",()=>{e.value=mk(e.value,n,i)}),t||(Oi(e,"compositionstart",GF),Oi(e,"compositionend",gk),Oi(e,"change",gk))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:o,number:i}},s){if(e[jr]=Gs(s),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?Cm(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||o&&e.value.trim()===l)||(e.value=l))}},Fp={deep:!0,created(e,t,n){e[jr]=Gs(n),Oi(e,"change",()=>{const r=e._modelValue,o=Dc(e),i=e.checked,s=e[jr];if(ke(r)){const a=Om(r,o),l=a!==-1;if(i&&!l)s(r.concat(o));else if(!i&&l){const c=[...r];c.splice(a,1),s(c)}}else if(dl(r)){const a=new Set(r);i?a.add(o):a.delete(o),s(a)}else s(tP(e,i))})},mounted:vk,beforeUpdate(e,t,n){e[jr]=Gs(n),vk(e,t,n)}};function vk(e,{value:t,oldValue:n},r){e._modelValue=t;let o;if(ke(t))o=Om(t,r.props.value)>-1;else if(dl(t))o=t.has(r.props.value);else{if(t===n)return;o=js(t,tP(e,!0))}e.checked!==o&&(e.checked=o)}const ix={created(e,{value:t},n){e.checked=js(t,n.props.value),e[jr]=Gs(n),Oi(e,"change",()=>{e[jr](Dc(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[jr]=Gs(r),t!==n&&(e.checked=js(t,r.props.value))}},sx={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=dl(t);Oi(e,"change",()=>{const i=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>n?Cm(Dc(s)):Dc(s));e[jr](e.multiple?o?new Set(i):i:i[0]),e._assigning=!0,Nn(()=>{e._assigning=!1})}),e[jr]=Gs(r)},mounted(e,{value:t}){bk(e,t)},beforeUpdate(e,t,n){e[jr]=Gs(n)},updated(e,{value:t}){e._assigning||bk(e,t)}};function bk(e,t){const n=e.multiple,r=ke(t);if(!(n&&!r&&!dl(t))){for(let o=0,i=e.options.length;o<i;o++){const s=e.options[o],a=Dc(s);if(n)if(r){const l=typeof a;l==="string"||l==="number"?s.selected=t.some(c=>String(c)===String(a)):s.selected=Om(t,a)>-1}else s.selected=t.has(a);else if(js(Dc(s),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Dc(e){return"_value"in e?e._value:e.value}function tP(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const nP={created(e,t,n){If(e,t,n,null,"created")},mounted(e,t,n){If(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){If(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){If(e,t,n,r,"updated")}};function rP(e,t){switch(e){case"SELECT":return sx;case"TEXTAREA":return Zo;default:switch(t){case"checkbox":return Fp;case"radio":return ix;default:return Zo}}}function If(e,t,n,r,o){const s=rP(e.tagName,n.props&&n.props.type)[o];s&&s(e,t,n,r)}function WF(){Zo.getSSRProps=({value:e})=>({value:e}),ix.getSSRProps=({value:e},t)=>{if(t.props&&js(t.props.value,e))return{checked:!0}},Fp.getSSRProps=({value:e},t)=>{if(ke(e)){if(t.props&&Om(e,t.props.value)>-1)return{checked:!0}}else if(dl(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},nP.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=rP(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const qF=["ctrl","shift","alt","meta"],KF={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>qF.some(n=>e[`${n}Key`]&&!t.includes(n))},It=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=((o,...i)=>{for(let s=0;s<t.length;s++){const a=KF[t[s]];if(a&&a(o,t))return}return e(o,...i)}))},YF={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},XF=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=(o=>{if(!("key"in o))return;const i=sr(o.key);if(t.some(s=>s===i||YF[s]===i))return e(o)}))},oP=ft({patchProp:XS},US);let Ed,yk=!1;function iP(){return Ed||(Ed=ES(oP))}function sP(){return Ed=yk?Ed:OS(oP),yk=!0,Ed}const aP=((...e)=>{iP().render(...e)}),JF=((...e)=>{sP().hydrate(...e)}),lg=((...e)=>{const t=iP().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=uP(r);if(!o)return;const i=t._component;!Se(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const s=n(o,!1,cP(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},t}),lP=((...e)=>{const t=sP().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=uP(r);if(o)return n(o,!0,cP(o))},t});function cP(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function uP(e){return kt(e)?document.querySelector(e):e}let xk=!1;const ZF=()=>{xk||(xk=!0,WF(),_F())};const QF=()=>{},eB=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:YT,BaseTransitionPropsValidators:q1,Comment:Bt,DeprecationTypes:hF,EffectScope:V1,ErrorCodes:$L,ErrorTypeStrings:aF,Fragment:ge,KeepAlive:JT,ReactiveEffect:Gd,Static:Wa,Suspense:zV,Teleport:FL,Text:Rs,TrackOpTypes:CL,Transition:bF,TransitionGroup:Fy,TriggerOpTypes:EL,VueElement:Vm,assertNumber:PL,callWithAsyncErrorHandling:qr,callWithErrorHandling:eu,camelize:_n,capitalize:Np,cloneVNode:Ir,compatUtils:fF,compile:QF,computed:A,createApp:lg,createBlock:$,createCommentVNode:Z,createElementBlock:V,createElementVNode:D,createHydrationRenderer:OS,createPropsRestProxy:mV,createRenderer:ES,createSSRApp:lP,createSlots:iV,createStaticVNode:XV,createTextVNode:re,createVNode:S,customRef:U1,defineAsyncComponent:eV,defineComponent:P,defineCustomElement:JS,defineEmits:cV,defineExpose:uV,defineModel:fV,defineOptions:dV,defineProps:lV,defineSSRCustomElement:MF,defineSlots:pV,devtools:lF,effect:KD,effectScope:GD,getCurrentInstance:zt,getCurrentScope:bT,getCurrentWatcher:OL,getTransitionRawChildren:Rm,guardReactiveProps:Fe,h:uo,handleError:pl,hasInjectionContext:EV,hydrate:JF,hydrateOnIdle:KL,hydrateOnInteraction:ZL,hydrateOnMediaQuery:JL,hydrateOnVisible:XL,initCustomFormatter:oF,initDirectivesForSSR:ZF,inject:dt,isMemoSame:BS,isProxy:Mp,isReactive:Si,isReadonly:Jo,isRef:Ce,isRuntimeOnly:tF,isShallow:lr,isVNode:Vi,markRaw:fe,mergeDefaults:Ze,mergeModels:at,mergeProps:F,nextTick:Nn,nodeOps:US,normalizeClass:Ne,normalizeProps:Be,normalizeStyle:Yt,onActivated:ZT,onBeforeMount:Nm,onBeforeUnmount:on,onBeforeUpdate:Y1,onDeactivated:QT,onErrorCaptured:oS,onMounted:Je,onRenderTracked:rS,onRenderTriggered:nS,onScopeDispose:WD,onServerPrefetch:tS,onUnmounted:Sr,onUpdated:Mm,onWatcherCleanup:LT,openBlock:y,patchProp:XS,popScopeId:DL,provide:tu,proxyRefs:z1,pushScopeId:ML,queuePostFlushCb:Yd,reactive:Tr,readonly:Kd,ref:Q,registerRuntimeCompiler:eF,render:aP,renderList:Ie,renderSlot:L,resolveComponent:iS,resolveDirective:oV,resolveDynamicComponent:Xn,resolveFilter:pF,resolveTransitionHooks:Ac,setBlockTracking:ep,setDevtoolsHook:cF,setTransitionHooks:Li,shallowReactive:NT,shallowReadonly:hL,shallowRef:co,ssrContextKey:uS,ssrUtils:dF,stop:YD,toDisplayString:j,toHandlerKey:yd,toHandlers:sV,toRaw:He,toRef:wL,toRefs:j1,toValue:pe,transformVNodeArgs:KV,triggerRef:mL,unref:d,useAttrs:gV,useCssModule:VF,useCssVars:kF,useHost:ZS,useId:nt,useModel:rt,useSSRContext:dS,useShadowRoot:LF,useSlots:xo,useTemplateRef:HL,useTransitionState:W1,vModelCheckbox:Fp,vModelDynamic:nP,vModelRadio:ix,vModelSelect:sx,vModelText:Zo,vShow:ox,version:HS,warn:sF,watch:st,watchEffect:pS,watchPostEffect:OV,watchSyncEffect:fS,withAsyncContext:vV,withCtx:O,withDefaults:hV,withDirectives:yo,withKeys:XF,withMemo:iF,withModifiers:It,withScopeId:LL},Symbol.toStringTag,{value:"Module"})),Qt=Symbol.for("craftile-editor"),Rt=e=>{const t=Symbol(e);return[n=>tu(t,n),n=>dt(t,n),t]};function tB(e){return e==null?[]:Array.isArray(e)?e:[e]}var ax=e=>e[0],lx=e=>e[e.length-1],nB=(e,t)=>e.indexOf(t)!==-1,dP=(e,...t)=>e.concat(t),pP=(e,...t)=>e.filter(n=>!t.includes(n)),wk=(e,t)=>nB(e,t)?pP(e,t):dP(e,t);function fP(e,t,n={}){const{step:r=1,loop:o=!0}=n,i=t+r,s=e.length,a=s-1;return t===-1?r>0?0:a:i<0?o?a:0:i>=s?o?0:t>s?s:t:i}function rB(e,t,n={}){return e[fP(e,t,n)]}function oB(e,t,n={}){const{step:r=1,loop:o=!0}=n;return fP(e,t,{step:-r,loop:o})}function iB(e,t,n={}){return e[oB(e,t,n)]}var _k=e=>e?.constructor.name==="Array",sB=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!nu(e[n],t[n]))return!1;return!0},nu=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof e?.isEqual=="function"&&typeof t?.isEqual=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(_k(e)&&_k(t))return sB(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(t??Object.create(null)),r=n.length;for(let o=0;o<r;o++)if(!Reflect.has(e,n[o]))return!1;for(let o=0;o<r;o++){const i=n[o];if(!nu(e[i],t[i]))return!1}return!0},aB=e=>Array.isArray(e),hP=e=>e!=null&&typeof e=="object",ab=e=>hP(e)&&!aB(e),yh=e=>typeof e=="string",Da=e=>typeof e=="function",lB=e=>e==null,qa=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),cB=e=>Object.prototype.toString.call(e),gP=Function.prototype.toString,uB=gP.call(Object),dB=e=>{if(!hP(e)||cB(e)!="[object Object]"||hB(e))return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=qa(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&gP.call(n)==uB},pB=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,fB=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,hB=e=>pB(e)||fB(e),Tf=(e,...t)=>(typeof e=="function"?e(...t):e)??void 0,kk=e=>e,gB=()=>{},By=(...e)=>(...t)=>{e.forEach(function(n){n?.(...t)})},mP=(()=>{let e=0;return()=>(e++,e.toString(36))})();function Fm(e){if(!dB(e)||e===void 0)return e;const t=Reflect.ownKeys(e).filter(r=>typeof r=="string"),n={};for(const r of t){const o=e[r];o!==void 0&&(n[r]=Fm(o))}return n}function mB(e,t=Object.is){let n={...e};const r=new Set,o=s=>(r.add(s),()=>r.delete(s)),i=()=>{r.forEach(s=>s())};return{subscribe:o,get:s=>n[s],set:(s,a)=>{t(n[s],a)||(n[s]=a,i())},update:s=>{let a=!1;for(const l in s){const c=s[l];c!==void 0&&!t(n[l],c)&&(n[l]=c,a=!0)}a&&i()},snapshot:()=>({...n})}}function lb(e,t){const n=performance.now();let r;function o(i){if(i-n>=t){e();return}r=requestAnimationFrame(o)}return r=requestAnimationFrame(o),()=>cancelAnimationFrame(r)}function Lc(...e){e.length===1?e[0]:e[1],e.length!==2||e[0]}function vP(e,t){if(e==null)throw new Error(t())}function vB(e,t,n){let r=[];for(const o of t)e[o]==null&&r.push(o);if(r.length>0)throw new Error(`[zag-js${` > ${n}`}] missing required props: ${r.join(", ")}`)}var bB=(e,t)=>e.map((n,r)=>e[(Math.max(t,0)+r)%e.length]),bP=()=>{},Bm=e=>typeof e=="object"&&e!==null,yB=2147483647,_e=e=>e?"":void 0,cx=e=>e?"true":void 0,xB=1,wB=9,_B=11,kn=e=>Bm(e)&&e.nodeType===xB&&typeof e.nodeName=="string",ux=e=>Bm(e)&&e.nodeType===wB,kB=e=>Bm(e)&&e===e.window,yP=e=>kn(e)?e.localName||"":"#document";function CB(e){return["html","body","#document"].includes(yP(e))}var EB=e=>Bm(e)&&e.nodeType!==void 0,tp=e=>EB(e)&&e.nodeType===_B&&"host"in e,OB=e=>kn(e)&&e.localName==="input",xP=e=>!!e?.matches("a[href]"),IB=e=>kn(e)?e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0:!1;function La(e){if(!e)return!1;const t=e.getRootNode();return kc(t)===e}var TB=/(textarea|select)/;function Hm(e){if(e==null||!kn(e))return!1;try{return OB(e)&&e.selectionStart!=null||TB.test(e.localName)||e.isContentEditable||e.getAttribute("contenteditable")==="true"||e.getAttribute("contenteditable")===""}catch{return!1}}function so(e,t){if(!e||!t||!kn(e)||!kn(t))return!1;const n=t.getRootNode?.();if(e===t||e.contains(t))return!0;if(n&&tp(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Pr(e){return ux(e)?e:kB(e)?e.document:e?.ownerDocument??document}function SB(e){return Pr(e).documentElement}function Cn(e){return tp(e)?Cn(e.host):ux(e)?e.defaultView??window:kn(e)?e.ownerDocument?.defaultView??window:window}function kc(e){let t=e.activeElement;for(;t?.shadowRoot;){const n=t.shadowRoot.activeElement;if(!n||n===t)break;t=n}return t}function PB(e){if(yP(e)==="html")return e;const t=e.assignedSlot||e.parentNode||tp(e)&&e.host||SB(e);return tp(t)?t.host:t}var cb=new WeakMap;function Vc(e){return cb.has(e)||cb.set(e,Cn(e).getComputedStyle(e)),cb.get(e)}var zm=()=>typeof document<"u";function $B(){return navigator.userAgentData?.platform??navigator.platform}function RB(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(({brand:t,version:n})=>`${t}/${n}`).join(" "):navigator.userAgent}var dx=e=>zm()&&e.test($B()),wP=e=>zm()&&e.test(RB()),AB=e=>zm()&&e.test(navigator.vendor),Ck=()=>zm()&&!!navigator.maxTouchPoints,NB=()=>dx(/^iPhone/i),MB=()=>dx(/^iPad/i)||Bp()&&navigator.maxTouchPoints>1,_P=()=>NB()||MB(),DB=()=>Bp()||_P(),Bp=()=>dx(/^Mac/i),px=()=>DB()&&AB(/apple/i),LB=()=>wP(/Firefox/i),VB=()=>wP(/Android/i);function FB(e){return e.composedPath?.()??e.nativeEvent?.composedPath?.()}function Xt(e){return FB(e)?.[0]??e.target}function Hy(e){const t=e.currentTarget;if(!t||!t.matches("a[href], button[type='submit'], input[type='submit']"))return!1;const n=e.button===1,r=BB(e);return n||r}function Ek(e){const t=e.currentTarget;if(!t)return!1;const n=t.localName;return e.altKey?n==="a"||n==="button"&&t.type==="submit"||n==="input"&&t.type==="submit":!1}function kP(e){return WB(e).isComposing||e.keyCode===229}function BB(e){return Bp()?e.metaKey:e.ctrlKey}function HB(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}function zB(e){return e.pointerType===""&&e.isTrusted?!0:VB()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}var CP=e=>e.button===0,EP=e=>e.button===2||Bp()&&e.ctrlKey&&e.button===0,UB=e=>e.ctrlKey||e.altKey||e.metaKey,jB=e=>"touches"in e&&e.touches.length>0,GB={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},Ok={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function Fc(e,t={}){const{dir:n="ltr",orientation:r="horizontal"}=t;let o=e.key;return o=GB[o]??o,n==="rtl"&&r==="horizontal"&&o in Ok&&(o=Ok[o]),o}function WB(e){return e.nativeEvent??e}function Sf(e,t="client"){const n=jB(e)?e.touches[0]||e.changedTouches[0]:e;return{x:n[`${t}X`],y:n[`${t}Y`]}}var vn=(e,t,n,r)=>{const o=typeof e=="function"?e():e;return o?.addEventListener(t,n,r),()=>{o?.removeEventListener(t,n,r)}};function qB(e){return KB(e)?e.form:e.closest("form")}function KB(e){return e.matches("textarea, input, select, button")}function YB(e,t){if(!e)return;const n=qB(e),r=o=>{o.defaultPrevented||t()};return n?.addEventListener("reset",r,{passive:!0}),()=>n?.removeEventListener("reset",r)}function XB(e,t){const n=e?.closest("fieldset");if(!n)return;t(n.disabled);const r=Cn(n),o=new r.MutationObserver(()=>t(n.disabled));return o.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>o.disconnect()}function JB(e,t){if(!e)return;const{onFieldsetDisabledChange:n,onFormReset:r}=t,o=[YB(e,r),XB(e,n)];return()=>o.forEach(i=>i?.())}var OP=e=>kn(e)&&e.tagName==="IFRAME",ZB=e=>!Number.isNaN(parseInt(e.getAttribute("tabindex")||"0",10)),QB=e=>parseInt(e.getAttribute("tabindex")||"0",10)<0,fx="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",hx=(e,t=!1)=>{if(!e)return[];const n=Array.from(e.querySelectorAll(fx));(t==!0||t=="if-empty"&&n.length===0)&&kn(e)&&As(e)&&n.unshift(e);const r=n.filter(As);return r.forEach((o,i)=>{if(OP(o)&&o.contentDocument){const s=o.contentDocument.body;r.splice(i,1,...hx(s))}}),r};function As(e){return!e||e.closest("[inert]")?!1:e.matches(fx)&&IB(e)}function Hp(e,t){if(!e)return[];const n=Array.from(e.querySelectorAll(fx)),r=n.filter(xs);return t&&xs(e)&&r.unshift(e),r.forEach((o,i)=>{if(OP(o)&&o.contentDocument){const s=o.contentDocument.body,a=Hp(s);r.splice(i,1,...a)}}),!r.length&&t?n:r}function xs(e){return e!=null&&e.tabIndex>0?!0:As(e)&&!QB(e)}function IP(e,t){const n=Hp(e,t),r=n[0]||null,o=n[n.length-1]||null;return[r,o]}function e3(e,t){const n=Hp(e),r=e?.ownerDocument||document,o=t??kc(r);if(!o)return null;const i=n.indexOf(o);return n[i+1]||null}function Iu(e){return e.tabIndex<0&&(/^(audio|video|details)$/.test(e.localName)||Hm(e))&&!ZB(e)?0:e.tabIndex}function cg(e){const{root:t,getInitialEl:n,filter:r,enabled:o=!0}=e;if(!o)return;let i=null;if(i||(i=typeof n=="function"?n():n),i||(i=t?.querySelector("[data-autofocus],[autofocus]")),!i){const s=Hp(t);i=r?s.filter(r)[0]:s[0]}return i||t||void 0}function TP(e){const t=e.currentTarget;if(!t)return!1;const[n,r]=IP(t);return!(La(n)&&e.shiftKey||La(r)&&!e.shiftKey||!n&&!r)}function gx(e){const t=new Set;function n(r){const o=globalThis.requestAnimationFrame(r);t.add(()=>globalThis.cancelAnimationFrame(o))}return n(()=>n(e)),function(){t.forEach(r=>r())}}function Ke(e){let t;const n=globalThis.requestAnimationFrame(()=>{t=e()});return()=>{globalThis.cancelAnimationFrame(n),t?.()}}function t3(e,t,n){const r=Ke(()=>{e.removeEventListener(t,o,!0),n()}),o=()=>{r(),n()};return e.addEventListener(t,o,{once:!0,capture:!0}),r}function n3(e,t){if(!e)return;const{attributes:n,callback:r}=t,o=e.ownerDocument.defaultView||window,i=new o.MutationObserver(s=>{for(const a of s)a.type==="attributes"&&a.attributeName&&n.includes(a.attributeName)&&r(a)});return i.observe(e,{attributes:!0,attributeFilter:n}),()=>i.disconnect()}function SP(e,t){const{defer:n}=t,r=n?Ke:i=>i(),o=[];return o.push(r(()=>{const i=typeof e=="function"?e():e;o.push(n3(i,t))})),()=>{o.forEach(i=>i?.())}}function PP(e){const t=()=>{const n=Cn(e);e.dispatchEvent(new n.MouseEvent("click"))};LB()?t3(e,"keyup",t):queueMicrotask(t)}function ug(e){const t=PB(e);return CB(t)?Pr(t).body:kn(t)&&mx(t)?t:ug(t)}function $P(e,t=[]){const n=ug(e),r=n===e.ownerDocument.body,o=Cn(n);return r?t.concat(o,o.visualViewport||[],mx(n)?n:[]):t.concat(n,$P(n,[]))}var r3=/auto|scroll|overlay|hidden|clip/,o3=new Set(["inline","contents"]);function mx(e){const t=Cn(e),{overflow:n,overflowX:r,overflowY:o,display:i}=t.getComputedStyle(e);return r3.test(n+o+r)&&!o3.has(i)}function i3(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function RP(e,t){const{rootEl:n,...r}=t||{};!e||!n||!mx(n)||!i3(n)||e.scrollIntoView(r)}function s3(e,t={}){const{triggerElement:n,onFocus:r,onFocusEnter:o}=t,i=e?.ownerDocument||document,s=i.body;function a(l){if(l.key!=="Tab")return;let c=null;const[u,p]=IP(e,!0),h=e3(s,n),f=!u&&!p;l.shiftKey&&La(h)?(o?.(),c=p):l.shiftKey&&(La(u)||f)?c=n:!l.shiftKey&&La(n)?(o?.(),c=u):!l.shiftKey&&(La(p)||f)&&(c=h),c&&(l.preventDefault(),typeof r=="function"?r(c):c.focus())}return vn(i,"keydown",a,!0)}function a3(e,t){const{defer:n,triggerElement:r,...o}=t,i=n?Ke:a=>a(),s=[];return s.push(i(()=>{const a=typeof e=="function"?e():e,l=typeof r=="function"?r():r;s.push(s3(a,{triggerElement:l,...o}))})),()=>{s.forEach(a=>a?.())}}function vx(e,t){return Array.from(e?.querySelectorAll(t)??[])}var bx=e=>e.id;function AP(e,t,n=bx){return e.find(r=>n(r)===t)}function yx(e,t,n=bx){const r=AP(e,t,n);return r?e.indexOf(r):-1}function NP(e,t,n=!0){let r=yx(e,t);return r=n?(r+1)%e.length:Math.min(r+1,e.length-1),e[r]}function MP(e,t,n=!0){let r=yx(e,t);return r===-1?n?e[e.length-1]:null:(r=n?(r-1+e.length)%e.length:Math.max(0,r-1),e[r])}function l3(e,t){const{onEntry:n,measure:r,box:o="border-box"}=t,i=(Array.isArray(e)?e:[e]).filter(kn),s=Cn(i[0]),a=c=>{const u=i.map(p=>r(p));n({rects:u,entries:c})};a([]);const l=new s.ResizeObserver(a);return i.forEach(c=>l.observe(c,{box:o})),()=>l.disconnect()}var c3=e=>e.split("").map(t=>{const n=t.charCodeAt(0);return n>0&&n<128?t:n>=128&&n<=255?`/x${n.toString(16)}`.replace("/","\\"):""}).join("").trim(),u3=e=>c3(e.dataset?.valuetext??e.textContent??""),d3=(e,t)=>e.trim().toLowerCase().startsWith(t.toLowerCase());function p3(e,t,n,r=bx){const o=n?yx(e,n,r):-1;let i=n?bB(e,o):e;return t.length===1&&(i=i.filter(s=>r(s)!==n)),i.find(s=>d3(u3(s),t))}function np(e,t){if(!e)return bP;const n=Object.keys(t).reduce((r,o)=>(r[o]=e.style.getPropertyValue(o),r),{});return Object.assign(e.style,t),()=>{Object.assign(e.style,n),e.style.length===0&&e.removeAttribute("style")}}function f3(e,t,n){if(!e)return bP;const r=e.style.getPropertyValue(t);return e.style.setProperty(t,n),()=>{e.style.setProperty(t,r),e.style.length===0&&e.removeAttribute("style")}}function h3(e,t){const{state:n,activeId:r,key:o,timeout:i=350,itemToId:s}=t,a=n.keysSoFar+o,l=a.length>1&&Array.from(a).every(f=>f===a[0])?a[0]:a;let c=e.slice();const u=p3(c,l,r,s);function p(){clearTimeout(n.timer),n.timer=-1}function h(f){n.keysSoFar=f,p(),f!==""&&(n.timer=+setTimeout(()=>{h(""),p()},i))}return h(a),u}var rp=Object.assign(h3,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:g3});function g3(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}var m3={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"};function v3(e,t,n){const{signal:r}=t;return[new Promise((o,i)=>{const s=setTimeout(()=>{i(new Error(`Timeout of ${n}ms exceeded`))},n);r.addEventListener("abort",()=>{clearTimeout(s),i(new Error("Promise aborted"))}),e.then(a=>{r.aborted||(clearTimeout(s),o(a))}).catch(a=>{r.aborted||(clearTimeout(s),i(a))})}),()=>t.abort()]}function b3(e,t){const{timeout:n,rootNode:r}=t,o=Cn(r),i=Pr(r),s=new o.AbortController;return v3(new Promise(a=>{const l=e();if(l){a(l);return}const c=new o.MutationObserver(()=>{const u=e();u&&u.isConnected&&(c.disconnect(),a(u))});c.observe(i.body,{childList:!0,subtree:!0})}),s,n)}var y3=(...e)=>e.map(t=>t?.trim?.()).filter(Boolean).join(" "),x3=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,Ik=e=>{const t={};let n;for(;n=x3.exec(e);)t[n[1]]=n[2];return t},w3=(e,t)=>{if(yh(e)){if(yh(t))return`${e};${t}`;e=Ik(e)}else yh(t)&&(t=Ik(t));return Object.assign({},e??{},t??{})};function fl(...e){let t={};for(let n of e){if(!n)continue;for(let o in t){if(o.startsWith("on")&&typeof t[o]=="function"&&typeof n[o]=="function"){t[o]=By(n[o],t[o]);continue}if(o==="className"||o==="class"){t[o]=y3(t[o],n[o]);continue}if(o==="style"){t[o]=w3(t[o],n[o]);continue}t[o]=n[o]!==void 0?n[o]:t[o]}for(let o in n)t[o]===void 0&&(t[o]=n[o]);const r=Object.getOwnPropertySymbols(n);for(let o of r)t[o]=n[o]}return t}function ru(){return{and:(...e)=>function(t){return e.every(n=>t.guard(n))},or:(...e)=>function(t){return e.some(n=>t.guard(n))},not:e=>function(t){return!t.guard(e)}}}function _3(){return{guards:ru(),createMachine:e=>e,choose:e=>function({choose:t}){return t(e)?.actions}}}var Zl=(e=>(e.NotStarted="Not Started",e.Started="Started",e.Stopped="Stopped",e))(Zl||{}),ub="__init__";function k3(e){const t=()=>e.getRootNode?.()??document,n=()=>Pr(t());return{...e,getRootNode:t,getDoc:n,getWin:()=>n().defaultView??window,getActiveElement:()=>kc(t()),isActiveElement:La,getById:r=>t().getElementById(r)}}function C3(e){return new Proxy({},{get(t,n){return n==="style"?r=>e({style:r}).style:e}})}var sn=()=>e=>Array.from(new Set(e));function E3(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}var Tk={htmlFor:"for",className:"class",onDoubleClick:"onDblclick",onChange:"onInput",onFocus:"onFocusin",onBlur:"onFocusout",defaultValue:"value",defaultChecked:"checked"},O3="viewBox,className,preserveAspectRatio,fillRule,clipPath,clipRule,strokeWidth,strokeLinecap,strokeLinejoin,strokeDasharray,strokeDashoffset,strokeMiterlimit".split(",");function I3(e){return e in Tk?Tk[e]:e.startsWith("on")?`on${E3(e.substr(2))}`:O3.includes(e)?e:e.toLowerCase()}var ii=C3(e=>{const t={};for(const n in e){const r=e[n];n==="children"?typeof r=="string"&&(t.innerHTML=r):t[I3(n)]=e[n]}return t});function dg(e){const t=e().defaultValue??e().value,n=e().isEqual??Object.is,r=co(t),o=A(()=>e().value!==void 0),i=co(o.value?e().value:r.value);return{initial:t,ref:i,get(){return o.value?e().value:r.value},set(s){const a=o.value?e().value:r.value,l=Da(s)?s(a):s;e().debug&&console.log(`[bindable > ${e().debug}] setValue`,{next:l,prev:a}),o.value||(r.value=l),n(l,a)||e().onChange?.(l,a)},invoke(s,a){e().onChange?.(s,a)},hash(s){return e().hash?.(s)??String(s)}}}dg.cleanup=e=>{Sr(()=>e())};dg.ref=e=>{let t=e;return{get:()=>t,set:n=>{t=n}}};function T3(e){const t={current:e};return{get(n){return t.current[n]},set(n,r){t.current[n]=r}}}var S3=(e,t)=>{st(()=>[...e.map(n=>n())],(n,r)=>{let o=!1;for(let i=0;i<n.length;i++)if(!nu(r[i],pe(n[i]))){o=!0;break}o&&t()})};function wo(e,t={}){const n=A(()=>{const{id:C,ids:x,getRootNode:I}=pe(t);return k3({id:C,ids:x,getRootNode:I})}),r=(...C)=>{e.debug&&console.log(...C)},o=A(()=>e.props?.({props:Fm(pe(t)),get scope(){return n.value}})??pe(t)),i=P3(o),s=e.context?.({prop:i,bindable:dg,get scope(){return n.value},flush:Sk,getContext(){return a},getComputed(){return v},getRefs(){return g},getEvent(){return h()}}),a={get(C){return s[C]?.get()},set(C,x){s[C]?.set(x)},initial(C){return s[C]?.initial},hash(C){const x=s[C]?.get();return s[C]?.hash(x)}};let l=new Map,c=null,u={current:null},p={current:{type:""}};const h=()=>({...p.current,current(){return p.current},previous(){return u.current}}),f=()=>({..._,matches(...C){const x=_.get();return C.includes(x)},hasTag(C){const x=_.get();return!!e.states[x]?.tags?.includes(C)}}),g=T3(e.refs?.({prop:i,context:a})??{}),m=()=>({state:f(),context:a,event:h(),prop:i,send:N,action:b,guard:w,track:S3,refs:g,computed:v,flush:Sk,get scope(){return n.value},choose:k}),b=C=>{const x=Da(C)?C(m()):C;if(!x)return;const I=x.map(R=>{const M=e.implementations?.actions?.[R];return M||Lc(`[zag-js] No implementation found for action "${JSON.stringify(R)}"`),M});for(const R of I)R?.(m())},w=C=>Da(C)?C(m()):e.implementations?.guards?.[C](m()),E=C=>{const x=Da(C)?C(m()):C;if(!x)return;const I=x.map(M=>{const B=e.implementations?.effects?.[M];return B||Lc(`[zag-js] No implementation found for effect "${JSON.stringify(M)}"`),B}),R=[];for(const M of I){const B=M?.(m());B&&R.push(B)}return()=>R.forEach(M=>M?.())},k=C=>tB(C).find(x=>{let I=!x.guard;return yh(x.guard)?I=!!w(x.guard):Da(x.guard)&&(I=x.guard(m())),I}),v=C=>{vP(e.computed,()=>"[zag-js] No computed object found on machine");const x=e.computed[C];return x({context:a,event:h(),prop:i,refs:g,get scope(){return n.value},computed:v})},_=dg(()=>({defaultValue:e.initialState({prop:i}),onChange(C,x){x&&(l.get(x)?.(),l.delete(x)),x&&b(e.states[x]?.exit),b(c?.actions);const I=E(e.states[C]?.effects);if(I&&l.set(C,I),x===ub){b(e.entry);const R=E(e.effects);R&&l.set(ub,R)}b(e.states[C]?.entry)}}));let T=Zl.NotStarted;Je(()=>{const C=T===Zl.Started;T=Zl.Started,r(C?"rehydrating...":"initializing..."),_.invoke(_.initial,ub)}),on(()=>{T=Zl.Stopped,r("unmounting...");const C=l.values();for(const x of C)x?.();l=new Map,b(e.exit)});const N=C=>{if(T!==Zl.Started)return;u.current=p.current,p.current=C;let x=_.get();const I=e.states[x].on?.[C.type]??e.on?.[C.type],R=k(I);if(!R)return;c=R;const M=R.target??x;r("transition",C.type,R.target||x,`(${R.actions})`);const B=M!==x;B?_.set(M):R.reenter&&!B?_.invoke(x,x):b(R.actions)};return e.watch?.(m()),{state:f(),send:N,context:a,prop:i,get scope(){return n.value},refs:g,computed:v,event:h(),getStatus:()=>T}}function P3(e){return function(t){return e.value[t]}}var Sk=e=>{Nn().then(()=>{e()})};const $3=P({name:"Dynamic",inheritAttrs:!1,setup(e,{attrs:t,slots:n}){return()=>{if(!n.default)return null;const r=DP(n.default()),[o,...i]=r;if(Object.keys(t).length>0){delete o.props?.ref;const s=fl(t,o.props??{}),a=Ir(o,s);for(const l in s)l.startsWith("on")&&(a.props||={},a.props[l]=s[l]);return r.length===1?a:[a,...i]}return r}}});function DP(e){return e?e.flatMap(t=>t.type===ge?DP(t.children):[t]):[]}const R3="br, hr, img, input, area, textarea".split(", "),A3=e=>typeof e=="string"&&R3.includes(e),db=e=>P({name:"Polymorphic",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1}},setup(t,{attrs:n,slots:r}){return t.asChild?()=>uo($3,n,r):()=>uo(e,n,A3(e)?void 0:r.default?.())}});function N3(){const e=new Map;return new Proxy(db,{apply(t,n,r){return db(r[0])},get(t,n){return e.has(n)||e.set(n,db(n)),e.get(n)}})}const he=N3();function xx(e){const t=pe(e);return t?.$el??t}const M3=e=>Object.prototype.hasOwnProperty.call(e,"nodeName")&&typeof e.nodeName=="string";function se(){const e=zt(),t=Q(),n=A(()=>["#text","#comment"].includes(t.value?.$el.nodeName)?t.value?.$el.nextElementSibling:xx(t)),r=Object.assign({},e.exposed),o={};for(const s in e.props)Object.defineProperty(o,s,{enumerable:!0,configurable:!0,get:()=>e.props[s]});if(Object.keys(r).length>0)for(const s in r)Object.defineProperty(o,s,{enumerable:!0,configurable:!0,get:()=>r[s]});Object.defineProperty(o,"$el",{enumerable:!0,configurable:!0,get:()=>e.vnode.el}),e.exposed=o;function i(s){t.value=s,!(M3(s)||!s)&&(Object.defineProperty(o,"$el",{enumerable:!0,configurable:!0,get:()=>s.$el}),e.exposed=o)}return{forwardRef:i,currentRef:t,currentElement:n}}var ar=(e,t=[])=>({parts:(...n)=>{if(D3(t))return ar(e,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>ar(e,[...t,...n]),omit:(...n)=>ar(e,t.filter(r=>!n.includes(r))),rename:n=>ar(n,t),keys:()=>t,build:()=>[...new Set(t)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${Sl(e)}"][data-part="${Sl(r)}"]`,`& [data-scope="${Sl(e)}"][data-part="${Sl(r)}"]`].join(", "),attrs:{"data-scope":Sl(e),"data-part":Sl(r)}}}),{})}),Sl=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),D3=e=>e.length===0;const[uCe,_o]=Rt("EnvironmentContext"),ko=A(()=>({getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window})),qi=A(()=>({dir:"ltr",locale:"en-US"})),[dCe,Ki]=Rt("LocaleContext"),ra=e=>{const t={};for(const[n,r]of Object.entries(e))r!==void 0&&(t[n]=r);return t},L3=["top","right","bottom","left"],Ws=Math.min,vr=Math.max,pg=Math.round,Pf=Math.floor,Wo=e=>({x:e,y:e}),V3={left:"right",right:"left",bottom:"top",top:"bottom"},F3={start:"end",end:"start"};function zy(e,t,n){return vr(e,Ws(t,n))}function Fi(e,t){return typeof e=="function"?e(t):e}function Bi(e){return e.split("-")[0]}function ou(e){return e.split("-")[1]}function wx(e){return e==="x"?"y":"x"}function _x(e){return e==="y"?"height":"width"}const B3=new Set(["top","bottom"]);function zo(e){return B3.has(Bi(e))?"y":"x"}function kx(e){return wx(zo(e))}function H3(e,t,n){n===void 0&&(n=!1);const r=ou(e),o=kx(e),i=_x(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=fg(s)),[s,fg(s)]}function z3(e){const t=fg(e);return[Uy(e),t,Uy(t)]}function Uy(e){return e.replace(/start|end/g,t=>F3[t])}const Pk=["left","right"],$k=["right","left"],U3=["top","bottom"],j3=["bottom","top"];function G3(e,t,n){switch(e){case"top":case"bottom":return n?t?$k:Pk:t?Pk:$k;case"left":case"right":return t?U3:j3;default:return[]}}function W3(e,t,n,r){const o=ou(e);let i=G3(Bi(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(Uy)))),i}function fg(e){return e.replace(/left|right|bottom|top/g,t=>V3[t])}function q3(e){return{top:0,right:0,bottom:0,left:0,...e}}function LP(e){return typeof e!="number"?q3(e):{top:e,right:e,bottom:e,left:e}}function hg(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Rk(e,t,n){let{reference:r,floating:o}=e;const i=zo(t),s=kx(t),a=_x(s),l=Bi(t),c=i==="y",u=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,h=r[a]/2-o[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-o.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:p};break;case"left":f={x:r.x-o.width,y:p};break;default:f={x:r.x,y:r.y}}switch(ou(t)){case"start":f[s]-=h*(n&&c?-1:1);break;case"end":f[s]+=h*(n&&c?-1:1);break}return f}const K3=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:p}=Rk(c,r,l),h=r,f={},g=0;for(let m=0;m<a.length;m++){const{name:b,fn:w}=a[m],{x:E,y:k,data:v,reset:_}=await w({x:u,y:p,initialPlacement:r,placement:h,strategy:o,middlewareData:f,rects:c,platform:s,elements:{reference:e,floating:t}});u=E??u,p=k??p,f={...f,[b]:{...f[b],...v}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(c=_.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):_.rects),{x:u,y:p}=Rk(c,h,l)),m=-1)}return{x:u,y:p,placement:h,strategy:o,middlewareData:f}};async function op(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:p="floating",altBoundary:h=!1,padding:f=0}=Fi(t,e),g=LP(f),m=a[h?p==="floating"?"reference":"floating":p],b=hg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(m)))==null||n?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=p==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},v=hg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:E,strategy:l}):w);return{top:(b.top-v.top+g.top)/k.y,bottom:(v.bottom-b.bottom+g.bottom)/k.y,left:(b.left-v.left+g.left)/k.x,right:(v.right-b.right+g.right)/k.x}}const Y3=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=Fi(e,t)||{};if(c==null)return{};const p=LP(u),h={x:n,y:r},f=kx(o),g=_x(f),m=await s.getDimensions(c),b=f==="y",w=b?"top":"left",E=b?"bottom":"right",k=b?"clientHeight":"clientWidth",v=i.reference[g]+i.reference[f]-h[f]-i.floating[g],_=h[f]-i.reference[f],T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let N=T?T[k]:0;(!N||!await(s.isElement==null?void 0:s.isElement(T)))&&(N=a.floating[k]||i.floating[g]);const C=v/2-_/2,x=N/2-m[g]/2-1,I=Ws(p[w],x),R=Ws(p[E],x),M=I,B=N-m[g]-R,z=N/2-m[g]/2+C,J=zy(M,z,B),q=!l.arrow&&ou(o)!=null&&z!==J&&i.reference[g]/2-(z<M?I:R)-m[g]/2<0,K=q?z<M?z-M:z-B:0;return{[f]:h[f]+K,data:{[f]:J,centerOffset:z-J-K,...q&&{alignmentOffset:K}},reset:q}}}),X3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...b}=Fi(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=Bi(o),E=zo(a),k=Bi(a)===a,v=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=h||(k||!m?[fg(a)]:z3(a)),T=g!=="none";!h&&T&&_.push(...W3(a,m,g,v));const N=[a,..._],C=await op(t,b),x=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&x.push(C[w]),p){const z=H3(o,s,v);x.push(C[z[0]],C[z[1]])}if(I=[...I,{placement:o,overflows:x}],!x.every(z=>z<=0)){var R,M;const z=(((R=i.flip)==null?void 0:R.index)||0)+1,J=N[z];if(J&&(!(p==="alignment"&&E!==zo(J))||I.every(K=>zo(K.placement)===E?K.overflows[0]>0:!0)))return{data:{index:z,overflows:I},reset:{placement:J}};let q=(M=I.filter(K=>K.overflows[0]<=0).sort((K,X)=>K.overflows[1]-X.overflows[1])[0])==null?void 0:M.placement;if(!q)switch(f){case"bestFit":{var B;const K=(B=I.filter(X=>{if(T){const de=zo(X.placement);return de===E||de==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(de=>de>0).reduce((de,Ue)=>de+Ue,0)]).sort((X,de)=>X[1]-de[1])[0])==null?void 0:B[0];K&&(q=K);break}case"initialPlacement":q=a;break}if(o!==q)return{reset:{placement:q}}}return{}}}};function Ak(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Nk(e){return L3.some(t=>e[t]>=0)}const J3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Fi(e,t);switch(r){case"referenceHidden":{const i=await op(t,{...o,elementContext:"reference"}),s=Ak(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Nk(s)}}}case"escaped":{const i=await op(t,{...o,altBoundary:!0}),s=Ak(i,n.floating);return{data:{escapedOffsets:s,escaped:Nk(s)}}}default:return{}}}}},VP=new Set(["left","top"]);async function Z3(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Bi(n),a=ou(n),l=zo(n)==="y",c=VP.has(s)?-1:1,u=i&&l?-1:1,p=Fi(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:g}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof g=="number"&&(f=a==="end"?g*-1:g),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const Q3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:a}=t,l=await Z3(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:s}}}}},e6=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:b=>{let{x:w,y:E}=b;return{x:w,y:E}}},...l}=Fi(e,t),c={x:n,y:r},u=await op(t,l),p=zo(Bi(o)),h=wx(p);let f=c[h],g=c[p];if(i){const b=h==="y"?"top":"left",w=h==="y"?"bottom":"right",E=f+u[b],k=f-u[w];f=zy(E,f,k)}if(s){const b=p==="y"?"top":"left",w=p==="y"?"bottom":"right",E=g+u[b],k=g-u[w];g=zy(E,g,k)}const m=a.fn({...t,[h]:f,[p]:g});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:i,[p]:s}}}}}},t6=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Fi(e,t),u={x:n,y:r},p=zo(o),h=wx(p);let f=u[h],g=u[p];const m=Fi(a,t),b=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const k=h==="y"?"height":"width",v=i.reference[h]-i.floating[k]+b.mainAxis,_=i.reference[h]+i.reference[k]-b.mainAxis;f<v?f=v:f>_&&(f=_)}if(c){var w,E;const k=h==="y"?"width":"height",v=VP.has(Bi(o)),_=i.reference[p]-i.floating[k]+(v&&((w=s.offset)==null?void 0:w[p])||0)+(v?0:b.crossAxis),T=i.reference[p]+i.reference[k]+(v?0:((E=s.offset)==null?void 0:E[p])||0)-(v?b.crossAxis:0);g<_?g=_:g>T&&(g=T)}return{[h]:f,[p]:g}}}},n6=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:s,elements:a}=t,{apply:l=()=>{},...c}=Fi(e,t),u=await op(t,c),p=Bi(o),h=ou(o),f=zo(o)==="y",{width:g,height:m}=i.floating;let b,w;p==="top"||p==="bottom"?(b=p,w=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(w=p,b=h==="end"?"top":"bottom");const E=m-u.top-u.bottom,k=g-u.left-u.right,v=Ws(m-u[b],E),_=Ws(g-u[w],k),T=!t.middlewareData.shift;let N=v,C=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=k),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=E),T&&!h){const I=vr(u.left,0),R=vr(u.right,0),M=vr(u.top,0),B=vr(u.bottom,0);f?C=g-2*(I!==0||R!==0?I+R:vr(u.left,u.right)):N=m-2*(M!==0||B!==0?M+B:vr(u.top,u.bottom))}await l({...t,availableWidth:C,availableHeight:N});const x=await s.getDimensions(a.floating);return g!==x.width||m!==x.height?{reset:{rects:!0}}:{}}}};function Um(){return typeof window<"u"}function iu(e){return FP(e)?(e.nodeName||"").toLowerCase():"#document"}function kr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function si(e){var t;return(t=(FP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function FP(e){return Um()?e instanceof Node||e instanceof kr(e).Node:!1}function po(e){return Um()?e instanceof Element||e instanceof kr(e).Element:!1}function Qo(e){return Um()?e instanceof HTMLElement||e instanceof kr(e).HTMLElement:!1}function Mk(e){return!Um()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof kr(e).ShadowRoot}const r6=new Set(["inline","contents"]);function zp(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=fo(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!r6.has(o)}const o6=new Set(["table","td","th"]);function i6(e){return o6.has(iu(e))}const s6=[":popover-open",":modal"];function jm(e){return s6.some(t=>{try{return e.matches(t)}catch{return!1}})}const a6=["transform","translate","scale","rotate","perspective"],l6=["transform","translate","scale","rotate","perspective","filter"],c6=["paint","layout","strict","content"];function Cx(e){const t=Ex(),n=po(e)?fo(e):e;return a6.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||l6.some(r=>(n.willChange||"").includes(r))||c6.some(r=>(n.contain||"").includes(r))}function u6(e){let t=qs(e);for(;Qo(t)&&!Bc(t);){if(Cx(t))return t;if(jm(t))return null;t=qs(t)}return null}function Ex(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const d6=new Set(["html","body","#document"]);function Bc(e){return d6.has(iu(e))}function fo(e){return kr(e).getComputedStyle(e)}function Gm(e){return po(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qs(e){if(iu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Mk(e)&&e.host||si(e);return Mk(t)?t.host:t}function BP(e){const t=qs(e);return Bc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Qo(t)&&zp(t)?t:BP(t)}function ip(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=BP(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=kr(o);if(i){const a=jy(s);return t.concat(s,s.visualViewport||[],zp(o)?o:[],a&&n?ip(a):[])}return t.concat(o,ip(o,[],n))}function jy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function HP(e){const t=fo(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Qo(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=pg(n)!==i||pg(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function Ox(e){return po(e)?e:e.contextElement}function Cc(e){const t=Ox(e);if(!Qo(t))return Wo(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=HP(t);let s=(i?pg(n.width):n.width)/r,a=(i?pg(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const p6=Wo(0);function zP(e){const t=kr(e);return!Ex()||!t.visualViewport?p6:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function f6(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==kr(e)?!1:t}function tl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Ox(e);let s=Wo(1);t&&(r?po(r)&&(s=Cc(r)):s=Cc(e));const a=f6(i,n,r)?zP(i):Wo(0);let l=(o.left+a.x)/s.x,c=(o.top+a.y)/s.y,u=o.width/s.x,p=o.height/s.y;if(i){const h=kr(i),f=r&&po(r)?kr(r):r;let g=h,m=jy(g);for(;m&&r&&f!==g;){const b=Cc(m),w=m.getBoundingClientRect(),E=fo(m),k=w.left+(m.clientLeft+parseFloat(E.paddingLeft))*b.x,v=w.top+(m.clientTop+parseFloat(E.paddingTop))*b.y;l*=b.x,c*=b.y,u*=b.x,p*=b.y,l+=k,c+=v,g=kr(m),m=jy(g)}}return hg({width:u,height:p,x:l,y:c})}function Wm(e,t){const n=Gm(e).scrollLeft;return t?t.left+n:tl(si(e)).left+n}function UP(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Wm(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function h6(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=si(r),a=t?jm(t.floating):!1;if(r===s||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Wo(1);const u=Wo(0),p=Qo(r);if((p||!p&&!i)&&((iu(r)!=="body"||zp(s))&&(l=Gm(r)),Qo(r))){const f=tl(r);c=Cc(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const h=s&&!p&&!i?UP(s,l):Wo(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function g6(e){return Array.from(e.getClientRects())}function m6(e){const t=si(e),n=Gm(e),r=e.ownerDocument.body,o=vr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=vr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Wm(e);const a=-n.scrollTop;return fo(r).direction==="rtl"&&(s+=vr(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}const Dk=25;function v6(e,t){const n=kr(e),r=si(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;const u=Ex();(!u||u&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}const c=Wm(r);if(c<=0){const u=r.ownerDocument,p=u.body,h=getComputedStyle(p),f=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(r.clientWidth-p.clientWidth-f);g<=Dk&&(i-=g)}else c<=Dk&&(i+=c);return{width:i,height:s,x:a,y:l}}const b6=new Set(["absolute","fixed"]);function y6(e,t){const n=tl(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Qo(e)?Cc(e):Wo(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,l=o*i.x,c=r*i.y;return{width:s,height:a,x:l,y:c}}function Lk(e,t,n){let r;if(t==="viewport")r=v6(e,n);else if(t==="document")r=m6(si(e));else if(po(t))r=y6(t,n);else{const o=zP(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return hg(r)}function jP(e,t){const n=qs(e);return n===t||!po(n)||Bc(n)?!1:fo(n).position==="fixed"||jP(n,t)}function x6(e,t){const n=t.get(e);if(n)return n;let r=ip(e,[],!1).filter(a=>po(a)&&iu(a)!=="body"),o=null;const i=fo(e).position==="fixed";let s=i?qs(e):e;for(;po(s)&&!Bc(s);){const a=fo(s),l=Cx(s);!l&&a.position==="fixed"&&(o=null),(i?!l&&!o:!l&&a.position==="static"&&o&&b6.has(o.position)||zp(s)&&!l&&jP(e,s))?r=r.filter(c=>c!==s):o=a,s=qs(s)}return t.set(e,r),r}function w6(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?jm(t)?[]:x6(t,this._c):[].concat(n),r],s=i[0],a=i.reduce((l,c)=>{const u=Lk(t,c,o);return l.top=vr(u.top,l.top),l.right=Ws(u.right,l.right),l.bottom=Ws(u.bottom,l.bottom),l.left=vr(u.left,l.left),l},Lk(t,s,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function _6(e){const{width:t,height:n}=HP(e);return{width:t,height:n}}function k6(e,t,n){const r=Qo(t),o=si(t),i=n==="fixed",s=tl(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=Wo(0);function c(){l.x=Wm(o)}if(r||!r&&!i)if((iu(t)!=="body"||zp(o))&&(a=Gm(t)),r){const f=tl(t,!0,i,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else o&&c();i&&!r&&o&&c();const u=o&&!r&&!i?UP(o,a):Wo(0),p=s.left+a.scrollLeft-l.x-u.x,h=s.top+a.scrollTop-l.y-u.y;return{x:p,y:h,width:s.width,height:s.height}}function pb(e){return fo(e).position==="static"}function Vk(e,t){if(!Qo(e)||fo(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return si(e)===n&&(n=n.ownerDocument.body),n}function GP(e,t){const n=kr(e);if(jm(e))return n;if(!Qo(e)){let o=qs(e);for(;o&&!Bc(o);){if(po(o)&&!pb(o))return o;o=qs(o)}return n}let r=Vk(e,t);for(;r&&i6(r)&&pb(r);)r=Vk(r,t);return r&&Bc(r)&&pb(r)&&!Cx(r)?n:r||u6(e)||n}const C6=async function(e){const t=this.getOffsetParent||GP,n=this.getDimensions,r=await n(e.floating);return{reference:k6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function E6(e){return fo(e).direction==="rtl"}const O6={convertOffsetParentRelativeRectToViewportRelativeRect:h6,getDocumentElement:si,getClippingRect:w6,getOffsetParent:GP,getElementRects:C6,getClientRects:g6,getDimensions:_6,getScale:Cc,isElement:po,isRTL:E6};function WP(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function I6(e,t){let n=null,r;const o=si(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=e.getBoundingClientRect(),{left:u,top:p,width:h,height:f}=c;if(a||t(),!h||!f)return;const g=Pf(p),m=Pf(o.clientWidth-(u+h)),b=Pf(o.clientHeight-(p+f)),w=Pf(u),E={rootMargin:-g+"px "+-m+"px "+-b+"px "+-w+"px",threshold:vr(0,Ws(1,l))||1};let k=!0;function v(_){const T=_[0].intersectionRatio;if(T!==l){if(!k)return s();T?s(!1,T):r=setTimeout(()=>{s(!1,1e-7)},1e3)}T===1&&!WP(c,e.getBoundingClientRect())&&s(),k=!1}try{n=new IntersectionObserver(v,{...E,root:o.ownerDocument})}catch{n=new IntersectionObserver(v,E)}n.observe(e)}return s(!0),i}function T6(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Ox(e),u=o||i?[...c?ip(c):[],...ip(t)]:[];u.forEach(w=>{o&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const p=c&&a?I6(c,n):null;let h=-1,f=null;s&&(f=new ResizeObserver(w=>{let[E]=w;E&&E.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var k;(k=f)==null||k.observe(t)})),n()}),c&&!l&&f.observe(c),f.observe(t));let g,m=l?tl(e):null;l&&b();function b(){const w=tl(e);m&&!WP(m,w)&&n(),m=w,g=requestAnimationFrame(b)}return n(),()=>{var w;u.forEach(E=>{o&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),p?.(),(w=f)==null||w.disconnect(),f=null,l&&cancelAnimationFrame(g)}}const S6=Q3,P6=e6,$6=X3,R6=n6,A6=J3,N6=Y3,M6=t6,D6=(e,t,n)=>{const r=new Map,o={platform:O6,...n},i={...o.platform,_c:r};return K3(e,t,{...o,platform:i})};function Fk(e=0,t=0,n=0,r=0){if(typeof DOMRect=="function")return new DOMRect(e,t,n,r);const o={x:e,y:t,width:n,height:r,top:t,right:e+n,bottom:t+r,left:e};return{...o,toJSON:()=>o}}function L6(e){if(!e)return Fk();const{x:t,y:n,width:r,height:o}=e;return Fk(t,n,r,o)}function V6(e,t){return{contextElement:kn(e)?e:void 0,getBoundingClientRect:()=>{const n=e,r=t?.(n);return r||!n?L6(r):n.getBoundingClientRect()}}}var Tu=e=>({variable:e,reference:`var(${e})`}),mi={arrowSize:Tu("--arrow-size"),arrowSizeHalf:Tu("--arrow-size-half"),arrowBg:Tu("--arrow-background"),transformOrigin:Tu("--transform-origin"),arrowOffset:Tu("--arrow-offset")},F6=e=>e==="top"||e==="bottom"?"y":"x";function B6(e,t){return{name:"transformOrigin",fn(n){const{elements:r,middlewareData:o,placement:i,rects:s,y:a}=n,l=i.split("-")[0],c=F6(l),u=o.arrow?.x||0,p=o.arrow?.y||0,h=t?.clientWidth||0,f=t?.clientHeight||0,g=u+h/2,m=p+f/2,b=Math.abs(o.shift?.y||0),w=s.reference.height/2,E=f/2,k=e.offset?.mainAxis??e.gutter,v=typeof k=="number"?k+E:k??E,_=b>v,T={top:`${g}px calc(100% + ${v}px)`,bottom:`${g}px ${-v}px`,left:`calc(100% + ${v}px) ${m}px`,right:`${-v}px ${m}px`}[l],N=`${g}px ${s.reference.y+w-a}px`,C=!!e.overlap&&c==="y"&&_;return r.floating.style.setProperty(mi.transformOrigin.variable,C?N:T),{data:{transformOrigin:C?N:T}}}}}var H6={name:"rects",fn({rects:e}){return{data:e}}},z6=e=>{if(e)return{name:"shiftArrow",fn({placement:t,middlewareData:n}){if(!n.arrow)return{};const{x:r,y:o}=n.arrow,i=t.split("-")[0];return Object.assign(e.style,{left:r!=null?`${r}px`:"",top:o!=null?`${o}px`:"",[i]:`calc(100% + ${mi.arrowOffset.reference})`}),{}}}};function U6(e){const[t,n]=e.split("-");return{side:t,align:n,hasAlign:n!=null}}function j6(e){return e.split("-")[0]}var G6={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function Bk(e,t){const n=e.devicePixelRatio||1;return Math.round(t*n)/n}function Ix(e){return typeof e=="function"?e():e==="clipping-ancestors"?"clippingAncestors":e}function W6(e,t,n){const r=e||t.createElement("div");return N6({element:r,padding:n.arrowPadding})}function q6(e,t){if(!lB(t.offset??t.gutter))return S6(({placement:n})=>{const r=(e?.clientHeight||0)/2,o=t.offset?.mainAxis??t.gutter,i=typeof o=="number"?o+r:o??r,{hasAlign:s}=U6(n),a=s?void 0:t.shift,l=t.offset?.crossAxis??a;return Fm({crossAxis:l,mainAxis:i,alignmentAxis:t.shift})})}function K6(e){if(!e.flip)return;const t=Ix(e.boundary);return $6({...t?{boundary:t}:void 0,padding:e.overflowPadding,fallbackPlacements:e.flip===!0?void 0:e.flip})}function Y6(e){if(!e.slide&&!e.overlap)return;const t=Ix(e.boundary);return P6({...t?{boundary:t}:void 0,mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:M6()})}function X6(e){return R6({padding:e.overflowPadding,apply({elements:t,rects:n,availableHeight:r,availableWidth:o}){const i=t.floating,s=Math.round(n.reference.width),a=Math.round(n.reference.height);o=Math.floor(o),r=Math.floor(r),i.style.setProperty("--reference-width",`${s}px`),i.style.setProperty("--reference-height",`${a}px`),i.style.setProperty("--available-width",`${o}px`),i.style.setProperty("--available-height",`${r}px`)}})}function J6(e){if(e.hideWhenDetached)return A6({strategy:"referenceHidden",boundary:Ix(e.boundary)??"clippingAncestors"})}function Z6(e){return e?e===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:e:{}}function Q6(e,t,n={}){const r=V6(e,n.getAnchorRect);if(!t||!r)return;const o=Object.assign({},G6,n),i=t.querySelector("[data-part=arrow]"),s=[q6(i,o),K6(o),Y6(o),W6(i,t.ownerDocument,o),z6(i),B6({gutter:o.gutter,offset:o.offset,overlap:o.overlap},i),X6(o),J6(o),H6],{placement:a,strategy:l,onComplete:c,onPositioned:u}=o,p=async()=>{if(!r||!t)return;const m=await D6(r,t,{placement:a,middleware:s,strategy:l});c?.(m),u?.({placed:!0});const b=Cn(t),w=Bk(b,m.x),E=Bk(b,m.y);t.style.setProperty("--x",`${w}px`),t.style.setProperty("--y",`${E}px`),o.hideWhenDetached&&(m.middlewareData.hide?.referenceHidden?(t.style.setProperty("visibility","hidden"),t.style.setProperty("pointer-events","none")):(t.style.removeProperty("visibility"),t.style.removeProperty("pointer-events")));const k=t.firstElementChild;if(k){const v=Vc(k);t.style.setProperty("--z-index",v.zIndex)}},h=async()=>{n.updatePosition?(await n.updatePosition({updatePosition:p,floatingElement:t}),u?.({placed:!0})):await p()},f=Z6(o.listeners),g=o.listeners?T6(r,t,h,f):gB;return h(),()=>{g?.(),u?.({placed:!1})}}function Ks(e,t,n={}){const{defer:r,...o}=n,i=r?Ke:a=>a(),s=[];return s.push(i(()=>{const a=typeof e=="function"?e():e,l=typeof t=="function"?t():t;s.push(Q6(a,l,o))})),()=>{s.forEach(a=>a?.())}}var e4={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function qm(e={}){const{placement:t,sameWidth:n,fitViewport:r,strategy:o="absolute"}=e;return{arrow:{position:"absolute",width:mi.arrowSize.reference,height:mi.arrowSize.reference,[mi.arrowSizeHalf.variable]:`calc(${mi.arrowSize.reference} / 2)`,[mi.arrowOffset.variable]:`calc(${mi.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:t?e4[t.split("-")[0]]:void 0,background:mi.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:o,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:r?"var(--available-width)":void 0,maxHeight:r?"var(--available-height)":void 0,pointerEvents:t?void 0:"none",top:"0px",left:"0px",transform:t?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}function t4(e){const t={each(n){for(let r=0;r<e.frames?.length;r+=1){const o=e.frames[r];o&&n(o)}},addEventListener(n,r,o){return t.each(i=>{try{i.document.addEventListener(n,r,o)}catch{}}),()=>{try{t.removeEventListener(n,r,o)}catch{}}},removeEventListener(n,r,o){t.each(i=>{try{i.document.removeEventListener(n,r,o)}catch{}})}};return t}function n4(e){const t=e.frameElement!=null?e.parent:null;return{addEventListener:(n,r,o)=>{try{t?.addEventListener(n,r,o)}catch{}return()=>{try{t?.removeEventListener(n,r,o)}catch{}}},removeEventListener:(n,r,o)=>{try{t?.removeEventListener(n,r,o)}catch{}}}}var Hk="pointerdown.outside",zk="focus.outside";function r4(e){for(const t of e)if(kn(t)&&As(t))return!0;return!1}var qP=e=>"clientY"in e;function o4(e,t){if(!qP(t)||!e)return!1;const n=e.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=t.clientY&&t.clientY<=n.top+n.height&&n.left<=t.clientX&&t.clientX<=n.left+n.width}function i4(e,t){return e.y<=t.y&&t.y<=e.y+e.height&&e.x<=t.x&&t.x<=e.x+e.width}function Uk(e,t){if(!t||!qP(e))return!1;const n=t.scrollHeight>t.clientHeight,r=n&&e.clientX>t.offsetLeft+t.clientWidth,o=t.scrollWidth>t.clientWidth,i=o&&e.clientY>t.offsetTop+t.clientHeight,s={x:t.offsetLeft,y:t.offsetTop,width:t.clientWidth+(n?16:0),height:t.clientHeight+(o?16:0)},a={x:e.clientX,y:e.clientY};return i4(s,a)?r||i:!1}function s4(e,t){const{exclude:n,onFocusOutside:r,onPointerDownOutside:o,onInteractOutside:i,defer:s}=t;if(!e)return;const a=Pr(e),l=Cn(e),c=t4(l),u=n4(l);function p(E,k){if(!kn(k)||!k.isConnected||so(e,k)||o4(e,E))return!1;const v=a.querySelector(`[aria-controls="${e.id}"]`);if(v){const T=ug(v);if(Uk(E,T))return!1}const _=ug(e);return Uk(E,_)?!1:!n?.(k)}const h=new Set,f=tp(e?.getRootNode());function g(E){function k(v){const _=s&&!Ck()?Ke:C=>C(),T=v??E,N=T?.composedPath?.()??[T?.target];_(()=>{const C=f?N[0]:Xt(E);if(!(!e||!p(E,C))){if(o||i){const x=By(o,i);e.addEventListener(Hk,x,{once:!0})}jk(e,Hk,{bubbles:!1,cancelable:!0,detail:{originalEvent:T,contextmenu:EP(T),focusable:r4(N),target:C}})}})}E.pointerType==="touch"?(h.forEach(v=>v()),h.add(vn(a,"click",k,{once:!0})),h.add(u.addEventListener("click",k,{once:!0})),h.add(c.addEventListener("click",k,{once:!0}))):k()}const m=new Set,b=setTimeout(()=>{m.add(vn(a,"pointerdown",g,!0)),m.add(u.addEventListener("pointerdown",g,!0)),m.add(c.addEventListener("pointerdown",g,!0))},0);function w(E){(s?Ke:k=>k())(()=>{const k=Xt(E);if(!(!e||!p(E,k))){if(r||i){const v=By(r,i);e.addEventListener(zk,v,{once:!0})}jk(e,zk,{bubbles:!1,cancelable:!0,detail:{originalEvent:E,contextmenu:!1,focusable:As(k),target:k}})}})}return Ck()||(m.add(vn(a,"focusin",w,!0)),m.add(u.addEventListener("focusin",w,!0)),m.add(c.addEventListener("focusin",w,!0))),()=>{clearTimeout(b),h.forEach(E=>E()),m.forEach(E=>E())}}function a4(e,t){const{defer:n}=t,r=n?Ke:i=>i(),o=[];return o.push(r(()=>{const i=typeof e=="function"?e():e;o.push(s4(i,t))})),()=>{o.forEach(i=>i?.())}}function jk(e,t,n){const r=e.ownerDocument.defaultView||window,o=new r.CustomEvent(t,n);return e.dispatchEvent(o)}function l4(e,t){const n=r=>{r.key==="Escape"&&(r.isComposing||t?.(r))};return vn(Pr(e),"keydown",n,{capture:!0})}var Gk="layer:request-dismiss",or={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(e=>e.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(e){const t=this.indexOf(e),n=this.topMostPointerBlockingLayer()?this.indexOf(this.topMostPointerBlockingLayer()?.node):-1;return t<n},isTopMost(e){return this.layers[this.count()-1]?.node===e},getNestedLayers(e){return Array.from(this.layers).slice(this.indexOf(e)+1)},getLayersByType(e){return this.layers.filter(t=>t.type===e)},getNestedLayersByType(e,t){const n=this.indexOf(e);return n===-1?[]:this.layers.slice(n+1).filter(r=>r.type===t)},getParentLayerOfType(e,t){const n=this.indexOf(e);if(!(n<=0))return this.layers.slice(0,n).reverse().find(r=>r.type===t)},countNestedLayersOfType(e,t){return this.getNestedLayersByType(e,t).length},isInNestedLayer(e,t){return this.getNestedLayers(e).some(n=>so(n.node,t))},isInBranch(e){return Array.from(this.branches).some(t=>so(t,e))},add(e){this.layers.push(e),this.syncLayers()},addBranch(e){this.branches.push(e)},remove(e){const t=this.indexOf(e);t<0||(t<this.count()-1&&this.getNestedLayers(e).forEach(n=>or.dismiss(n.node,e)),this.layers.splice(t,1),this.syncLayers())},removeBranch(e){const t=this.branches.indexOf(e);t>=0&&this.branches.splice(t,1)},syncLayers(){this.layers.forEach((e,t)=>{e.node.style.setProperty("--layer-index",`${t}`),e.node.removeAttribute("data-nested"),e.node.removeAttribute("data-has-nested"),this.getParentLayerOfType(e.node,e.type)&&e.node.setAttribute("data-nested",e.type);const n=this.countNestedLayersOfType(e.node,e.type);n>0&&e.node.setAttribute("data-has-nested",e.type),e.node.style.setProperty("--nested-layer-count",`${n}`)})},indexOf(e){return this.layers.findIndex(t=>t.node===e)},dismiss(e,t){const n=this.indexOf(e);if(n===-1)return;const r=this.layers[n];u4(e,Gk,o=>{r.requestDismiss?.(o),o.defaultPrevented||r?.dismiss()}),c4(e,Gk,{originalLayer:e,targetLayer:t,originalIndex:n,targetIndex:t?this.indexOf(t):-1}),this.syncLayers()},clear(){this.remove(this.layers[0].node)}};function c4(e,t,n){const r=e.ownerDocument.defaultView||window,o=new r.CustomEvent(t,{cancelable:!0,bubbles:!0,detail:n});return e.dispatchEvent(o)}function u4(e,t,n){e.addEventListener(t,n,{once:!0})}var Wk;function qk(){or.layers.forEach(({node:e})=>{e.style.pointerEvents=or.isBelowPointerBlockingLayer(e)?"none":"auto"})}function d4(e){e.style.pointerEvents=""}function p4(e,t){const n=Pr(e),r=[];return or.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(Wk=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),t?.forEach(o=>{const[i,s]=b3(()=>{const a=o();return kn(a)?a:null},{timeout:1e3});i.then(a=>r.push(np(a,{pointerEvents:"auto"}))),r.push(s)}),()=>{or.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=Wk,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),r.forEach(o=>o()))}}function f4(e,t){const{warnOnMissingNode:n=!0}=t;if(n&&!e){Lc("[@zag-js/dismissable] node is `null` or `undefined`");return}if(!e)return;const{onDismiss:r,onRequestDismiss:o,pointerBlocking:i,exclude:s,debug:a,type:l="dialog"}=t,c={dismiss:r,node:e,type:l,pointerBlocking:i,requestDismiss:o};or.add(c),qk();function u(m){const b=Xt(m.detail.originalEvent);or.isBelowPointerBlockingLayer(e)||or.isInBranch(b)||(t.onPointerDownOutside?.(m),t.onInteractOutside?.(m),!m.defaultPrevented&&(a&&console.log("onPointerDownOutside:",m.detail.originalEvent),r?.()))}function p(m){const b=Xt(m.detail.originalEvent);or.isInBranch(b)||(t.onFocusOutside?.(m),t.onInteractOutside?.(m),!m.defaultPrevented&&(a&&console.log("onFocusOutside:",m.detail.originalEvent),r?.()))}function h(m){or.isTopMost(e)&&(t.onEscapeKeyDown?.(m),!m.defaultPrevented&&r&&(m.preventDefault(),r()))}function f(m){if(!e)return!1;const b=typeof s=="function"?s():s,w=Array.isArray(b)?b:[b],E=t.persistentElements?.map(k=>k()).filter(kn);return E&&w.push(...E),w.some(k=>so(k,m))||or.isInNestedLayer(e,m)}const g=[i?p4(e,t.persistentElements):void 0,l4(e,h),a4(e,{exclude:f,onFocusOutside:p,onPointerDownOutside:u,defer:t.defer})];return()=>{or.remove(e),qk(),d4(e),g.forEach(m=>m?.())}}function Km(e,t){const{defer:n}=t,r=n?Ke:i=>i(),o=[];return o.push(r(()=>{const i=Da(e)?e():e;o.push(f4(i,t))})),()=>{o.forEach(i=>i?.())}}function h4(e,t={}){const{defer:n}=t,r=n?Ke:i=>i(),o=[];return o.push(r(()=>{const i=Da(e)?e():e;if(!i){Lc("[@zag-js/dismissable] branch node is `null` or `undefined`");return}or.addBranch(i),o.push(()=>{or.removeBranch(i)})})),()=>{o.forEach(i=>i?.())}}const[ur,oa]=Rt("RenderStrategyProps");function g4(e){return!(e.metaKey||!Bp()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}var m4=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function v4(e,t,n){const r=n?Xt(n):null,o=Cn(r);return e=e||r instanceof o.HTMLInputElement&&!m4.has(r?.type)||r instanceof o.HTMLTextAreaElement||r instanceof o.HTMLElement&&r.isContentEditable,!(e&&t==="keyboard"&&n instanceof o.KeyboardEvent&&!Reflect.has(b4,n.key))}var hl=null,Gy=new Set,Od=new Map,nl=!1,Wy=!1,b4={Tab:!0,Escape:!0};function Ym(e,t){for(let n of Gy)n(e,t)}function gg(e){nl=!0,g4(e)&&(hl="keyboard",Ym("keyboard",e))}function Br(e){hl="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(nl=!0,Ym("pointer",e))}function KP(e){zB(e)&&(nl=!0,hl="virtual")}function YP(e){const t=Xt(e);t===Cn(t)||t===Pr(t)||(!nl&&!Wy&&(hl="virtual",Ym("virtual",e)),nl=!1,Wy=!1)}function XP(){nl=!1,Wy=!0}function y4(e){if(typeof window>"u"||Od.get(Cn(e)))return;const t=Cn(e),n=Pr(e);let r=t.HTMLElement.prototype.focus;function o(){hl="virtual",Ym("virtual",null),nl=!0,r.apply(this,arguments)}Object.defineProperty(t.HTMLElement.prototype,"focus",{configurable:!0,value:o}),n.addEventListener("keydown",gg,!0),n.addEventListener("keyup",gg,!0),n.addEventListener("click",KP,!0),t.addEventListener("focus",YP,!0),t.addEventListener("blur",XP,!1),typeof t.PointerEvent<"u"?(n.addEventListener("pointerdown",Br,!0),n.addEventListener("pointermove",Br,!0),n.addEventListener("pointerup",Br,!0)):(n.addEventListener("mousedown",Br,!0),n.addEventListener("mousemove",Br,!0),n.addEventListener("mouseup",Br,!0)),t.addEventListener("beforeunload",()=>{x4(e)},{once:!0}),Od.set(t,{focus:r})}var x4=(e,t)=>{const n=Cn(e),r=Pr(e);Od.has(n)&&(n.HTMLElement.prototype.focus=Od.get(n).focus,r.removeEventListener("keydown",gg,!0),r.removeEventListener("keyup",gg,!0),r.removeEventListener("click",KP,!0),n.removeEventListener("focus",YP,!0),n.removeEventListener("blur",XP,!1),typeof n.PointerEvent<"u"?(r.removeEventListener("pointerdown",Br,!0),r.removeEventListener("pointermove",Br,!0),r.removeEventListener("pointerup",Br,!0)):(r.removeEventListener("mousedown",Br,!0),r.removeEventListener("mousemove",Br,!0),r.removeEventListener("mouseup",Br,!0)),Od.delete(n))};function qy(){return hl==="keyboard"}function w4(e={}){const{isTextInput:t,autoFocus:n,onChange:r,root:o}=e;y4(o),r?.({isFocusVisible:n||qy(),modality:hl});const i=(s,a)=>{v4(!!t,s,a)&&r?.({isFocusVisible:qy(),modality:s})};return Gy.add(i),()=>{Gy.delete(i)}}const[JP,ai]=Rt("FieldContext");var _4=Object.defineProperty,k4=(e,t,n)=>t in e?_4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,De=(e,t,n)=>k4(e,typeof t!="symbol"?t+"":t,n),xh={itemToValue(e){return typeof e=="string"?e:ab(e)&&qa(e,"value")?e.value:""},itemToString(e){return typeof e=="string"?e:ab(e)&&qa(e,"label")?e.label:xh.itemToValue(e)},isItemDisabled(e){return ab(e)&&qa(e,"disabled")?!!e.disabled:!1}},Tx=class ZP{constructor(t){this.options=t,De(this,"items"),De(this,"indexMap",null),De(this,"copy",n=>new ZP({...this.options,items:n??[...this.items]})),De(this,"isEqual",n=>nu(this.items,n.items)),De(this,"setItems",n=>this.copy(n)),De(this,"getValues",(n=this.items)=>{const r=[];for(const o of n){const i=this.getItemValue(o);i!=null&&r.push(i)}return r}),De(this,"find",n=>{if(n==null)return null;const r=this.indexOf(n);return r!==-1?this.at(r):null}),De(this,"findMany",n=>{const r=[];for(const o of n){const i=this.find(o);i!=null&&r.push(i)}return r}),De(this,"at",n=>{if(!this.options.groupBy&&!this.options.groupSort)return this.items[n]??null;let r=0;const o=this.group();for(const[,i]of o)for(const s of i){if(r===n)return s;r++}return null}),De(this,"sortFn",(n,r)=>{const o=this.indexOf(n),i=this.indexOf(r);return(o??0)-(i??0)}),De(this,"sort",n=>[...n].sort(this.sortFn.bind(this))),De(this,"getItemValue",n=>n==null?null:this.options.itemToValue?.(n)??xh.itemToValue(n)),De(this,"getItemDisabled",n=>n==null?!1:this.options.isItemDisabled?.(n)??xh.isItemDisabled(n)),De(this,"stringifyItem",n=>n==null?null:this.options.itemToString?.(n)??xh.itemToString(n)),De(this,"stringify",n=>n==null?null:this.stringifyItem(this.find(n))),De(this,"stringifyItems",(n,r=", ")=>{const o=[];for(const i of n){const s=this.stringifyItem(i);s!=null&&o.push(s)}return o.join(r)}),De(this,"stringifyMany",(n,r)=>this.stringifyItems(this.findMany(n),r)),De(this,"has",n=>this.indexOf(n)!==-1),De(this,"hasItem",n=>n==null?!1:this.has(this.getItemValue(n))),De(this,"group",()=>{const{groupBy:n,groupSort:r}=this.options;if(!n)return[["",[...this.items]]];const o=new Map;this.items.forEach((s,a)=>{const l=n(s,a);o.has(l)||o.set(l,[]),o.get(l).push(s)});let i=Array.from(o.entries());return r&&i.sort(([s],[a])=>{if(typeof r=="function")return r(s,a);if(Array.isArray(r)){const l=r.indexOf(s),c=r.indexOf(a);return l===-1?1:c===-1?-1:l-c}return r==="asc"?s.localeCompare(a):r==="desc"?a.localeCompare(s):0}),i}),De(this,"getNextValue",(n,r=1,o=!1)=>{let i=this.indexOf(n);if(i===-1)return null;for(i=o?Math.min(i+r,this.size-1):i+r;i<=this.size&&this.getItemDisabled(this.at(i));)i++;return this.getItemValue(this.at(i))}),De(this,"getPreviousValue",(n,r=1,o=!1)=>{let i=this.indexOf(n);if(i===-1)return null;for(i=o?Math.max(i-r,0):i-r;i>=0&&this.getItemDisabled(this.at(i));)i--;return this.getItemValue(this.at(i))}),De(this,"indexOf",n=>{if(n==null)return-1;if(!this.options.groupBy&&!this.options.groupSort)return this.items.findIndex(r=>this.getItemValue(r)===n);if(!this.indexMap){this.indexMap=new Map;let r=0;const o=this.group();for(const[,i]of o)for(const s of i){const a=this.getItemValue(s);a!=null&&this.indexMap.set(a,r),r++}}return this.indexMap.get(n)??-1}),De(this,"getByText",(n,r)=>{const o=r!=null?this.indexOf(r):-1,i=n.length===1;for(let s=0;s<this.items.length;s++){const a=this.items[(o+s+1)%this.items.length];if(!(i&&this.getItemValue(a)===r)&&!this.getItemDisabled(a)&&C4(this.stringifyItem(a),n))return a}}),De(this,"search",(n,r)=>{const{state:o,currentValue:i,timeout:s=350}=r,a=o.keysSoFar+n,l=a.length>1&&Array.from(a).every(f=>f===a[0])?a[0]:a,c=this.getByText(l,i),u=this.getItemValue(c);function p(){clearTimeout(o.timer),o.timer=-1}function h(f){o.keysSoFar=f,p(),f!==""&&(o.timer=+setTimeout(()=>{h(""),p()},s))}return h(a),u}),De(this,"update",(n,r)=>{let o=this.indexOf(n);return o===-1?this:this.copy([...this.items.slice(0,o),r,...this.items.slice(o+1)])}),De(this,"upsert",(n,r,o="append")=>{let i=this.indexOf(n);return i===-1?(o==="append"?this.append:this.prepend)(r):this.copy([...this.items.slice(0,i),r,...this.items.slice(i+1)])}),De(this,"insert",(n,...r)=>this.copy(Su(this.items,n,...r))),De(this,"insertBefore",(n,...r)=>{let o=this.indexOf(n);if(o===-1)if(this.items.length===0)o=0;else return this;return this.copy(Su(this.items,o,...r))}),De(this,"insertAfter",(n,...r)=>{let o=this.indexOf(n);if(o===-1)if(this.items.length===0)o=0;else return this;return this.copy(Su(this.items,o+1,...r))}),De(this,"prepend",(...n)=>this.copy(Su(this.items,0,...n))),De(this,"append",(...n)=>this.copy(Su(this.items,this.items.length,...n))),De(this,"filter",n=>{const r=this.items.filter((o,i)=>n(this.stringifyItem(o),i,o));return this.copy(r)}),De(this,"remove",(...n)=>{const r=n.map(o=>typeof o=="string"?o:this.getItemValue(o));return this.copy(this.items.filter(o=>{const i=this.getItemValue(o);return i==null?!1:!r.includes(i)}))}),De(this,"move",(n,r)=>{const o=this.indexOf(n);return o===-1?this:this.copy($f(this.items,[o],r))}),De(this,"moveBefore",(n,...r)=>{let o=this.items.findIndex(s=>this.getItemValue(s)===n);if(o===-1)return this;let i=r.map(s=>this.items.findIndex(a=>this.getItemValue(a)===s)).sort((s,a)=>s-a);return this.copy($f(this.items,i,o))}),De(this,"moveAfter",(n,...r)=>{let o=this.items.findIndex(s=>this.getItemValue(s)===n);if(o===-1)return this;let i=r.map(s=>this.items.findIndex(a=>this.getItemValue(a)===s)).sort((s,a)=>s-a);return this.copy($f(this.items,i,o+1))}),De(this,"reorder",(n,r)=>this.copy($f(this.items,[n],r))),De(this,"compareValue",(n,r)=>{const o=this.indexOf(n),i=this.indexOf(r);return o<i?-1:o>i?1:0}),De(this,"range",(n,r)=>{let o=[],i=n;for(;i!=null;){if(this.find(i)&&o.push(i),i===r)return o;i=this.getNextValue(i)}return[]}),De(this,"getValueRange",(n,r)=>n&&r?this.compareValue(n,r)<=0?this.range(n,r):this.range(r,n):[]),De(this,"toString",()=>{let n="";for(const r of this.items){const o=this.getItemValue(r),i=this.stringifyItem(r),s=this.getItemDisabled(r),a=[o,i,s].filter(Boolean).join(":");n+=a+","}return n}),De(this,"toJSON",()=>({size:this.size,first:this.firstValue,last:this.lastValue})),this.items=[...t.items]}get size(){return this.items.length}get firstValue(){let t=0;for(;this.getItemDisabled(this.at(t));)t++;return this.getItemValue(this.at(t))}get lastValue(){let t=this.size-1;for(;this.getItemDisabled(this.at(t));)t--;return this.getItemValue(this.at(t))}*[Symbol.iterator](){yield*this.items}},C4=(e,t)=>!!e?.toLowerCase().startsWith(t.toLowerCase());function Su(e,t,...n){return[...e.slice(0,t),...n,...e.slice(t)]}function $f(e,t,n){t=[...t].sort((o,i)=>o-i);const r=t.map(o=>e[o]);for(let o=t.length-1;o>=0;o--)e=[...e.slice(0,t[o]),...e.slice(t[o]+1)];return n=Math.max(0,n-t.filter(o=>o<n).length),[...e.slice(0,n),...r,...e.slice(n)]}const E4=e=>new Tx(e),[su,Up]=Rt("PresenceContext");function O4(e,t){const{state:n,send:r,context:o}=e,i=n.matches("mounted","unmountSuspended");return{skip:!o.get("initial"),present:i,setNode(s){s&&r({type:"NODE.SET",node:s})},unmount(){r({type:"UNMOUNT"})}}}var I4={props({props:e}){return{...e,present:!!e.present}},initialState({prop:e}){return e("present")?"mounted":"unmounted"},refs(){return{node:null,styles:null}},context({bindable:e}){return{unmountAnimationName:e(()=>({defaultValue:null})),prevAnimationName:e(()=>({defaultValue:null})),present:e(()=>({defaultValue:!1})),initial:e(()=>({sync:!0,defaultValue:!1}))}},exit:["clearInitial","cleanupNode"],watch({track:e,prop:t,send:n}){e([()=>t("present")],()=>{n({type:"PRESENCE.CHANGED"})})},on:{"NODE.SET":{actions:["setupNode"]},"PRESENCE.CHANGED":{actions:["setInitial","syncPresence"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]},"UNMOUNT.SUSPEND":{target:"unmountSuspended"}}},unmountSuspended:{effects:["trackAnimationEvents"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]}}},unmounted:{on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}},implementations:{actions:{setInitial:({context:e})=>{e.get("initial")||queueMicrotask(()=>{e.set("initial",!0)})},clearInitial:({context:e})=>{e.set("initial",!1)},invokeOnExitComplete:({prop:e})=>{e("onExitComplete")?.()},setupNode:({refs:e,event:t})=>{e.get("node")!==t.node&&(e.set("node",t.node),e.set("styles",Vc(t.node)))},cleanupNode:({refs:e})=>{e.set("node",null),e.set("styles",null)},syncPresence:({context:e,refs:t,send:n,prop:r})=>{const o=r("present");if(o)return n({type:"MOUNT",src:"presence.changed"});const i=t.get("node");if(!o&&i?.ownerDocument.visibilityState==="hidden")return n({type:"UNMOUNT",src:"visibilitychange"});Ke(()=>{const s=Rf(t.get("styles"));e.set("unmountAnimationName",s),s==="none"||s===e.get("prevAnimationName")||t.get("styles")?.display==="none"||t.get("styles")?.animationDuration==="0s"?n({type:"UNMOUNT",src:"presence.changed"}):n({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName:({context:e,refs:t})=>{Ke(()=>{e.set("prevAnimationName",Rf(t.get("styles")))})},clearPrevAnimationName:({context:e})=>{e.set("prevAnimationName",null)}},effects:{trackAnimationEvents:({context:e,refs:t,send:n})=>{const r=t.get("node");if(!r)return;const o=a=>{(a.composedPath?.()?.[0]??a.target)===r&&e.set("prevAnimationName",Rf(t.get("styles")))},i=a=>{const l=Rf(t.get("styles"));Xt(a)===r&&l===e.get("unmountAnimationName")&&n({type:"UNMOUNT",src:"animationend"})};r.addEventListener("animationstart",o),r.addEventListener("animationcancel",i),r.addEventListener("animationend",i);const s=np(r,{animationFillMode:"forwards"});return()=>{r.removeEventListener("animationstart",o),r.removeEventListener("animationcancel",i),r.removeEventListener("animationend",i),gx(()=>s())}}}}};function Rf(e){return e?.animationName||"none"}sn()(["onExitComplete","present","immediate"]);const au=(e,t)=>{const n=Q(!1),r=Q(null),o=A(()=>({present:pe(e).present,onExitComplete:()=>t?.("exitComplete")})),i=wo(I4,o),s=A(()=>O4(i));return st(()=>s.value.present,()=>{s.value.present&&(n.value=!0)}),st(r,()=>{if(r.value){const a=r.value.$el?r.value.$el:r.value;a&&s.value.setNode(a)}}),A(()=>{const a=pe(e);return{present:s.value.present,unmounted:!s.value.present&&!n.value&&a.lazyMount||a?.unmountOnExit&&!s.value?.present&&n.value,presenceProps:{ref:r,hidden:!s.value.present,"data-state":s.value.skip&&a.skipAnimationOnMount?void 0:a?.present?"open":"closed"}}})},[QP,Mn]=Rt("SelectContext"),T4=P({__name:"select-clear-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Mn();return se(),(n,r)=>(y(),$(d(he).button,F(d(t).getClearTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),S4=P({__name:"select-content",props:{asChild:{type:Boolean}},setup(e){const t=Mn(),n=Up(),r=A(()=>fl(t.value.getContentProps(),n.value.presenceProps));return se(),(o,i)=>d(n).unmounted?Z("",!0):(y(),$(d(he).div,F({key:0},r.value,{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),P4=P({__name:"select-context",setup(e){const t=Mn();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),$4=P({__name:"select-control",props:{asChild:{type:Boolean}},setup(e){const t=Mn();return se(),(n,r)=>(y(),$(d(he).div,F(d(t).getControlProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),R4={key:0,value:""},A4=["value","disabled"],N4=P({__name:"select-hidden-select",props:{asChild:{type:Boolean}},setup(e){const t=Mn(),n=ai();return se(),(r,o)=>(y(),$(d(he).select,F({"aria-describedby":d(n)?.ariaDescribedby},d(t).getHiddenSelectProps()),{default:O(()=>[d(t).value.length===0?(y(),V("option",R4)):Z("",!0),(y(!0),V(ge,null,Ie(d(t).collection.items,i=>(y(),V("option",{key:i.value,value:d(t).collection.getItemValue(i),disabled:d(t).collection.getItemDisabled(i)},j(d(t).collection.stringifyItem(i))+" > ",9,A4))),128))]),_:1},16,["aria-describedby"]))}}),M4=P({__name:"select-indicator",props:{asChild:{type:Boolean}},setup(e){const t=Mn();return se(),(n,r)=>(y(),$(d(he).div,F(d(t).getIndicatorProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),[D4,L4]=Rt("SelectItemContext"),V4=P({__name:"select-item-context",setup(e){const t=L4();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),[F4,B4]=Rt("SelectItemGroupPropsContext"),H4=P({__name:"select-item-group-label",props:{asChild:{type:Boolean}},setup(e){const t=Mn(),n=B4();return se(),(r,o)=>(y(),$(d(he).div,F(d(t).getItemGroupLabelProps({htmlFor:d(n).id}),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),z4=P({__name:"select-item-group",props:{id:{},asChild:{type:Boolean}},setup(e){const t=e,n=Mn(),r=nt(),o=t.id??r;return F4({id:o}),se(),(i,s)=>(y(),$(d(he).div,F(d(n).getItemGroupProps({id:d(o)}),{"as-child":i.asChild}),{default:O(()=>[L(i.$slots,"default")]),_:3},16,["as-child"]))}}),[U4,e2]=Rt("SelectItemPropsContext"),j4=P({__name:"select-item-indicator",props:{asChild:{type:Boolean}},setup(e){const t=Mn(),n=e2();return se(),(r,o)=>(y(),$(d(he).div,F(d(t).getItemIndicatorProps(d(n)),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),G4=P({__name:"select-item-text",props:{asChild:{type:Boolean}},setup(e){const t=Mn(),n=e2();return se(),(r,o)=>(y(),$(d(he).span,F(d(t).getItemTextProps(d(n)),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),W4=P({__name:"select-item",props:{item:{},persistFocus:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=Mn();return U4(t),D4(A(()=>n.value.getItemState(t))),se(),(r,o)=>(y(),$(d(he).div,F(d(n).getItemProps(t),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),q4=P({__name:"select-label",props:{asChild:{type:Boolean}},setup(e){const t=Mn();return se(),(n,r)=>(y(),$(d(he).label,F(d(t).getLabelProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),K4=P({__name:"select-list",props:{asChild:{type:Boolean}},setup(e){const t=Mn();return se(),(n,r)=>(y(),$(d(he).div,F(d(t).getListProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Y4=P({__name:"select-positioner",props:{asChild:{type:Boolean}},setup(e){const t=Mn(),n=oa(),r=au(A(()=>({...n.value,present:t.value.open})));return su(r),se(),(o,i)=>d(r).unmounted?Z("",!0):(y(),$(d(he).div,F({key:0},d(t).getPositionerProps(),{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),X4=P({__name:"select-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=A(()=>t.value);return QP(n),ur(A(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),se(),(r,o)=>(y(),$(d(he).div,F(n.value.getRootProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}});var J4=ar("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText"),Hn=J4.build(),t2=e=>new Tx(e);t2.empty=()=>new Tx({items:[]});var Z4=e=>e.ids?.root??`select:${e.id}`,Ky=e=>e.ids?.content??`select:${e.id}:content`,Yy=e=>e.ids?.trigger??`select:${e.id}:trigger`,n2=e=>e.ids?.clearTrigger??`select:${e.id}:clear-trigger`,Af=e=>e.ids?.label??`select:${e.id}:label`,Q4=e=>e.ids?.control??`select:${e.id}:control`,Xy=(e,t)=>e.ids?.item?.(t)??`select:${e.id}:option:${t}`,Jy=e=>e.ids?.hiddenSelect??`select:${e.id}:select`,r2=e=>e.ids?.positioner??`select:${e.id}:positioner`,e8=(e,t)=>e.ids?.itemGroup?.(t)??`select:${e.id}:optgroup:${t}`,Kk=(e,t)=>e.ids?.itemGroupLabel?.(t)??`select:${e.id}:optgroup-label:${t}`,fb=e=>e.getById(Jy(e)),Pu=e=>e.getById(Ky(e)),Va=e=>e.getById(Yy(e)),t8=e=>e.getById(n2(e)),Yk=e=>e.getById(r2(e)),hb=(e,t)=>t==null?null:e.getById(Xy(e,t));function n8(e,t){const{context:n,prop:r,scope:o,state:i,computed:s,send:a}=e,l=r("disabled")||n.get("fieldsetDisabled"),c=!!r("invalid"),u=!!r("required"),p=!!r("readOnly"),h=r("composite"),f=r("collection"),g=i.hasTag("open"),m=i.matches("focused"),b=n.get("highlightedValue"),w=n.get("highlightedItem"),E=n.get("selectedItems"),k=n.get("currentPlacement"),v=s("isTypingAhead"),_=s("isInteractive"),T=b?Xy(o,b):void 0;function N(x){const I=f.getItemDisabled(x.item),R=f.getItemValue(x.item);return vP(R,()=>`[zag-js] No value found for item ${JSON.stringify(x.item)}`),{value:R,disabled:!!(l||I),highlighted:b===R,selected:n.get("value").includes(R)}}const C=qm({...r("positioning"),placement:k});return{open:g,focused:m,empty:n.get("value").length===0,highlightedItem:w,highlightedValue:b,selectedItems:E,hasSelectedItems:s("hasSelectedItems"),value:n.get("value"),valueAsString:s("valueAsString"),collection:f,multiple:!!r("multiple"),disabled:!!l,reposition(x={}){a({type:"POSITIONING.SET",options:x})},focus(){Va(o)?.focus({preventScroll:!0})},setOpen(x){i.hasTag("open")!==x&&a({type:x?"OPEN":"CLOSE"})},selectValue(x){a({type:"ITEM.SELECT",value:x})},setValue(x){a({type:"VALUE.SET",value:x})},selectAll(){a({type:"VALUE.SET",value:f.getValues()})},setHighlightValue(x){a({type:"HIGHLIGHTED_VALUE.SET",value:x})},clearHighlightValue(){a({type:"HIGHLIGHTED_VALUE.CLEAR"})},clearValue(x){a(x?{type:"ITEM.CLEAR",value:x}:{type:"VALUE.CLEAR"})},getItemState:N,getRootProps(){return t.element({...Hn.root.attrs,dir:r("dir"),id:Z4(o),"data-invalid":_e(c),"data-readonly":_e(p)})},getLabelProps(){return t.label({dir:r("dir"),id:Af(o),...Hn.label.attrs,"data-disabled":_e(l),"data-invalid":_e(c),"data-readonly":_e(p),"data-required":_e(u),htmlFor:Jy(o),onClick(x){x.defaultPrevented||l||Va(o)?.focus({preventScroll:!0})}})},getControlProps(){return t.element({...Hn.control.attrs,dir:r("dir"),id:Q4(o),"data-state":g?"open":"closed","data-focus":_e(m),"data-disabled":_e(l),"data-invalid":_e(c)})},getValueTextProps(){return t.element({...Hn.valueText.attrs,dir:r("dir"),"data-disabled":_e(l),"data-invalid":_e(c),"data-focus":_e(m)})},getTriggerProps(){return t.button({id:Yy(o),disabled:l,dir:r("dir"),type:"button",role:"combobox","aria-controls":Ky(o),"aria-expanded":g,"aria-haspopup":"listbox","data-state":g?"open":"closed","aria-invalid":c,"aria-labelledby":Af(o),...Hn.trigger.attrs,"data-disabled":_e(l),"data-invalid":_e(c),"data-readonly":_e(p),"data-placement":k,"data-placeholder-shown":_e(!s("hasSelectedItems")),onClick(x){_&&(x.defaultPrevented||a({type:"TRIGGER.CLICK"}))},onFocus(){a({type:"TRIGGER.FOCUS"})},onBlur(){a({type:"TRIGGER.BLUR"})},onKeyDown(x){if(x.defaultPrevented||!_)return;const I={ArrowUp(){a({type:"TRIGGER.ARROW_UP"})},ArrowDown(R){a({type:R.altKey?"OPEN":"TRIGGER.ARROW_DOWN"})},ArrowLeft(){a({type:"TRIGGER.ARROW_LEFT"})},ArrowRight(){a({type:"TRIGGER.ARROW_RIGHT"})},Home(){a({type:"TRIGGER.HOME"})},End(){a({type:"TRIGGER.END"})},Enter(){a({type:"TRIGGER.ENTER"})},Space(R){a(v?{type:"TRIGGER.TYPEAHEAD",key:R.key}:{type:"TRIGGER.ENTER"})}}[Fc(x,{dir:r("dir"),orientation:"vertical"})];if(I){I(x),x.preventDefault();return}rp.isValidEvent(x)&&(a({type:"TRIGGER.TYPEAHEAD",key:x.key}),x.preventDefault())}})},getIndicatorProps(){return t.element({...Hn.indicator.attrs,dir:r("dir"),"aria-hidden":!0,"data-state":g?"open":"closed","data-disabled":_e(l),"data-invalid":_e(c),"data-readonly":_e(p)})},getItemProps(x){const I=N(x);return t.element({id:Xy(o,I.value),role:"option",...Hn.item.attrs,dir:r("dir"),"data-value":I.value,"aria-selected":I.selected,"data-state":I.selected?"checked":"unchecked","data-highlighted":_e(I.highlighted),"data-disabled":_e(I.disabled),"aria-disabled":cx(I.disabled),onPointerMove(R){I.disabled||R.pointerType!=="mouse"||I.value!==b&&a({type:"ITEM.POINTER_MOVE",value:I.value})},onClick(R){R.defaultPrevented||I.disabled||a({type:"ITEM.CLICK",src:"pointerup",value:I.value})},onPointerLeave(R){I.disabled||x.persistFocus||R.pointerType!=="mouse"||!e.event.previous()?.type.includes("POINTER")||a({type:"ITEM.POINTER_LEAVE"})}})},getItemTextProps(x){const I=N(x);return t.element({...Hn.itemText.attrs,"data-state":I.selected?"checked":"unchecked","data-disabled":_e(I.disabled),"data-highlighted":_e(I.highlighted)})},getItemIndicatorProps(x){const I=N(x);return t.element({"aria-hidden":!0,...Hn.itemIndicator.attrs,"data-state":I.selected?"checked":"unchecked",hidden:!I.selected})},getItemGroupLabelProps(x){const{htmlFor:I}=x;return t.element({...Hn.itemGroupLabel.attrs,id:Kk(o,I),dir:r("dir"),role:"presentation"})},getItemGroupProps(x){const{id:I}=x;return t.element({...Hn.itemGroup.attrs,"data-disabled":_e(l),id:e8(o,I),"aria-labelledby":Kk(o,I),role:"group",dir:r("dir")})},getClearTriggerProps(){return t.button({...Hn.clearTrigger.attrs,id:n2(o),type:"button","aria-label":"Clear value","data-invalid":_e(c),disabled:l,hidden:!s("hasSelectedItems"),dir:r("dir"),onClick(x){x.defaultPrevented||a({type:"CLEAR.CLICK"})}})},getHiddenSelectProps(){const x=n.get("value"),I=r("multiple")?x:x?.[0];return t.select({name:r("name"),form:r("form"),disabled:l,multiple:r("multiple"),required:r("required"),"aria-hidden":!0,id:Jy(o),defaultValue:I,style:m3,tabIndex:-1,onFocus(){Va(o)?.focus({preventScroll:!0})},"aria-labelledby":Af(o)})},getPositionerProps(){return t.element({...Hn.positioner.attrs,dir:r("dir"),id:r2(o),style:C.floating})},getContentProps(){return t.element({hidden:!g,dir:r("dir"),id:Ky(o),role:h?"listbox":"dialog",...Hn.content.attrs,"data-state":g?"open":"closed","data-placement":k,"data-activedescendant":T,"aria-activedescendant":h?T:void 0,"aria-multiselectable":r("multiple")&&h?!0:void 0,"aria-labelledby":Af(o),tabIndex:0,onKeyDown(x){if(!_||!so(x.currentTarget,Xt(x)))return;if(x.key==="Tab"&&!TP(x)){x.preventDefault();return}const I={ArrowUp(){a({type:"CONTENT.ARROW_UP"})},ArrowDown(){a({type:"CONTENT.ARROW_DOWN"})},Home(){a({type:"CONTENT.HOME"})},End(){a({type:"CONTENT.END"})},Enter(){a({type:"ITEM.CLICK",src:"keydown.enter"})},Space(B){v?a({type:"CONTENT.TYPEAHEAD",key:B.key}):I.Enter?.(B)}},R=I[Fc(x)];if(R){R(x),x.preventDefault();return}const M=Xt(x);Hm(M)||rp.isValidEvent(x)&&(a({type:"CONTENT.TYPEAHEAD",key:x.key}),x.preventDefault())}})},getListProps(){return t.element({...Hn.list.attrs,tabIndex:0,role:h?void 0:"listbox","aria-labelledby":Yy(o),"aria-activedescendant":h?void 0:T,"aria-multiselectable":!h&&r("multiple")?!0:void 0})}}}var{and:$u,not:wa,or:r8}=ru(),o8={props({props:e}){return{loopFocus:!1,closeOnSelect:!e.multiple,composite:!0,defaultValue:[],...e,collection:e.collection??t2.empty(),positioning:{placement:"bottom-start",gutter:8,...e.positioning}}},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:nu,onChange(n){const r=e("collection").findMany(n);return e("onValueChange")?.({value:n,items:r})}})),highlightedValue:t(()=>({defaultValue:e("defaultHighlightedValue")||null,value:e("highlightedValue"),onChange(n){e("onHighlightChange")?.({highlightedValue:n,highlightedItem:e("collection").find(n),highlightedIndex:e("collection").indexOf(n)})}})),currentPlacement:t(()=>({defaultValue:void 0})),fieldsetDisabled:t(()=>({defaultValue:!1})),highlightedItem:t(()=>({defaultValue:null})),selectedItems:t(()=>{const n=e("value")??e("defaultValue")??[];return{defaultValue:e("collection").findMany(n)}})}},refs(){return{typeahead:{...rp.defaultOptions}}},computed:{hasSelectedItems:({context:e})=>e.get("value").length>0,isTypingAhead:({refs:e})=>e.get("typeahead").keysSoFar!=="",isDisabled:({prop:e,context:t})=>!!e("disabled")||!!t.get("fieldsetDisabled"),isInteractive:({prop:e})=>!(e("disabled")||e("readOnly")),valueAsString:({context:e,prop:t})=>t("collection").stringifyItems(e.get("selectedItems"))},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"idle"},entry:["syncSelectElement"],watch({context:e,prop:t,track:n,action:r}){n([()=>e.get("value").toString()],()=>{r(["syncSelectedItems","syncSelectElement","dispatchChangeEvent"])}),n([()=>t("open")],()=>{r(["toggleVisibility"])}),n([()=>e.get("highlightedValue")],()=>{r(["syncHighlightedItem"])}),n([()=>t("collection").toString()],()=>{r(["syncCollection"])})},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"HIGHLIGHTED_VALUE.CLEAR":{actions:["clearHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"VALUE.CLEAR":{actions:["clearSelectedItems"]},"CLEAR.CLICK":{actions:["clearSelectedItems","focusTriggerEl"]}},effects:["trackFormControlState"],states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{target:"open",actions:["setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus","highlightFirstSelectedItem"]}],"TRIGGER.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}]}},focused:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{guard:"isTriggerArrowUpEvent",target:"open",actions:["setInitialFocus","highlightComputedLastItem"]},{guard:r8("isTriggerArrowDownEvent","isTriggerEnterEvent"),target:"open",actions:["setInitialFocus","highlightComputedFirstItem"]},{target:"open",actions:["setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}],"TRIGGER.BLUR":{target:"idle"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightFirstSelectedItem"]}],"TRIGGER.ENTER":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_UP":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedLastItem"]}],"TRIGGER.ARROW_DOWN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_LEFT":[{guard:$u(wa("multiple"),"hasSelectedItems"),actions:["selectPreviousItem"]},{guard:wa("multiple"),actions:["selectLastItem"]}],"TRIGGER.ARROW_RIGHT":[{guard:$u(wa("multiple"),"hasSelectedItems"),actions:["selectNextItem"]},{guard:wa("multiple"),actions:["selectFirstItem"]}],"TRIGGER.HOME":{guard:wa("multiple"),actions:["selectFirstItem"]},"TRIGGER.END":{guard:wa("multiple"),actions:["selectLastItem"]},"TRIGGER.TYPEAHEAD":{guard:wa("multiple"),actions:["selectMatchingItem"]}}},open:{tags:["open"],exit:["scrollContentToTop"],effects:["trackDismissableElement","computePlacement","scrollToHighlightedItem"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["focusTriggerEl","clearHighlightedItem"]},{target:"idle",actions:["clearHighlightedItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"restoreFocus",target:"focused",actions:["invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{target:"idle",actions:["invokeOnClose","clearHighlightedItem"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","clearHighlightedItem"]}],"ITEM.CLICK":[{guard:$u("closeOnSelect","isOpenControlled"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{actions:["selectHighlightedItem"]}],"CONTENT.HOME":{actions:["highlightFirstItem"]},"CONTENT.END":{actions:["highlightLastItem"]},"CONTENT.ARROW_DOWN":[{guard:$u("hasHighlightedItem","loop","isLastItemHighlighted"),actions:["highlightFirstItem"]},{guard:"hasHighlightedItem",actions:["highlightNextItem"]},{actions:["highlightFirstItem"]}],"CONTENT.ARROW_UP":[{guard:$u("hasHighlightedItem","loop","isFirstItemHighlighted"),actions:["highlightLastItem"]},{guard:"hasHighlightedItem",actions:["highlightPreviousItem"]},{actions:["highlightLastItem"]}],"CONTENT.TYPEAHEAD":{actions:["highlightMatchingItem"]},"ITEM.POINTER_MOVE":{actions:["highlightItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{loop:({prop:e})=>!!e("loopFocus"),multiple:({prop:e})=>!!e("multiple"),hasSelectedItems:({computed:e})=>!!e("hasSelectedItems"),hasHighlightedItem:({context:e})=>e.get("highlightedValue")!=null,isFirstItemHighlighted:({context:e,prop:t})=>e.get("highlightedValue")===t("collection").firstValue,isLastItemHighlighted:({context:e,prop:t})=>e.get("highlightedValue")===t("collection").lastValue,closeOnSelect:({prop:e,event:t})=>!!(t.closeOnSelect??e("closeOnSelect")),restoreFocus:({event:e})=>Xk(e),isOpenControlled:({prop:e})=>e("open")!==void 0,isTriggerClickEvent:({event:e})=>e.previousEvent?.type==="TRIGGER.CLICK",isTriggerEnterEvent:({event:e})=>e.previousEvent?.type==="TRIGGER.ENTER",isTriggerArrowUpEvent:({event:e})=>e.previousEvent?.type==="TRIGGER.ARROW_UP",isTriggerArrowDownEvent:({event:e})=>e.previousEvent?.type==="TRIGGER.ARROW_DOWN"},effects:{trackFormControlState({context:e,scope:t}){return JB(fb(t),{onFieldsetDisabledChange(n){e.set("fieldsetDisabled",n)},onFormReset(){const n=e.initial("value");e.set("value",n)}})},trackDismissableElement({scope:e,send:t,prop:n}){const r=()=>Pu(e);let o=!0;return Km(r,{type:"listbox",defer:!0,exclude:[Va(e),t8(e)],onFocusOutside:n("onFocusOutside"),onPointerDownOutside:n("onPointerDownOutside"),onInteractOutside(i){n("onInteractOutside")?.(i),o=!(i.detail.focusable||i.detail.contextmenu)},onDismiss(){t({type:"CLOSE",src:"interact-outside",restoreFocus:o})}})},computePlacement({context:e,prop:t,scope:n}){const r=t("positioning");return e.set("currentPlacement",r.placement),Ks(()=>Va(n),()=>Yk(n),{defer:!0,...r,onComplete(o){e.set("currentPlacement",o.placement)}})},scrollToHighlightedItem({context:e,prop:t,scope:n,event:r}){const o=i=>{const s=e.get("highlightedValue");if(s==null||r.current().type.includes("POINTER"))return;const a=Pu(n),l=t("scrollToIndexFn");if(l){const u=t("collection").indexOf(s);l?.({index:u,immediate:i,getElement:()=>hb(n,s)});return}const c=hb(n,s);RP(c,{rootEl:a,block:"nearest"})};return Ke(()=>o(!0)),SP(()=>Pu(n),{defer:!0,attributes:["data-activedescendant"],callback(){o(!1)}})}},actions:{reposition({context:e,prop:t,scope:n,event:r}){const o=()=>Yk(n);Ks(Va(n),o,{...t("positioning"),...r.options,defer:!0,listeners:!1,onComplete(i){e.set("currentPlacement",i.placement)}})},toggleVisibility({send:e,prop:t,event:n}){e({type:t("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})},highlightPreviousItem({context:e,prop:t}){const n=e.get("highlightedValue");if(n==null)return;const r=t("collection").getPreviousValue(n,1,t("loopFocus"));r!=null&&e.set("highlightedValue",r)},highlightNextItem({context:e,prop:t}){const n=e.get("highlightedValue");if(n==null)return;const r=t("collection").getNextValue(n,1,t("loopFocus"));r!=null&&e.set("highlightedValue",r)},highlightFirstItem({context:e,prop:t}){const n=t("collection").firstValue;e.set("highlightedValue",n)},highlightLastItem({context:e,prop:t}){const n=t("collection").lastValue;e.set("highlightedValue",n)},setInitialFocus({scope:e}){Ke(()=>{cg({root:Pu(e)})?.focus({preventScroll:!0})})},focusTriggerEl({event:e,scope:t}){Xk(e)&&Ke(()=>{Va(t)?.focus({preventScroll:!0})})},selectHighlightedItem({context:e,prop:t,event:n}){let r=n.value??e.get("highlightedValue");r==null||!t("collection").has(r)||(t("onSelect")?.({value:r}),r=t("deselectable")&&!t("multiple")&&e.get("value").includes(r)?null:r,e.set("value",o=>r==null?[]:t("multiple")?wk(o,r):[r]))},highlightComputedFirstItem({context:e,prop:t,computed:n}){const r=t("collection"),o=n("hasSelectedItems")?r.sort(e.get("value"))[0]:r.firstValue;e.set("highlightedValue",o)},highlightComputedLastItem({context:e,prop:t,computed:n}){const r=t("collection"),o=n("hasSelectedItems")?r.sort(e.get("value"))[0]:r.lastValue;e.set("highlightedValue",o)},highlightFirstSelectedItem({context:e,prop:t,computed:n}){if(!n("hasSelectedItems"))return;const r=t("collection").sort(e.get("value"))[0];e.set("highlightedValue",r)},highlightItem({context:e,event:t}){e.set("highlightedValue",t.value)},highlightMatchingItem({context:e,prop:t,event:n,refs:r}){const o=t("collection").search(n.key,{state:r.get("typeahead"),currentValue:e.get("highlightedValue")});o!=null&&e.set("highlightedValue",o)},setHighlightedItem({context:e,event:t}){e.set("highlightedValue",t.value)},clearHighlightedItem({context:e}){e.set("highlightedValue",null)},selectItem({context:e,prop:t,event:n}){t("onSelect")?.({value:n.value});const r=t("deselectable")&&!t("multiple")&&e.get("value").includes(n.value)?null:n.value;e.set("value",o=>r==null?[]:t("multiple")?wk(o,r):[r])},clearItem({context:e,event:t}){e.set("value",n=>n.filter(r=>r!==t.value))},setSelectedItems({context:e,event:t}){e.set("value",t.value)},clearSelectedItems({context:e}){e.set("value",[])},selectPreviousItem({context:e,prop:t}){const[n]=e.get("value"),r=t("collection").getPreviousValue(n);r&&e.set("value",[r])},selectNextItem({context:e,prop:t}){const[n]=e.get("value"),r=t("collection").getNextValue(n);r&&e.set("value",[r])},selectFirstItem({context:e,prop:t}){const n=t("collection").firstValue;n&&e.set("value",[n])},selectLastItem({context:e,prop:t}){const n=t("collection").lastValue;n&&e.set("value",[n])},selectMatchingItem({context:e,prop:t,event:n,refs:r}){const o=t("collection").search(n.key,{state:r.get("typeahead"),currentValue:e.get("value")[0]});o!=null&&e.set("value",[o])},scrollContentToTop({prop:e,scope:t}){if(e("scrollToIndexFn")){const n=e("collection").firstValue;e("scrollToIndexFn")?.({index:0,immediate:!0,getElement:()=>hb(t,n)})}else Pu(t)?.scrollTo(0,0)},invokeOnOpen({prop:e}){e("onOpenChange")?.({open:!0})},invokeOnClose({prop:e}){e("onOpenChange")?.({open:!1})},syncSelectElement({context:e,prop:t,scope:n}){const r=fb(n);if(r){if(e.get("value").length===0&&!t("multiple")){r.selectedIndex=-1;return}for(const o of r.options)o.selected=e.get("value").includes(o.value)}},syncCollection({context:e,prop:t}){const n=t("collection"),r=n.find(e.get("highlightedValue"));r&&e.set("highlightedItem",r);const o=n.findMany(e.get("value"));e.set("selectedItems",o)},syncSelectedItems({context:e,prop:t}){const n=t("collection"),r=e.get("selectedItems"),o=e.get("value").map(i=>r.find(s=>n.getItemValue(s)===i)||n.find(i));e.set("selectedItems",o)},syncHighlightedItem({context:e,prop:t}){const n=t("collection"),r=e.get("highlightedValue"),o=r?n.find(r):null;e.set("highlightedItem",o)},dispatchChangeEvent({scope:e}){queueMicrotask(()=>{const t=fb(e);if(!t)return;const n=e.getWin(),r=new n.Event("change",{bubbles:!0,composed:!0});t.dispatchEvent(r)})}}}};function Xk(e){const t=e.restoreFocus??e.previousEvent?.restoreFocus;return t==null||!!t}sn()(["closeOnSelect","collection","composite","defaultHighlightedValue","defaultOpen","defaultValue","deselectable","dir","disabled","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","onValueChange","open","positioning","readOnly","required","scrollToIndexFn","value"]);sn()(["item","persistFocus"]);sn()(["id"]);sn()(["htmlFor"]);const i8=(e,t)=>{const n=nt(),r=_o(ko),o=Ki(qi),i=ai(),s=A(()=>{const l=pe(e);return{id:n,ids:{label:i?.value.ids.label,hiddenSelect:i?.value.ids.control},disabled:i?.value.disabled,readOnly:i?.value.readOnly,invalid:i?.value.invalid,required:i?.value.required,dir:o.value.dir,value:l.modelValue,getRootNode:r?.value.getRootNode,...ra(l),onValueChange:c=>{t?.("valueChange",c),t?.("update:modelValue",c.value),l.onValueChange?.(c)},onHighlightChange:c=>{t?.("highlightChange",c),t?.("update:highlightedValue",c.highlightedValue),l.onHighlightChange?.(c)},onOpenChange:c=>{t?.("openChange",c),t?.("update:open",c.open),l.onOpenChange?.(c)},onFocusOutside:c=>{t?.("focusOutside",c),l.onFocusOutside?.(c)},onInteractOutside:c=>{t?.("interactOutside",c),l.onInteractOutside?.(c)},onPointerDownOutside:c=>{t?.("pointerDownOutside",c),l.onPointerDownOutside?.(c)},onSelect(c){t?.("select",c),l.onSelect?.(c)}}}),a=wo(o8,s);return A(()=>n8(a,ii))},s8=P({__name:"select-root",props:Ze({closeOnSelect:{type:Boolean},collection:{},composite:{type:Boolean},defaultHighlightedValue:{},defaultOpen:{type:Boolean},defaultValue:{},deselectable:{type:Boolean},disabled:{type:Boolean},form:{},highlightedValue:{},id:{},ids:{},invalid:{type:Boolean},loopFocus:{type:Boolean},modelValue:{},multiple:{type:Boolean},name:{},open:{type:Boolean},positioning:{},readOnly:{type:Boolean},required:{type:Boolean},scrollToIndexFn:{type:Function},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{closeOnSelect:void 0,composite:void 0,defaultOpen:void 0,deselectable:void 0,disabled:void 0,invalid:void 0,loopFocus:void 0,multiple:void 0,open:void 0,readOnly:void 0,required:void 0}),emits:["focusOutside","highlightChange","interactOutside","openChange","pointerDownOutside","select","valueChange","update:modelValue","update:open","update:highlightedValue"],setup(e,{emit:t}){const n=e,r=i8(n,t);return QP(r),ur(A(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),se(),(o,i)=>(y(),$(d(he).div,F(d(r).getRootProps(),{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),a8=P({__name:"select-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Mn();return se(),(n,r)=>(y(),$(d(he).button,F(d(t).getTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),l8=P({__name:"select-value-text",props:{placeholder:{},asChild:{type:Boolean}},setup(e){const t=e,n=Mn(),r=xo();return se(),(o,i)=>(y(),$(d(he).span,F(d(n).getValueTextProps(),{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default",{},()=>[re(j(r.default?.()||d(n).valueAsString||t.placeholder),1)])]),_:3},16,["as-child"]))}}),_a=Object.freeze(Object.defineProperty({__proto__:null,ClearTrigger:T4,Content:S4,Context:P4,Control:$4,HiddenSelect:N4,Indicator:M4,Item:W4,ItemContext:V4,ItemGroup:z4,ItemGroupLabel:H4,ItemIndicator:j4,ItemText:G4,Label:q4,List:K4,Positioner:Y4,Root:s8,RootProvider:X4,Trigger:a8,ValueText:l8},Symbol.toStringTag,{value:"Module"})),[o2,lu]=Rt("TooltipContext"),c8=P({__name:"tooltip-arrow-tip",props:{asChild:{type:Boolean}},setup(e){const t=lu();return se(),(n,r)=>(y(),$(d(he).div,F(d(t).getArrowTipProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),u8=P({__name:"tooltip-arrow",props:{asChild:{type:Boolean}},setup(e){const t=lu();return se(),(n,r)=>(y(),$(d(he).div,F(d(t).getArrowProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),d8=P({__name:"tooltip-content",props:{asChild:{type:Boolean}},setup(e){const t=lu(),n=Up(),r=A(()=>fl(t.value.getContentProps(),n.value.presenceProps));return se(),(o,i)=>d(n).unmounted?Z("",!0):(y(),$(d(he).div,F({key:0},r.value,{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),p8=P({__name:"tooltip-context",setup(e){const t=lu();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),f8=P({__name:"tooltip-positioner",props:{asChild:{type:Boolean}},setup(e){const t=lu(),n=oa(),r=au(A(()=>({...n.value,present:t.value.open})));return su(r),se(),(o,i)=>d(r).unmounted?Z("",!0):(y(),$(d(he).div,F({key:0},d(t).getPositionerProps(),{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),h8=P({__name:"tooltip-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},setup(e){const t=e,n=A(()=>t.value);return o2(n),ur(A(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),se(),(r,o)=>L(r.$slots,"default")}});var g8=ar("tooltip").parts("trigger","arrow","arrowTip","positioner","content"),Ru=g8.build(),i2=e=>e.ids?.trigger??`tooltip:${e.id}:trigger`,m8=e=>e.ids?.content??`tooltip:${e.id}:content`,v8=e=>e.ids?.arrow??`tooltip:${e.id}:arrow`,s2=e=>e.ids?.positioner??`tooltip:${e.id}:popper`,gb=e=>e.getById(i2(e)),Jk=e=>e.getById(s2(e)),vi=mB({id:null});function b8(e,t){const{state:n,context:r,send:o,scope:i,prop:s,event:a}=e,l=s("id"),c=!!s("aria-label"),u=n.matches("open","closing"),p=i2(i),h=m8(i),f=s("disabled"),g=qm({...s("positioning"),placement:r.get("currentPlacement")});return{open:u,setOpen(m){n.matches("open","closing")!==m&&o({type:m?"open":"close"})},reposition(m={}){o({type:"positioning.set",options:m})},getTriggerProps(){return t.button({...Ru.trigger.attrs,id:p,dir:s("dir"),"data-expanded":_e(u),"data-state":u?"open":"closed","aria-describedby":u?h:void 0,onClick(m){m.defaultPrevented||f||s("closeOnClick")&&o({type:"close",src:"trigger.click"})},onFocus(m){queueMicrotask(()=>{m.defaultPrevented||f||a.src!=="trigger.pointerdown"&&qy()&&o({type:"open",src:"trigger.focus"})})},onBlur(m){m.defaultPrevented||f||l===vi.get("id")&&o({type:"close",src:"trigger.blur"})},onPointerDown(m){m.defaultPrevented||f||CP(m)&&s("closeOnPointerDown")&&l===vi.get("id")&&o({type:"close",src:"trigger.pointerdown"})},onPointerMove(m){m.defaultPrevented||f||m.pointerType!=="touch"&&o({type:"pointer.move"})},onPointerLeave(){f||o({type:"pointer.leave"})},onPointerCancel(){f||o({type:"pointer.leave"})}})},getArrowProps(){return t.element({id:v8(i),...Ru.arrow.attrs,dir:s("dir"),style:g.arrow})},getArrowTipProps(){return t.element({...Ru.arrowTip.attrs,dir:s("dir"),style:g.arrowTip})},getPositionerProps(){return t.element({id:s2(i),...Ru.positioner.attrs,dir:s("dir"),style:g.floating})},getContentProps(){return t.element({...Ru.content.attrs,dir:s("dir"),hidden:!u,"data-state":u?"open":"closed",role:c?void 0:"tooltip",id:c?void 0:h,"data-placement":r.get("currentPlacement"),onPointerEnter(){o({type:"content.pointer.move"})},onPointerLeave(){o({type:"content.pointer.leave"})},style:{pointerEvents:s("interactive")?"auto":"none"}})}}}var{and:y8,not:Zk}=ru(),x8={initialState:({prop:e})=>e("open")||e("defaultOpen")?"open":"closed",props({props:e}){const t=e.closeOnClick??!0,n=e.closeOnPointerDown??t;return{id:"x",openDelay:400,closeDelay:150,closeOnEscape:!0,interactive:!1,closeOnScroll:!0,disabled:!1,...e,closeOnPointerDown:n,closeOnClick:t,positioning:{placement:"bottom",...e.positioning}}},effects:["trackFocusVisible","trackStore"],context:({bindable:e})=>({currentPlacement:e(()=>({defaultValue:void 0})),hasPointerMoveOpened:e(()=>({defaultValue:!1}))}),watch({track:e,action:t,prop:n}){e([()=>n("disabled")],()=>{t(["closeIfDisabled"])}),e([()=>n("open")],()=>{t(["toggleVisibility"])})},states:{closed:{entry:["clearGlobalId"],on:{"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"pointer.leave":{actions:["clearPointerMoveOpened"]},"pointer.move":[{guard:y8("noVisibleTooltip",Zk("hasPointerMoveOpened")),target:"opening"},{guard:Zk("hasPointerMoveOpened"),target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}]}},opening:{effects:["trackScroll","trackPointerlockChange","waitForOpenDelay"],on:{"after.openDelay":[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"controlled.open":{target:"open"},"controlled.close":{target:"closed"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"pointer.leave":[{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose","toggleVisibility"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],close:[{guard:"isOpenControlled",actions:["invokeOnClose","toggleVisibility"]},{target:"closed",actions:["invokeOnClose"]}]}},open:{effects:["trackEscapeKey","trackScroll","trackPointerlockChange","trackPositioning"],entry:["setGlobalId"],on:{"controlled.close":{target:"closed"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"pointer.leave":[{guard:"isVisible",target:"closing",actions:["clearPointerMoveOpened"]},{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],"content.pointer.leave":{guard:"isInteractive",target:"closing"},"positioning.set":{actions:["reposition"]}}},closing:{effects:["trackPositioning","waitForCloseDelay"],on:{"after.closeDelay":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"controlled.close":{target:"closed"},"controlled.open":{target:"open"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"pointer.move":[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen","toggleVisibility"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"content.pointer.move":{guard:"isInteractive",target:"open"},"positioning.set":{actions:["reposition"]}}}},implementations:{guards:{noVisibleTooltip:()=>vi.get("id")===null,isVisible:({prop:e})=>e("id")===vi.get("id"),isInteractive:({prop:e})=>!!e("interactive"),hasPointerMoveOpened:({context:e})=>e.get("hasPointerMoveOpened"),isOpenControlled:({prop:e})=>e("open")!==void 0},actions:{setGlobalId:({prop:e})=>{vi.set("id",e("id"))},clearGlobalId:({prop:e})=>{e("id")===vi.get("id")&&vi.set("id",null)},invokeOnOpen:({prop:e})=>{e("onOpenChange")?.({open:!0})},invokeOnClose:({prop:e})=>{e("onOpenChange")?.({open:!1})},closeIfDisabled:({prop:e,send:t})=>{e("disabled")&&t({type:"close",src:"disabled.change"})},reposition:({context:e,event:t,prop:n,scope:r})=>{if(t.type!=="positioning.set")return;const o=()=>Jk(r);return Ks(gb(r),o,{...n("positioning"),...t.options,defer:!0,listeners:!1,onComplete(i){e.set("currentPlacement",i.placement)}})},toggleVisibility:({prop:e,event:t,send:n})=>{queueMicrotask(()=>{n({type:e("open")?"controlled.open":"controlled.close",previousEvent:t})})},setPointerMoveOpened:({context:e})=>{e.set("hasPointerMoveOpened",!0)},clearPointerMoveOpened:({context:e})=>{e.set("hasPointerMoveOpened",!1)}},effects:{trackFocusVisible:({scope:e})=>w4({root:e.getRootNode?.()}),trackPositioning:({context:e,prop:t,scope:n})=>{e.get("currentPlacement")||e.set("currentPlacement",t("positioning").placement);const r=()=>Jk(n);return Ks(gb(n),r,{...t("positioning"),defer:!0,onComplete(o){e.set("currentPlacement",o.placement)}})},trackPointerlockChange:({send:e,scope:t})=>{const n=t.getDoc();return vn(n,"pointerlockchange",()=>e({type:"close",src:"pointerlock:change"}),!1)},trackScroll:({send:e,prop:t,scope:n})=>{if(!t("closeOnScroll"))return;const r=gb(n);if(!r)return;const o=$P(r).map(i=>vn(i,"scroll",()=>{e({type:"close",src:"scroll"})},{passive:!0,capture:!0}));return()=>{o.forEach(i=>i?.())}},trackStore:({prop:e,send:t})=>{let n;return queueMicrotask(()=>{n=vi.subscribe(()=>{vi.get("id")!==e("id")&&t({type:"close",src:"id.change"})})}),()=>n?.()},trackEscapeKey:({send:e,prop:t})=>t("closeOnEscape")?vn(document,"keydown",n=>{kP(n)||n.key==="Escape"&&(n.stopPropagation(),e({type:"close",src:"keydown.escape"}))},!0):void 0,waitForOpenDelay:({send:e,prop:t})=>{const n=setTimeout(()=>{e({type:"after.openDelay"})},t("openDelay"));return()=>clearTimeout(n)},waitForCloseDelay:({send:e,prop:t})=>{const n=setTimeout(()=>{e({type:"after.closeDelay"})},t("closeDelay"));return()=>clearTimeout(n)}}}};sn()(["aria-label","closeDelay","closeOnEscape","closeOnPointerDown","closeOnScroll","closeOnClick","dir","disabled","getRootNode","id","ids","interactive","onOpenChange","defaultOpen","open","openDelay","positioning"]);const w8=(e={},t)=>{const n=nt(),r=_o(ko),o=Ki(qi),i=A(()=>{const a=pe(e);return{id:n,dir:o.value.dir,getRootNode:r?.value.getRootNode,...ra(a),onOpenChange:l=>{t?.("openChange",l),t?.("update:open",l.open),a.onOpenChange?.(l)}}}),s=wo(x8,i);return A(()=>b8(s,ii))},_8=P({__name:"tooltip-root",props:Ze({"aria-label":{},closeDelay:{},closeOnClick:{type:Boolean},closeOnEscape:{type:Boolean},closeOnPointerDown:{type:Boolean},closeOnScroll:{type:Boolean},defaultOpen:{type:Boolean},disabled:{type:Boolean},id:{},ids:{},interactive:{type:Boolean},open:{type:Boolean},openDelay:{},positioning:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},{closeOnClick:void 0,closeOnEscape:void 0,closeOnPointerDown:void 0,closeOnScroll:void 0,defaultOpen:void 0,disabled:void 0,interactive:void 0,open:void 0}),emits:["openChange","update:open"],setup(e,{emit:t}){const n=e,r=w8(n,t);return o2(r),ur(A(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),se(),(o,i)=>L(o.$slots,"default")}}),k8=P({__name:"tooltip-trigger",props:{asChild:{type:Boolean}},setup(e){const t=lu();return se(),(n,r)=>(y(),$(d(he).button,F(d(t).getTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Pl=Object.freeze(Object.defineProperty({__proto__:null,Arrow:u8,ArrowTip:c8,Content:d8,Context:p8,Positioner:f8,Root:_8,RootProvider:h8,Trigger:k8},Symbol.toStringTag,{value:"Module"}));function jp(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)&&"_default"in e}function a2(e,t){return jp(e)?(t==="fit"&&(t="_default"),e[t]!==void 0?e[t]:e._default):e}function C8(e,t,n){const r=jp(e)?{...e}:{_default:e};return t==="fit"&&(t="_default"),r[t]=n,r}function E8(e,t){return!jp(e)||t==="fit"||t==="_default"?!1:t in e}function O8(e,t){if(t==="_default"||t==="fit")return e;const{[t]:n,...r}=e;return r}function qo(e){return e&&typeof e=="object"&&(e.setup||e.render||e.__vccOpts||e.name||e.__v_skip)}function Pi(e){return typeof e=="string"}function $i(e){return typeof e=="function"&&!qo(e)}function I8(e){return"field"in e&&"operator"in e}function T8(e){return"and"in e||"or"in e}function S8(e,t,n){const{field:r,operator:o,value:i}=e;let s=t?.[r];switch(n&&jp(s)&&(s=a2(s,n)),o){case"equals":return s===i;case"not_equals":return s!==i;case"in":return Array.isArray(i)?i.includes(s):!1;case"not_in":return Array.isArray(i)?!i.includes(s):!0;case"contains":return Array.isArray(s)||typeof s=="string"&&typeof i=="string"?s.includes(i):!1;case"greater_than":{const a=Number(s),l=Number(i);return!Number.isFinite(a)||!Number.isFinite(l)?!1:a>l}case"less_than":{const a=Number(s),l=Number(i);return!Number.isFinite(a)||!Number.isFinite(l)?!1:a<l}case"truthy":return!!s;case"falsy":return!s;default:return!1}}function wh(e,t={},n){if(Array.isArray(e))return e.every(r=>wh(r,t,n));if(!e||typeof e!="object")return!0;if(T8(e)){if(e.and)return Array.isArray(e.and)?e.and.every(r=>wh(r,t,n)):!0;if(e.or)return Array.isArray(e.or)?e.or.some(r=>wh(r,t,n)):!1}return I8(e)?S8(e,t,n):!0}function Yi(){const e=dt(Qt);if(!e)throw new Error("useUI must be used within a component that has access to CraftileEditor");const t=n=>{e.ui.state.activeSidebarPanel=n};return{toaster:e.ui.toaster,sidebarPanels:A(()=>Array.from(e.ui.state.sidebarPanels.values()).sort((n,r)=>(n.order??0)-(r.order??0))),activeSidebarPanel:A(()=>e.ui.state.activeSidebarPanel),registerSidebarPanel:e.ui.registerSidebarPanel.bind(e.ui),removeSidebarPanel:e.ui.removeSidebarPanel.bind(e.ui),setActiveSidebarPanel:t,headerActions:A(()=>Array.from(e.ui.state.headerActions.values()).sort((n,r)=>(n.order??0)-(r.order??0))),registerHeaderAction:e.ui.registerHeaderAction.bind(e.ui),removeHeaderAction:e.ui.removeHeaderAction.bind(e.ui),configurationPanels:A(()=>Array.from(e.ui.state.configurationPanels.values()).sort((n,r)=>(n.order??0)-(r.order??0))),registerConfigurationPanel:e.ui.registerConfigurationPanel.bind(e.ui),removeConfigurationPanel:e.ui.removeConfigurationPanel.bind(e.ui),modals:A(()=>e.ui.state.modals),openModals:A(()=>e.ui.state.openModals),openModal:e.ui.openModal.bind(e.ui),closeModal:e.ui.closeModal.bind(e.ui),propertyFields:A(()=>e.ui.state.propertyFields),registerPropertyField:e.ui.registerPropertyField.bind(e.ui),removePropertyField:e.ui.removePropertyField.bind(e.ui),keyboardShortcuts:A(()=>e.ui.state.keyboardShortcuts),registerKeyboardShortcut:e.ui.registerKeyboardShortcut.bind(e.ui),removeKeyboardShortcut:e.ui.removeKeyboardShortcut.bind(e.ui)}}function Xm(){const e=dt(Qt);if(!e)throw new Error("useDeviceMode must be used within a component that has access to CraftileEditor");return{currentDevice:A(()=>e.devices.state.currentDevice),currentDeviceData:A(()=>e.devices.getCurrentDeviceData()),savedCustomDevices:A(()=>e.devices.state.savedCustomDevices),devicePresets:e.devices.devicePresets,setDeviceMode:t=>e.devices.setDeviceMode(t),addCustomDevice:t=>e.devices.addCustomDevice(t),removeCustomDevice:t=>e.devices.removeCustomDevice(t),getAllDevices:()=>e.devices.getAllDevices()}}const P8=["type","disabled"],$8={key:0,class:"animate-spin h-4 w-4 absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Vt=P({__name:"Button",props:{variant:{default:"default"},size:{default:"md"},type:{default:"button"},disabled:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1},square:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(e){const t={default:"bg-white text-gray-900 hover:bg-gray-50 border border-gray-200",primary:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",accent:"bg-accent text-accent-foreground hover:bg-accent/90",sutble:"bg-accent-foreground text-accent",destructive:"bg-red-600 text-white hover:bg-red-700"},n={sm:"h-6 px-3 text-xs",md:"h-8 px-4",lg:"h-10 px-6 text-base"},r={sm:"w-6 h-6 text-xs p-0",md:"w-8 h-8 p-0",lg:"w-10 h-10 text-base p-0"},o=e,i=A(()=>o.disabled||o.loading);return(s,a)=>(y(),V("button",{class:Ne(["inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none cursor-pointer relative",[t[s.variant],o.square?r[s.size]:n[s.size],s.fullWidth&&"w-full"]]),type:s.type,disabled:d(i)},[s.loading?(y(),V("svg",$8,[...a[0]||(a[0]=[D("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),D("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):Z("",!0),D("span",{class:Ne(["inline-flex items-center gap-2",{invisible:s.loading}])},[L(s.$slots,"default")],2)],10,P8))}}),R8={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function A8(e,t){return y(),V("svg",R8,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M10.5 19.5h3m-6.75 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-15a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 4.5v15a2.25 2.25 0 0 0 2.25 2.25"},null,-1)])])}const Zy=fe({name:"heroicons-device-tablet",render:A8}),N8={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function M8(e,t){return y(),V("svg",N8,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"},null,-1)])])}const mg=fe({name:"heroicons-computer-desktop",render:M8}),D8={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function L8(e,t){return y(),V("svg",D8,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"},null,-1)])])}const l2=fe({name:"heroicons-device-phone-mobile",render:L8}),V8={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function F8(e,t){return y(),V("svg",V8,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m15 15l6-6m0 0l-6-6m6 6H9a6 6 0 0 0 0 12h3"},null,-1)])])}const c2=fe({name:"heroicons-arrow-uturn-right",render:F8}),u2=P({__name:"PropertyFieldRenderWrapper",props:{renderFn:{type:Function},field:{},value:{},onChange:{type:Function},onBlur:{type:Function},class:{}},setup(e){const t=e,n=Q(),r=()=>{if(n.value&&t.renderFn){n.value.innerHTML="";const o=t.renderFn({field:t.field,value:t.value,onChange:t.onChange,onBlur:t.onBlur});n.value.appendChild(o)}};return Je(()=>{r()}),st(()=>t.value,()=>{r()}),(o,i)=>(y(),V("div",{ref_key:"containerRef",ref:n,class:Ne(t.class)},null,2))}}),B8={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function H8(e,t){return y(),V("svg",B8,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m4.5 12.75l6 6l9-13.5"},null,-1)])])}const z8=fe({name:"heroicons-check",render:H8}),U8=P({__name:"Tooltip",props:{title:{}},setup(e){return(t,n)=>(y(),$(d(Pl).Root,{"open-delay":100,positioning:{placement:"top"}},{default:O(()=>[S(d(Pl).Trigger,null,{default:O(()=>[L(t.$slots,"default")]),_:3}),S(d(Pl).Positioner,null,{default:O(()=>[S(d(Pl).Content,{class:"relative w-max bg-white border border-gray-300/60 rounded-md shadow-sm text-sm font-medium px-2 py-1 text-gray-700 data-[state=open]:animate-enter data-[state=closed]:animate-exit"},{default:O(()=>[S(d(Pl).Arrow,{style:{"--arrow-size":"12px","--arrow-background":"white"}},{default:O(()=>[S(d(Pl).ArrowTip,{class:"border-l border-t border-gray-300/60"})]),_:1}),re(" "+j(t.title),1)]),_:1})]),_:1})]),_:3}))}}),j8={class:"relative"},G8={class:"flex items-center justify-end gap-3 absolute right-0 top-0"},W8={key:2,class:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md"},q8={class:"text-sm text-red-600"},K8={class:"font-mono"},Y8=P({__name:"ResponsivePropertyField",props:{field:{},modelValue:{},currentDevice:{},availableDevices:{}},emits:["update:modelValue","changeDevice"],setup(e,{emit:t}){const n=e,r=t,o={desktop:mg,tablet:Zy,mobile:l2},i=m=>o[m||"desktop"]||mg,s=A(()=>n.availableDevices.find(m=>m.id===n.currentDevice)||n.availableDevices[0]),a=A(()=>E8(n.modelValue,n.currentDevice)),l=A(()=>a2(n.modelValue,n.currentDevice)),c=m=>{const b=C8(n.modelValue,n.currentDevice,m);r("update:modelValue",b)},u=()=>{if(!jp(n.modelValue))return;const m=O8(n.modelValue,n.currentDevice);r("update:modelValue",m)},p=m=>{const[b]=m.value;b&&b!==n.currentDevice&&r("changeDevice",b)},h=A(()=>E4({items:n.availableDevices.map(m=>({label:m.label,value:m.id,icon:m.icon}))})),{propertyFields:f}=Yi(),g=A(()=>f.value.get(n.field.type)?.render);return(m,b)=>{const w=c2,E=U8,k=z8,v=u2;return y(),V("div",j8,[D("div",G8,[S(E,{title:"Reset to default value"},{default:O(()=>[d(a)?(y(),V("button",{key:0,onClick:u,class:"hover:text-gray-600 text-gray-400 transition-colors cursor-pointer"},[S(w,{class:"w-3 h-3 rotate-180"})])):Z("",!0)]),_:1}),d(a)?(y(),$(E,{key:0,title:"Customized for this breakpoint"},{default:O(()=>[...b[0]||(b[0]=[D("div",{class:"size-1.5 bg-green-800 rotate-45"},null,-1)])]),_:1})):Z("",!0),S(d(_a).Root,{"model-value":[m.currentDevice],collection:d(h),onValueChange:p,positioning:{strategy:"fixed",placement:"bottom-end"}},{default:O(()=>[S(d(_a).Trigger,{class:"flex items-center gap-1 relative"},{default:O(()=>[(y(),$(Xn(i(d(s).icon)),{class:"w-4 h-4 text-gray-600"}))]),_:1}),S(d(_a).Positioner,{class:""},{default:O(()=>[S(d(_a).Content,{class:"bg-white border border-gray-200 rounded-lg shadow-lg p-1 min-w-[160px] z-50"},{default:O(()=>[(y(!0),V(ge,null,Ie(d(h).items,_=>(y(),$(d(_a).Item,{key:_.value,item:_,class:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded cursor-pointer data-[state=checked]:bg-accent/10 data-[state=checked]:text-accent"},{default:O(()=>[S(d(_a).ItemText,{class:"flex items-center gap-2"},{default:O(()=>[(y(),$(Xn(i(_.icon)),{class:"w-4 h-4"})),re(" "+j(_.label),1)]),_:2},1024),S(d(_a).ItemIndicator,{class:"ml-auto"},{default:O(()=>[S(k,{class:"w-4 h-4 text-accent"})]),_:1})]),_:2},1032,["item"]))),128))]),_:1})]),_:1})]),_:1},8,["model-value","collection"])]),D("div",null,[d(qo)(d(g))||d(Pi)(d(g))?(y(),$(Xn(d(g)),{key:0,field:m.field,"model-value":d(l),"onUpdate:modelValue":c},null,8,["field","model-value"])):d($i)(d(g))?(y(),$(v,{key:1,"render-fn":d(g),field:m.field,value:d(l),"on-change":c},null,8,["render-fn","field","value"])):(y(),V("div",W8,[D("p",q8,[b[1]||(b[1]=re(" Unknown field type: ",-1)),D("code",K8,j(m.field.type),1)])]))])])}}}),X8={key:1},J8={key:2,class:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md"},Z8={class:"text-sm text-red-600"},Q8={class:"font-mono"},eH={key:2,class:"text-[0.625rem] text-gray-500 mt-1 italic"},ws=P({__name:"PropertyField",props:{field:{},modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t,{propertyFields:o}=Yi(),{currentDevice:i,devicePresets:s,setDeviceMode:a}=Xm(),l=A(()=>{const f={id:"_default",label:"All devices",width:0,icon:"desktop"},g=s.filter(m=>m.id!=="fit");return[f,...g]}),c=A(()=>i.value==="fit"?"_default":i.value),u=A(()=>o.value.get(n.field.type)?.render),p=f=>{r("update:modelValue",f)},h=f=>{a(f==="_default"?"fit":f)};return(f,g)=>{const m=u2;return y(),V("div",null,[f.field.responsive?(y(),$(Y8,{key:0,field:f.field,"model-value":f.modelValue,"current-device":d(c),"available-devices":d(l),"onUpdate:modelValue":p,onChangeDevice:h},null,8,["field","model-value","current-device","available-devices"])):(y(),V("div",X8,[d(qo)(d(u))||d(Pi)(d(u))?(y(),$(Xn(d(u)),{key:0,field:f.field,"model-value":f.modelValue,"onUpdate:modelValue":p},null,8,["field","model-value"])):d($i)(d(u))?(y(),$(m,{key:1,"render-fn":d(u),field:f.field,value:f.modelValue,"on-change":p},null,8,["render-fn","field","value"])):(y(),V("div",J8,[D("p",Z8,[g[0]||(g[0]=re(" Unknown field type: ",-1)),D("code",Q8,j(f.field.type),1)])]))])),f.field.info?(y(),V("p",eH,j(f.field.info),1)):Z("",!0)])}}});(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('/*! tailwindcss v4.1.13 | MIT License | https://tailwindcss.com */@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){.__craftile *,.__craftile :before,.__craftile :after,.__craftile ::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-space-y-reverse:0;--tw-border-style:solid;--tw-font-weight:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-duration:initial;--tw-ease:initial}}}@layer theme{.__craftile,.__craftile :host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-50:oklch(97.1% .013 17.38);--color-red-100:oklch(93.6% .032 17.717);--color-red-200:oklch(88.5% .062 18.334);--color-red-300:oklch(80.8% .114 19.571);--color-red-600:oklch(57.7% .245 27.325);--color-red-700:oklch(50.5% .213 27.518);--color-red-800:oklch(44.4% .177 26.899);--color-amber-50:oklch(98.7% .022 95.277);--color-amber-100:oklch(96.2% .059 95.617);--color-amber-200:oklch(92.4% .12 95.746);--color-amber-300:oklch(87.9% .169 91.605);--color-amber-700:oklch(55.5% .163 48.998);--color-amber-800:oklch(47.3% .137 46.201);--color-green-800:oklch(44.8% .119 151.328);--color-blue-50:oklch(97% .014 254.604);--color-blue-100:oklch(93.2% .032 255.585);--color-blue-200:oklch(88.2% .059 254.128);--color-blue-300:oklch(80.9% .105 251.813);--color-blue-500:oklch(62.3% .214 259.815);--color-blue-700:oklch(48.8% .243 264.376);--color-blue-800:oklch(42.4% .199 265.638);--color-slate-400:oklch(70.4% .04 256.788);--color-gray-50:var(--color-gray-50,oklch(98.5% 0 0));--color-gray-100:var(--color-gray-100,oklch(96.7% .001 286.375));--color-gray-200:var(--color-gray-200,oklch(92% .004 286.32));--color-gray-300:var(--color-gray-300,oklch(87.1% .006 286.286));--color-gray-400:var(--color-gray-400,oklch(70.5% .015 286.067));--color-gray-500:var(--color-gray-500,oklch(55.2% .016 285.938));--color-gray-600:var(--color-gray-600,oklch(44.2% .017 285.786));--color-gray-700:var(--color-gray-700,oklch(37% .013 285.805));--color-gray-800:var(--color-gray-800,oklch(37% .013 285.805));--color-gray-900:var(--color-gray-900,oklch(37% .013 285.805));--color-black:#000;--color-white:#fff;--spacing:.25rem;--container-xs:20rem;--container-sm:24rem;--container-md:28rem;--container-lg:32rem;--container-xl:36rem;--container-2xl:42rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-base:1rem;--text-base--line-height: 1.5 ;--text-lg:1.125rem;--text-lg--line-height:calc(1.75/1.125);--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--text-2xl:1.5rem;--text-2xl--line-height:calc(2/1.5);--font-weight-medium:500;--font-weight-semibold:600;--radius-xs:.125rem;--radius-md:.375rem;--radius-lg:.5rem;--ease-out:cubic-bezier(0,0,.2,1);--animate-spin:spin 1s linear infinite;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono);--color-primary:var(--color-primary,oklch(14.7% .004 49.25));--color-primary-foreground:var(--color-primary-foreground,oklch(98.5% 0 0));--color-secondary:var(--color-secondary,oklch(92% .004 286.32));--color-secondary-foreground:var(--color-secondary-foreground,oklch(37% .013 285.805));--color-accent:var(--color-accent,oklch(54.6% .245 262.881));--color-accent-foreground:var(--color-accent-foreground,oklch(93.2% .032 255.585));--animate-enter:enter .1s ease-out;--animate-exit:exit .1s ease-out}}@layer base{.__craftile *,.__craftile :after,.__craftile :before,.__craftile ::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}.__craftile ::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}.__craftile,.__craftile :host{-webkit-text-size-adjust:100%;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}.__craftile hr{height:0;color:inherit;border-top-width:1px}.__craftile abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}.__craftile h1,.__craftile h2,.__craftile h3,.__craftile h4,.__craftile h5,.__craftile h6{font-size:inherit;font-weight:inherit}.__craftile a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}.__craftile b,.__craftile strong{font-weight:bolder}.__craftile code,.__craftile kbd,.__craftile samp,.__craftile pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}.__craftile small{font-size:80%}.__craftile sub,.__craftile sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}.__craftile sub{bottom:-.25em}.__craftile sup{top:-.5em}.__craftile table{text-indent:0;border-color:inherit;border-collapse:collapse}.__craftile :-moz-focusring{outline:auto}.__craftile progress{vertical-align:baseline}.__craftile summary{display:list-item}.__craftile ol,.__craftile ul,.__craftile menu{list-style:none}.__craftile img,.__craftile svg,.__craftile video,.__craftile canvas,.__craftile audio,.__craftile iframe,.__craftile embed,.__craftile object{vertical-align:middle;display:block}.__craftile img,.__craftile video{max-width:100%;height:auto}.__craftile button,.__craftile input,.__craftile select,.__craftile optgroup,.__craftile textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}.__craftile ::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}.__craftile :where(select:is([multiple],[size])) optgroup{font-weight:bolder}.__craftile :where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}.__craftile ::file-selector-button{margin-inline-end:4px}.__craftile ::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){.__craftile ::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){.__craftile ::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}.__craftile textarea{resize:vertical}.__craftile ::-webkit-search-decoration{-webkit-appearance:none}.__craftile ::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}.__craftile ::-webkit-datetime-edit{display:inline-flex}.__craftile ::-webkit-datetime-edit-fields-wrapper{padding:0}.__craftile ::-webkit-datetime-edit{padding-block:0}.__craftile ::-webkit-datetime-edit-year-field{padding-block:0}.__craftile ::-webkit-datetime-edit-month-field{padding-block:0}.__craftile ::-webkit-datetime-edit-day-field{padding-block:0}.__craftile ::-webkit-datetime-edit-hour-field{padding-block:0}.__craftile ::-webkit-datetime-edit-minute-field{padding-block:0}.__craftile ::-webkit-datetime-edit-second-field{padding-block:0}.__craftile ::-webkit-datetime-edit-millisecond-field{padding-block:0}.__craftile ::-webkit-datetime-edit-meridiem-field{padding-block:0}.__craftile ::-webkit-calendar-picker-indicator{line-height:1}.__craftile :-moz-ui-invalid{box-shadow:none}.__craftile button,.__craftile input:where([type=button],[type=reset],[type=submit]){appearance:button}.__craftile ::file-selector-button{appearance:button}.__craftile ::-webkit-inner-spin-button{height:auto}.__craftile ::-webkit-outer-spin-button{height:auto}.__craftile [hidden]:where(:not([hidden=until-found])){display:none!important}.__craftile *,.__craftile :after,.__craftile :before,.__craftile ::backdrop{border-color:var(--color-gray-200,oklch(92% .004 286.32))}.__craftile ::file-selector-button{border-color:var(--color-gray-200,oklch(92% .004 286.32))}}@layer components{.__craftile .ghost-block{border-radius:var(--radius-md);border-style:var(--tw-border-style);--tw-border-style:dashed;border-style:dashed;border-width:2px;border-color:var(--color-accent,oklch(54.6% .245 262.881))}@supports (color:color-mix(in lab,red,red)){.__craftile .ghost-block{border-color:color-mix(in oklab,var(--color-accent,oklch(54.6% .245 262.881))80%,transparent)}}.__craftile .ghost-block{background-color:var(--color-accent,oklch(54.6% .245 262.881))}@supports (color:color-mix(in lab,red,red)){.__craftile .ghost-block{background-color:color-mix(in oklab,var(--color-accent,oklch(54.6% .245 262.881))20%,transparent)}}.__craftile .ghost-block{opacity:.3}.__craftile .property-field-enter-active,.__craftile .property-field-leave-active{transition:all .2s;overflow:hidden}.__craftile .property-field-enter-from,.__craftile .property-field-leave-to{opacity:0;max-height:0}.__craftile .property-field-enter-to,.__craftile .property-field-leave-from{opacity:1;max-height:200px}}@layer utilities{.__craftile .pointer-events-auto{pointer-events:auto}.__craftile .pointer-events-none{pointer-events:none}.__craftile .invisible{visibility:hidden}.__craftile .visible{visibility:visible}.__craftile .sr-only{clip-path:inset(50%);white-space:nowrap;border-width:0;width:1px;height:1px;margin:-1px;padding:0;position:absolute;overflow:hidden}.__craftile .absolute{position:absolute}.__craftile .fixed{position:fixed}.__craftile .relative{position:relative}.__craftile .static{position:static}.__craftile .inset-0{inset:calc(var(--spacing)*0)}.__craftile .-top-2{top:calc(var(--spacing)*-2)}.__craftile .-top-\\[18\\.5px\\]{top:-18.5px}.__craftile .-top-\\[19px\\]{top:-19px}.__craftile .top-0{top:calc(var(--spacing)*0)}.__craftile .top-1\\/2{top:50%}.__craftile .top-4{top:calc(var(--spacing)*4)}.__craftile .-right-2{right:calc(var(--spacing)*-2)}.__craftile .right-0{right:calc(var(--spacing)*0)}.__craftile .right-4{right:calc(var(--spacing)*4)}.__craftile .-bottom-2{bottom:calc(var(--spacing)*-2)}.__craftile .-left-2{left:calc(var(--spacing)*-2)}.__craftile .-left-\\[1px\\]{left:-1px}.__craftile .left-0{left:calc(var(--spacing)*0)}.__craftile .left-1\\/2{left:50%}.__craftile .\\!z-10{z-index:10!important}.__craftile .\\!z-\\[1100\\]{z-index:1100!important}.__craftile .z-10{z-index:10}.__craftile .z-50{z-index:50}.__craftile .z-\\[1000\\]{z-index:1000}.__craftile .container{width:100%}@media (min-width:40rem){.__craftile .container{max-width:40rem}}@media (min-width:48rem){.__craftile .container{max-width:48rem}}@media (min-width:64rem){.__craftile .container{max-width:64rem}}@media (min-width:80rem){.__craftile .container{max-width:80rem}}@media (min-width:96rem){.__craftile .container{max-width:96rem}}.__craftile .m-0{margin:calc(var(--spacing)*0)}.__craftile .mx-0{margin-inline:calc(var(--spacing)*0)}.__craftile .mx-2{margin-inline:calc(var(--spacing)*2)}.__craftile .mx-auto{margin-inline:auto}.__craftile .my-1{margin-block:calc(var(--spacing)*1)}.__craftile .my-2{margin-block:calc(var(--spacing)*2)}.__craftile .mt-0{margin-top:calc(var(--spacing)*0)}.__craftile .mt-1{margin-top:calc(var(--spacing)*1)}.__craftile .mt-2{margin-top:calc(var(--spacing)*2)}.__craftile .mt-3{margin-top:calc(var(--spacing)*3)}.__craftile .mt-4{margin-top:calc(var(--spacing)*4)}.__craftile .mr-0\\.5{margin-right:calc(var(--spacing)*.5)}.__craftile .mr-1{margin-right:calc(var(--spacing)*1)}.__craftile .mb-1{margin-bottom:calc(var(--spacing)*1)}.__craftile .mb-2{margin-bottom:calc(var(--spacing)*2)}.__craftile .mb-3{margin-bottom:calc(var(--spacing)*3)}.__craftile .mb-4{margin-bottom:calc(var(--spacing)*4)}.__craftile .ml-3{margin-left:calc(var(--spacing)*3)}.__craftile .ml-auto{margin-left:auto}.__craftile .box-border{box-sizing:border-box}.__craftile .block{display:block}.__craftile .flex{display:flex}.__craftile .grid{display:grid}.__craftile .hidden{display:none}.__craftile .inline-flex{display:inline-flex}.__craftile .aspect-square{aspect-ratio:1}.__craftile .size-1\\.5{width:calc(var(--spacing)*1.5);height:calc(var(--spacing)*1.5)}.__craftile .h-1\\.5{height:calc(var(--spacing)*1.5)}.__craftile .h-3{height:calc(var(--spacing)*3)}.__craftile .h-3\\.5{height:calc(var(--spacing)*3.5)}.__craftile .h-4{height:calc(var(--spacing)*4)}.__craftile .h-5{height:calc(var(--spacing)*5)}.__craftile .h-6{height:calc(var(--spacing)*6)}.__craftile .h-8{height:calc(var(--spacing)*8)}.__craftile .h-10{height:calc(var(--spacing)*10)}.__craftile .h-12{height:calc(var(--spacing)*12)}.__craftile .h-14{height:calc(var(--spacing)*14)}.__craftile .h-16{height:calc(var(--spacing)*16)}.__craftile .h-\\[2px\\]{height:2px}.__craftile .h-\\[520px\\]{height:520px}.__craftile .h-full{height:100%}.__craftile .h-px{height:1px}.__craftile .max-h-\\[90vh\\]{max-height:90vh}.__craftile .max-h-\\[calc\\(100vh-2rem\\)\\]{max-height:calc(100vh - 2rem)}.__craftile .w-0{width:calc(var(--spacing)*0)}.__craftile .w-3{width:calc(var(--spacing)*3)}.__craftile .w-3\\.5{width:calc(var(--spacing)*3.5)}.__craftile .w-4{width:calc(var(--spacing)*4)}.__craftile .w-5{width:calc(var(--spacing)*5)}.__craftile .w-6{width:calc(var(--spacing)*6)}.__craftile .w-8{width:calc(var(--spacing)*8)}.__craftile .w-10{width:calc(var(--spacing)*10)}.__craftile .w-12{width:calc(var(--spacing)*12)}.__craftile .w-14{width:calc(var(--spacing)*14)}.__craftile .w-16{width:calc(var(--spacing)*16)}.__craftile .w-60{width:calc(var(--spacing)*60)}.__craftile .w-72{width:calc(var(--spacing)*72)}.__craftile .w-75{width:calc(var(--spacing)*75)}.__craftile .w-\\[640px\\]{width:640px}.__craftile .w-full{width:100%}.__craftile .w-max{width:max-content}.__craftile .max-w-2xl{max-width:var(--container-2xl)}.__craftile .max-w-\\[120px\\]{max-width:120px}.__craftile .max-w-\\[calc\\(100vw-2rem\\)\\]{max-width:calc(100vw - 2rem)}.__craftile .max-w-lg{max-width:var(--container-lg)}.__craftile .max-w-md{max-width:var(--container-md)}.__craftile .max-w-sm{max-width:var(--container-sm)}.__craftile .max-w-xl{max-width:var(--container-xl)}.__craftile .max-w-xs{max-width:var(--container-xs)}.__craftile .min-w-0{min-width:calc(var(--spacing)*0)}.__craftile .min-w-96{min-width:calc(var(--spacing)*96)}.__craftile .min-w-\\[160px\\]{min-width:160px}.__craftile .min-w-\\[180px\\]{min-width:180px}.__craftile .flex-1{flex:1}.__craftile .flex-none{flex:none}.__craftile .shrink-0{flex-shrink:0}.__craftile .-translate-x-1\\/2{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.__craftile .-translate-y-1\\/2{--tw-translate-y: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.__craftile .rotate-45{rotate:45deg}.__craftile .rotate-90{rotate:90deg}.__craftile .rotate-180{rotate:180deg}.__craftile .transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.__craftile .animate-spin{animation:var(--animate-spin)}.__craftile .cursor-grab{cursor:grab}.__craftile .cursor-pointer{cursor:pointer}.__craftile .resize{resize:both}.__craftile .flex-col{flex-direction:column}.__craftile .flex-wrap{flex-wrap:wrap}.__craftile .items-center{align-items:center}.__craftile .items-start{align-items:flex-start}.__craftile .justify-between{justify-content:space-between}.__craftile .justify-center{justify-content:center}.__craftile .justify-end{justify-content:flex-end}.__craftile .gap-0\\.5{gap:calc(var(--spacing)*.5)}.__craftile .gap-1{gap:calc(var(--spacing)*1)}.__craftile .gap-1\\.5{gap:calc(var(--spacing)*1.5)}.__craftile .gap-2{gap:calc(var(--spacing)*2)}.__craftile .gap-3{gap:calc(var(--spacing)*3)}.__craftile .gap-4{gap:calc(var(--spacing)*4)}.__craftile :where(.space-y-1>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1)*calc(1 - var(--tw-space-y-reverse)))}.__craftile :where(.space-y-4>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*4)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*4)*calc(1 - var(--tw-space-y-reverse)))}.__craftile .truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.__craftile .overflow-auto{overflow:auto}.__craftile .overflow-hidden{overflow:hidden}.__craftile .overflow-y-auto{overflow-y:auto}.__craftile .overflow-y-hidden{overflow-y:hidden}.__craftile .rounded{border-radius:.25rem}.__craftile .rounded-full{border-radius:3.40282e38px}.__craftile .rounded-lg{border-radius:var(--radius-lg)}.__craftile .rounded-md{border-radius:var(--radius-md)}.__craftile .rounded-xs{border-radius:var(--radius-xs)}.__craftile .rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.__craftile .border{border-style:var(--tw-border-style);border-width:1px}.__craftile .border-0{border-style:var(--tw-border-style);border-width:0}.__craftile .border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.__craftile .border-r{border-right-style:var(--tw-border-style);border-right-width:1px}.__craftile .border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.__craftile .border-l{border-left-style:var(--tw-border-style);border-left-width:1px}.__craftile .border-dashed{--tw-border-style:dashed;border-style:dashed}.__craftile .border-solid{--tw-border-style:solid;border-style:solid}.__craftile .border-\\[none\\]{border-color:none}.__craftile .border-amber-200{border-color:var(--color-amber-200)}.__craftile .border-amber-300{border-color:var(--color-amber-300)}.__craftile .border-blue-200{border-color:var(--color-blue-200)}.__craftile .border-blue-300{border-color:var(--color-blue-300)}.__craftile .border-blue-500{border-color:var(--color-blue-500)}.__craftile .border-gray-100{border-color:var(--color-gray-100,oklch(96.7% .001 286.375))}.__craftile .border-gray-200{border-color:var(--color-gray-200,oklch(92% .004 286.32))}.__craftile .border-gray-300,.__craftile .border-gray-300\\/60{border-color:var(--color-gray-300,oklch(87.1% .006 286.286))}@supports (color:color-mix(in lab,red,red)){.__craftile .border-gray-300\\/60{border-color:color-mix(in oklab,var(--color-gray-300,oklch(87.1% .006 286.286))60%,transparent)}}.__craftile .border-red-200{border-color:var(--color-red-200)}.__craftile .border-red-300{border-color:var(--color-red-300)}.__craftile .border-slate-400{border-color:var(--color-slate-400)}.__craftile .border-white\\/20{border-color:#fff3}@supports (color:color-mix(in lab,red,red)){.__craftile .border-white\\/20{border-color:color-mix(in oklab,var(--color-white)20%,transparent)}}.__craftile .bg-accent{background-color:var(--color-accent,oklch(54.6% .245 262.881))}.__craftile .bg-accent-foreground{background-color:var(--color-accent-foreground,oklch(93.2% .032 255.585))}.__craftile .bg-accent\\/8{background-color:var(--color-accent,oklch(54.6% .245 262.881))}@supports (color:color-mix(in lab,red,red)){.__craftile .bg-accent\\/8{background-color:color-mix(in oklab,var(--color-accent,oklch(54.6% .245 262.881))8%,transparent)}}.__craftile .bg-accent\\/70{background-color:var(--color-accent,oklch(54.6% .245 262.881))}@supports (color:color-mix(in lab,red,red)){.__craftile .bg-accent\\/70{background-color:color-mix(in oklab,var(--color-accent,oklch(54.6% .245 262.881))70%,transparent)}}.__craftile .bg-amber-50{background-color:var(--color-amber-50)}.__craftile .bg-black\\/50{background-color:#00000080}@supports (color:color-mix(in lab,red,red)){.__craftile .bg-black\\/50{background-color:color-mix(in oklab,var(--color-black)50%,transparent)}}.__craftile .bg-blue-50{background-color:var(--color-blue-50)}.__craftile .bg-blue-500{background-color:var(--color-blue-500)}.__craftile .bg-blue-500\\/5{background-color:#3080ff0d}@supports (color:color-mix(in lab,red,red)){.__craftile .bg-blue-500\\/5{background-color:color-mix(in oklab,var(--color-blue-500)5%,transparent)}}.__craftile .bg-blue-500\\/90{background-color:#3080ffe6}@supports (color:color-mix(in lab,red,red)){.__craftile .bg-blue-500\\/90{background-color:color-mix(in oklab,var(--color-blue-500)90%,transparent)}}.__craftile .bg-blue-500\\/95{background-color:#3080fff2}@supports (color:color-mix(in lab,red,red)){.__craftile .bg-blue-500\\/95{background-color:color-mix(in oklab,var(--color-blue-500)95%,transparent)}}.__craftile .bg-gray-50{background-color:var(--color-gray-50,oklch(98.5% 0 0))}.__craftile .bg-gray-100{background-color:var(--color-gray-100,oklch(96.7% .001 286.375))}.__craftile .bg-gray-200{background-color:var(--color-gray-200,oklch(92% .004 286.32))}.__craftile .bg-gray-800{background-color:var(--color-gray-800,oklch(37% .013 285.805))}.__craftile .bg-green-800{background-color:var(--color-green-800)}.__craftile .bg-primary{background-color:var(--color-primary,oklch(14.7% .004 49.25))}.__craftile .bg-red-50{background-color:var(--color-red-50)}.__craftile .bg-red-600{background-color:var(--color-red-600)}.__craftile .bg-secondary{background-color:var(--color-secondary,oklch(92% .004 286.32))}.__craftile .bg-transparent{background-color:#0000}.__craftile .bg-white{background-color:var(--color-white)}.__craftile .fill-current{fill:currentColor}.__craftile .object-contain{object-fit:contain}.__craftile .p-0{padding:calc(var(--spacing)*0)}.__craftile .p-0\\.5{padding:calc(var(--spacing)*.5)}.__craftile .p-1{padding:calc(var(--spacing)*1)}.__craftile .p-1\\.5{padding:calc(var(--spacing)*1.5)}.__craftile .p-2{padding:calc(var(--spacing)*2)}.__craftile .p-3{padding:calc(var(--spacing)*3)}.__craftile .p-4{padding:calc(var(--spacing)*4)}.__craftile .p-6{padding:calc(var(--spacing)*6)}.__craftile .p-\\[2px\\]{padding:2px}.__craftile .px-1{padding-inline:calc(var(--spacing)*1)}.__craftile .px-1\\.5{padding-inline:calc(var(--spacing)*1.5)}.__craftile .px-2{padding-inline:calc(var(--spacing)*2)}.__craftile .px-3{padding-inline:calc(var(--spacing)*3)}.__craftile .px-4{padding-inline:calc(var(--spacing)*4)}.__craftile .px-6{padding-inline:calc(var(--spacing)*6)}.__craftile .py-0\\.5{padding-block:calc(var(--spacing)*.5)}.__craftile .py-1{padding-block:calc(var(--spacing)*1)}.__craftile .py-1\\.5{padding-block:calc(var(--spacing)*1.5)}.__craftile .py-2{padding-block:calc(var(--spacing)*2)}.__craftile .py-2\\.5{padding-block:calc(var(--spacing)*2.5)}.__craftile .py-3{padding-block:calc(var(--spacing)*3)}.__craftile .py-4{padding-block:calc(var(--spacing)*4)}.__craftile .py-8{padding-block:calc(var(--spacing)*8)}.__craftile .pb-1{padding-bottom:calc(var(--spacing)*1)}.__craftile .text-center{text-align:center}.__craftile .text-left{text-align:left}.__craftile .font-mono{font-family:var(--font-mono)}.__craftile .text-2xl{font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}.__craftile .text-base{font-size:var(--text-base);line-height:var(--tw-leading,var(--text-base--line-height))}.__craftile .text-lg{font-size:var(--text-lg);line-height:var(--tw-leading,var(--text-lg--line-height))}.__craftile .text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.__craftile .text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.__craftile .text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.__craftile .text-\\[0\\.6rem\\],.__craftile .text-\\[0\\.60rem\\]{font-size:.6rem}.__craftile .text-\\[0\\.625rem\\]{font-size:.625rem}.__craftile .text-\\[13px\\]{font-size:13px}.__craftile .font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.__craftile .font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.__craftile .text-ellipsis{text-overflow:ellipsis}.__craftile .whitespace-nowrap{white-space:nowrap}.__craftile .text-accent{color:var(--color-accent,oklch(54.6% .245 262.881))}.__craftile .text-accent\\!{color:var(--color-accent,oklch(54.6% .245 262.881))!important}.__craftile .text-accent-foreground{color:var(--color-accent-foreground,oklch(93.2% .032 255.585))}.__craftile .text-accent\\/90{color:var(--color-accent,oklch(54.6% .245 262.881))}@supports (color:color-mix(in lab,red,red)){.__craftile .text-accent\\/90{color:color-mix(in oklab,var(--color-accent,oklch(54.6% .245 262.881))90%,transparent)}}.__craftile .text-amber-700{color:var(--color-amber-700)}.__craftile .text-amber-800{color:var(--color-amber-800)}.__craftile .text-blue-700{color:var(--color-blue-700)}.__craftile .text-blue-800{color:var(--color-blue-800)}.__craftile .text-gray-400{color:var(--color-gray-400,oklch(70.5% .015 286.067))}.__craftile .text-gray-500{color:var(--color-gray-500,oklch(55.2% .016 285.938))}.__craftile .text-gray-600{color:var(--color-gray-600,oklch(44.2% .017 285.786))}.__craftile .text-gray-700{color:var(--color-gray-700,oklch(37% .013 285.805))}.__craftile .text-gray-800{color:var(--color-gray-800,oklch(37% .013 285.805))}.__craftile .text-gray-900{color:var(--color-gray-900,oklch(37% .013 285.805))}.__craftile .text-primary-foreground{color:var(--color-primary-foreground,oklch(98.5% 0 0))}.__craftile .text-red-600{color:var(--color-red-600)}.__craftile .text-red-700{color:var(--color-red-700)}.__craftile .text-red-800{color:var(--color-red-800)}.__craftile .text-secondary-foreground{color:var(--color-secondary-foreground,oklch(37% .013 285.805))}.__craftile .text-white{color:var(--color-white)}.__craftile .capitalize{text-transform:capitalize}.__craftile .italic{font-style:italic}.__craftile .opacity-0{opacity:0}.__craftile .opacity-25{opacity:.25}.__craftile .opacity-70{opacity:.7}.__craftile .opacity-75{opacity:.75}.__craftile .opacity-80{opacity:.8}.__craftile .opacity-90{opacity:.9}.__craftile .opacity-100{opacity:1}.__craftile .shadow{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.__craftile .shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.__craftile .shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.__craftile .shadow-xl{--tw-shadow:0 20px 25px -5px var(--tw-shadow-color,#0000001a),0 8px 10px -6px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.__craftile .shadow-xs{--tw-shadow:0 1px 2px 0 var(--tw-shadow-color,#0000000d);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.__craftile .ring-1{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.__craftile .shadow-black\\/25{--tw-shadow-color:#00000040}@supports (color:color-mix(in lab,red,red)){.__craftile .shadow-black\\/25{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-black)25%,transparent)var(--tw-shadow-alpha),transparent)}}.__craftile .ring-white\\/10{--tw-ring-color:#ffffff1a}@supports (color:color-mix(in lab,red,red)){.__craftile .ring-white\\/10{--tw-ring-color:color-mix(in oklab,var(--color-white)10%,transparent)}}.__craftile .filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.__craftile .transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.__craftile .transition-\\[background\\]{transition-property:background;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.__craftile .transition-\\[width\\]{transition-property:width;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.__craftile .transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.__craftile .transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.__craftile .transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.__craftile .transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.__craftile .duration-100{--tw-duration:.1s;transition-duration:.1s}.__craftile .duration-200{--tw-duration:.2s;transition-duration:.2s}.__craftile .duration-300{--tw-duration:.3s;transition-duration:.3s}.__craftile .duration-\\[0\\.2s\\]{--tw-duration:.2s;transition-duration:.2s}.__craftile .ease-out{--tw-ease:var(--ease-out);transition-timing-function:var(--ease-out)}.__craftile .not-last\\:border-b:not(:last-child){border-bottom-style:var(--tw-border-style);border-bottom-width:1px}@media (hover:hover){.__craftile .group-hover\\:flex:is(:where(.group):hover *){display:flex}.__craftile .group-hover\\:w-full:is(:where(.group):hover *){width:100%}.__craftile .group-hover\\:opacity-0:is(:where(.group):hover *){opacity:0}.__craftile .group-hover\\:opacity-100:is(:where(.group):hover *){opacity:1}}.__craftile .last\\:border-b-0:last-child{border-bottom-style:var(--tw-border-style);border-bottom-width:0}@media (hover:hover){.__craftile .hover\\:bg-accent-foreground:hover{background-color:var(--color-accent-foreground,oklch(93.2% .032 255.585))}.__craftile .hover\\:bg-accent\\/90:hover{background-color:var(--color-accent,oklch(54.6% .245 262.881))}@supports (color:color-mix(in lab,red,red)){.__craftile .hover\\:bg-accent\\/90:hover{background-color:color-mix(in oklab,var(--color-accent,oklch(54.6% .245 262.881))90%,transparent)}}.__craftile .hover\\:bg-amber-100:hover{background-color:var(--color-amber-100)}.__craftile .hover\\:bg-blue-100:hover{background-color:var(--color-blue-100)}.__craftile .hover\\:bg-blue-500:hover{background-color:var(--color-blue-500)}.__craftile .hover\\:bg-gray-50:hover{background-color:var(--color-gray-50,oklch(98.5% 0 0))}.__craftile .hover\\:bg-gray-100:hover{background-color:var(--color-gray-100,oklch(96.7% .001 286.375))}.__craftile .hover\\:bg-gray-200:hover{background-color:var(--color-gray-200,oklch(92% .004 286.32))}.__craftile .hover\\:bg-primary\\/90:hover{background-color:var(--color-primary,oklch(14.7% .004 49.25))}@supports (color:color-mix(in lab,red,red)){.__craftile .hover\\:bg-primary\\/90:hover{background-color:color-mix(in oklab,var(--color-primary,oklch(14.7% .004 49.25))90%,transparent)}}.__craftile .hover\\:bg-red-50:hover{background-color:var(--color-red-50)}.__craftile .hover\\:bg-red-100:hover{background-color:var(--color-red-100)}.__craftile .hover\\:bg-red-700:hover{background-color:var(--color-red-700)}.__craftile .hover\\:bg-secondary\\/90:hover{background-color:var(--color-secondary,oklch(92% .004 286.32))}@supports (color:color-mix(in lab,red,red)){.__craftile .hover\\:bg-secondary\\/90:hover{background-color:color-mix(in oklab,var(--color-secondary,oklch(92% .004 286.32))90%,transparent)}}.__craftile .hover\\:text-accent:hover{color:var(--color-accent,oklch(54.6% .245 262.881))}.__craftile .hover\\:text-gray-600:hover{color:var(--color-gray-600,oklch(44.2% .017 285.786))}.__craftile .hover\\:text-gray-700:hover{color:var(--color-gray-700,oklch(37% .013 285.805))}.__craftile .hover\\:text-red-600:hover{color:var(--color-red-600)}.__craftile .hover\\:opacity-100:hover{opacity:1}.__craftile .hover\\:ring-2:hover{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.__craftile .hover\\:ring-accent\\/40:hover{--tw-ring-color:var(--color-accent,oklch(54.6% .245 262.881))}@supports (color:color-mix(in lab,red,red)){.__craftile .hover\\:ring-accent\\/40:hover{--tw-ring-color:color-mix(in oklab,var(--color-accent,oklch(54.6% .245 262.881))40%,transparent)}}}.__craftile .focus\\:ring-1:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.__craftile .focus\\:ring-2:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.__craftile .focus\\:ring-blue-500:focus{--tw-ring-color:var(--color-blue-500)}.__craftile .focus\\:outline-none:focus{--tw-outline-style:none;outline-style:none}.__craftile .focus-visible\\:border-transparent:focus-visible{border-color:#0000}.__craftile .focus-visible\\:ring-2:focus-visible{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.__craftile .focus-visible\\:ring-accent:focus-visible{--tw-ring-color:var(--color-accent,oklch(54.6% .245 262.881))}.__craftile .focus-visible\\:ring-offset-2:focus-visible{--tw-ring-offset-width:2px;--tw-ring-offset-shadow:var(--tw-ring-inset,)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color)}.__craftile .focus-visible\\:outline-none:focus-visible{--tw-outline-style:none;outline-style:none}.__craftile .active\\:cursor-grabbing:active{cursor:grabbing}@media (hover:hover){.__craftile .hover\\:enabled\\:bg-gray-500:hover:enabled{background-color:var(--color-gray-500,oklch(55.2% .016 285.938))}.__craftile .hover\\:enabled\\:bg-red-800:hover:enabled{background-color:var(--color-red-800)}.__craftile .hover\\:enabled\\:text-gray-100:hover:enabled{color:var(--color-gray-100,oklch(96.7% .001 286.375))}.__craftile .hover\\:enabled\\:text-red-200:hover:enabled{color:var(--color-red-200)}}.__craftile .active\\:enabled\\:bg-gray-600:active:enabled{background-color:var(--color-gray-600,oklch(44.2% .017 285.786))}.__craftile .disabled\\:pointer-events-none:disabled{pointer-events:none}.__craftile .disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.__craftile .disabled\\:text-gray-600:disabled{color:var(--color-gray-600,oklch(44.2% .017 285.786))}.__craftile .disabled\\:opacity-50:disabled{opacity:.5}.__craftile .data-selected\\:border[data-selected]{border-style:var(--tw-border-style);border-width:1px}.__craftile .data-selected\\:border-b-2[data-selected]{border-bottom-style:var(--tw-border-style);border-bottom-width:2px}.__craftile .data-selected\\:border-accent[data-selected],.__craftile .data-selected\\:border-accent\\/20[data-selected]{border-color:var(--color-accent,oklch(54.6% .245 262.881))}@supports (color:color-mix(in lab,red,red)){.__craftile .data-selected\\:border-accent\\/20[data-selected]{border-color:color-mix(in oklab,var(--color-accent,oklch(54.6% .245 262.881))20%,transparent)}}.__craftile .data-selected\\:bg-accent\\/10[data-selected]{background-color:var(--color-accent,oklch(54.6% .245 262.881))}@supports (color:color-mix(in lab,red,red)){.__craftile .data-selected\\:bg-accent\\/10[data-selected]{background-color:color-mix(in oklab,var(--color-accent,oklch(54.6% .245 262.881))10%,transparent)}}.__craftile .data-selected\\:bg-white[data-selected]{background-color:var(--color-white)}.__craftile .data-selected\\:text-accent[data-selected]{color:var(--color-accent,oklch(54.6% .245 262.881))}.__craftile .data-selected\\:shadow[data-selected]{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}@media (hover:hover){.__craftile .data-selected\\:hover\\:bg-accent\\/10[data-selected]:hover{background-color:var(--color-accent,oklch(54.6% .245 262.881))}@supports (color:color-mix(in lab,red,red)){.__craftile .data-selected\\:hover\\:bg-accent\\/10[data-selected]:hover{background-color:color-mix(in oklab,var(--color-accent,oklch(54.6% .245 262.881))10%,transparent)}}}.__craftile .data-\\[disabled\\]\\:cursor-not-allowed[data-disabled]{cursor:not-allowed}.__craftile .data-\\[disabled\\]\\:opacity-50[data-disabled]{opacity:.5}.__craftile .data-\\[state\\=checked\\]\\:bg-accent\\/10[data-state=checked]{background-color:var(--color-accent,oklch(54.6% .245 262.881))}@supports (color:color-mix(in lab,red,red)){.__craftile .data-\\[state\\=checked\\]\\:bg-accent\\/10[data-state=checked]{background-color:color-mix(in oklab,var(--color-accent,oklch(54.6% .245 262.881))10%,transparent)}}.__craftile .data-\\[state\\=checked\\]\\:text-accent[data-state=checked]{color:var(--color-accent,oklch(54.6% .245 262.881))}.__craftile .data-\\[state\\=closed\\]\\:animate-exit[data-state=closed]{animation:var(--animate-exit)}.__craftile .data-\\[state\\=open\\]\\:rotate-180[data-state=open]{rotate:180deg}.__craftile .data-\\[state\\=open\\]\\:animate-enter[data-state=open]{animation:var(--animate-enter)}.__craftile .\\[\\&_svg\\]\\:h-full svg{height:100%}.__craftile .\\[\\&_svg\\]\\:w-full svg{width:100%}.__craftile .\\[\\&_svg\\]\\:fill-current svg{fill:currentColor}.__craftile .\\[\\&\\>svg\\]\\:h-4>svg{height:calc(var(--spacing)*4)}.__craftile .\\[\\&\\>svg\\]\\:w-3\\.5>svg{width:calc(var(--spacing)*3.5)}.__craftile .\\[\\&\\>svg\\]\\:w-4>svg{width:calc(var(--spacing)*4)}}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}@property --tw-ease{syntax:"*";inherits:false}@keyframes spin{to{transform:rotate(360deg)}}@keyframes enter{0%{opacity:0;transform:scale(.95)translateY(-10px)}to{opacity:1;transform:scale(1)translateY(0)}}@keyframes exit{0%{opacity:1;transform:scale(1)translateY(0)}to{opacity:0;transform:scale(.95)translateY(-10px)}}')),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const sp=()=>crypto.randomUUID?crypto.randomUUID():Date.now().toString(36)+Math.random().toString(36).substr(2),ut=e=>e.id||e.name;let d2=class{listeners=new Map;on(t,n){return this.listeners.has(t)||this.listeners.set(t,new Set),this.listeners.get(t).add(n),()=>{this.off(t,n)}}off(t,n){const r=this.listeners.get(t);r&&(r.delete(n),r.size===0&&this.listeners.delete(t))}once(t,n){const r=o=>{n(o),this.off(t,r)};this.on(t,r)}emit(t,...n){const r=this.listeners.get(t);if(r){const o=n[0];r.forEach(i=>{try{i(o)}catch(s){console.error(`Error in event listener for '${String(t)}':`,s)}})}}removeAllListeners(t){t?this.listeners.delete(t):this.listeners.clear()}},tH=class{schemas=new Map;patternCache=new Map;register(t,n){if(this.schemas.has(t))throw new Error(`Block type '${t}' is already registered`);this.schemas.set(t,n)}registerMany(t){for(const[n,r]of Object.entries(t))this.register(n,r)}unregister(t){return this.schemas.delete(t)}get(t){return this.schemas.get(t)}has(t){return this.schemas.has(t)}getAll(){const t={};for(const[n,r]of this.schemas.entries())t[n]=r;return t}find(t){const n=[];for(const[r,o]of this.schemas.entries())t(r,o)&&n.push(r);return n}canBeChild(t,n){const r=this.get(n);return!r||!r.accepts?!1:this.get(t)?.private===!0?r.accepts.includes(t):r.accepts.some(o=>this.matchesPattern(t,o))}getTypes(){return Array.from(this.schemas.keys())}matchesPattern(t,n){if(n==="*")return!0;if(!this.patternCache.has(n)){const r="^"+n.replace(/\*/g,"__WILDCARD__").replace(/[.+?^${}()|[\]\\]/g,"\\$&").replace(/__WILDCARD__/g,".*")+"$";this.patternCache.set(n,new RegExp(r))}return this.patternCache.get(n).test(t)}},nH=class{history=[];currentIndex=-1;maxHistorySize;constructor(t=100){this.maxHistorySize=t}addCommand(t){this.currentIndex<this.history.length-1&&this.history.splice(this.currentIndex+1),this.history.length>=this.maxHistorySize&&(this.history.shift(),this.currentIndex--),this.history.push(t),this.currentIndex++}undo(){if(!this.canUndo())return null;const t=this.history[this.currentIndex];return t.revert(),this.currentIndex--,t}redo(){if(!this.canRedo())return null;this.currentIndex++;const t=this.history[this.currentIndex];return t.apply(),t}canUndo(){return this.currentIndex>=0}canRedo(){return this.currentIndex<this.history.length-1}clear(){this.history=[],this.currentIndex=-1}getCurrentIndex(){return this.currentIndex}getHistorySize(){return this.history.length}},rH=class{page;blockType;parentId;regionId;index;blockId;properties;blockSchema;insertedBlock;actualIndex;emit;constructor(t,n){this.page=t,this.blockType=n.blockType,this.parentId=n.parentId,this.regionId=n.regionId,this.index=n.index,this.blockId=sp(),this.emit=n.emit,this.blockSchema=n.blockSchema,this.properties=this.buildProperties(n.blockSchema)}apply(){const t=this.blockSchema?.meta?.name||this.blockType;if(this.insertedBlock={type:this.blockType,id:this.blockId,name:t,properties:this.properties,children:[],parentId:void 0},this.page.blocks[this.blockId]=this.insertedBlock,this.parentId){const n=this.page.blocks[this.parentId];if(!n)throw new Error(`Parent block not found: ${this.parentId}`);this.insertedBlock.parentId=n.id,this.index!==void 0&&this.index>=0&&this.index<=n.children.length?(n.children.splice(this.index,0,this.blockId),this.actualIndex=this.index):(n.children.push(this.blockId),this.actualIndex=n.children.length-1)}else{const n=this.regionId||ut(this.page.regions[0]);let r=this.page.regions.find(o=>ut(o)===n);r||(r={id:n,name:n,blocks:[]},this.page.regions.push(r)),this.index!==void 0&&this.index>=0&&this.index<=r.blocks.length?(r.blocks.splice(this.index,0,this.blockId),this.actualIndex=this.index):(r.blocks.push(this.blockId),this.actualIndex=r.blocks.length-1)}this.emit("block:insert",{blockId:this.blockId,block:this.insertedBlock,parentId:this.parentId,index:this.actualIndex,regionId:this.regionId||ut(this.page.regions[0])})}revert(){if(this.insertedBlock){if(delete this.page.blocks[this.blockId],this.parentId){const t=this.page.blocks[this.parentId];t&&this.actualIndex!==void 0&&t.children.splice(this.actualIndex,1)}else{const t=this.regionId||ut(this.page.regions[0]),n=this.page.regions.find(r=>ut(r)===t);n&&this.actualIndex!==void 0&&n.blocks.splice(this.actualIndex,1)}this.emit("block:remove",{blockId:this.blockId,block:this.insertedBlock,parentId:this.parentId})}}getBlockId(){return this.blockId}getInsertedBlock(){return this.insertedBlock}buildProperties(t){const n={};if(t?.properties)for(const r of t.properties)r.default!==void 0&&(n[r.id]=r.default);return n}},Qk=class{page;blockType;presetIndex;presetData;parentId;regionId;index;blockId;properties;insertedBlock;actualIndex;blocksManager;emit;createdBlockIds=[];constructor(t,n){if(this.page=t,this.blockType=n.blockType,this.presetIndex=n.presetIndex,this.presetData=n.presetData,this.parentId=n.parentId,this.regionId=n.regionId,this.index=n.index,this.blockId=sp(),this.blocksManager=n.blocksManager,this.emit=n.emit,n.presetIndex===void 0&&!n.presetData)throw new Error("Either presetIndex or presetData must be provided");const r=this.blocksManager.get(this.blockType);if(!r)throw new Error(`Block type '${this.blockType}' not found`);let o;if(n.presetData)o=n.presetData.properties;else if(n.presetIndex!==void 0){const i=r.presets?.[n.presetIndex];if(!i)throw new Error(`Preset at index ${n.presetIndex} not found for block type '${this.blockType}'`);o=i.properties}this.properties=this.buildProperties(r,o)}apply(){const t=this.blocksManager.get(this.blockType);if(this.presetData)this.insertedBlock={type:this.blockType,id:this.blockId,name:this.presetData.name||t?.meta?.name||this.blockType,semanticId:this.presetData.semanticId||this.presetData.id,properties:this.properties,children:[],parentId:void 0,static:this.presetData.static,disabled:this.presetData.disabled,repeated:this.presetData.repeated,ghost:this.presetData.ghost},this.page.blocks[this.blockId]=this.insertedBlock,this.createdBlockIds.push(this.blockId),this.presetData.children&&this.presetData.children.length>0&&(this.insertedBlock.children=this.createChildrenFromPreset(this.presetData.children,this.blockId));else if(this.presetIndex!==void 0){const n=t?.presets?.[this.presetIndex];if(!n)throw new Error(`Preset at index ${this.presetIndex} not found`);this.insertedBlock={type:this.blockType,id:this.blockId,name:n.name,properties:this.properties,children:[],parentId:void 0},this.page.blocks[this.blockId]=this.insertedBlock,this.createdBlockIds.push(this.blockId),n.children&&n.children.length>0&&(this.insertedBlock.children=this.createChildrenFromPreset(n.children,this.blockId))}if(!this.insertedBlock)throw new Error("Failed to create block");if(this.parentId){const n=this.page.blocks[this.parentId];if(!n)throw new Error(`Parent block not found: ${this.parentId}`);this.insertedBlock.parentId=n.id,this.index!==void 0&&this.index>=0&&this.index<=n.children.length?(n.children.splice(this.index,0,this.blockId),this.actualIndex=this.index):(n.children.push(this.blockId),this.actualIndex=n.children.length-1)}else{const n=this.regionId||ut(this.page.regions[0]);let r=this.page.regions.find(o=>ut(o)===n);r||(r={id:n,name:n,blocks:[]},this.page.regions.push(r)),this.index!==void 0&&this.index>=0&&this.index<=r.blocks.length?(r.blocks.splice(this.index,0,this.blockId),this.actualIndex=this.index):(r.blocks.push(this.blockId),this.actualIndex=r.blocks.length-1)}this.emit("block:insert",{blockId:this.blockId,block:this.insertedBlock,parentId:this.parentId,index:this.actualIndex,regionId:this.regionId||ut(this.page.regions[0])})}revert(){if(this.insertedBlock){for(const t of this.createdBlockIds)delete this.page.blocks[t];if(this.parentId){const t=this.page.blocks[this.parentId];t&&this.actualIndex!==void 0&&t.children.splice(this.actualIndex,1)}else{const t=this.regionId||ut(this.page.regions[0]),n=this.page.regions.find(r=>ut(r)===t);n&&this.actualIndex!==void 0&&n.blocks.splice(this.actualIndex,1)}this.emit("block:remove",{blockId:this.blockId,block:this.insertedBlock,parentId:this.parentId})}}getBlockId(){return this.blockId}getInsertedBlock(){return this.insertedBlock}createChildrenFromPreset(t,n){const r=[];for(const o of t){const i=sp(),s=this.blocksManager.get(o.type);if(!s){console.warn(`Block type '${o.type}' not found, skipping child`);continue}const a=this.buildProperties(s,o.properties),l={type:o.type,id:i,name:o.name||s.meta?.name||o.type,semanticId:o.semanticId||o.id,properties:a,children:[],parentId:n,static:o.static,disabled:o.disabled,repeated:o.repeated,ghost:o.ghost};this.page.blocks[i]=l,this.createdBlockIds.push(i),o.children&&o.children.length>0&&(l.children=this.createChildrenFromPreset(o.children,i)),r.push(i)}return r}buildProperties(t,n){const r={};if(t?.properties)for(const o of t.properties)o.default!==void 0&&(r[o.id]=o.default);return n&&Object.assign(r,n),r}},oH=class{page;blockId;removedBlock;originalIndex;originalParentId;regionId;emit;constructor(t,n){this.page=t,this.blockId=n.blockId,this.emit=n.emit}apply(){if(this.removedBlock=this.page.blocks[this.blockId],!this.removedBlock)throw new Error(`Block not found: ${this.blockId}`);if(this.originalParentId=this.removedBlock.parentId,this.originalParentId){const t=this.page.blocks[this.originalParentId];t&&(this.originalIndex=t.children.indexOf(this.blockId),this.originalIndex!==-1&&t.children.splice(this.originalIndex,1))}else{const t=this.page.regions.find(n=>n.blocks.includes(this.blockId));t&&(this.originalIndex=t.blocks.indexOf(this.blockId),this.regionId=ut(t),t.blocks.splice(this.originalIndex,1))}delete this.page.blocks[this.blockId],this.emit("block:remove",{blockId:this.blockId,block:this.removedBlock,parentId:this.originalParentId})}revert(){if(!(!this.removedBlock||this.originalIndex===void 0)){if(this.page.blocks[this.blockId]=this.removedBlock,this.originalParentId){const t=this.page.blocks[this.originalParentId];t&&t.children.splice(this.originalIndex,0,this.blockId)}else if(this.regionId){const t=this.page.regions.find(n=>ut(n)===this.regionId);t&&t.blocks.splice(this.originalIndex,0,this.blockId)}this.emit("block:insert",{blockId:this.blockId,block:this.removedBlock,parentId:this.originalParentId,index:this.originalIndex,regionId:this.regionId})}}getBlockId(){return this.blockId}getRemovedBlock(){return this.removedBlock}},iH=class{page;blockId;targetParentId;targetIndex;targetRegionId;blockToMove;originalParentId;originalIndex;originalRegionId;emit;constructor(t,n){this.page=t,this.blockId=n.blockId,this.targetParentId=n.targetParentId,this.targetIndex=n.targetIndex,this.targetRegionId=n.targetRegionId,this.emit=n.emit}apply(){if(this.blockToMove=this.page.blocks[this.blockId],!this.blockToMove)throw new Error(`Block not found: ${this.blockId}`);if(this.targetParentId&&!this.page.blocks[this.targetParentId])throw new Error(`Target parent not found: ${this.targetParentId}`);if(this.originalParentId=this.blockToMove.parentId,this.originalParentId){const t=this.page.blocks[this.originalParentId];t&&(this.originalIndex=t.children.indexOf(this.blockId),this.originalIndex!==-1&&t.children.splice(this.originalIndex,1))}else{const t=this.page.regions.find(n=>n.blocks.includes(this.blockId));t&&(this.originalIndex=t.blocks.indexOf(this.blockId),this.originalRegionId=ut(t),t.blocks.splice(this.originalIndex,1))}if(this.targetParentId){const t=this.page.blocks[this.targetParentId];this.blockToMove.parentId=this.targetParentId,this.targetIndex!==void 0&&this.targetIndex>=0&&this.targetIndex<=t.children.length?t.children.splice(this.targetIndex,0,this.blockId):t.children.push(this.blockId)}else{this.blockToMove.parentId=void 0;const t=this.targetRegionId||ut(this.page.regions[0])||"main";let n=this.page.regions.find(r=>ut(r)===t);n||(n={id:t,name:t,blocks:[]},this.page.regions.push(n)),this.targetIndex!==void 0&&this.targetIndex>=0&&this.targetIndex<=n.blocks.length?n.blocks.splice(this.targetIndex,0,this.blockId):n.blocks.push(this.blockId)}this.emit("block:move",{blockId:this.blockId,targetParentId:this.targetParentId,targetIndex:this.targetIndex,targetRegionId:this.targetRegionId,sourceParentId:this.originalParentId||null,sourceRegionId:this.originalRegionId||null,sourceIndex:this.originalIndex})}revert(){if(!(!this.blockToMove||this.originalIndex===void 0)){if(this.blockToMove.parentId){const t=this.page.blocks[this.blockToMove.parentId];if(t){const n=t.children.indexOf(this.blockId);n!==-1&&t.children.splice(n,1)}}else{const t=this.page.regions.find(n=>n.blocks.includes(this.blockId));if(t){const n=t.blocks.indexOf(this.blockId);n!==-1&&t.blocks.splice(n,1)}}if(this.blockToMove.parentId=this.originalParentId,this.originalParentId){const t=this.page.blocks[this.originalParentId];t&&t.children.splice(this.originalIndex,0,this.blockId)}else if(this.originalRegionId){const t=this.page.regions.find(n=>ut(n)===this.originalRegionId);t&&t.blocks.splice(this.originalIndex,0,this.blockId)}this.emit("block:move",{blockId:this.blockId,targetParentId:this.originalParentId,targetIndex:this.originalIndex,targetRegionId:this.originalRegionId,sourceParentId:this.targetParentId||null,sourceRegionId:this.targetRegionId||null,sourceIndex:this.targetIndex||0})}}getBlockId(){return this.blockId}getTargetParentId(){return this.targetParentId}getTargetIndex(){return this.targetIndex}getTargetRegionId(){return this.targetRegionId}getSourceParentId(){return this.originalParentId||null}getSourceRegionId(){return this.originalRegionId||null}getSourceIndex(){return this.originalIndex}},sH=class{page;blockId;targetDisabled;originalDisabled;block;emit;constructor(t,n){this.page=t,this.blockId=n.blockId,this.targetDisabled=n.disabled,this.emit=n.emit}apply(){if(this.block=this.page.blocks[this.blockId],!this.block)throw new Error(`Block not found: ${this.blockId}`);this.originalDisabled=this.block.disabled,this.targetDisabled!==void 0?this.block.disabled=this.targetDisabled:this.block.disabled=!this.block.disabled,this.emit("block:toggle",{blockId:this.blockId,disabled:this.block.disabled??!1,oldValue:this.originalDisabled})}revert(){this.block&&(this.originalDisabled!==void 0?this.block.disabled=this.originalDisabled:this.block.disabled=!this.block.disabled,this.emit("block:toggle",{blockId:this.blockId,disabled:this.block.disabled??!1,oldValue:this.targetDisabled!==void 0?this.targetDisabled:!this.originalDisabled}))}getBlockId(){return this.blockId}getOriginalDisabled(){return this.originalDisabled}getNewDisabled(){return this.block?.disabled}},aH=class{page;blockId;propertyKey;propertyValue;originalValue;block;emit;constructor(t,n){this.page=t,this.blockId=n.blockId,this.propertyKey=n.propertyKey,this.propertyValue=n.propertyValue,this.emit=n.emit}apply(){if(this.block=this.page.blocks[this.blockId],!this.block)throw new Error(`Block not found: ${this.blockId}`);this.block.properties||(this.block.properties={}),this.originalValue=this.block.properties[this.propertyKey],this.block.properties[this.propertyKey]=this.propertyValue,this.emit("block:property:set",{blockId:this.blockId,key:this.propertyKey,value:this.propertyValue,oldValue:this.originalValue})}revert(){!this.block||!this.block.properties||(this.originalValue!==void 0?this.block.properties[this.propertyKey]=this.originalValue:delete this.block.properties[this.propertyKey],this.emit("block:property:set",{blockId:this.blockId,key:this.propertyKey,value:this.originalValue,oldValue:this.propertyValue}))}getBlockId(){return this.blockId}getPropertyKey(){return this.propertyKey}getPropertyValue(){return this.propertyValue}getOriginalValue(){return this.originalValue}},lH=class{page;blockId;duplicatedBlockId;duplicatedBlock;parentId;insertIndex;regionId;emit;constructor(t,n){this.page=t,this.blockId=n.blockId,this.emit=n.emit}apply(){const t=this.page.blocks[this.blockId];if(!t)throw new Error(`Block not found: ${this.blockId}`);this.duplicatedBlockId=sp(),this.duplicatedBlock=this.cloneBlockWithNewIds(t,this.duplicatedBlockId,t.parentId),this.determineInsertLocation(),this.insertDuplicatedBlock(),this.emit("block:duplicate",{originalBlockId:this.blockId,newBlockId:this.duplicatedBlockId,newBlock:this.duplicatedBlock,parentId:this.parentId||void 0,index:this.insertIndex,regionId:this.regionId||void 0})}revert(){!this.duplicatedBlock||!this.duplicatedBlockId||this.removeDuplicatedBlock()}getBlockId(){return this.blockId}getDuplicatedBlockId(){return this.duplicatedBlockId}getDuplicatedBlock(){return this.duplicatedBlock}getParentId(){return this.parentId}getInsertIndex(){return this.insertIndex}getRegionId(){return this.regionId}cloneBlockWithNewIds(t,n,r){const o={...structuredClone(t),id:n,parentId:r,children:[]};if(t.children&&t.children.length>0)for(const i of t.children){const s=this.page.blocks[i];if(s){const a=sp();this.cloneBlockWithNewIds(s,a,n),o.children.push(a)}}return this.page.blocks[n]=o,o}determineInsertLocation(){const t=this.page.blocks[this.blockId];if(!t)throw new Error(`Block not found: ${this.blockId}`);if(this.parentId=t.parentId||null,this.parentId){const n=this.page.blocks[this.parentId];if(n){const r=n.children.indexOf(this.blockId);this.insertIndex=r!==-1?r+1:n.children.length}else this.insertIndex=0}else{const n=this.page.regions.find(r=>r.blocks.includes(this.blockId));if(n){const r=n.blocks.indexOf(this.blockId);this.regionId=ut(n),this.insertIndex=r+1}else this.regionId=ut(this.page.regions[0])||"main",this.insertIndex=this.page.regions[0].blocks.length||0}}insertDuplicatedBlock(){if(this.duplicatedBlock)if(this.parentId){const t=this.page.blocks[this.parentId];if(!t)throw new Error(`Parent block not found: ${this.parentId}`);t.children.splice(this.insertIndex,0,this.duplicatedBlockId)}else{let t=this.page.regions.find(n=>n.name===this.regionId);t||(t={name:this.regionId||"main",blocks:[]},this.page.regions.push(t)),t.blocks.splice(this.insertIndex,0,this.duplicatedBlockId)}}removeDuplicatedBlock(){if(this.duplicatedBlockId){if(this.removeBlockAndChildren(this.duplicatedBlockId),this.parentId){const t=this.page.blocks[this.parentId];if(t){const n=t.children.indexOf(this.duplicatedBlockId);n!==-1&&t.children.splice(n,1)}}else if(this.page.regions){const t=this.page.regions.find(n=>n.name===this.regionId);if(t){const n=t.blocks.indexOf(this.duplicatedBlockId);n!==-1&&t.blocks.splice(n,1)}}}}removeBlockAndChildren(t){const n=this.page.blocks[t];if(n){for(const r of n.children)this.removeBlockAndChildren(r);delete this.page.blocks[t]}}},cH=class{page;blockId;newName;oldName;block;emit;constructor(t,n){if(this.page=t,this.blockId=n.blockId,this.newName=n.name,this.emit=n.emit,this.block=this.page.blocks[this.blockId],!this.block)throw new Error(`Block not found: ${this.blockId}`);this.oldName=this.block.name}apply(){if(!this.block)throw new Error(`Block not found: ${this.blockId}`);this.block.name=this.newName,this.emit("block:update",{blockId:this.blockId,block:this.block,property:"name",value:this.newName,oldValue:this.oldName})}revert(){this.block&&(this.block.name=this.oldName,this.emit("block:update",{blockId:this.blockId,block:this.block,property:"name",value:this.oldName,oldValue:this.newName}))}},Qy=class extends d2{page;blocksManager;historyManager;constructor(t={}){super(),this.blocksManager=t.blocksManager||new tH,this.historyManager=new nH,this.setPage(t.page?t.page:{blocks:{},regions:[{id:"main",name:"main",blocks:[]}]}),t.blockSchemas&&t.blockSchemas.length>0&&t.blockSchemas.forEach(n=>{this.blocksManager.register(n.type,n)})}insertBlock(t,n){const r=this.blocksManager.get(t);if(!r)throw new Error(`Block type '${t}' is not registered`);if(n?.parentId){const i=this.page.blocks[n.parentId];if(!i)throw new Error(`Parent block not found: ${n.parentId}`);if(!this.blocksManager.canBeChild(t,i.type))throw new Error(`Block type '${t}' cannot be a child of '${i.type}'`)}const o=new rH(this.page,{blockType:t,parentId:n?.parentId,regionId:n?.regionId,index:n?.index,blockSchema:r,emit:this.emit.bind(this)});return o.apply(),this.historyManager.addCommand(o),o.getBlockId()}insertBlockFromPreset(t,n,r){const o=this.blocksManager.get(t);if(!o)throw new Error(`Block type '${t}' is not registered`);if(!o.presets||!o.presets[n])throw new Error(`Preset at index ${n} not found for block type '${t}'`);if(r?.parentId){const s=this.page.blocks[r.parentId];if(!s)throw new Error(`Parent block not found: ${r.parentId}`);if(!this.blocksManager.canBeChild(t,s.type))throw new Error(`Block type '${t}' cannot be a child of '${s.type}'`)}const i=new Qk(this.page,{blockType:t,presetIndex:n,parentId:r?.parentId,regionId:r?.regionId,index:r?.index,blocksManager:this.blocksManager,emit:this.emit.bind(this)});return i.apply(),this.historyManager.addCommand(i),i.getBlockId()}removeBlock(t){const n=new oH(this.page,{blockId:t,emit:this.emit.bind(this)});n.apply(),this.historyManager.addCommand(n)}moveBlock(t,n){const r=this.page.blocks[t];if(n?.targetParentId){const i=this.page.blocks[n.targetParentId];if(!i)throw new Error(`Target parent block not found: ${n.targetParentId}`);if(!this.blocksManager.canBeChild(r.type,i.type))throw new Error(`Block type '${r.type}' cannot be a child of '${i.type}'`)}const o=new iH(this.page,{blockId:t,targetParentId:n?.targetParentId,targetIndex:n?.targetIndex,targetRegionId:n?.targetRegionId,emit:this.emit.bind(this)});o.apply(),this.historyManager.addCommand(o)}toggleBlock(t,n){const r=new sH(this.page,{blockId:t,disabled:n,emit:this.emit.bind(this)});r.apply(),this.historyManager.addCommand(r)}setBlockProperty(t,n,r){const o=new aH(this.page,{blockId:t,propertyKey:n,propertyValue:r,emit:this.emit.bind(this)});o.apply(),this.historyManager.addCommand(o)}setBlockName(t,n){const r=new cH(this.page,{blockId:t,name:n,emit:this.emit.bind(this)});r.apply(),this.historyManager.addCommand(r)}duplicateBlock(t){const n=new lH(this.page,{blockId:t,emit:this.emit.bind(this)});return n.apply(),this.historyManager.addCommand(n),n.getDuplicatedBlockId()}getBlockById(t){return this.page.blocks[t]}exportBlockAsNestedStructure(t){const n=this.page.blocks[t];if(!n)throw new Error(`Block not found: ${t}`);const r={type:n.type,id:n.id,semanticId:n.semanticId,properties:structuredClone(n.properties),name:n.name,static:n.static,disabled:n.disabled,repeated:n.repeated,children:[]};return n.children&&n.children.length>0&&(r.children=n.children.map(o=>this.exportBlockAsNestedStructure(o))),r}pasteBlock(t,n){if(!this.blocksManager.get(t.type))throw new Error(`Block type '${t.type}' is not registered`);if(n?.parentId){const o=this.page.blocks[n.parentId];if(!o)throw new Error(`Parent block not found: ${n.parentId}`);if(!this.blocksManager.canBeChild(t.type,o.type))throw new Error(`Block type '${t.type}' cannot be a child of '${o.type}'`)}const r=new Qk(this.page,{blockType:t.type,presetData:t,parentId:n?.parentId,regionId:n?.regionId,index:n?.index,blocksManager:this.blocksManager,emit:this.emit.bind(this)});return r.apply(),this.historyManager.addCommand(r),r.getBlockId()}getPage(){return structuredClone(this.page)}setPage(t){const n=structuredClone(this.page);this.page=structuredClone(t),this.page.regions.length===0&&(this.page.regions=[{id:"main",name:"main",blocks:Object.keys(this.page.blocks)}]),this.page.regions.length===0&&(this.page.regions=[{id:"main",name:"main",blocks:Object.values(this.page.blocks).filter(r=>!r.parentId).map(r=>r.id)}]),this.initializeParentChildRelationships(),this.historyManager.clear(),this.emit("page:set",{previousPage:n,newPage:structuredClone(this.page)})}getBlocksManager(){return this.blocksManager}getBlockSchemas(){return this.blocksManager.getAll()}getBlockSchema(t){return this.blocksManager.get(t)}undo(){const t=this.historyManager.undo();return t!==null&&this.emit("undo",{command:t}),t!==null}redo(){const t=this.historyManager.redo();return t!==null&&this.emit("redo",{command:t}),t!==null}canUndo(){return this.historyManager.canUndo()}canRedo(){return this.historyManager.canRedo()}initializeParentChildRelationships(){const t=n=>{n.children&&n.children.length>0&&n.children.forEach(r=>{const o=this.page.blocks[r];o&&(o.parentId||(o.parentId=n.id),t(o))})};Object.values(this.page.blocks).forEach(t)}};const Gp=P({__name:"RenderFunctionWrapper",props:{renderFn:{type:Function}},setup(e){const t=dt(Qt),n=e,r=Q(),o=()=>{if(!r.value||!n.renderFn)return;r.value.innerHTML="";const i=n.renderFn({editor:t});r.value.appendChild(i)};return Je(()=>{o()}),st(()=>n.renderFn,()=>{o()}),(i,s)=>(y(),V("div",{ref_key:"containerRef",ref:r},null,512))}}),uH={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function dH(e,t){return y(),V("svg",uH,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M6 18L18 6M6 6l12 12"},null,-1)])])}const Sx=fe({name:"heroicons-x-mark",render:dH}),[p2,Wp]=Rt("AccordionContext"),pH=P({__name:"accordion-context",setup(e){const t=Wp();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),[f2,qp]=Rt("CollapsibleContext"),fH=P({__name:"collapsible-content",props:{asChild:{type:Boolean}},setup(e){const t=qp();return se(),(n,r)=>d(t).unmounted?Z("",!0):(y(),$(d(he).div,F({key:0},d(t).getContentProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),hH=P({__name:"collapsible-context",setup(e){const t=qp();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),gH=P({__name:"collapsible-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=A(()=>t.value);return f2(n),se(),(r,o)=>(y(),$(d(he).div,F(n.value.getRootProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}});var mH=ar("collapsible").parts("root","trigger","content","indicator"),Nf=mH.build(),vH=e=>e.ids?.root??`collapsible:${e.id}`,e0=e=>e.ids?.content??`collapsible:${e.id}:content`,bH=e=>e.ids?.trigger??`collapsible:${e.id}:trigger`,Mf=e=>e.getById(e0(e));function yH(e,t){const{state:n,send:r,context:o,scope:i,prop:s}=e,a=n.matches("open")||n.matches("closing"),l=n.matches("open"),{width:c,height:u}=o.get("size"),p=!!s("disabled"),h=!o.get("initial")&&l,f="ltr";return{disabled:p,visible:a,open:l,measureSize(){r({type:"size.measure"})},setOpen(g){n.matches("open")!==g&&r({type:g?"open":"close"})},getRootProps(){return t.element({...Nf.root.attrs,"data-state":l?"open":"closed",dir:f,id:vH(i)})},getContentProps(){return t.element({...Nf.content.attrs,"data-collapsible":"","data-state":h?void 0:l?"open":"closed",id:e0(i),"data-disabled":_e(p),hidden:!a,style:{"--height":u!=null?`${u}px`:void 0,"--width":c!=null?`${c}px`:void 0}})},getTriggerProps(){return t.element({...Nf.trigger.attrs,id:bH(i),dir:f,type:"button","data-state":l?"open":"closed","data-disabled":_e(p),"aria-controls":e0(i),"aria-expanded":a||!1,onClick(g){g.defaultPrevented||p||r({type:l?"close":"open"})}})},getIndicatorProps(){return t.element({...Nf.indicator.attrs,dir:f,"data-state":l?"open":"closed","data-disabled":_e(p)})}}}var xH={initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{size:e(()=>({defaultValue:{height:0,width:0},sync:!0})),initial:e(()=>({defaultValue:!1}))}},refs(){return{cleanup:void 0,stylesRef:void 0}},watch({track:e,prop:t,action:n}){e([()=>t("open")],()=>{n(["setInitial","computeSize","toggleVisibility"])})},exit:["clearInitial","cleanupNode"],states:{closed:{on:{"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","computeSize","invokeOnOpen"]}]}},closing:{effects:["trackExitAnimation"],on:{"controlled.close":{target:"closed"},"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","invokeOnOpen"]}],close:[{guard:"isOpenControlled",actions:["invokeOnExitComplete"]},{target:"closed",actions:["setInitial","computeSize","invokeOnExitComplete"]}],"animation.end":{target:"closed",actions:["invokeOnExitComplete","clearInitial"]}}},open:{effects:["trackEnterAnimation"],on:{"controlled.close":{target:"closing"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closing",actions:["setInitial","computeSize","invokeOnClose"]}],"size.measure":{actions:["measureSize"]},"animation.end":{actions:["clearInitial"]}}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackEnterAnimation:({send:e,scope:t})=>{let n;const r=Ke(()=>{const o=Mf(t);if(!o)return;const i=Vc(o).animationName;if(!i||i==="none"){e({type:"animation.end"});return}const s=a=>{Xt(a)===o&&e({type:"animation.end"})};o.addEventListener("animationend",s),n=()=>{o.removeEventListener("animationend",s)}});return()=>{r(),n?.()}},trackExitAnimation:({send:e,scope:t})=>{let n;const r=Ke(()=>{const o=Mf(t);if(!o)return;const i=Vc(o).animationName;if(!i||i==="none"){e({type:"animation.end"});return}const s=l=>{Xt(l)===o&&e({type:"animation.end"})};o.addEventListener("animationend",s);const a=np(o,{animationFillMode:"forwards"});n=()=>{o.removeEventListener("animationend",s),gx(()=>a())}});return()=>{r(),n?.()}}},actions:{setInitial:({context:e,flush:t})=>{t(()=>{e.set("initial",!0)})},clearInitial:({context:e})=>{e.set("initial",!1)},cleanupNode:({refs:e})=>{e.set("stylesRef",null)},measureSize:({context:e,scope:t})=>{const n=Mf(t);if(!n)return;const{height:r,width:o}=n.getBoundingClientRect();e.set("size",{height:r,width:o})},computeSize:({refs:e,scope:t,context:n})=>{e.get("cleanup")?.();const r=Ke(()=>{const o=Mf(t);if(!o)return;const i=o.hidden;o.style.animationName="none",o.style.animationDuration="0s",o.hidden=!1;const s=o.getBoundingClientRect();n.set("size",{height:s.height,width:s.width}),n.get("initial")&&(o.style.animationName="",o.style.animationDuration=""),o.hidden=i});e.set("cleanup",r)},invokeOnOpen:({prop:e})=>{e("onOpenChange")?.({open:!0})},invokeOnClose:({prop:e})=>{e("onOpenChange")?.({open:!1})},invokeOnExitComplete:({prop:e})=>{e("onExitComplete")?.()},toggleVisibility:({prop:e,send:t})=>{t({type:e("open")?"controlled.open":"controlled.close"})}}}};sn()(["dir","disabled","getRootNode","id","ids","onExitComplete","onOpenChange","defaultOpen","open"]);const wH=(e={},t)=>{const n=nt(),r=_o(ko),o=Ki(qi),i=A(()=>{const c=pe(e);return{id:n,dir:o.value.dir,getRootNode:r?.value.getRootNode,...ra(c),onExitComplete:()=>{t?.("exitComplete"),c.onExitComplete?.()},onOpenChange:u=>{t?.("openChange",u),t?.("update:open",u.open),c.onOpenChange?.(u)}}}),s=wo(xH,i),a=A(()=>yH(s,ii)),l=Q(!1);return st(()=>a.value.visible,()=>{a.value.visible&&(l.value=!0)}),A(()=>{const c=pe(e);return{...a.value,unmounted:!a.value.visible&&!l.value&&c.lazyMount||c.unmountOnExit&&!a.value.visible&&l.value}})},_H=P({__name:"collapsible-root",props:Ze({defaultOpen:{type:Boolean},disabled:{type:Boolean},id:{},ids:{},lazyMount:{type:Boolean},open:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{defaultOpen:void 0,disabled:void 0,lazyMount:void 0,open:void 0,unmountOnExit:void 0}),emits:["exitComplete","openChange","update:open"],setup(e,{emit:t}){const n=wH(e,t);return f2(n),se(),(r,o)=>(y(),$(d(he).div,F(d(n).getRootProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),kH=P({__name:"collapsible-trigger",props:{asChild:{type:Boolean}},setup(e){const t=qp();return se(),(n,r)=>(y(),$(d(he).button,F(d(t).getTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),CH=P({__name:"collapsible-indicator",props:{asChild:{type:Boolean}},setup(e){const t=qp();return se(),(n,r)=>(y(),$(d(he).div,F(d(t).getIndicatorProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),h2=Object.freeze(Object.defineProperty({__proto__:null,Content:fH,Context:hH,Indicator:CH,Root:_H,RootProvider:gH,Trigger:kH},Symbol.toStringTag,{value:"Module"})),EH=()=>(e,t)=>t.reduce((n,r)=>{const[o,i]=n,s=r;return i[s]!==void 0&&(o[s]=i[s]),delete i[s],[o,i]},[{},{...e}]),[OH,Px]=Rt("AccordionItemPropsContext"),IH=P({__name:"accordion-item-content",props:{asChild:{type:Boolean}},setup(e){const t=EH(),n=Wp(),r=Px(),o=A(()=>{const i=n.value.getItemContentProps(r),[,s]=t(i,["hidden","data-state"]);return s});return se(),(i,s)=>(y(),$(d(h2).Content,F(o.value,{"as-child":i.asChild}),{default:O(()=>[L(i.$slots,"default")]),_:3},16,["as-child"]))}}),[TH,SH]=Rt("AccordionItemContext"),PH=P({__name:"accordion-item-context",setup(e){const t=SH();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),$H=P({__name:"accordion-item-indicator",props:{asChild:{type:Boolean}},setup(e){const t=Wp(),n=Px();return se(),(r,o)=>(y(),$(d(he).div,F(d(t).getItemIndicatorProps(d(n)),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),RH=P({__name:"accordion-item-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Wp(),n=Px(),r=qp(),o=A(()=>{const{"aria-controls":i,...s}=t.value.getItemTriggerProps(n);return{...s,...r.value.unmounted?{}:{"aria-controls":i}}});return se(),(i,s)=>(y(),$(d(he).button,F(o.value,{"as-child":i.asChild}),{default:O(()=>[L(i.$slots,"default")]),_:3},16,["as-child"]))}}),AH=P({__name:"accordion-item",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=Wp(),n=e,r=A(()=>t.value.getItemState(n)),o=oa(),i=A(()=>t.value.getItemContentProps(n));return TH(r),OH(n),se(),(s,a)=>(y(),$(d(h2).Root,F(d(t).getItemProps(n),{open:r.value.expanded,"lazy-mount":d(o).lazyMount,"unmount-on-exit":d(o).unmountOnExit,ids:{content:i.value.id}}),{default:O(()=>[L(s.$slots,"default")]),_:3},16,["open","lazy-mount","unmount-on-exit","ids"]))}}),NH=P({__name:"accordion-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=A(()=>t.value);return p2(n),ur(A(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),se(),(r,o)=>(y(),$(d(he).div,F(n.value.getRootProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}});var MH=ar("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator"),Au=MH.build(),vg=e=>e.ids?.root??`accordion:${e.id}`,DH=(e,t)=>e.ids?.item?.(t)??`accordion:${e.id}:item:${t}`,eC=(e,t)=>e.ids?.itemContent?.(t)??`accordion:${e.id}:content:${t}`,bg=(e,t)=>e.ids?.itemTrigger?.(t)??`accordion:${e.id}:trigger:${t}`,LH=e=>e.getById(vg(e)),Jm=e=>{const t=`[aria-controls][data-ownedby='${CSS.escape(vg(e))}']:not([disabled])`;return vx(LH(e),t)},VH=e=>ax(Jm(e)),FH=e=>lx(Jm(e)),BH=(e,t)=>NP(Jm(e),bg(e,t)),HH=(e,t)=>MP(Jm(e),bg(e,t));function zH(e,t){const{send:n,context:r,prop:o,scope:i,computed:s}=e,a=r.get("focusedValue"),l=r.get("value"),c=o("multiple");function u(h){let f=h;!c&&f.length>1&&(f=[f[0]]),n({type:"VALUE.SET",value:f})}function p(h){return{expanded:l.includes(h.value),focused:a===h.value,disabled:!!(h.disabled??o("disabled"))}}return{focusedValue:a,value:l,setValue:u,getItemState:p,getRootProps(){return t.element({...Au.root.attrs,dir:o("dir"),id:vg(i),"data-orientation":o("orientation")})},getItemProps(h){const f=p(h);return t.element({...Au.item.attrs,dir:o("dir"),id:DH(i,h.value),"data-state":f.expanded?"open":"closed","data-focus":_e(f.focused),"data-disabled":_e(f.disabled),"data-orientation":o("orientation")})},getItemContentProps(h){const f=p(h);return t.element({...Au.itemContent.attrs,dir:o("dir"),role:"region",id:eC(i,h.value),"aria-labelledby":bg(i,h.value),hidden:!f.expanded,"data-state":f.expanded?"open":"closed","data-disabled":_e(f.disabled),"data-focus":_e(f.focused),"data-orientation":o("orientation")})},getItemIndicatorProps(h){const f=p(h);return t.element({...Au.itemIndicator.attrs,dir:o("dir"),"aria-hidden":!0,"data-state":f.expanded?"open":"closed","data-disabled":_e(f.disabled),"data-focus":_e(f.focused),"data-orientation":o("orientation")})},getItemTriggerProps(h){const{value:f}=h,g=p(h);return t.button({...Au.itemTrigger.attrs,type:"button",dir:o("dir"),id:bg(i,f),"aria-controls":eC(i,f),"aria-expanded":g.expanded,disabled:g.disabled,"data-orientation":o("orientation"),"aria-disabled":g.disabled,"data-state":g.expanded?"open":"closed","data-ownedby":vg(i),onFocus(){g.disabled||n({type:"TRIGGER.FOCUS",value:f})},onBlur(){g.disabled||n({type:"TRIGGER.BLUR"})},onClick(m){g.disabled||(px()&&m.currentTarget.focus(),n({type:"TRIGGER.CLICK",value:f}))},onKeyDown(m){if(m.defaultPrevented||g.disabled)return;const b={ArrowDown(){s("isHorizontal")||n({type:"GOTO.NEXT",value:f})},ArrowUp(){s("isHorizontal")||n({type:"GOTO.PREV",value:f})},ArrowRight(){s("isHorizontal")&&n({type:"GOTO.NEXT",value:f})},ArrowLeft(){s("isHorizontal")&&n({type:"GOTO.PREV",value:f})},Home(){n({type:"GOTO.FIRST",value:f})},End(){n({type:"GOTO.LAST",value:f})}},w=Fc(m,{dir:o("dir"),orientation:o("orientation")}),E=b[w];E&&(E(m),m.preventDefault())}})}}}var{and:UH,not:jH}=ru(),GH={props({props:e}){return{collapsible:!1,multiple:!1,orientation:"vertical",defaultValue:[],...e}},initialState(){return"idle"},context({prop:e,bindable:t}){return{focusedValue:t(()=>({defaultValue:null,sync:!0,onChange(n){e("onFocusChange")?.({value:n})}})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){e("onValueChange")?.({value:n})}}))}},computed:{isHorizontal:({prop:e})=>e("orientation")==="horizontal"},on:{"VALUE.SET":{actions:["setValue"]}},states:{idle:{on:{"TRIGGER.FOCUS":{target:"focused",actions:["setFocusedValue"]}}},focused:{on:{"GOTO.NEXT":{actions:["focusNextTrigger"]},"GOTO.PREV":{actions:["focusPrevTrigger"]},"TRIGGER.CLICK":[{guard:UH("isExpanded","canToggle"),actions:["collapse"]},{guard:jH("isExpanded"),actions:["expand"]}],"GOTO.FIRST":{actions:["focusFirstTrigger"]},"GOTO.LAST":{actions:["focusLastTrigger"]},"TRIGGER.BLUR":{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{canToggle:({prop:e})=>!!e("collapsible")||!!e("multiple"),isExpanded:({context:e,event:t})=>e.get("value").includes(t.value)},actions:{collapse({context:e,prop:t,event:n}){const r=t("multiple")?pP(e.get("value"),n.value):[];e.set("value",r)},expand({context:e,prop:t,event:n}){const r=t("multiple")?dP(e.get("value"),n.value):[n.value];e.set("value",r)},focusFirstTrigger({scope:e}){VH(e)?.focus()},focusLastTrigger({scope:e}){FH(e)?.focus()},focusNextTrigger({context:e,scope:t}){const n=e.get("focusedValue");n&&BH(t,n)?.focus()},focusPrevTrigger({context:e,scope:t}){const n=e.get("focusedValue");n&&HH(t,n)?.focus()},setFocusedValue({context:e,event:t}){e.set("focusedValue",t.value)},clearFocusedValue({context:e}){e.set("focusedValue",null)},setValue({context:e,event:t}){e.set("value",t.value)},coarseValue({context:e,prop:t}){!t("multiple")&&e.get("value").length>1&&(Lc("The value of accordion should be a single value when multiple is false."),e.set("value",[e.get("value")[0]]))}}}};sn()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value","defaultValue"]);sn()(["value","disabled"]);const WH=(e={},t)=>{const n=nt(),r=_o(ko),o=Ki(qi),i=A(()=>{const a=pe(e);return{id:n,dir:o.value.dir,getRootNode:r?.value.getRootNode,onFocusChange:l=>t?.("focusChange",l),value:a.modelValue,...ra(a),onValueChange:l=>{t?.("valueChange",l),t?.("update:modelValue",l.value),a?.onValueChange?.(l)}}}),s=wo(GH,i);return A(()=>zH(s,ii))},qH=P({__name:"accordion-root",props:Ze({collapsible:{type:Boolean},defaultValue:{},disabled:{type:Boolean},id:{},ids:{},modelValue:{},multiple:{type:Boolean},orientation:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{collapsible:void 0,disabled:void 0,multiple:void 0}),emits:["focusChange","valueChange","update:modelValue"],setup(e,{emit:t}){const n=e,r=WH(n,t);return p2(r),ur(A(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),se(),(o,i)=>(y(),$(d(he).div,F(d(r).getRootProps(),{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),Ho=Object.freeze(Object.defineProperty({__proto__:null,Context:pH,Item:AH,ItemContent:IH,ItemContext:PH,ItemIndicator:$H,ItemTrigger:RH,Root:qH,RootProvider:NH},Symbol.toStringTag,{value:"Module"}));var nd=(e,t)=>({x:e,y:t});function KH(e){const{x:t,y:n,width:r,height:o}=e,i=t+r/2,s=n+o/2;return{x:t,y:n,width:r,height:o,minX:t,minY:n,maxX:t+r,maxY:n+o,midX:i,midY:s,center:nd(i,s)}}function YH(e){const t=nd(e.minX,e.minY),n=nd(e.maxX,e.minY),r=nd(e.maxX,e.maxY),o=nd(e.minX,e.maxY);return{top:t,right:n,bottom:r,left:o}}function XH(e,t){const n=KH(e),{top:r,right:o,left:i,bottom:s}=YH(n),[a]=t.split("-");return{top:[i,r,o,s],right:[r,o,s,i],bottom:[r,i,s,o],left:[o,r,i,s]}[a]}function JH(e,t){const{x:n,y:r}=t;let o=!1;for(let i=0,s=e.length-1;i<e.length;s=i++){const a=e[i].x,l=e[i].y,c=e[s].x,u=e[s].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(o=!o)}return o}var $l=new WeakMap,Df=new WeakMap,Lf={},mb=0,g2=e=>e&&(e.host||g2(e.parentNode)),ZH=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=g2(n);return r&&e.contains(r)?r:(console.error("[zag-js > ariaHidden] target",n,"in not contained inside",e,". Doing nothing"),null)}).filter(n=>!!n),QH=new Set(["script","output","status","next-route-announcer"]),e7=e=>QH.has(e.localName)||e.role==="status"||e.hasAttribute("aria-live")?!0:e.matches("[data-live-announcer]"),t7=(e,t)=>{const{parentNode:n,markerName:r,controlAttribute:o}=t,i=ZH(n,Array.isArray(e)?e:[e]);Lf[r]||(Lf[r]=new WeakMap);const s=Lf[r],a=[],l=new Set,c=new Set(i),u=h=>{!h||l.has(h)||(l.add(h),u(h.parentNode))};i.forEach(u);const p=h=>{!h||c.has(h)||Array.prototype.forEach.call(h.children,f=>{if(l.has(f))p(f);else try{if(e7(f))return;const g=f.getAttribute(o)==="true",m=($l.get(f)||0)+1,b=(s.get(f)||0)+1;$l.set(f,m),s.set(f,b),a.push(f),m===1&&g&&Df.set(f,!0),b===1&&f.setAttribute(r,""),g||f.setAttribute(o,"true")}catch(g){console.error("[zag-js > ariaHidden] cannot operate on ",f,g)}})};return p(n),l.clear(),mb++,()=>{a.forEach(h=>{const f=$l.get(h)-1,g=s.get(h)-1;$l.set(h,f),s.set(h,g),f||(Df.has(h)||h.removeAttribute(o),Df.delete(h)),g||h.removeAttribute(r)}),mb--,mb||($l=new WeakMap,$l=new WeakMap,Df=new WeakMap,Lf={})}},n7=e=>(Array.isArray(e)?e[0]:e).ownerDocument.body,r7=(e,t=n7(e),n="data-aria-hidden")=>{if(t)return t7(e,{parentNode:t,markerName:n,controlAttribute:"aria-hidden"})},o7=e=>{const t=requestAnimationFrame(()=>e());return()=>cancelAnimationFrame(t)};function m2(e,t={}){const{defer:n=!0}=t,r=n?o7:i=>i(),o=[];return o.push(r(()=>{const i=(typeof e=="function"?e():e).filter(Boolean);i.length!==0&&o.push(r7(i))})),()=>{o.forEach(i=>i?.())}}const v2=P({__name:"presence",props:Ze({immediate:{type:Boolean},lazyMount:{type:Boolean},present:{type:Boolean},skipAnimationOnMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{immediate:void 0,lazyMount:void 0,present:void 0,skipAnimationOnMount:void 0,unmountOnExit:void 0}),emits:["exitComplete"],setup(e,{emit:t}){const n=au(e,t);return su(n),se(),(r,o)=>d(n).unmounted?Z("",!0):(y(),$(d(he).div,F({key:0},d(n).presenceProps,{"as-child":r.asChild,"data-scope":"presence","data-part":"root"}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),[b2,ia]=Rt("DialogContext"),i7=P({__name:"dialog-backdrop",props:{asChild:{type:Boolean}},setup(e){const t=ia(),n=oa();return se(),(r,o)=>(y(),$(d(v2),F(d(t).getBackdropProps(),{present:d(t).open,"lazy-mount":d(n).lazyMount,"unmount-on-exit":d(n).unmountOnExit}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["present","lazy-mount","unmount-on-exit"]))}}),s7=P({__name:"dialog-close-trigger",props:{asChild:{type:Boolean}},setup(e){const t=ia();return se(),(n,r)=>(y(),$(d(he).button,F(d(t).getCloseTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),a7=P({__name:"dialog-content",props:{asChild:{type:Boolean}},setup(e){const t=ia(),n=Up(),r=A(()=>fl(t.value.getContentProps(),n.value.presenceProps));return se(),(o,i)=>d(n).unmounted?Z("",!0):(y(),$(d(he).div,F({key:0},r.value,{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),l7=P({__name:"dialog-context",setup(e){const t=ia();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),c7=P({__name:"dialog-description",props:{asChild:{type:Boolean}},setup(e){const t=ia();return se(),(n,r)=>(y(),$(d(he).div,F(d(t).getDescriptionProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),u7=P({__name:"dialog-positioner",props:{asChild:{type:Boolean}},setup(e){const t=ia(),n=oa(),r=au(A(()=>({...n.value,present:t.value.open})));return su(r),se(),(o,i)=>d(r).unmounted?Z("",!0):(y(),$(d(he).div,F({key:0},d(t).getPositionerProps(),{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),d7=P({__name:"dialog-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},setup(e){const t=e,n=A(()=>t.value);return b2(n),ur(A(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),se(),(r,o)=>L(r.$slots,"default")}});var p7=Object.defineProperty,f7=(e,t,n)=>t in e?p7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,At=(e,t,n)=>f7(e,typeof t!="symbol"?t+"":t,n),tC={activateTrap(e,t){if(e.length>0){const r=e[e.length-1];r!==t&&r.pause()}const n=e.indexOf(t);n===-1||e.splice(n,1),e.push(t)},deactivateTrap(e,t){const n=e.indexOf(t);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},h7=[],g7=class{constructor(t,n){At(this,"trapStack"),At(this,"config"),At(this,"doc"),At(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),At(this,"listenerCleanups",[]),At(this,"handleFocus",o=>{const i=Xt(o),s=this.findContainerIndex(i,o)>=0;if(s||ux(i))s&&(this.state.mostRecentlyFocusedNode=i);else{o.stopImmediatePropagation();let a,l=!0;if(this.state.mostRecentlyFocusedNode)if(Iu(this.state.mostRecentlyFocusedNode)>0){const c=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:u}=this.state.containerGroups[c];if(u.length>0){const p=u.findIndex(h=>h===this.state.mostRecentlyFocusedNode);p>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?p+1<u.length&&(a=u[p+1],l=!1):p-1>=0&&(a=u[p-1],l=!1))}}else this.state.containerGroups.some(c=>c.tabbableNodes.some(u=>Iu(u)>0))||(l=!1);else l=!1;l&&(a=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),a?this.tryFocus(a):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),At(this,"handlePointerDown",o=>{const i=Xt(o);if(!(this.findContainerIndex(i,o)>=0)){if(Mu(this.config.clickOutsideDeactivates,o)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}Mu(this.config.allowOutsideClick,o)||o.preventDefault()}}),At(this,"handleClick",o=>{const i=Xt(o);this.findContainerIndex(i,o)>=0||Mu(this.config.clickOutsideDeactivates,o)||Mu(this.config.allowOutsideClick,o)||(o.preventDefault(),o.stopImmediatePropagation())}),At(this,"handleTabKey",o=>{if(this.config.isKeyForward(o)||this.config.isKeyBackward(o)){this.state.recentNavEvent=o;const i=this.config.isKeyBackward(o),s=this.findNextNavNode({event:o,isBackward:i});if(!s)return;Nu(o)&&o.preventDefault(),this.tryFocus(s)}}),At(this,"handleEscapeKey",o=>{m7(o)&&Mu(this.config.escapeDeactivates,o)!==!1&&(o.preventDefault(),this.deactivate())}),At(this,"_mutationObserver"),At(this,"setupMutationObserver",()=>{const o=this.doc.defaultView||window;this._mutationObserver=new o.MutationObserver(i=>{i.some(s=>Array.from(s.removedNodes).some(a=>a===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode())})}),At(this,"updateObservedNodes",()=>{this._mutationObserver?.disconnect(),this.state.active&&!this.state.paused&&this.state.containers.map(o=>{this._mutationObserver?.observe(o,{subtree:!0,childList:!0})})}),At(this,"getInitialFocusNode",()=>{let o=this.getNodeForOption("initialFocus",{hasFallback:!0});if(o===!1)return!1;if(o===void 0||o&&!As(o)){const i=kc(this.doc);if(i&&this.findContainerIndex(i)>=0)o=i;else{const s=this.state.tabbableGroups[0];o=s&&s.firstTabbableNode||this.getNodeForOption("fallbackFocus")}}else o===null&&(o=this.getNodeForOption("fallbackFocus"));if(!o)throw new Error("Your focus-trap needs to have at least one focusable element");return o.isConnected||(o=this.getNodeForOption("fallbackFocus")),o}),At(this,"tryFocus",o=>{if(o!==!1&&o!==kc(this.doc)){if(!o||!o.focus){this.tryFocus(this.getInitialFocusNode());return}o.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=o,v7(o)&&o.select()}}),At(this,"deactivate",o=>{if(!this.state.active)return this;const i={onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus,...o};clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),tC.deactivateTrap(this.trapStack,this);const s=this.getOption(i,"onDeactivate"),a=this.getOption(i,"onPostDeactivate"),l=this.getOption(i,"checkCanReturnFocus"),c=this.getOption(i,"returnFocus","returnFocusOnDeactivate");s?.();const u=()=>{nC(()=>{if(c){const p=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(p)}a?.()})};if(c&&l){const p=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return l(p).then(u,u),this}return u(),this}),At(this,"pause",o=>{if(this.state.paused||!this.state.active)return this;const i=this.getOption(o,"onPause"),s=this.getOption(o,"onPostPause");return this.state.paused=!0,i?.(),this.removeListeners(),this.updateObservedNodes(),s?.(),this}),At(this,"unpause",o=>{if(!this.state.paused||!this.state.active)return this;const i=this.getOption(o,"onUnpause"),s=this.getOption(o,"onPostUnpause");return this.state.paused=!1,i?.(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),s?.(),this}),At(this,"updateContainerElements",o=>(this.state.containers=Array.isArray(o)?o.filter(Boolean):[o].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),At(this,"getReturnFocusNode",o=>{const i=this.getNodeForOption("setReturnFocus",{params:[o]});return i||(i===!1?!1:o)}),At(this,"getOption",(o,i,s)=>o&&o[i]!==void 0?o[i]:this.config[s||i]),At(this,"getNodeForOption",(o,{hasFallback:i=!1,params:s=[]}={})=>{let a=this.config[o];if(typeof a=="function"&&(a=a(...s)),a===!0&&(a=void 0),!a){if(a===void 0||a===!1)return a;throw new Error(`\`${o}\` was specified but was not a node, or did not return a node`)}let l=a;if(typeof a=="string"){try{l=this.doc.querySelector(a)}catch(c){throw new Error(`\`${o}\` appears to be an invalid selector; error="${c.message}"`)}if(!l&&!i)throw new Error(`\`${o}\` as selector refers to no known node`)}return l}),At(this,"findNextNavNode",o=>{const{event:i,isBackward:s=!1}=o,a=o.target||Xt(i);this.updateTabbableNodes();let l=null;if(this.state.tabbableGroups.length>0){const c=this.findContainerIndex(a,i),u=c>=0?this.state.containerGroups[c]:void 0;if(c<0)s?l=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:l=this.state.tabbableGroups[0].firstTabbableNode;else if(s){let p=this.state.tabbableGroups.findIndex(({firstTabbableNode:h})=>a===h);if(p<0&&(u?.container===a||As(a)&&!xs(a)&&!u?.nextTabbableNode(a,!1))&&(p=c),p>=0){const h=p===0?this.state.tabbableGroups.length-1:p-1,f=this.state.tabbableGroups[h];l=Iu(a)>=0?f.lastTabbableNode:f.lastDomTabbableNode}else Nu(i)||(l=u?.nextTabbableNode(a,!1))}else{let p=this.state.tabbableGroups.findIndex(({lastTabbableNode:h})=>a===h);if(p<0&&(u?.container===a||As(a)&&!xs(a)&&!u?.nextTabbableNode(a))&&(p=c),p>=0){const h=p===this.state.tabbableGroups.length-1?0:p+1,f=this.state.tabbableGroups[h];l=Iu(a)>=0?f.firstTabbableNode:f.firstDomTabbableNode}else Nu(i)||(l=u?.nextTabbableNode(a))}}else l=this.getNodeForOption("fallbackFocus");return l}),this.trapStack=n.trapStack||h7;const r={returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward(o){return Nu(o)&&!o.shiftKey},isKeyBackward(o){return Nu(o)&&o.shiftKey},...n};this.doc=r.document||Pr(Array.isArray(t)?t[0]:t),this.config=r,this.updateContainerElements(t),this.setupMutationObserver()}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(t,n){const r=typeof n?.composedPath=="function"?n.composedPath():void 0;return this.state.containerGroups.findIndex(({container:o,tabbableNodes:i})=>o.contains(t)||r?.includes(o)||i.find(s=>s===t))}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(t=>{const n=Hp(t),r=hx(t),o=n.length>0?n[0]:void 0,i=n.length>0?n[n.length-1]:void 0,s=r.find(u=>xs(u)),a=r.slice().reverse().find(u=>xs(u)),l=!!n.find(u=>Iu(u)>0);function c(u,p=!0){const h=n.indexOf(u);return h<0?p?r.slice(r.indexOf(u)+1).find(f=>xs(f)):r.slice(0,r.indexOf(u)).reverse().find(f=>xs(f)):n[h+(p?1:-1)]}return{container:t,tabbableNodes:n,focusableNodes:r,posTabIndexesFound:l,firstTabbableNode:o,lastTabbableNode:i,firstDomTabbableNode:s,lastDomTabbableNode:a,nextTabbableNode:c}}),this.state.tabbableGroups=this.state.containerGroups.filter(t=>t.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(t=>t.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return tC.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?nC(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(vn(this.doc,"focusin",this.handleFocus,!0),vn(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),vn(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),vn(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),vn(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),vn(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(t=>t()),this.listenerCleanups=[],this}activate(t){if(this.state.active)return this;const n=this.getOption(t,"onActivate"),r=this.getOption(t,"onPostActivate"),o=this.getOption(t,"checkCanFocusTrap");o||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=kc(this.doc),n?.();const i=()=>{o&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),r?.()};return o?(o(this.state.containers.concat()).then(i,i),this):(i(),this)}},Nu=e=>e.key==="Tab",Mu=(e,...t)=>typeof e=="function"?e(...t):e,m7=e=>!e.isComposing&&e.key==="Escape",nC=e=>setTimeout(e,0),v7=e=>e.localName==="input"&&"select"in e&&typeof e.select=="function";function y2(e,t={}){let n;const r=Ke(()=>{const o=typeof e=="function"?e():e;if(o){n=new g7(o,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:o,...t,document:Pr(o)});try{n.activate()}catch{}}});return function(){n?.deactivate(),r()}}var vb="data-scroll-lock";function b7(e){const t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function x2(e){const t=e??document,n=t.defaultView??window,{documentElement:r,body:o}=t;if(o.hasAttribute(vb))return;const i=n.innerWidth-r.clientWidth;o.setAttribute(vb,"");const s=()=>f3(r,"--scrollbar-width",`${i}px`),a=b7(r),l=()=>np(o,{overflow:"hidden",[a]:`${i}px`}),c=()=>{const{scrollX:p,scrollY:h,visualViewport:f}=n,g=f?.offsetLeft??0,m=f?.offsetTop??0,b=np(o,{position:"fixed",overflow:"hidden",top:`${-(h-Math.floor(m))}px`,left:`${-(p-Math.floor(g))}px`,right:"0",[a]:`${i}px`});return()=>{b?.(),n.scrollTo({left:p,top:h,behavior:"instant"})}},u=[s(),_P()?c():l()];return()=>{u.forEach(p=>p?.()),o.removeAttribute(vb)}}var y7=ar("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger"),ka=y7.build(),w2=e=>e.ids?.positioner??`dialog:${e.id}:positioner`,_2=e=>e.ids?.backdrop??`dialog:${e.id}:backdrop`,t0=e=>e.ids?.content??`dialog:${e.id}:content`,k2=e=>e.ids?.trigger??`dialog:${e.id}:trigger`,n0=e=>e.ids?.title??`dialog:${e.id}:title`,r0=e=>e.ids?.description??`dialog:${e.id}:description`,C2=e=>e.ids?.closeTrigger??`dialog:${e.id}:close`,Vf=e=>e.getById(t0(e)),x7=e=>e.getById(w2(e)),w7=e=>e.getById(_2(e)),_7=e=>e.getById(k2(e)),k7=e=>e.getById(n0(e)),C7=e=>e.getById(r0(e)),E7=e=>e.getById(C2(e));function O7(e,t){const{state:n,send:r,context:o,prop:i,scope:s}=e,a=i("aria-label"),l=n.matches("open");return{open:l,setOpen(c){n.matches("open")!==c&&r({type:c?"OPEN":"CLOSE"})},getTriggerProps(){return t.button({...ka.trigger.attrs,dir:i("dir"),id:k2(s),"aria-haspopup":"dialog",type:"button","aria-expanded":l,"data-state":l?"open":"closed","aria-controls":t0(s),onClick(c){c.defaultPrevented||r({type:"TOGGLE"})}})},getBackdropProps(){return t.element({...ka.backdrop.attrs,dir:i("dir"),hidden:!l,id:_2(s),"data-state":l?"open":"closed"})},getPositionerProps(){return t.element({...ka.positioner.attrs,dir:i("dir"),id:w2(s),style:{pointerEvents:l?void 0:"none"}})},getContentProps(){const c=o.get("rendered");return t.element({...ka.content.attrs,dir:i("dir"),role:i("role"),hidden:!l,id:t0(s),tabIndex:-1,"data-state":l?"open":"closed","aria-modal":!0,"aria-label":a||void 0,"aria-labelledby":a||!c.title?void 0:n0(s),"aria-describedby":c.description?r0(s):void 0})},getTitleProps(){return t.element({...ka.title.attrs,dir:i("dir"),id:n0(s)})},getDescriptionProps(){return t.element({...ka.description.attrs,dir:i("dir"),id:r0(s)})},getCloseTriggerProps(){return t.button({...ka.closeTrigger.attrs,dir:i("dir"),id:C2(s),type:"button",onClick(c){c.defaultPrevented||(c.stopPropagation(),r({type:"CLOSE"}))}})}}}var I7={props({props:e,scope:t}){const n=e.role==="alertdialog",r=n?()=>E7(t):void 0,o=typeof e.modal=="boolean"?e.modal:!0;return{role:"dialog",modal:o,trapFocus:o,preventScroll:o,closeOnInteractOutside:!n,closeOnEscape:!0,restoreFocus:!0,initialFocusEl:r,...e}},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{rendered:e(()=>({defaultValue:{title:!0,description:!0}}))}},watch({track:e,action:t,prop:n}){e([()=>n("open")],()=>{t(["toggleVisibility"])})},states:{open:{entry:["checkRenderedElements","syncZIndex"],effects:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackDismissableElement({scope:e,send:t,prop:n}){return Km(()=>Vf(e),{type:"dialog",defer:!0,pointerBlocking:n("modal"),exclude:[_7(e)],onInteractOutside(r){n("onInteractOutside")?.(r),n("closeOnInteractOutside")||r.preventDefault()},persistentElements:n("persistentElements"),onFocusOutside:n("onFocusOutside"),onPointerDownOutside:n("onPointerDownOutside"),onRequestDismiss:n("onRequestDismiss"),onEscapeKeyDown(r){n("onEscapeKeyDown")?.(r),n("closeOnEscape")||r.preventDefault()},onDismiss(){t({type:"CLOSE",src:"interact-outside"})}})},preventScroll({scope:e,prop:t}){if(t("preventScroll"))return x2(e.getDoc())},trapFocus({scope:e,prop:t}){return t("trapFocus")?y2(()=>Vf(e),{preventScroll:!0,returnFocusOnDeactivate:!!t("restoreFocus"),initialFocus:t("initialFocusEl"),setReturnFocus:n=>t("finalFocusEl")?.()??n}):void 0},hideContentBelow({scope:e,prop:t}){return t("modal")?m2(()=>[Vf(e)],{defer:!0}):void 0}},actions:{checkRenderedElements({context:e,scope:t}){Ke(()=>{e.set("rendered",{title:!!k7(t),description:!!C7(t)})})},syncZIndex({scope:e}){Ke(()=>{const t=Vf(e);if(!t)return;const n=Vc(t);[x7(e),w7(e)].forEach(r=>{r?.style.setProperty("--z-index",n.zIndex),r?.style.setProperty("--layer-index",n.getPropertyValue("--layer-index"))})})},invokeOnClose({prop:e}){e("onOpenChange")?.({open:!1})},invokeOnOpen({prop:e}){e("onOpenChange")?.({open:!0})},toggleVisibility({prop:e,send:t,event:n}){t({type:e("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})}}}};sn()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","defaultOpen","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]);const T7=(e={},t)=>{const n=nt(),r=_o(ko),o=Ki(qi),i=A(()=>{const a=pe(e);return{id:n,dir:o.value.dir,getRootNode:r?.value.getRootNode,...ra(e),onOpenChange:l=>{t?.("openChange",l),t?.("update:open",l.open),a.onOpenChange?.(l)},onEscapeKeyDown:l=>{t?.("escapeKeyDown",l),a.onEscapeKeyDown?.(l)},onFocusOutside:l=>{t?.("focusOutside",l),a.onFocusOutside?.(l)},onInteractOutside:l=>{t?.("interactOutside",l),a.onInteractOutside?.(l)},onPointerDownOutside:l=>{t?.("pointerDownOutside",l),a.onPointerDownOutside?.(l)},onRequestDismiss:l=>{t?.("requestDismiss",l),a.onRequestDismiss?.(l)}}}),s=wo(I7,i);return A(()=>O7(s,ii))},S7=P({__name:"dialog-root",props:Ze({"aria-label":{},closeOnEscape:{type:Boolean},closeOnInteractOutside:{type:Boolean},defaultOpen:{type:Boolean},finalFocusEl:{type:Function},id:{},ids:{},initialFocusEl:{type:Function},modal:{type:Boolean},open:{type:Boolean},persistentElements:{},preventScroll:{type:Boolean},restoreFocus:{type:Boolean},role:{},trapFocus:{type:Boolean},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},{closeOnEscape:void 0,closeOnInteractOutside:void 0,defaultOpen:void 0,modal:void 0,open:void 0,preventScroll:void 0,restoreFocus:void 0,trapFocus:void 0}),emits:["escapeKeyDown","focusOutside","interactOutside","openChange","pointerDownOutside","requestDismiss","update:open"],setup(e,{emit:t}){const n=e,r=T7(n,t);return b2(r),ur(A(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),se(),(o,i)=>L(o.$slots,"default")}}),P7=P({__name:"dialog-title",props:{asChild:{type:Boolean}},setup(e){const t=ia();return se(),(n,r)=>(y(),$(d(he).h2,F(d(t).getTitleProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),$7=P({__name:"dialog-trigger",props:{asChild:{type:Boolean}},setup(e){const t=ia();return se(),(n,r)=>(y(),$(d(he).button,F(d(t).getTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Ca=Object.freeze(Object.defineProperty({__proto__:null,Backdrop:i7,CloseTrigger:s7,Content:a7,Context:l7,Description:c7,Positioner:u7,Root:S7,RootProvider:d7,Title:P7,Trigger:$7},Symbol.toStringTag,{value:"Module"})),R7=P({__name:"field-context",setup(e){const t=ai();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),A7=P({__name:"field-error-text",props:{asChild:{type:Boolean}},setup(e){const t=ai();return se(),(n,r)=>d(t).invalid?(y(),$(d(he).span,F({key:0},d(t).getErrorTextProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"])):Z("",!0)}}),N7=P({__name:"field-helper-text",props:{asChild:{type:Boolean}},setup(e){const t=ai();return se(),(n,r)=>(y(),$(d(he).span,F(d(t).getHelperTextProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),M7=P({__name:"field-input",props:{modelValue:{},asChild:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=ai(),r=t;return se(),(o,i)=>(y(),$(d(he).input,F(d(n).getInputProps(),{"as-child":o.asChild,value:o.modelValue,onInput:i[0]||(i[0]=s=>r("update:modelValue",s.target.value))}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child","value"]))}}),D7=P({__name:"field-label",props:{asChild:{type:Boolean}},setup(e){const t=ai();return se(),(n,r)=>(y(),$(d(he).label,F(d(t).getLabelProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),L7=P({__name:"field-required-indicator",props:{asChild:{type:Boolean}},setup(e){const t=ai();return se(),(n,r)=>d(t).required?(y(),$(d(he).span,F({key:0},d(t).getRequiredIndicatorProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default",{},()=>[r[0]||(r[0]=re("*",-1))])]),_:3},16,["as-child"])):L(n.$slots,"fallback",{key:1})}}),V7=P({__name:"field-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=A(()=>t.value);return JP(n),se(),(r,o)=>(y(),$(d(he).div,F(n.value.getRootProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),F7=ar("field").parts("root","errorText","helperText","input","label","select","textarea","requiredIndicator"),ss=F7.build(),B7=(e={})=>{const t=_o(ko),n=Tr({hasErrorText:!1,hasHelperText:!1}),r=nt(),o=A(()=>pe(e).id??r),i=Q(null),s=A(()=>pe(e).ids?.control??`field::${o.value}`),a=A(()=>pe(e).ids?.errorText??`field::${o.value}::error-text`),l=A(()=>pe(e).ids?.helperText??`field::${o.value}::helper-text`),c=A(()=>pe(e).ids?.label??`field::${o.value}::label`);Je(()=>{const v=xx(i);if(!v)return;const _=()=>{const C=t.value.getRootNode();n.hasErrorText=!!C.getElementById(a.value),n.hasHelperText=!!C.getElementById(l.value)};_();const T=t.value.getWindow(),N=new T.MutationObserver(_);N.observe(v,{childList:!0,subtree:!0}),on(()=>{N.disconnect()})});const u=()=>{const v=pe(e);return{...ss.root.attrs,id:s.value,role:"group","data-disabled":_e(v.disabled),"data-invalid":_e(v.invalid),"data-readonly":_e(v.readOnly)}},p=()=>{const v=pe(e);return{...ss.label.attrs,id:c.value,"data-disabled":_e(v.disabled),"data-invalid":_e(v.invalid),"data-readonly":_e(v.readOnly),"data-required":_e(v.required),htmlFor:o.value}},h=A(()=>{const v=pe(e),_=[];return n.hasErrorText&&v.invalid&&_.push(a.value),n.hasHelperText&&_.push(l.value),_}),f=()=>{const v=pe(e);return{"aria-describedby":h.value.join(" ")||void 0,"aria-invalid":cx(v.invalid),"data-invalid":_e(v.invalid),"data-required":_e(v.required),"data-readonly":_e(v.readOnly),id:o.value,required:v.required,disabled:v.disabled,readOnly:v.readOnly}},g=()=>({...f(),...ss.input.attrs}),m=()=>({...f(),...ss.textarea.attrs}),b=()=>({...f(),...ss.select.attrs}),w=()=>{const v=pe(e);return{id:l.value,...ss.helperText.attrs,"data-disabled":_e(v.disabled)}},E=()=>({id:a.value,...ss.errorText.attrs,"aria-live":"polite"}),k=()=>({"aria-hidden":!0,...ss.requiredIndicator.attrs});return A(()=>{const v=pe(e);return{ariaDescribedby:h.value.join(" ")||void 0,ids:{control:o.value,label:c.value,errorText:a.value,helperText:l.value},refs:{rootRef:i},disabled:v.disabled,invalid:v.invalid,readOnly:v.readOnly,required:v.required,getLabelProps:p,getRootProps:u,getInputProps:g,getTextareaProps:m,getSelectProps:b,getHelperTextProps:w,getErrorTextProps:E,getRequiredIndicatorProps:k}})},H7=P({__name:"field-root",props:Ze({disabled:{type:Boolean},id:{},ids:{},invalid:{type:Boolean},readOnly:{type:Boolean},required:{type:Boolean},asChild:{type:Boolean}},{disabled:void 0,invalid:void 0,readOnly:void 0,required:void 0}),setup(e){const t=B7(e);return JP(t),se(),(n,r)=>(y(),$(d(he).div,F(d(t).getRootProps(),{ref:d(t).refs.rootRef,"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),z7=P({__name:"field-select",props:{modelValue:{},asChild:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=ai(),r=t;return se(),(o,i)=>(y(),$(d(he).select,F(d(n).getSelectProps(),{value:o.modelValue,onChange:i[0]||(i[0]=s=>r("update:modelValue",s.target.value)),"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["value","as-child"]))}});var U7=e=>{if(!e)return;const t=Vc(e),n=Cn(e),r=Pr(e),o=()=>{requestAnimationFrame(()=>{e.style.height="auto";let c;t.boxSizing==="content-box"?c=e.scrollHeight-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):c=e.scrollHeight+parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),t.maxHeight!=="none"&&c>parseFloat(t.maxHeight)?(t.overflowY==="hidden"&&(e.style.overflowY="scroll"),c=parseFloat(t.maxHeight)):t.overflowY!=="hidden"&&(e.style.overflowY="hidden"),e.style.height=`${c}px`})};e.addEventListener("input",o),e.form?.addEventListener("reset",o);const i=Object.getPrototypeOf(e),s=Object.getOwnPropertyDescriptor(i,"value");Object.defineProperty(e,"value",{...s,set(){s?.set?.apply(this,arguments),o()}});const a=new n.ResizeObserver(()=>{requestAnimationFrame(()=>o())});a.observe(e);const l=new n.MutationObserver(()=>o());return l.observe(e,{attributes:!0,attributeFilter:["rows","placeholder"]}),r.fonts?.addEventListener("loadingdone",o),()=>{e.removeEventListener("input",o),e.form?.removeEventListener("reset",o),r.fonts?.removeEventListener("loadingdone",o),a.disconnect(),l.disconnect()}};const j7=P({__name:"field-textarea",props:{modelValue:{},autoresize:{type:Boolean},asChild:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=ai(),o=t,i=Q();return Je(()=>{const s=xx(i);if(!s||!n.autoresize)return;const a=U7(s);on(()=>a?.())}),se(),(s,a)=>(y(),$(d(he).textarea,F({ref_key:"textareaRef",ref:i},d(r).getTextareaProps(),{value:s.modelValue,onInput:a[0]||(a[0]=l=>o("update:modelValue",l.target.value)),style:n.autoresize?{resize:"none",overflow:"hidden"}:void 0,"as-child":s.asChild}),{default:O(()=>[L(s.$slots,"default")]),_:3},16,["value","style","as-child"]))}}),rC=Object.freeze(Object.defineProperty({__proto__:null,Context:R7,ErrorText:A7,HelperText:N7,Input:M7,Label:D7,RequiredIndicator:L7,Root:H7,RootProvider:V7,Select:z7,Textarea:j7},Symbol.toStringTag,{value:"Module"})),[E2,an]=Rt("MenuContext"),G7=P({__name:"menu-arrow-tip",props:{asChild:{type:Boolean}},setup(e){const t=an();return se(),(n,r)=>(y(),$(d(he).div,F(d(t).getArrowTipProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),W7=P({__name:"menu-arrow",props:{asChild:{type:Boolean}},setup(e){const t=an();return se(),(n,r)=>(y(),$(d(he).div,F(d(t).getArrowProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),[$x,q7]=Rt("MenuItemContext"),[Zm,O2]=Rt("MenuItemPropsContext"),K7=P({__name:"menu-checkbox-item",props:Ze({checked:{type:Boolean},value:{},disabled:{type:Boolean},valueText:{},closeOnSelect:{type:Boolean},asChild:{type:Boolean}},{checked:void 0,disabled:void 0,closeOnSelect:void 0}),emits:["update:checked"],setup(e,{emit:t}){const n=e,r=t,o=an(),i=A(()=>({...n,type:"checkbox",onCheckedChange:a=>r("update:checked",a)})),s=A(()=>o.value.getOptionItemState(i.value));return $x(s),Zm(i),se(),(a,l)=>(y(),$(d(he).div,F(d(o).getOptionItemProps(i.value),{"as-child":a.asChild}),{default:O(()=>[L(a.$slots,"default")]),_:3},16,["as-child"]))}}),Y7=P({__name:"menu-content",props:{asChild:{type:Boolean}},setup(e){const t=an(),n=Up(),r=A(()=>fl(t.value.getContentProps(),n.value.presenceProps));return se(),(o,i)=>d(n).unmounted?Z("",!0):(y(),$(d(he).div,F({key:0},r.value,{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),X7=P({__name:"menu-context-trigger",props:{asChild:{type:Boolean}},setup(e){const t=an();return se(),(n,r)=>(y(),$(d(he).button,F(d(t).getContextTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),J7=P({__name:"menu-context",setup(e){const t=an();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),Z7=P({__name:"menu-indicator",props:{asChild:{type:Boolean}},setup(e){const t=an();return se(),(n,r)=>(y(),$(d(he).div,F(d(t).getIndicatorProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Q7=P({__name:"menu-item-context",setup(e){const t=q7();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),[I2,T2]=Rt("MenuItemGroupContext"),ez=P({__name:"menu-item-group-label",props:{asChild:{type:Boolean}},setup(e){const t=an(),n=T2();return se(),(r,o)=>(y(),$(d(he).div,F(d(t).getItemGroupLabelProps({htmlFor:d(n).id}),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),tz=P({__name:"menu-item-group",props:{id:{},asChild:{type:Boolean}},setup(e){const t=e,n=an(),r=nt(),o=t.id??r,i=A(()=>({id:o}));return I2(i),se(),(s,a)=>(y(),$(d(he).div,F(d(n).getItemGroupProps(i.value),{"as-child":s.asChild}),{default:O(()=>[L(s.$slots,"default")]),_:3},16,["as-child"]))}}),nz=P({__name:"menu-item-indicator",props:{asChild:{type:Boolean}},setup(e){const t=an(),n=O2();return se(),(r,o)=>(y(),$(d(he).div,F(d(t).getItemIndicatorProps(d(n)),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),rz=P({__name:"menu-item-text",props:{asChild:{type:Boolean}},setup(e){const t=an(),n=O2();return se(),(r,o)=>(y(),$(d(he).div,F(d(t).getItemTextProps(d(n)),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),oz=P({__name:"menu-item",props:Ze({value:{},disabled:{type:Boolean},valueText:{},closeOnSelect:{type:Boolean},asChild:{type:Boolean}},{disabled:void 0,closeOnSelect:void 0}),emits:["select"],setup(e,{emit:t}){const n=e,r=t,o=an(),i=A(()=>o.value.getItemState(n));return Zm(A(()=>n)),$x(i),Je(()=>{const s=o.value.addItemListener({id:i.value.id,onSelect:()=>r("select")});on(()=>s?.())}),se(),(s,a)=>(y(),$(d(he).div,F(d(o).getItemProps(n),{"as-child":s.asChild}),{default:O(()=>[L(s.$slots,"default")]),_:3},16,["as-child"]))}}),iz=P({__name:"menu-positioner",props:{asChild:{type:Boolean}},setup(e){const t=an(),n=oa(),r=au(A(()=>({...n.value,present:t.value.open})));return su(r),se(),(o,i)=>d(r).unmounted?Z("",!0):(y(),$(d(he).div,F({key:0},d(t).getPositionerProps(),{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),sz=P({__name:"menu-radio-item-group",props:{id:{},modelValue:{},asChild:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t,o=an(),i=nt(),s=n.id??i,a=A(()=>({id:s,value:n.modelValue,onValueChange:l=>r("update:modelValue",l.value)}));return I2(a),se(),(l,c)=>(y(),$(d(he).div,F(d(o).getItemGroupProps(a.value),{"as-child":l.asChild}),{default:O(()=>[L(l.$slots,"default")]),_:3},16,["as-child"]))}}),az=P({__name:"menu-radio-item",props:Ze({value:{},disabled:{type:Boolean},valueText:{},closeOnSelect:{type:Boolean},asChild:{type:Boolean}},{disabled:void 0,closeOnSelect:void 0}),setup(e){const t=e,n=an(),r=T2(),o=A(()=>({...t,checked:r.value.value===t.value,type:"radio",onCheckedChange:()=>r.value.onValueChange?.({value:t.value})})),i=A(()=>n.value.getOptionItemState(o.value));return $x(i),Zm(o),se(),(s,a)=>(y(),$(d(he).div,F(d(n).getOptionItemProps(o.value),{"as-child":s.asChild}),{default:O(()=>[L(s.$slots,"default")]),_:3},16,["as-child"]))}}),[S2,P2]=Rt("MenuMachineContext"),[$2,lz]=Rt("MenuTriggerItemContext"),cz=P({__name:"menu-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,{value:{machine:n,api:r}}=t,o=an(),i=P2();return Je(()=>{i&&(o.value.setChild(n),r.value.setParent(i))}),$2(A(()=>o.value.getTriggerItemProps(r.value))),S2(n),E2(r),ur(A(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),se(),(s,a)=>L(s.$slots,"default")}});var uz=ar("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem"),zn=uz.build(),yg=e=>e.ids?.trigger??`menu:${e.id}:trigger`,R2=e=>e.ids?.contextTrigger??`menu:${e.id}:ctx-trigger`,Id=e=>e.ids?.content??`menu:${e.id}:content`,dz=e=>e.ids?.arrow??`menu:${e.id}:arrow`,A2=e=>e.ids?.positioner??`menu:${e.id}:popper`,pz=(e,t)=>e.ids?.group?.(t)??`menu:${e.id}:group:${t}`,ap=(e,t)=>`${e.id}/${t}`,Ea=e=>e?.dataset.value??null,oC=(e,t)=>e.ids?.groupLabel?.(t)??`menu:${e.id}:group-label:${t}`,fs=e=>e.getById(Id(e)),iC=e=>e.getById(A2(e)),Ff=e=>e.getById(yg(e)),fz=(e,t)=>t?e.getById(ap(e,t)):null,bb=e=>e.getById(R2(e)),Kp=e=>{const t=`[role^="menuitem"][data-ownedby=${CSS.escape(Id(e))}]:not([data-disabled])`;return vx(fs(e),t)},hz=e=>ax(Kp(e)),gz=e=>lx(Kp(e)),Rx=(e,t)=>t?e.id===t||e.dataset.value===t:!1,mz=(e,t)=>{const n=Kp(e),r=n.findIndex(o=>Rx(o,t.value));return rB(n,r,{loop:t.loop??t.loopFocus})},vz=(e,t)=>{const n=Kp(e),r=n.findIndex(o=>Rx(o,t.value));return iB(n,r,{loop:t.loop??t.loopFocus})},bz=(e,t)=>{const n=Kp(e),r=n.find(o=>Rx(o,t.value));return rp(n,{state:t.typeaheadState,key:t.key,activeId:r?.id??null})},Bf=e=>kn(e)&&(e.dataset.disabled===""||e.hasAttribute("disabled")),yz=e=>!!e?.getAttribute("role")?.startsWith("menuitem")&&!!e?.hasAttribute("aria-controls"),o0="menu:select";function xz(e,t){if(!e)return;const n=Cn(e),r=new n.CustomEvent(o0,{detail:{value:t}});e.dispatchEvent(r)}function wz(e,t){const{context:n,send:r,state:o,computed:i,prop:s,scope:a}=e,l=o.hasTag("open"),c=n.get("isSubmenu"),u=i("isTypingAhead"),p=s("composite"),h=n.get("currentPlacement"),f=n.get("anchorPoint"),g=n.get("highlightedValue"),m=qm({...s("positioning"),placement:f?"bottom":h});function b(v){return{id:ap(a,v.value),disabled:!!v.disabled,highlighted:g===v.value}}function w(v){const _=v.valueText??v.value;return{...v,id:v.value,valueText:_}}function E(v){return{...b(w(v)),checked:!!v.checked}}function k(v){const{closeOnSelect:_,valueText:T,value:N}=v,C=b(v),x=ap(a,N);return t.element({...zn.item.attrs,id:x,role:"menuitem","aria-disabled":cx(C.disabled),"data-disabled":_e(C.disabled),"data-ownedby":Id(a),"data-highlighted":_e(C.highlighted),"data-value":N,"data-valuetext":T,onDragStart(I){I.currentTarget.matches("a[href]")&&I.preventDefault()},onPointerMove(I){if(C.disabled||I.pointerType!=="mouse")return;const R=I.currentTarget;C.highlighted||r({type:"ITEM_POINTERMOVE",id:x,target:R,closeOnSelect:_})},onPointerLeave(I){if(C.disabled||I.pointerType!=="mouse"||!e.event.previous()?.type.includes("POINTER"))return;const R=I.currentTarget;r({type:"ITEM_POINTERLEAVE",id:x,target:R,closeOnSelect:_})},onPointerDown(I){if(C.disabled)return;const R=I.currentTarget;r({type:"ITEM_POINTERDOWN",target:R,id:x,closeOnSelect:_})},onClick(I){if(Ek(I)||Hy(I)||C.disabled)return;const R=I.currentTarget;r({type:"ITEM_CLICK",target:R,id:x,closeOnSelect:_})}})}return{highlightedValue:g,open:l,setOpen(v){o.hasTag("open")!==v&&r({type:v?"OPEN":"CLOSE"})},setHighlightedValue(v){r({type:"HIGHLIGHTED.SET",value:v})},setParent(v){r({type:"PARENT.SET",value:v,id:v.prop("id")})},setChild(v){r({type:"CHILD.SET",value:v,id:v.prop("id")})},reposition(v={}){r({type:"POSITIONING.SET",options:v})},addItemListener(v){const _=a.getById(v.id);if(!_)return;const T=()=>v.onSelect?.();return _.addEventListener(o0,T),()=>_.removeEventListener(o0,T)},getContextTriggerProps(){return t.element({...zn.contextTrigger.attrs,dir:s("dir"),id:R2(a),"data-state":l?"open":"closed",onPointerDown(v){if(v.pointerType==="mouse")return;const _=Sf(v);r({type:"CONTEXT_MENU_START",point:_})},onPointerCancel(v){v.pointerType!=="mouse"&&r({type:"CONTEXT_MENU_CANCEL"})},onPointerMove(v){v.pointerType!=="mouse"&&r({type:"CONTEXT_MENU_CANCEL"})},onPointerUp(v){v.pointerType!=="mouse"&&r({type:"CONTEXT_MENU_CANCEL"})},onContextMenu(v){const _=Sf(v);r({type:"CONTEXT_MENU",point:_}),v.preventDefault()},style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"}})},getTriggerItemProps(v){const _=v.getTriggerProps();return fl(k({value:_.id}),_)},getTriggerProps(){return t.button({...c?zn.triggerItem.attrs:zn.trigger.attrs,"data-placement":n.get("currentPlacement"),type:"button",dir:s("dir"),id:yg(a),"data-uid":s("id"),"aria-haspopup":p?"menu":"dialog","aria-controls":Id(a),"aria-expanded":l||void 0,"data-state":l?"open":"closed",onPointerMove(v){if(v.pointerType!=="mouse"||Bf(v.currentTarget)||!c)return;const _=Sf(v);r({type:"TRIGGER_POINTERMOVE",target:v.currentTarget,point:_})},onPointerLeave(v){if(Bf(v.currentTarget)||v.pointerType!=="mouse"||!c)return;const _=Sf(v);r({type:"TRIGGER_POINTERLEAVE",target:v.currentTarget,point:_})},onPointerDown(v){Bf(v.currentTarget)||EP(v)||v.preventDefault()},onClick(v){v.defaultPrevented||Bf(v.currentTarget)||r({type:"TRIGGER_CLICK",target:v.currentTarget})},onBlur(){r({type:"TRIGGER_BLUR"})},onFocus(){r({type:"TRIGGER_FOCUS"})},onKeyDown(v){if(v.defaultPrevented)return;const _={ArrowDown(){r({type:"ARROW_DOWN"})},ArrowUp(){r({type:"ARROW_UP"})},Enter(){r({type:"ARROW_DOWN",src:"enter"})},Space(){r({type:"ARROW_DOWN",src:"space"})}},T=Fc(v,{orientation:"vertical",dir:s("dir")}),N=_[T];N&&(v.preventDefault(),N(v))}})},getIndicatorProps(){return t.element({...zn.indicator.attrs,dir:s("dir"),"data-state":l?"open":"closed"})},getPositionerProps(){return t.element({...zn.positioner.attrs,dir:s("dir"),id:A2(a),style:m.floating})},getArrowProps(){return t.element({id:dz(a),...zn.arrow.attrs,dir:s("dir"),style:m.arrow})},getArrowTipProps(){return t.element({...zn.arrowTip.attrs,dir:s("dir"),style:m.arrowTip})},getContentProps(){return t.element({...zn.content.attrs,id:Id(a),"aria-label":s("aria-label"),hidden:!l,"data-state":l?"open":"closed",role:p?"menu":"dialog",tabIndex:0,dir:s("dir"),"aria-activedescendant":i("highlightedId")||void 0,"aria-labelledby":yg(a),"data-placement":h,onPointerEnter(v){v.pointerType==="mouse"&&r({type:"MENU_POINTERENTER"})},onKeyDown(v){if(v.defaultPrevented||!so(v.currentTarget,Xt(v)))return;const _=Xt(v);if(!(_?.closest("[role=menu]")===v.currentTarget||_===v.currentTarget))return;if(v.key==="Tab"&&!TP(v)){v.preventDefault();return}const T={ArrowDown(){r({type:"ARROW_DOWN"})},ArrowUp(){r({type:"ARROW_UP"})},ArrowLeft(){r({type:"ARROW_LEFT"})},ArrowRight(){r({type:"ARROW_RIGHT"})},Enter(){r({type:"ENTER"})},Space(x){u?r({type:"TYPEAHEAD",key:x.key}):T.Enter?.(x)},Home(){r({type:"HOME"})},End(){r({type:"END"})}},N=Fc(v,{dir:s("dir")}),C=T[N];if(C){C(v),v.stopPropagation(),v.preventDefault();return}s("typeahead")&&HB(v)&&(UB(v)||Hm(_)||(r({type:"TYPEAHEAD",key:v.key}),v.preventDefault()))}})},getSeparatorProps(){return t.element({...zn.separator.attrs,role:"separator",dir:s("dir"),"aria-orientation":"horizontal"})},getItemState:b,getItemProps:k,getOptionItemState:E,getOptionItemProps(v){const{type:_,disabled:T,closeOnSelect:N}=v,C=w(v),x=E(v);return{...k(C),...t.element({"data-type":_,...zn.item.attrs,dir:s("dir"),"data-value":C.value,role:`menuitem${_}`,"aria-checked":!!x.checked,"data-state":x.checked?"checked":"unchecked",onClick(I){if(T||Ek(I)||Hy(I))return;const R=I.currentTarget;r({type:"ITEM_CLICK",target:R,option:C,closeOnSelect:N})}})}},getItemIndicatorProps(v){const _=E(kk(v)),T=_.checked?"checked":"unchecked";return t.element({...zn.itemIndicator.attrs,dir:s("dir"),"data-disabled":_e(_.disabled),"data-highlighted":_e(_.highlighted),"data-state":qa(v,"checked")?T:void 0,hidden:qa(v,"checked")?!_.checked:void 0})},getItemTextProps(v){const _=E(kk(v)),T=_.checked?"checked":"unchecked";return t.element({...zn.itemText.attrs,dir:s("dir"),"data-disabled":_e(_.disabled),"data-highlighted":_e(_.highlighted),"data-state":qa(v,"checked")?T:void 0})},getItemGroupLabelProps(v){return t.element({...zn.itemGroupLabel.attrs,id:oC(a,v.htmlFor),dir:s("dir")})},getItemGroupProps(v){return t.element({id:pz(a,v.id),...zn.itemGroup.attrs,dir:s("dir"),"aria-labelledby":oC(a,v.id),role:"group"})}}}var{not:Rr,and:Rl,or:_z}=ru(),kz={props({props:e}){return{closeOnSelect:!0,typeahead:!0,composite:!0,loopFocus:!1,navigate(t){PP(t.node)},...e,positioning:{placement:"bottom-start",gutter:8,...e.positioning}}},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"idle"},context({bindable:e,prop:t}){return{suspendPointer:e(()=>({defaultValue:!1})),highlightedValue:e(()=>({defaultValue:t("defaultHighlightedValue")||null,value:t("highlightedValue"),onChange(n){t("onHighlightChange")?.({highlightedValue:n})}})),lastHighlightedValue:e(()=>({defaultValue:null})),currentPlacement:e(()=>({defaultValue:void 0})),intentPolygon:e(()=>({defaultValue:null})),anchorPoint:e(()=>({defaultValue:null,hash(n){return`x: ${n?.x}, y: ${n?.y}`}})),isSubmenu:e(()=>({defaultValue:!1}))}},refs(){return{parent:null,children:{},typeaheadState:{...rp.defaultOptions},positioningOverride:{}}},computed:{isRtl:({prop:e})=>e("dir")==="rtl",isTypingAhead:({refs:e})=>e.get("typeaheadState").keysSoFar!=="",highlightedId:({context:e,scope:t,refs:n})=>Ez(n.get("children"),e.get("highlightedValue"),t)},watch({track:e,action:t,context:n,prop:r}){e([()=>n.get("isSubmenu")],()=>{t(["setSubmenuPlacement"])}),e([()=>n.hash("anchorPoint")],()=>{n.get("anchorPoint")&&t(["reposition"])}),e([()=>r("open")],()=>{t(["toggleVisibility"])})},on:{"PARENT.SET":{actions:["setParentMenu"]},"CHILD.SET":{actions:["setChildMenu"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],OPEN_AUTOFOCUS:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"HIGHLIGHTED.RESTORE":{actions:["restoreHighlightedItem"]},"HIGHLIGHTED.SET":{actions:["setHighlightedItem"]}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},CONTEXT_MENU_START:{target:"opening:contextmenu",actions:["setAnchorPoint"]},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TRIGGER_FOCUS:{guard:Rr("isSubmenu"),target:"closed"},TRIGGER_POINTERMOVE:{guard:"isSubmenu",target:"opening"}}},"opening:contextmenu":{tags:["closed"],effects:["waitForLongPress"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},CONTEXT_MENU_CANCEL:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"LONG_PRESS.OPEN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},opening:{tags:["closed"],effects:["waitForOpenDelay"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},BLUR:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TRIGGER_POINTERLEAVE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"DELAY.OPEN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},closing:{tags:["open"],effects:["trackPointerMove","trackInteractOutside","waitForCloseDelay"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]},MENU_POINTERENTER:{target:"open",actions:["clearIntentPolygon"]},POINTER_MOVED_AWAY_FROM_SUBMENU:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]}],"DELAY.CLOSE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem","invokeOnClose"]}]}},closed:{tags:["closed"],entry:["clearHighlightedItem","focusTrigger","resumePointer","clearAnchorPoint"],on:{"CONTROLLED.OPEN":[{guard:_z("isOpenAutoFocusEvent","isArrowDownEvent"),target:"open",actions:["highlightFirstItem"]},{guard:"isArrowUpEvent",target:"open",actions:["highlightLastItem"]},{target:"open"}],CONTEXT_MENU_START:{target:"opening:contextmenu",actions:["setAnchorPoint"]},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",target:"opening"},TRIGGER_BLUR:{target:"idle"},ARROW_DOWN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],ARROW_UP:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightLastItem","invokeOnOpen"]}]}},open:{tags:["open"],effects:["trackInteractOutside","trackPositioning","scrollToHighlightedItem"],entry:["focusMenu","resumePointer"],on:{"CONTROLLED.CLOSE":[{target:"closed",guard:"isArrowLeftEvent",actions:["focusParentMenu"]},{target:"closed"}],TRIGGER_CLICK:[{guard:Rl(Rr("isTriggerItem"),"isOpenControlled"),actions:["invokeOnClose"]},{guard:Rr("isTriggerItem"),target:"closed",actions:["invokeOnClose"]}],CONTEXT_MENU:{actions:["setAnchorPoint","focusMenu"]},ARROW_UP:{actions:["highlightPrevItem","focusMenu"]},ARROW_DOWN:{actions:["highlightNextItem","focusMenu"]},ARROW_LEFT:[{guard:Rl("isSubmenu","isOpenControlled"),actions:["invokeOnClose"]},{guard:"isSubmenu",target:"closed",actions:["focusParentMenu","invokeOnClose"]}],HOME:{actions:["highlightFirstItem","focusMenu"]},END:{actions:["highlightLastItem","focusMenu"]},ARROW_RIGHT:{guard:"isTriggerItemHighlighted",actions:["openSubmenu"]},ENTER:[{guard:"isTriggerItemHighlighted",actions:["openSubmenu"]},{actions:["clickHighlightedItem"]}],ITEM_POINTERMOVE:[{guard:Rr("isPointerSuspended"),actions:["setHighlightedItem","focusMenu"]},{actions:["setLastHighlightedItem"]}],ITEM_POINTERLEAVE:{guard:Rl(Rr("isPointerSuspended"),Rr("isTriggerItem")),actions:["clearHighlightedItem"]},ITEM_CLICK:[{guard:Rl(Rr("isTriggerItemHighlighted"),Rr("isHighlightedItemEditable"),"closeOnSelect","isOpenControlled"),actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:Rl(Rr("isTriggerItemHighlighted"),Rr("isHighlightedItemEditable"),"closeOnSelect"),target:"closed",actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:Rl(Rr("isTriggerItemHighlighted"),Rr("isHighlightedItemEditable")),actions:["invokeOnSelect","setOptionState"]},{actions:["setHighlightedItem"]}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",actions:["setIntentPolygon"]},TRIGGER_POINTERLEAVE:{target:"closing"},ITEM_POINTERDOWN:{actions:["setHighlightedItem"]},TYPEAHEAD:{actions:["highlightMatchedItem"]},FOCUS_MENU:{actions:["focusMenu"]},"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{closeOnSelect:({prop:e,event:t})=>!!(t?.closeOnSelect??e("closeOnSelect")),isTriggerItem:({event:e})=>yz(e.target),isTriggerItemHighlighted:({event:e,scope:t,computed:n})=>!!(e.target??t.getById(n("highlightedId")))?.hasAttribute("aria-controls"),isSubmenu:({context:e})=>e.get("isSubmenu"),isPointerSuspended:({context:e})=>e.get("suspendPointer"),isHighlightedItemEditable:({scope:e,computed:t})=>Hm(e.getById(t("highlightedId"))),isOpenControlled:({prop:e})=>e("open")!==void 0,isArrowLeftEvent:({event:e})=>e.previousEvent?.type==="ARROW_LEFT",isArrowUpEvent:({event:e})=>e.previousEvent?.type==="ARROW_UP",isArrowDownEvent:({event:e})=>e.previousEvent?.type==="ARROW_DOWN",isOpenAutoFocusEvent:({event:e})=>e.previousEvent?.type==="OPEN_AUTOFOCUS"},effects:{waitForOpenDelay({send:e}){const t=setTimeout(()=>{e({type:"DELAY.OPEN"})},100);return()=>clearTimeout(t)},waitForCloseDelay({send:e}){const t=setTimeout(()=>{e({type:"DELAY.CLOSE"})},300);return()=>clearTimeout(t)},waitForLongPress({send:e}){const t=setTimeout(()=>{e({type:"LONG_PRESS.OPEN"})},700);return()=>clearTimeout(t)},trackPositioning({context:e,prop:t,scope:n,refs:r}){if(bb(n))return;const o={...t("positioning"),...r.get("positioningOverride")};e.set("currentPlacement",o.placement);const i=()=>iC(n);return Ks(Ff(n),i,{...o,defer:!0,onComplete(s){e.set("currentPlacement",s.placement)}})},trackInteractOutside({refs:e,scope:t,prop:n,context:r,send:o}){const i=()=>fs(t);let s=!0;return Km(i,{type:"menu",defer:!0,exclude:[Ff(t)],onInteractOutside:n("onInteractOutside"),onRequestDismiss:n("onRequestDismiss"),onFocusOutside(a){n("onFocusOutside")?.(a);const l=Xt(a.detail.originalEvent);if(so(bb(t),l)){a.preventDefault();return}},onEscapeKeyDown(a){n("onEscapeKeyDown")?.(a),r.get("isSubmenu")&&a.preventDefault(),sC({parent:e.get("parent")})},onPointerDownOutside(a){n("onPointerDownOutside")?.(a);const l=Xt(a.detail.originalEvent);if(so(bb(t),l)&&a.detail.contextmenu){a.preventDefault();return}s=!a.detail.focusable},onDismiss(){o({type:"CLOSE",src:"interact-outside",restoreFocus:s})}})},trackPointerMove({context:e,scope:t,send:n,refs:r,flush:o}){const i=r.get("parent");o(()=>{i.context.set("suspendPointer",!0)});const s=t.getDoc();return vn(s,"pointermove",a=>{Cz(e.get("intentPolygon"),{x:a.clientX,y:a.clientY})||(n({type:"POINTER_MOVED_AWAY_FROM_SUBMENU"}),i.context.set("suspendPointer",!1))})},scrollToHighlightedItem({event:e,scope:t,computed:n}){const r=()=>{if(e.current().type.startsWith("ITEM_POINTER"))return;const o=t.getById(n("highlightedId")),i=fs(t);RP(o,{rootEl:i,block:"nearest"})};return Ke(()=>r()),SP(()=>fs(t),{defer:!0,attributes:["aria-activedescendant"],callback:r})}},actions:{setAnchorPoint({context:e,event:t}){e.set("anchorPoint",n=>nu(n,t.point)?n:t.point)},setSubmenuPlacement({context:e,computed:t,refs:n}){if(!e.get("isSubmenu"))return;const r=t("isRtl")?"left-start":"right-start";n.set("positioningOverride",{placement:r,gutter:0})},reposition({context:e,scope:t,prop:n,event:r,refs:o}){const i=()=>iC(t),s=e.get("anchorPoint"),a=s?()=>({width:0,height:0,...s}):void 0,l={...n("positioning"),...o.get("positioningOverride")};Ks(Ff(t),i,{...l,defer:!0,getAnchorRect:a,...r.options??{},listeners:!1,onComplete(c){e.set("currentPlacement",c.placement)}})},setOptionState({event:e}){if(!e.option)return;const{checked:t,onCheckedChange:n,type:r}=e.option;r==="radio"?n?.(!0):r==="checkbox"&&n?.(!t)},clickHighlightedItem({scope:e,computed:t,prop:n,context:r}){const o=e.getById(t("highlightedId"));if(!o||o.dataset.disabled)return;const i=r.get("highlightedValue");xP(o)?n("navigate")?.({value:i,node:o,href:o.href}):queueMicrotask(()=>o.click())},setIntentPolygon({context:e,scope:t,event:n}){const r=fs(t),o=e.get("currentPlacement");if(!r||!o)return;const i=r.getBoundingClientRect(),s=XH(i,o);if(!s)return;const a=j6(o)==="right"?-5:5;e.set("intentPolygon",[{...n.point,x:n.point.x+a},...s])},clearIntentPolygon({context:e}){e.set("intentPolygon",null)},clearAnchorPoint({context:e}){e.set("anchorPoint",null)},resumePointer({refs:e,flush:t}){const n=e.get("parent");n&&t(()=>{n.context.set("suspendPointer",!1)})},setHighlightedItem({context:e,event:t}){const n=t.value||Ea(t.target);e.set("highlightedValue",n)},clearHighlightedItem({context:e}){e.set("highlightedValue",null)},focusMenu({scope:e}){Ke(()=>{const t=fs(e);cg({root:t,enabled:!so(t,e.getActiveElement()),filter(n){return!n.role?.startsWith("menuitem")}})?.focus({preventScroll:!0})})},highlightFirstItem({context:e,scope:t}){(fs(t)?queueMicrotask:Ke)(()=>{const n=hz(t);n&&e.set("highlightedValue",Ea(n))})},highlightLastItem({context:e,scope:t}){(fs(t)?queueMicrotask:Ke)(()=>{const n=gz(t);n&&e.set("highlightedValue",Ea(n))})},highlightNextItem({context:e,scope:t,event:n,prop:r}){const o=mz(t,{loop:n.loop,value:e.get("highlightedValue"),loopFocus:r("loopFocus")});e.set("highlightedValue",Ea(o))},highlightPrevItem({context:e,scope:t,event:n,prop:r}){const o=vz(t,{loop:n.loop,value:e.get("highlightedValue"),loopFocus:r("loopFocus")});e.set("highlightedValue",Ea(o))},invokeOnSelect({context:e,prop:t,scope:n}){const r=e.get("highlightedValue");if(r==null)return;const o=fz(n,r);xz(o,r),t("onSelect")?.({value:r})},focusTrigger({scope:e,context:t,event:n}){t.get("isSubmenu")||t.get("anchorPoint")||n.restoreFocus===!1||queueMicrotask(()=>Ff(e)?.focus({preventScroll:!0}))},highlightMatchedItem({scope:e,context:t,event:n,refs:r}){const o=bz(e,{key:n.key,value:t.get("highlightedValue"),typeaheadState:r.get("typeaheadState")});o&&t.set("highlightedValue",Ea(o))},setParentMenu({refs:e,event:t,context:n}){e.set("parent",t.value),n.set("isSubmenu",!0)},setChildMenu({refs:e,event:t}){const n=e.get("children");n[t.id]=t.value,e.set("children",n)},closeRootMenu({refs:e}){sC({parent:e.get("parent")})},openSubmenu({refs:e,scope:t,computed:n}){const r=t.getById(n("highlightedId"))?.getAttribute("data-uid"),o=e.get("children");(r?o[r]:null)?.send({type:"OPEN_AUTOFOCUS"})},focusParentMenu({refs:e}){e.get("parent")?.send({type:"FOCUS_MENU"})},setLastHighlightedItem({context:e,event:t}){e.set("lastHighlightedValue",Ea(t.target))},restoreHighlightedItem({context:e}){e.get("lastHighlightedValue")&&(e.set("highlightedValue",e.get("lastHighlightedValue")),e.set("lastHighlightedValue",null))},restoreParentHighlightedItem({refs:e}){e.get("parent")?.send({type:"HIGHLIGHTED.RESTORE"})},invokeOnOpen({prop:e}){e("onOpenChange")?.({open:!0})},invokeOnClose({prop:e}){e("onOpenChange")?.({open:!1})},toggleVisibility({prop:e,event:t,send:n}){n({type:e("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:t})}}}};function sC(e){let t=e.parent;for(;t&&t.context.get("isSubmenu");)t=t.refs.get("parent");t?.send({type:"CLOSE"})}function Cz(e,t){return e?JH(e,t):!1}function Ez(e,t,n){const r=Object.keys(e).length>0;if(!t)return null;if(!r)return ap(n,t);for(const o in e){const i=e[o],s=yg(i.scope);if(s===t)return s}return ap(n,t)}sn()(["anchorPoint","aria-label","closeOnSelect","composite","defaultHighlightedValue","defaultOpen","dir","getRootNode","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","onSelect","open","positioning","typeahead"]);sn()(["closeOnSelect","disabled","value","valueText"]);sn()(["htmlFor"]);sn()(["id"]);sn()(["checked","closeOnSelect","disabled","onCheckedChange","type","value","valueText"]);const Oz=(e={},t)=>{const n=nt(),r=_o(ko),o=Ki(qi),i=A(()=>{const a=pe(e);return{id:n,dir:o.value.dir,getRootNode:r?.value.getRootNode,...ra(a),onOpenChange:l=>{t?.("openChange",l),t?.("update:open",l.open),a.onOpenChange?.(l)},onEscapeKeyDown:l=>{t?.("escapeKeyDown",l),a.onEscapeKeyDown?.(l)},onFocusOutside:l=>{t?.("focusOutside",l),a.onFocusOutside?.(l)},onHighlightChange:l=>{t?.("highlightChange",l),t?.("update:highlightedValue",l.highlightedValue),a.onHighlightChange?.(l)},onInteractOutside:l=>{t?.("interactOutside",l),a.onInteractOutside?.(l)},onPointerDownOutside:l=>{t?.("pointerDownOutside",l),a.onPointerDownOutside?.(l)},onSelect:l=>{t?.("select",l),a.onSelect?.(l)}}}),s=wo(kz,i);return{api:A(()=>wz(s,ii)),machine:s}},Iz=P({__name:"menu-root",props:Ze({anchorPoint:{},"aria-label":{},closeOnSelect:{type:Boolean},composite:{type:Boolean},defaultHighlightedValue:{},defaultOpen:{type:Boolean},highlightedValue:{},id:{},ids:{},loopFocus:{type:Boolean},navigate:{type:Function},open:{type:Boolean},positioning:{},typeahead:{type:Boolean},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{closeOnSelect:void 0,composite:void 0,defaultOpen:void 0,loopFocus:void 0,open:void 0,typeahead:void 0}),emits:["escapeKeyDown","focusOutside","highlightChange","interactOutside","openChange","pointerDownOutside","requestDismiss","select","update:open","update:highlightedValue"],setup(e,{emit:t}){const n=e,r=t,{api:o,machine:i}=Oz(n,r),s=an(),a=P2();return Je(()=>{a&&(s.value.setChild(i),o.value.setParent(a))}),$2(A(()=>s.value.getTriggerItemProps(o.value))),S2(i),E2(o),ur(A(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),se(),(l,c)=>L(l.$slots,"default")}}),Tz=P({__name:"menu-separator",props:{asChild:{type:Boolean}},setup(e){const t=an();return se(),(n,r)=>(y(),$(d(he).hr,F(d(t).getSeparatorProps(),{"as-child":n.asChild}),null,16,["as-child"]))}}),Sz=P({__name:"menu-trigger-item",props:{asChild:{type:Boolean}},setup(e){const t=lz();return Zm(A(()=>({value:t.value?.["data-value"]}))),se(),(n,r)=>(y(),$(d(he).div,F(d(t),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Pz=P({__name:"menu-trigger",props:{asChild:{type:Boolean}},setup(e){const t=an();return se(),(n,r)=>(y(),$(d(he).button,F(d(t).getTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),yt=Object.freeze(Object.defineProperty({__proto__:null,Arrow:W7,ArrowTip:G7,CheckboxItem:K7,Content:Y7,Context:J7,ContextTrigger:X7,Indicator:Z7,Item:oz,ItemContext:Q7,ItemGroup:tz,ItemGroupLabel:ez,ItemIndicator:nz,ItemText:rz,Positioner:iz,RadioItem:az,RadioItemGroup:sz,Root:Iz,RootProvider:cz,Separator:Tz,Trigger:Pz,TriggerItem:Sz},Symbol.toStringTag,{value:"Module"})),[N2,Co]=Rt("PopoverContext"),$z=P({__name:"popover-anchor",props:{asChild:{type:Boolean}},setup(e){const t=Co();return se(),(n,r)=>(y(),$(d(he).div,F(d(t).getAnchorProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Rz=P({__name:"popover-arrow-tip",props:{asChild:{type:Boolean}},setup(e){const t=Co();return se(),(n,r)=>(y(),$(d(he).div,F(d(t).getArrowTipProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Az=P({__name:"popover-arrow",props:{asChild:{type:Boolean}},setup(e){const t=Co();return se(),(n,r)=>(y(),$(d(he).div,F(d(t).getArrowProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Nz=P({__name:"popover-close-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Co();return se(),(n,r)=>(y(),$(d(he).button,F(d(t).getCloseTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Mz=P({__name:"popover-content",props:{asChild:{type:Boolean}},setup(e){const t=Co(),n=Up(),r=A(()=>fl(t.value.getContentProps(),n.value.presenceProps));return se(),(o,i)=>d(n).unmounted?Z("",!0):(y(),$(d(he).div,F({key:0},r.value,{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),Dz=P({__name:"popover-context",setup(e){const t=Co();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),Lz=P({__name:"popover-description",props:{asChild:{type:Boolean}},setup(e){const t=Co();return se(),(n,r)=>(y(),$(d(he).div,F(d(t).getDescriptionProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Vz=P({__name:"popover-indicator",props:{asChild:{type:Boolean}},setup(e){const t=Co();return se(),(n,r)=>(y(),$(d(he).div,F(d(t).getIndicatorProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Fz=P({__name:"popover-positioner",props:{asChild:{type:Boolean}},setup(e){const t=Co(),n=oa(),r=au(A(()=>({...n.value,present:t.value.open})));return su(r),se(),(o,i)=>d(r).unmounted?Z("",!0):(y(),$(d(he).div,F({key:0},d(t).getPositionerProps(),{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),Bz=P({__name:"popover-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},setup(e){const t=e,n=A(()=>t.value);return N2(n),ur(A(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),se(),(r,o)=>L(r.$slots,"default")}});var Hz=ar("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger"),No=Hz.build(),M2=e=>e.ids?.anchor??`popover:${e.id}:anchor`,D2=e=>e.ids?.trigger??`popover:${e.id}:trigger`,i0=e=>e.ids?.content??`popover:${e.id}:content`,L2=e=>e.ids?.positioner??`popover:${e.id}:popper`,zz=e=>e.ids?.arrow??`popover:${e.id}:arrow`,s0=e=>e.ids?.title??`popover:${e.id}:title`,a0=e=>e.ids?.description??`popover:${e.id}:desc`,Uz=e=>e.ids?.closeTrigger??`popover:${e.id}:close`,aC=e=>e.getById(M2(e)),Al=e=>e.getById(D2(e)),Nl=e=>e.getById(i0(e)),lC=e=>e.getById(L2(e)),jz=e=>e.getById(s0(e)),Gz=e=>e.getById(a0(e));function Wz(e,t){const{state:n,context:r,send:o,computed:i,prop:s,scope:a}=e,l=n.matches("open"),c=r.get("currentPlacement"),u=i("currentPortalled"),p=r.get("renderedElements"),h=qm({...s("positioning"),placement:c});return{portalled:u,open:l,setOpen(f){n.matches("open")!==f&&o({type:f?"OPEN":"CLOSE"})},reposition(f={}){o({type:"POSITIONING.SET",options:f})},getArrowProps(){return t.element({id:zz(a),...No.arrow.attrs,dir:s("dir"),style:h.arrow})},getArrowTipProps(){return t.element({...No.arrowTip.attrs,dir:s("dir"),style:h.arrowTip})},getAnchorProps(){return t.element({...No.anchor.attrs,dir:s("dir"),id:M2(a)})},getTriggerProps(){return t.button({...No.trigger.attrs,dir:s("dir"),type:"button","data-placement":c,id:D2(a),"aria-haspopup":"dialog","aria-expanded":l,"data-state":l?"open":"closed","aria-controls":i0(a),onPointerDown(f){CP(f)&&px()&&f.currentTarget.focus()},onClick(f){f.defaultPrevented||o({type:"TOGGLE"})},onBlur(f){o({type:"TRIGGER_BLUR",target:f.relatedTarget})}})},getIndicatorProps(){return t.element({...No.indicator.attrs,dir:s("dir"),"data-state":l?"open":"closed"})},getPositionerProps(){return t.element({id:L2(a),...No.positioner.attrs,dir:s("dir"),style:h.floating})},getContentProps(){return t.element({...No.content.attrs,dir:s("dir"),id:i0(a),tabIndex:-1,role:"dialog",hidden:!l,"data-state":l?"open":"closed","data-expanded":_e(l),"aria-labelledby":p.title?s0(a):void 0,"aria-describedby":p.description?a0(a):void 0,"data-placement":c})},getTitleProps(){return t.element({...No.title.attrs,id:s0(a),dir:s("dir")})},getDescriptionProps(){return t.element({...No.description.attrs,id:a0(a),dir:s("dir")})},getCloseTriggerProps(){return t.button({...No.closeTrigger.attrs,dir:s("dir"),id:Uz(a),type:"button","aria-label":"close",onClick(f){f.defaultPrevented||(f.stopPropagation(),o({type:"CLOSE"}))}})}}}var qz={props({props:e}){return{closeOnInteractOutside:!0,closeOnEscape:!0,autoFocus:!0,modal:!1,portalled:!0,...e,positioning:{placement:"bottom",...e.positioning}}},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{currentPlacement:e(()=>({defaultValue:void 0})),renderedElements:e(()=>({defaultValue:{title:!0,description:!0}}))}},computed:{currentPortalled:({prop:e})=>!!e("modal")||!!e("portalled")},watch({track:e,prop:t,action:n}){e([()=>t("open")],()=>{n(["toggleVisibility"])})},entry:["checkRenderedElements"],states:{closed:{on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}]}},open:{effects:["trapFocus","preventScroll","hideContentBelow","trackPositioning","trackDismissableElement","proxyTabFocus"],on:{"CONTROLLED.CLOSE":{target:"closed",actions:["setFinalFocus"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","setFinalFocus"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackPositioning({context:e,prop:t,scope:n}){e.set("currentPlacement",t("positioning").placement);const r=aC(n)??Al(n);return Ks(r,()=>lC(n),{...t("positioning"),defer:!0,onComplete(o){e.set("currentPlacement",o.placement)}})},trackDismissableElement({send:e,prop:t,scope:n}){const r=()=>Nl(n);let o=!0;return Km(r,{type:"popover",pointerBlocking:t("modal"),exclude:Al(n),defer:!0,onEscapeKeyDown(i){t("onEscapeKeyDown")?.(i),!t("closeOnEscape")&&i.preventDefault()},onInteractOutside(i){t("onInteractOutside")?.(i),!i.defaultPrevented&&(o=!(i.detail.focusable||i.detail.contextmenu),t("closeOnInteractOutside")||i.preventDefault())},onPointerDownOutside:t("onPointerDownOutside"),onFocusOutside:t("onFocusOutside"),persistentElements:t("persistentElements"),onRequestDismiss:t("onRequestDismiss"),onDismiss(){e({type:"CLOSE",src:"interact-outside",restoreFocus:o})}})},proxyTabFocus({prop:e,scope:t}){return e("modal")||!e("portalled")?void 0:a3(()=>Nl(t),{triggerElement:Al(t),defer:!0,onFocus(n){n.focus({preventScroll:!0})}})},hideContentBelow({prop:e,scope:t}){return e("modal")?m2(()=>[Nl(t),Al(t)],{defer:!0}):void 0},preventScroll({prop:e,scope:t}){if(e("modal"))return x2(t.getDoc())},trapFocus({prop:e,scope:t}){return e("modal")?y2(()=>Nl(t),{initialFocus:()=>cg({root:Nl(t),getInitialEl:e("initialFocusEl"),enabled:e("autoFocus")})}):void 0}},actions:{reposition({event:e,prop:t,scope:n,context:r}){const o=aC(n)??Al(n);Ks(o,()=>lC(n),{...t("positioning"),...e.options,defer:!0,listeners:!1,onComplete(i){r.set("currentPlacement",i.placement)}})},checkRenderedElements({context:e,scope:t}){Ke(()=>{Object.assign(e.get("renderedElements"),{title:!!jz(t),description:!!Gz(t)})})},setInitialFocus({prop:e,scope:t}){e("modal")||Ke(()=>{cg({root:Nl(t),getInitialEl:e("initialFocusEl"),enabled:e("autoFocus")})?.focus({preventScroll:!0})})},setFinalFocus({event:e,scope:t}){const n=e.restoreFocus??e.previousEvent?.restoreFocus;n!=null&&!n||Ke(()=>{Al(t)?.focus({preventScroll:!0})})},invokeOnOpen({prop:e,flush:t}){t(()=>{e("onOpenChange")?.({open:!0})})},invokeOnClose({prop:e,flush:t}){t(()=>{e("onOpenChange")?.({open:!1})})},toggleVisibility({event:e,send:t,prop:n}){t({type:n("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:e})}}}};sn()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","defaultOpen","open","persistentElements","portalled","positioning"]);const V2=(e={},t)=>{const n=nt(),r=_o(ko),o=Ki(qi),i=A(()=>{const a=pe(e);return{id:n,dir:o.value.dir,getRootNode:r?.value.getRootNode,...ra(a),onOpenChange:l=>{t?.("openChange",l),t?.("update:open",l.open),a.onOpenChange?.(l)},onEscapeKeyDown:l=>{t?.("escapeKeyDown",l),a.onEscapeKeyDown?.(l)},onFocusOutside:l=>{t?.("focusOutside",l),a.onFocusOutside?.(l)},onInteractOutside:l=>{t?.("interactOutside",l),a.onInteractOutside?.(l)},onPointerDownOutside:l=>{t?.("pointerDownOutside",l),a.onPointerDownOutside?.(l)}}}),s=wo(qz,i);return A(()=>Wz(s,ii))},Kz=P({__name:"popover-root",props:Ze({autoFocus:{type:Boolean},closeOnEscape:{type:Boolean},closeOnInteractOutside:{type:Boolean},defaultOpen:{type:Boolean},id:{},ids:{},initialFocusEl:{type:Function},modal:{type:Boolean},open:{type:Boolean},persistentElements:{},portalled:{type:Boolean},positioning:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},{autoFocus:void 0,closeOnEscape:void 0,closeOnInteractOutside:void 0,defaultOpen:void 0,modal:void 0,open:void 0,portalled:void 0}),emits:["escapeKeyDown","focusOutside","interactOutside","openChange","pointerDownOutside","requestDismiss","update:open"],setup(e,{emit:t}){const n=e,r=V2(n,t);return N2(r),ur(A(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),se(),(o,i)=>L(o.$slots,"default")}}),Yz=P({__name:"popover-title",props:{asChild:{type:Boolean}},setup(e){const t=Co();return se(),(n,r)=>(y(),$(d(he).div,F(d(t).getTitleProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Xz=P({__name:"popover-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Co();return se(),(n,r)=>(y(),$(d(he).button,F(d(t).getTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),_i=Object.freeze(Object.defineProperty({__proto__:null,Anchor:$z,Arrow:Az,ArrowTip:Rz,CloseTrigger:Nz,Content:Mz,Context:Dz,Description:Lz,Indicator:Vz,Positioner:Fz,Root:Kz,RootProvider:Bz,Title:Yz,Trigger:Xz},Symbol.toStringTag,{value:"Module"})),[F2,Yp]=Rt("TabsContext"),Jz=P({__name:"tab-content",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=Yp(),r=oa();return se(),(o,i)=>(y(),$(d(v2),F(d(n).getContentProps(t),{present:d(n).value===t.value,"lazy-mount":d(r).lazyMount,"unmount-on-exit":d(r).unmountOnExit,immediate:!0}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["present","lazy-mount","unmount-on-exit"]))}}),Zz=P({__name:"tab-indicator",props:{asChild:{type:Boolean}},setup(e){const t=Yp();return se(),(n,r)=>(y(),$(d(he).div,F(d(t).getIndicatorProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Qz=P({__name:"tab-list",props:{asChild:{type:Boolean}},setup(e){const t=Yp();return se(),(n,r)=>(y(),$(d(he).div,F(d(t).getListProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),eU=P({__name:"tab-trigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=Yp();return se(),(r,o)=>(y(),$(d(he).button,F(d(n).getTriggerProps(t),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),tU=P({__name:"tabs-context",setup(e){const t=Yp();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),nU=P({__name:"tabs-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=A(()=>t.value);return F2(n),ur(A(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),se(),(r,o)=>(y(),$(d(he).div,F(n.value.getRootProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}});var rU=ar("tabs").parts("root","list","trigger","content","indicator"),Du=rU.build(),oU=e=>e.ids?.root??`tabs:${e.id}`,Td=e=>e.ids?.list??`tabs:${e.id}:list`,l0=(e,t)=>e.ids?.content?.(t)??`tabs:${e.id}:content-${t}`,Ka=(e,t)=>e.ids?.trigger?.(t)??`tabs:${e.id}:trigger-${t}`,B2=e=>e.ids?.indicator??`tabs:${e.id}:indicator`,iU=e=>e.getById(Td(e)),sU=(e,t)=>e.getById(l0(e,t)),_h=(e,t)=>e.getById(Ka(e,t)),cC=e=>e.getById(B2(e)),Xp=e=>{const t=`[role=tab][data-ownedby='${CSS.escape(Td(e))}']:not([disabled])`;return vx(iU(e),t)},aU=e=>ax(Xp(e)),lU=e=>lx(Xp(e)),cU=(e,t)=>NP(Xp(e),Ka(e,t.value),t.loopFocus),uU=(e,t)=>MP(Xp(e),Ka(e,t.value),t.loopFocus),H2=e=>({left:e?.offsetLeft??0,top:e?.offsetTop??0,width:e?.offsetWidth??0,height:e?.offsetHeight??0}),dU=(e,t)=>{const n=AP(Xp(e),Ka(e,t));return z2(H2(n))},z2=e=>({width:`${e.width}px`,height:`${e.height}px`,left:`${e.left}px`,top:`${e.top}px`});function pU(e,t){const{state:n,send:r,context:o,prop:i,scope:s}=e,a=i("translations"),l=n.matches("focused"),c=i("orientation")==="vertical",u=i("orientation")==="horizontal",p=i("composite");function h(f){return{selected:o.get("value")===f.value,focused:o.get("focusedValue")===f.value,disabled:!!f.disabled}}return{value:o.get("value"),focusedValue:o.get("focusedValue"),setValue(f){r({type:"SET_VALUE",value:f})},clearValue(){r({type:"CLEAR_VALUE"})},setIndicatorRect(f){const g=Ka(s,f);r({type:"SET_INDICATOR_RECT",id:g})},syncTabIndex(){r({type:"SYNC_TAB_INDEX"})},selectNext(f){r({type:"TAB_FOCUS",value:f,src:"selectNext"}),r({type:"ARROW_NEXT",src:"selectNext"})},selectPrev(f){r({type:"TAB_FOCUS",value:f,src:"selectPrev"}),r({type:"ARROW_PREV",src:"selectPrev"})},focus(){const f=o.get("value");f&&_h(s,f)?.focus()},getRootProps(){return t.element({...Du.root.attrs,id:oU(s),"data-orientation":i("orientation"),"data-focus":_e(l),dir:i("dir")})},getListProps(){return t.element({...Du.list.attrs,id:Td(s),role:"tablist",dir:i("dir"),"data-focus":_e(l),"aria-orientation":i("orientation"),"data-orientation":i("orientation"),"aria-label":a?.listLabel,onKeyDown(f){if(f.defaultPrevented||kP(f)||!so(f.currentTarget,Xt(f)))return;const g={ArrowDown(){u||r({type:"ARROW_NEXT",key:"ArrowDown"})},ArrowUp(){u||r({type:"ARROW_PREV",key:"ArrowUp"})},ArrowLeft(){c||r({type:"ARROW_PREV",key:"ArrowLeft"})},ArrowRight(){c||r({type:"ARROW_NEXT",key:"ArrowRight"})},Home(){r({type:"HOME"})},End(){r({type:"END"})}};let m=Fc(f,{dir:i("dir"),orientation:i("orientation")});const b=g[m];if(b){f.preventDefault(),b(f);return}}})},getTriggerState:h,getTriggerProps(f){const{value:g,disabled:m}=f,b=h(f);return t.button({...Du.trigger.attrs,role:"tab",type:"button",disabled:m,dir:i("dir"),"data-orientation":i("orientation"),"data-disabled":_e(m),"aria-disabled":m,"data-value":g,"aria-selected":b.selected,"data-selected":_e(b.selected),"data-focus":_e(b.focused),"aria-controls":b.selected?l0(s,g):void 0,"data-ownedby":Td(s),"data-ssr":_e(o.get("ssr")),id:Ka(s,g),tabIndex:b.selected&&p?0:-1,onFocus(){r({type:"TAB_FOCUS",value:g})},onBlur(w){w.relatedTarget?.getAttribute("role")!=="tab"&&r({type:"TAB_BLUR"})},onClick(w){w.defaultPrevented||Hy(w)||m||(px()&&w.currentTarget.focus(),r({type:"TAB_CLICK",value:g}))}})},getContentProps(f){const{value:g}=f,m=o.get("value")===g;return t.element({...Du.content.attrs,dir:i("dir"),id:l0(s,g),tabIndex:p?0:-1,"aria-labelledby":Ka(s,g),role:"tabpanel","data-ownedby":Td(s),"data-selected":_e(m),"data-orientation":i("orientation"),hidden:!m})},getIndicatorProps(){const f=o.get("indicatorRect"),g=o.get("indicatorTransition");return t.element({id:B2(s),...Du.indicator.attrs,dir:i("dir"),"data-orientation":i("orientation"),style:{"--transition-property":"left, right, top, bottom, width, height","--left":f.left,"--top":f.top,"--width":f.width,"--height":f.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:g?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[u?"left":"top"]:u?"var(--left)":"var(--top)"}})}}}var{createMachine:fU}=_3(),hU=fU({props({props:e}){return{dir:"ltr",orientation:"horizontal",activationMode:"automatic",loopFocus:!0,composite:!0,navigate(t){PP(t.node)},defaultValue:null,...e}},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){e("onValueChange")?.({value:n})}})),focusedValue:t(()=>({defaultValue:e("value")||e("defaultValue"),sync:!0,onChange(n){e("onFocusChange")?.({focusedValue:n})}})),ssr:t(()=>({defaultValue:!0})),indicatorTransition:t(()=>({defaultValue:!1})),indicatorRect:t(()=>({defaultValue:{left:"0px",top:"0px",width:"0px",height:"0px"}}))}},watch({context:e,prop:t,track:n,action:r}){n([()=>e.get("value")],()=>{r(["allowIndicatorTransition","syncIndicatorRect","syncTabIndex","navigateIfNeeded"])}),n([()=>t("dir"),()=>t("orientation")],()=>{r(["syncIndicatorRect"])})},on:{SET_VALUE:{actions:["setValue"]},CLEAR_VALUE:{actions:["clearValue"]},SET_INDICATOR_RECT:{actions:["setIndicatorRect"]},SYNC_TAB_INDEX:{actions:["syncTabIndex"]}},entry:["syncIndicatorRect","syncTabIndex","syncSsr"],exit:["cleanupObserver"],states:{idle:{on:{TAB_FOCUS:{target:"focused",actions:["setFocusedValue"]},TAB_CLICK:{target:"focused",actions:["setFocusedValue","setValue"]}}},focused:{on:{TAB_CLICK:{actions:["setFocusedValue","setValue"]},ARROW_PREV:[{guard:"selectOnFocus",actions:["focusPrevTab","selectFocusedTab"]},{actions:["focusPrevTab"]}],ARROW_NEXT:[{guard:"selectOnFocus",actions:["focusNextTab","selectFocusedTab"]},{actions:["focusNextTab"]}],HOME:[{guard:"selectOnFocus",actions:["focusFirstTab","selectFocusedTab"]},{actions:["focusFirstTab"]}],END:[{guard:"selectOnFocus",actions:["focusLastTab","selectFocusedTab"]},{actions:["focusLastTab"]}],TAB_FOCUS:{actions:["setFocusedValue"]},TAB_BLUR:{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{selectOnFocus:({prop:e})=>e("activationMode")==="automatic"},actions:{selectFocusedTab({context:e,prop:t}){Ke(()=>{const n=e.get("focusedValue");if(!n)return;const r=t("deselectable")&&e.get("value")===n?null:n;e.set("value",r)})},setFocusedValue({context:e,event:t,flush:n}){t.value!=null&&n(()=>{e.set("focusedValue",t.value)})},clearFocusedValue({context:e}){e.set("focusedValue",null)},setValue({context:e,event:t,prop:n}){const r=n("deselectable")&&e.get("value")===e.get("focusedValue");e.set("value",r?null:t.value)},clearValue({context:e}){e.set("value",null)},focusFirstTab({scope:e}){Ke(()=>{aU(e)?.focus()})},focusLastTab({scope:e}){Ke(()=>{lU(e)?.focus()})},focusNextTab({context:e,prop:t,scope:n,event:r}){const o=r.value??e.get("focusedValue");if(!o)return;const i=cU(n,{value:o,loopFocus:t("loopFocus")});Ke(()=>{t("composite")?i?.focus():i?.dataset.value!=null&&e.set("focusedValue",i.dataset.value)})},focusPrevTab({context:e,prop:t,scope:n,event:r}){const o=r.value??e.get("focusedValue");if(!o)return;const i=uU(n,{value:o,loopFocus:t("loopFocus")});Ke(()=>{t("composite")?i?.focus():i?.dataset.value!=null&&e.set("focusedValue",i.dataset.value)})},syncTabIndex({context:e,scope:t}){Ke(()=>{const n=e.get("value");if(!n)return;const r=sU(t,n);r&&(hx(r).length>0?r.removeAttribute("tabindex"):r.setAttribute("tabindex","0"))})},cleanupObserver({refs:e}){const t=e.get("indicatorCleanup");t&&t()},allowIndicatorTransition({context:e}){e.set("indicatorTransition",!0)},setIndicatorRect({context:e,event:t,scope:n}){const r=t.id??e.get("value");if(cC(n)){if(!r){e.set("indicatorTransition",!1);return}_h(n,r)&&(e.set("indicatorRect",dU(n,r)),gx(()=>{e.set("indicatorTransition",!1)}))}},syncSsr({context:e}){e.set("ssr",!1)},syncIndicatorRect({context:e,refs:t,scope:n}){const r=t.get("indicatorCleanup");r&&r();const o=e.get("value");if(!o){e.set("indicatorTransition",!1);return}const i=_h(n,o),s=cC(n);if(!i||!s)return;const a=l3([i],{measure(l){return H2(l)},onEntry({rects:l}){const[c]=l;e.set("indicatorRect",z2(c))}});t.set("indicatorCleanup",a)},navigateIfNeeded({context:e,prop:t,scope:n}){const r=e.get("value");if(!r)return;const o=_h(n,r);xP(o)&&t("navigate")?.({value:r,node:o,href:o.href})}}}});sn()(["activationMode","composite","deselectable","dir","getRootNode","id","ids","loopFocus","navigate","onFocusChange","onValueChange","orientation","translations","value","defaultValue"]);sn()(["disabled","value"]);sn()(["value"]);const gU=(e={},t)=>{const n=nt(),r=_o(ko),o=Ki(qi),i=A(()=>{const a=pe(e);return{id:n,dir:o.value.dir,value:a.modelValue,getRootNode:r?.value.getRootNode,...ra(a),onFocusChange:l=>{t?.("focusChange",l),a.onFocusChange?.(l)},onValueChange:l=>{t?.("valueChange",l),t?.("update:modelValue",l.value),a.onValueChange?.(l)}}}),s=wo(hU,i);return A(()=>pU(s,ii))},mU=P({__name:"tabs-root",props:Ze({activationMode:{},composite:{type:Boolean},defaultValue:{},deselectable:{type:Boolean},id:{},ids:{},loopFocus:{type:Boolean},modelValue:{},navigate:{type:Function},orientation:{},translations:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{composite:void 0,deselectable:void 0,loopFocus:void 0}),emits:["focusChange","valueChange","update:modelValue"],setup(e,{emit:t}){const n=e,r=gU(n,t);return F2(r),ur(A(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),se(),(o,i)=>(y(),$(d(he).div,F(d(r).getRootProps(),{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),Ii=Object.freeze(Object.defineProperty({__proto__:null,Content:Jz,Context:tU,Indicator:Zz,List:Qz,Root:mU,RootProvider:nU,Trigger:eU},Symbol.toStringTag,{value:"Module"}));var vU=ar("toast").parts("group","root","title","description","actionTrigger","closeTrigger"),Ql=vU.build(),bU=e=>`toast-group:${e}`,uC=(e,t)=>e.getById(`toast-group:${t}`),U2=e=>`toast:${e.id}`,dC=e=>e.getById(U2(e)),pC=e=>`toast:${e.id}:title`,fC=e=>`toast:${e.id}:description`,yU=e=>`toast${e.id}:close`,hC={info:5e3,error:5e3,success:2e3,loading:1/0,DEFAULT:5e3};function yb(e,t){return e??hC[t]??hC.DEFAULT}var xU=e=>typeof e=="string"?{left:e,right:e,bottom:e,top:e}:e;function wU(e,t){const{prop:n,computed:r,context:o}=e,{offsets:i,gap:s}=n("store").attrs,a=o.get("heights"),l=xU(i),c=n("dir")==="rtl",u=t.replace("-start",c?"-right":"-left").replace("-end",c?"-left":"-right"),p=u.includes("right"),h=u.includes("left"),f={position:"fixed",pointerEvents:r("count")>0?void 0:"none",display:"flex",flexDirection:"column","--gap":`${s}px`,"--first-height":`${a[0]?.height||0}px`,zIndex:yB};let g="center";if(p&&(g="flex-end"),h&&(g="flex-start"),f.alignItems=g,u.includes("top")){const m=l.top;f.top=`max(env(safe-area-inset-top, 0px), ${m})`}if(u.includes("bottom")){const m=l.bottom;f.bottom=`max(env(safe-area-inset-bottom, 0px), ${m})`}if(!u.includes("left")){const m=l.right;f.insetInlineEnd=`calc(env(safe-area-inset-right, 0px) + ${m})`}if(!u.includes("right")){const m=l.left;f.insetInlineStart=`calc(env(safe-area-inset-left, 0px) + ${m})`}return f}function _U(e,t){const{prop:n,context:r,computed:o}=e,i=n("parent"),s=i.computed("placement"),{gap:a}=i.prop("store").attrs,[l]=s.split("-"),c=r.get("mounted"),u=r.get("remainingTime"),p=o("height"),h=o("frontmost"),f=!h,g=!n("stacked"),m=n("stacked"),b=n("type")==="loading"?Number.MAX_SAFE_INTEGER:u,w=o("heightIndex")*a+o("heightBefore"),E={position:"absolute",pointerEvents:"auto","--opacity":"0","--remove-delay":`${n("removeDelay")}ms`,"--duration":`${b}ms`,"--initial-height":`${p}px`,"--offset":`${w}px`,"--index":n("index"),"--z-index":o("zIndex"),"--lift-amount":"calc(var(--lift) * var(--gap))","--y":"100%","--x":"0"},k=v=>Object.assign(E,v);return l==="top"?k({top:"0","--sign":"-1","--y":"-100%","--lift":"1"}):l==="bottom"&&k({bottom:"0","--sign":"1","--y":"100%","--lift":"-1"}),c&&(k({"--y":"0","--opacity":"1"}),m&&k({"--y":"calc(var(--lift) * var(--offset))","--height":"var(--initial-height)"})),t||k({"--opacity":"0",pointerEvents:"none"}),f&&g&&(k({"--base-scale":"var(--index) * 0.05 + 1","--y":"calc(var(--lift-amount) * var(--index))","--scale":"calc(-1 * var(--base-scale))","--height":"var(--first-height)"}),t||k({"--y":"calc(var(--sign) * 40%)"})),f&&m&&!t&&k({"--y":"calc(var(--lift) * var(--offset) + var(--lift) * -100%)"}),h&&!t&&k({"--y":"calc(var(--lift) * -100%)"}),E}function kU(e,t){const{computed:n}=e,r={position:"absolute",inset:"0",scale:"1 2",pointerEvents:t?"none":"auto"},o=i=>Object.assign(r,i);return n("frontmost")&&!t&&o({height:"calc(var(--initial-height) + 80%)"}),r}function CU(){return{position:"absolute",left:"0",height:"calc(var(--gap) + 2px)",bottom:"100%",width:"100%"}}function EU(e,t){const{context:n,prop:r,send:o,refs:i,computed:s}=e;return{getCount(){return n.get("toasts").length},getToasts(){return n.get("toasts")},getGroupProps(a={}){const{label:l="Notifications"}=a,{hotkey:c}=r("store").attrs,u=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=s("placement"),[h,f="center"]=p.split("-");return t.element({...Ql.group.attrs,dir:r("dir"),tabIndex:-1,"aria-label":`${p} ${l} ${u}`,id:bU(p),"data-placement":p,"data-side":h,"data-align":f,"aria-live":"polite",role:"region",style:wU(e,p),onMouseMove(){o({type:"REGION.POINTER_ENTER",placement:p})},onMouseLeave(){o({type:"REGION.POINTER_LEAVE",placement:p})},onFocus(g){o({type:"REGION.FOCUS",target:g.relatedTarget})},onBlur(g){i.get("isFocusWithin")&&!so(g.currentTarget,g.relatedTarget)&&queueMicrotask(()=>o({type:"REGION.BLUR"}))}})},subscribe(a){return r("store").subscribe(()=>a(n.get("toasts")))}}}var OU={props({props:e}){return{dir:"ltr",id:mP(),...e,store:e.store}},initialState({prop:e}){return e("store").attrs.overlap?"overlap":"stack"},refs(){return{lastFocusedEl:null,isFocusWithin:!1,dismissableCleanup:void 0}},context({bindable:e}){return{toasts:e(()=>({defaultValue:[],sync:!0,hash:t=>t.map(n=>n.id).join(",")})),heights:e(()=>({defaultValue:[],sync:!0}))}},computed:{count:({context:e})=>e.get("toasts").length,overlap:({prop:e})=>e("store").attrs.overlap,placement:({prop:e})=>e("store").attrs.placement},effects:["subscribeToStore","trackDocumentVisibility","trackHotKeyPress"],watch({track:e,context:t,action:n}){e([()=>t.hash("toasts")],()=>{queueMicrotask(()=>{n(["collapsedIfEmpty","setDismissableBranch"])})})},exit:["clearDismissableBranch","clearLastFocusedEl"],on:{"DOC.HOTKEY":{actions:["focusRegionEl"]},"REGION.BLUR":[{guard:"isOverlapping",target:"overlap",actions:["collapseToasts","resumeToasts","restoreLastFocusedEl"]},{target:"stack",actions:["resumeToasts","restoreLastFocusedEl"]}],"TOAST.REMOVE":{actions:["removeToast","removeHeight"]},"TOAST.PAUSE":{actions:["pauseToasts"]}},states:{stack:{on:{"REGION.POINTER_LEAVE":[{guard:"isOverlapping",target:"overlap",actions:["resumeToasts","collapseToasts"]},{actions:["resumeToasts"]}],"REGION.OVERLAP":{target:"overlap",actions:["collapseToasts"]},"REGION.FOCUS":{actions:["setLastFocusedEl","pauseToasts"]},"REGION.POINTER_ENTER":{actions:["pauseToasts"]}}},overlap:{on:{"REGION.STACK":{target:"stack",actions:["expandToasts"]},"REGION.POINTER_ENTER":{target:"stack",actions:["pauseToasts","expandToasts"]},"REGION.FOCUS":{target:"stack",actions:["setLastFocusedEl","pauseToasts","expandToasts"]}}}},implementations:{guards:{isOverlapping:({computed:e})=>e("overlap")},effects:{subscribeToStore({context:e,prop:t}){return t("store").subscribe(n=>{if(n.dismiss){e.set("toasts",r=>r.filter(o=>o.id!==n.id));return}e.set("toasts",r=>{const o=r.findIndex(i=>i.id===n.id);return o!==-1?[...r.slice(0,o),{...r[o],...n},...r.slice(o+1)]:[n,...r]})})},trackHotKeyPress({prop:e,send:t}){return vn(document,"keydown",n=>{const{hotkey:r}=e("store").attrs;r.every(o=>n[o]||n.code===o)&&t({type:"DOC.HOTKEY"})},{capture:!0})},trackDocumentVisibility({prop:e,send:t,scope:n}){const{pauseOnPageIdle:r}=e("store").attrs;if(!r)return;const o=n.getDoc();return vn(o,"visibilitychange",()=>{const i=o.visibilityState==="hidden";t({type:i?"PAUSE_ALL":"RESUME_ALL"})})}},actions:{setDismissableBranch({refs:e,context:t,computed:n,scope:r}){const o=t.get("toasts"),i=n("placement"),s=o.length>0;if(!s){e.get("dismissableCleanup")?.();return}if(s&&e.get("dismissableCleanup"))return;const a=h4(()=>uC(r,i),{defer:!0});e.set("dismissableCleanup",a)},clearDismissableBranch({refs:e}){e.get("dismissableCleanup")?.()},focusRegionEl({scope:e,computed:t}){queueMicrotask(()=>{uC(e,t("placement"))?.focus()})},pauseToasts({prop:e}){e("store").pause()},resumeToasts({prop:e}){e("store").resume()},expandToasts({prop:e}){e("store").expand()},collapseToasts({prop:e}){e("store").collapse()},removeToast({prop:e,event:t}){e("store").remove(t.id)},removeHeight({event:e,context:t}){e?.id!=null&&queueMicrotask(()=>{t.set("heights",n=>n.filter(r=>r.id!==e.id))})},collapsedIfEmpty({send:e,computed:t}){!t("overlap")||t("count")>1||e({type:"REGION.OVERLAP"})},setLastFocusedEl({refs:e,event:t}){e.get("isFocusWithin")||!t.target||(e.set("isFocusWithin",!0),e.set("lastFocusedEl",t.target))},restoreLastFocusedEl({refs:e}){e.get("lastFocusedEl")&&(e.get("lastFocusedEl")?.focus({preventScroll:!0}),e.set("lastFocusedEl",null),e.set("isFocusWithin",!1))},clearLastFocusedEl({refs:e}){e.get("lastFocusedEl")&&(e.get("lastFocusedEl")?.focus({preventScroll:!0}),e.set("lastFocusedEl",null),e.set("isFocusWithin",!1))}}}};function IU(e,t){const{state:n,send:r,prop:o,scope:i,context:s,computed:a}=e,l=n.hasTag("visible"),c=n.hasTag("paused"),u=s.get("mounted"),p=a("frontmost"),h=o("parent").computed("placement"),f=o("type"),g=o("stacked"),m=o("title"),b=o("description"),w=o("action"),[E,k="center"]=h.split("-");return{type:f,title:m,description:b,placement:h,visible:l,paused:c,closable:!!o("closable"),pause(){r({type:"PAUSE"})},resume(){r({type:"RESUME"})},dismiss(){r({type:"DISMISS",src:"programmatic"})},getRootProps(){return t.element({...Ql.root.attrs,dir:o("dir"),id:U2(i),"data-state":l?"open":"closed","data-type":f,"data-placement":h,"data-align":k,"data-side":E,"data-mounted":_e(u),"data-paused":_e(c),"data-first":_e(p),"data-sibling":_e(!p),"data-stack":_e(g),"data-overlap":_e(!g),role:"status","aria-atomic":"true","aria-describedby":b?fC(i):void 0,"aria-labelledby":m?pC(i):void 0,tabIndex:0,style:_U(e,l),onKeyDown(v){v.defaultPrevented||v.key=="Escape"&&(r({type:"DISMISS",src:"keyboard"}),v.preventDefault())}})},getGhostBeforeProps(){return t.element({"data-ghost":"before",style:kU(e,l)})},getGhostAfterProps(){return t.element({"data-ghost":"after",style:CU()})},getTitleProps(){return t.element({...Ql.title.attrs,id:pC(i)})},getDescriptionProps(){return t.element({...Ql.description.attrs,id:fC(i)})},getActionTriggerProps(){return t.button({...Ql.actionTrigger.attrs,type:"button",onClick(v){v.defaultPrevented||(w?.onClick?.(),r({type:"DISMISS",src:"user"}))}})},getCloseTriggerProps(){return t.button({id:yU(i),...Ql.closeTrigger.attrs,type:"button","aria-label":"Dismiss notification",onClick(v){v.defaultPrevented||r({type:"DISMISS",src:"user"})}})}}}var{not:TU}=ru(),SU={props({props:e}){return vB(e,["id","type","parent","removeDelay"],"toast"),{closable:!0,...e,duration:yb(e.duration,e.type)}},initialState({prop:e}){return e("type")==="loading"||e("duration")===1/0?"visible:persist":"visible"},context({prop:e,bindable:t}){return{remainingTime:t(()=>({defaultValue:yb(e("duration"),e("type"))})),createdAt:t(()=>({defaultValue:Date.now()})),mounted:t(()=>({defaultValue:!1})),initialHeight:t(()=>({defaultValue:0}))}},refs(){return{closeTimerStartTime:Date.now(),lastCloseStartTimerStartTime:0}},computed:{zIndex:({prop:e})=>{const t=e("parent").context.get("toasts"),n=t.findIndex(r=>r.id===e("id"));return t.length-n},height:({prop:e})=>e("parent").context.get("heights").find(t=>t.id===e("id"))?.height??0,heightIndex:({prop:e})=>e("parent").context.get("heights").findIndex(t=>t.id===e("id")),frontmost:({prop:e})=>e("index")===0,heightBefore:({prop:e})=>{const t=e("parent").context.get("heights"),n=t.findIndex(r=>r.id===e("id"));return t.reduce((r,o,i)=>i>=n?r:r+o.height,0)},shouldPersist:({prop:e})=>e("type")==="loading"||e("duration")===1/0},watch({track:e,prop:t,send:n}){e([()=>t("message")],()=>{const r=t("message");r&&n({type:r,src:"programmatic"})}),e([()=>t("type"),()=>t("duration")],()=>{n({type:"UPDATE"})})},on:{UPDATE:[{guard:"shouldPersist",target:"visible:persist",actions:["resetCloseTimer"]},{target:"visible:updating",actions:["resetCloseTimer"]}],MEASURE:{actions:["measureHeight"]}},entry:["setMounted","measureHeight","invokeOnVisible"],effects:["trackHeight"],states:{"visible:updating":{tags:["visible","updating"],effects:["waitForNextTick"],on:{SHOW:{target:"visible"}}},"visible:persist":{tags:["visible","paused"],on:{RESUME:{guard:TU("isLoadingType"),target:"visible",actions:["setCloseTimer"]},DISMISS:{target:"dismissing"}}},visible:{tags:["visible"],effects:["waitForDuration"],on:{DISMISS:{target:"dismissing"},PAUSE:{target:"visible:persist",actions:["syncRemainingTime"]}}},dismissing:{entry:["invokeOnDismiss"],effects:["waitForRemoveDelay"],on:{REMOVE:{target:"unmounted",actions:["notifyParentToRemove"]}}},unmounted:{entry:["invokeOnUnmount"]}},implementations:{effects:{waitForRemoveDelay({prop:e,send:t}){return lb(()=>{t({type:"REMOVE",src:"timer"})},e("removeDelay"))},waitForDuration({send:e,context:t,computed:n}){if(!n("shouldPersist"))return lb(()=>{e({type:"DISMISS",src:"timer"})},t.get("remainingTime"))},waitForNextTick({send:e}){return lb(()=>{e({type:"SHOW",src:"timer"})},0)},trackHeight({scope:e,prop:t}){let n;return Ke(()=>{const r=dC(e);if(!r)return;const o=()=>{const a=r.style.height;r.style.height="auto";const l=r.getBoundingClientRect().height;r.style.height=a;const c={id:t("id"),height:l};gC(t("parent"),c)},i=e.getWin(),s=new i.MutationObserver(o);s.observe(r,{childList:!0,subtree:!0,characterData:!0}),n=()=>s.disconnect()}),()=>n?.()}},guards:{isLoadingType:({prop:e})=>e("type")==="loading",shouldPersist:({computed:e})=>e("shouldPersist")},actions:{setMounted({context:e}){Ke(()=>{e.set("mounted",!0)})},measureHeight({scope:e,prop:t,context:n}){queueMicrotask(()=>{const r=dC(e);if(!r)return;const o=r.style.height;r.style.height="auto";const i=r.getBoundingClientRect().height;r.style.height=o,n.set("initialHeight",i);const s={id:t("id"),height:i};gC(t("parent"),s)})},setCloseTimer({refs:e}){e.set("closeTimerStartTime",Date.now())},resetCloseTimer({context:e,refs:t,prop:n}){t.set("closeTimerStartTime",Date.now()),e.set("remainingTime",yb(n("duration"),n("type")))},syncRemainingTime({context:e,refs:t}){e.set("remainingTime",n=>{const r=t.get("closeTimerStartTime"),o=Date.now()-r;return t.set("lastCloseStartTimerStartTime",Date.now()),n-o})},notifyParentToRemove({prop:e}){e("parent").send({type:"TOAST.REMOVE",id:e("id")})},invokeOnDismiss({prop:e,event:t}){e("onStatusChange")?.({status:"dismissing",src:t.src})},invokeOnUnmount({prop:e}){e("onStatusChange")?.({status:"unmounted"})},invokeOnVisible({prop:e}){e("onStatusChange")?.({status:"visible"})}}}};function gC(e,t){const{id:n,height:r}=t;e.context.set("heights",o=>o.find(i=>i.id===n)?o.map(i=>i.id===n?{...i,height:r}:i):[{id:n,height:r},...o])}var PU=(e,t)=>({...t,...Fm(e)});function $U(e={}){const t=PU(e,{placement:"bottom",overlap:!1,max:24,gap:16,offsets:"1rem",hotkey:["altKey","KeyT"],removeDelay:200,pauseOnPageIdle:!0});let n=[],r=[],o=new Set,i=[];const s=h=>(n.push(h),()=>{const f=n.indexOf(h);n.splice(f,1)}),a=h=>(n.forEach(f=>f(h)),h),l=h=>{if(r.length>=t.max){i.push(h);return}a(h),r.unshift(h)},c=()=>{for(;i.length>0&&r.length<t.max;){const h=i.shift();h&&(a(h),r.unshift(h))}},u=h=>{const f=h.id??`toast:${mP()}`,g=r.find(m=>m.id===f);return o.has(f)&&o.delete(f),g?r=r.map(m=>m.id===f?a({...m,...h,id:f}):m):l({id:f,duration:t.duration,removeDelay:t.removeDelay,type:"info",...h,stacked:!t.overlap,gap:t.gap}),f},p=h=>(o.add(h),h?(n.forEach(f=>f({id:h,dismiss:!0})),r=r.filter(f=>f.id!==h),c()):(r.forEach(f=>{n.forEach(g=>g({id:f.id,dismiss:!0}))}),r=[],i=[]),h);return{attrs:t,subscribe:s,create:u,update:(h,f)=>u({id:h,...f}),remove:p,dismiss:h=>{h!=null?r=r.map(f=>f.id===h?a({...f,message:"DISMISS"}):f):r=r.map(f=>a({...f,message:"DISMISS"}))},error:h=>u({...h,type:"error"}),success:h=>u({...h,type:"success"}),info:h=>u({...h,type:"info"}),warning:h=>u({...h,type:"warning"}),loading:h=>u({...h,type:"loading"}),getVisibleToasts:()=>r.filter(h=>!o.has(h.id)),getCount:()=>r.length,promise:(h,f,g={})=>{if(!f||!f.loading){Lc("[zag-js > toast] toaster.promise() requires at least a 'loading' option to be specified");return}const m=u({...g,...f.loading,promise:h,type:"loading"});let b=!0,w;const E=Tf(h).then(async k=>{if(w=["resolve",k],RU(k)&&!k.ok){b=!1;const v=Tf(f.error,`HTTP Error! status: ${k.status}`);u({...g,...v,id:m,type:"error"})}else if(f.success!==void 0){b=!1;const v=Tf(f.success,k);u({...g,...v,id:m,type:"success"})}}).catch(async k=>{if(w=["reject",k],f.error!==void 0){b=!1;const v=Tf(f.error,k);u({...g,...v,id:m,type:"error"})}}).finally(()=>{b&&p(m),f.finally?.()});return{id:m,unwrap:()=>new Promise((k,v)=>E.then(()=>w[0]==="reject"?v(w[1]):k(w[1])).catch(v))}},pause:h=>{h!=null?r=r.map(f=>f.id===h?a({...f,message:"PAUSE"}):f):r=r.map(f=>a({...f,message:"PAUSE"}))},resume:h=>{h!=null?r=r.map(f=>f.id===h?a({...f,message:"RESUME"}):f):r=r.map(f=>a({...f,message:"RESUME"}))},isVisible:h=>!o.has(h)&&!!r.find(f=>f.id===h),isDismissed:h=>o.has(h),expand:()=>{r=r.map(h=>a({...h,stacked:!0}))},collapse:()=>{r=r.map(h=>a({...h,stacked:!1}))}}}var RU=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",mC={connect:EU,machine:OU};const AU=e=>$U(e),[NU,cu]=Rt("ToastContext"),MU=P({__name:"toast-action-trigger",props:{asChild:{type:Boolean}},setup(e){const t=cu();return se(),(n,r)=>(y(),$(d(he).button,F(d(t).getActionTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),DU=P({__name:"toast-close-trigger",props:{asChild:{type:Boolean}},setup(e){const t=cu();return se(),(n,r)=>(y(),$(d(he).button,F(d(t).getCloseTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),LU=P({__name:"toast-context",setup(e){const t=cu();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),VU=P({__name:"toast-description",props:{asChild:{type:Boolean}},setup(e){const t=cu();return se(),(n,r)=>(y(),$(d(he).div,F(d(t).getDescriptionProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),FU=P({__name:"toast-root",props:{asChild:{type:Boolean}},setup(e){const t=cu();return se(),(n,r)=>(y(),$(d(he).div,F(d(t).getRootProps(),{"as-child":n.asChild}),{default:O(()=>[D("div",Be(Fe(d(t).getGhostBeforeProps())),null,16),L(n.$slots,"default"),D("div",Be(Fe(d(t).getGhostAfterProps())),null,16)]),_:3},16,["as-child"]))}}),BU=P({__name:"toast-title",props:{asChild:{type:Boolean}},setup(e){const t=cu();return se(),(n,r)=>(y(),$(d(he).div,F(d(t).getTitleProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),HU=P({__name:"toaster-item",props:{value:{},index:{},parent:{}},setup(e){const t=e,n=_o(ko),r=A(()=>({...t.value,index:t.index,parent:t.parent,getRootNode:n?.value.getRootNode})),o=wo(SU,r),i=A(()=>IU(o,ii));return NU(i),se(),(s,a)=>L(s.$slots,"default",Be(Fe(t.value)))}}),zU=P({__name:"toaster",props:{toaster:{},asChild:{type:Boolean}},setup(e){const t=e,n=Ki(qi),r=_o(ko),o=wo(mC.machine,{store:t.toaster,id:nt(),dir:n?.value.dir,getRootNode:r?.value.getRootNode}),i=A(()=>mC.connect(o,ii));return se(),(s,a)=>(y(),$(d(he).div,Be(Fe(i.value.getGroupProps())),{default:O(()=>[(y(!0),V(ge,null,Ie(i.value.getToasts(),(l,c)=>(y(),$(HU,{key:l.id,value:l,parent:d(o),index:c},{default:O(u=>[L(s.$slots,"default",F({ref_for:!0},u))]),_:3},8,["value","parent","index"]))),128))]),_:3},16))}}),Lu=Object.freeze(Object.defineProperty({__proto__:null,ActionTrigger:MU,CloseTrigger:DU,Context:LU,Description:VU,Root:FU,Title:BU},Symbol.toStringTag,{value:"Module"})),UU={key:1,class:"border-b px-6 py-4 flex items-center justify-between"},jU=P({__name:"Modals",setup(e){const t=dt(Qt),{openModals:n,modals:r,closeModal:o}=Yi(),i=A(()=>n.value.reduce((l,c)=>{const u=r.value.get(c);return u&&(l[c]=u),l},{})),s=l=>({xs:"max-w-xs",sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl",full:"max-w-[calc(100vw-2rem)] w-full max-h-[calc(100vh-2rem)] h-full"})[l]||"max-w-md",a=(l,c)=>{l.open||o(c)};return(l,c)=>{const u=Sx,p=Gp;return y(!0),V(ge,null,Ie(d(n),h=>(y(),V(ge,{key:h},[d(i)[h]?(y(),$(d(Ca).Root,{key:0,open:!0,onOpenChange:f=>a(f,h),modal:!0},{default:O(()=>[S(d(Ca).Backdrop,{class:"fixed inset-0 bg-black/50 z-50"}),S(d(Ca).Positioner,{class:"fixed inset-0 z-50 flex items-center justify-center p-4"},{default:O(()=>[S(d(Ca).Content,{class:Ne(`relative bg-white rounded-lg shadow-xl ${s(d(i)[h]?.size)} ${d(i)[h]?.size!=="full"?"max-h-[90vh]":""} overflow-auto`)},{default:O(()=>[d(i)[h].title?Z("",!0):(y(),$(d(Ca).CloseTrigger,{key:0,class:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded p-1 z-10",onClick:f=>d(o)(h)},{default:O(()=>[S(u,{class:"w-5 h-5"})]),_:1},8,["onClick"])),d(i)[h].title?(y(),V("div",UU,[S(d(Ca).Title,{class:"text-lg font-semibold text-gray-900"},{default:O(()=>[re(j(d(i)[h].title),1)]),_:2},1024),S(d(Ca).CloseTrigger,{class:"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded p-1",onClick:f=>d(o)(h)},{default:O(()=>[S(u,{class:"w-5 h-5"})]),_:1},8,["onClick"])])):Z("",!0),d(qo)(d(i)[h].render)||d(Pi)(d(i)[h].render)?(y(),$(Xn(d(i)[h].render),{key:2,"modal-id":h,editor:d(t)},null,8,["modal-id","editor"])):d($i)(d(i)[h].render)?(y(),$(p,{key:3,"render-fn":d(i)[h].render},null,8,["render-fn"])):Z("",!0)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1032,["onOpenChange"])):Z("",!0)],64))),128)}}}),vC={header:{undo:"Undo",redo:"Redo",auto:"Auto",apply:"Apply",devicePreview:"Device Preview",customDeviceSize:"Custom Size",deviceWidthPx:"Width (px)",savedCustomDevices:"Saved custom devices",enableInspector:"Enable inspection mode",disableInspector:"Disable inspection mode"},block:{show:"Show",hide:"Hide",copy:"Copy",pasteAfter:"Paste After",duplicate:"Duplicate",remove:"Remove",moveToNext:"Move to Next",moveToPrevious:"Move to Previous",enable:"Enable",disable:"Disable",insertBlockBefore:"Insert Block Before",insertBlockAfter:"Insert Block After",insertSiblingBefore:"Insert Sibling Before",insertSiblingAfter:"Insert Sibling After",copyAsJson:"Copy as JSON"},layers:{title:"Layers",header:"Page content",collapseAll:"Collapse all blocks",addBlockToBlock:"Add block",addBlockToRegion:"Add block"},blocksPopover:{searchPlaceholder:"Search blocks...",tabBlocks:"Blocks",tabSaved:"Saved",noBlocksAvailable:"No blocks available",noBlocksFound:"No blocks found",hoverToSeeDetails:"Hover over a block to see details",noPreviewAvailable:"No preview available"},configPanels:{properties:"Properties",selectedBlock:"Select a block to edit its properties",noProperties:"This block has no editable properties",unknownFieldType:"Unknown field type"},common:{block:"Block",custom:"Custom",close:"Close",default:"Default"}};function GU(e,t){const n={...e};for(const r in t)if(t.hasOwnProperty(r)){const o=t[r],i=n[r];o&&typeof o=="object"&&!Array.isArray(o)&&i&&typeof i=="object"&&!Array.isArray(i)?n[r]={...i,...o}:o!==void 0&&(n[r]=o)}return n}function WU(e,t){return t.split(".").reduce((n,r)=>n&&n[r]!==void 0?n[r]:void 0,e)}function qU(e){return e?GU(vC,e):vC}function KU(e){return function(t){const n=WU(e,t);return n===void 0?(console.warn(`Translation key "${t}" not found, returning key as fallback`),t):typeof n!="string"?(console.warn(`Translation key "${t}" does not point to a string value`),t):n}}function Dn(){const e=dt(Qt);if(!e)throw new Error("useI18n must be used within a component that has access to CraftileEditor");return{t:KU(e.i18n)}}const YU={class:"group pointer-events-auto relative flex w-full min-w-96 max-w-lg justify-between gap-4 overflow-hidden rounded-lg border p-3 shadow-lg transition-all"},XU={class:"flex-1 min-w-0"},JU={key:1,class:"mt-3 flex gap-2"},ZU={class:"flex items-start"},QU={class:"sr-only"},ej=P({__name:"Toasts",setup(e){const{t}=Dn(),{toaster:n}=Yi(),r=i=>{switch(i){case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-amber-50 border-amber-200 text-amber-800";case"success":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}},o=i=>{switch(i){case"error":return"border-red-300 text-red-700 hover:bg-red-100";case"warning":return"border-amber-300 text-amber-700 hover:bg-amber-100";case"success":return"border-blue-300 text-blue-700 hover:bg-blue-100";default:return"border-gray-300 text-gray-700 hover:bg-gray-100"}};return(i,s)=>{const a=Sx;return y(),$(d(zU),{toaster:d(n)},{default:O(l=>[S(d(Lu).Root,{class:Ne(r(l.type||"info"))},{default:O(()=>[D("div",YU,[D("div",XU,[S(d(Lu).Title,{class:"text-sm font-medium"},{default:O(()=>[re(j(l.title),1)]),_:2},1024),l.description?(y(),$(d(Lu).Description,{key:0,class:"mt-1 text-sm opacity-90"},{default:O(()=>[re(j(l.description),1)]),_:2},1024)):Z("",!0),l.action?(y(),V("div",JU,[S(d(Lu).ActionTrigger,{class:Ne(["inline-flex items-center px-2 py-1 text-xs font-medium rounded border transition-colors",o(l.type||"info")])},{default:O(()=>[re(j(l.action.label),1)]),_:2},1032,["class"])])):Z("",!0)]),D("div",ZU,[S(d(Lu).CloseTrigger,{class:"inline-flex h-8 w-8 shrink-0 items-center justify-center rounded-md opacity-70 hover:opacity-100 transition-opacity"},{default:O(()=>[S(a,{class:"h-4 w-4"}),D("span",QU,j(d(t)("common.close")),1)]),_:1})])])]),_:2},1032,["class"])]),_:1},8,["toaster"])}}}),tj={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function nj(e,t){return y(),V("svg",tj,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m19.5 8.25l-7.5 7.5l-7.5-7.5"},null,-1)])])}const Ax=fe({name:"heroicons-chevron-down",render:nj}),rj={key:0,class:"text-center text-gray-500 py-8"},oj={key:0},ij={key:1},sj={key:1,class:"h-full flex"},aj={class:"w-60 border-r overflow-y-auto"},lj={class:"text-xs font-medium text-gray-700"},cj={class:"pb-1"},uj=["onClick","onMouseenter"],dj=["innerHTML"],pj={class:"flex-1 min-w-0"},fj={class:"text-xs text-gray-900 truncate"},hj={class:"flex-1 p-2 bg-gray-50"},gj={key:0,class:"h-full flex flex-col"},mj={class:"flex items-start gap-2 mb-2"},vj=["innerHTML"],bj={class:"flex-1"},yj={class:"font-semibold text-base text-gray-900"},xj={key:0,class:"text-xs text-gray-600"},wj={class:"flex-1 bg-white rounded overflow-hidden flex items-center justify-center"},_j=["src","alt"],kj={key:1,class:"text-center text-gray-400 text-sm p-4"},Cj={class:"mb-2"},Ej={class:"text-xs"},Oj={key:1,class:"h-full flex items-center justify-center text-gray-400 text-sm"},Ij=P({__name:"BlocksList",props:{blocksByCategory:{},searchQuery:{}},emits:["blockSelect"],setup(e,{emit:t}){const n=e,r=t,{t:o}=Dn(),i=A(()=>Object.keys(n.blocksByCategory).sort((c,u)=>c.localeCompare(u))),s=Q(null),a=c=>{s.value=c},l=()=>{s.value=null};return(c,u)=>{const p=Ax;return Object.keys(c.blocksByCategory).length===0?(y(),V("div",rj,[c.searchQuery.trim()?(y(),V("p",oj,j(d(o)("blocksPopover.noBlocksFound"))+' "'+j(c.searchQuery)+'"',1)):(y(),V("p",ij,j(d(o)("blocksPopover.noBlocksAvailable")),1))])):(y(),V("div",sj,[D("div",aj,[S(d(Ho).Root,{class:"w-full",defaultValue:d(i),multiple:""},{default:O(()=>[(y(!0),V(ge,null,Ie(d(i),h=>(y(),$(d(Ho).Item,{key:h,value:h,class:"border-b border-gray-100 last:border-b-0"},{default:O(()=>[S(d(Ho).ItemTrigger,{class:"flex w-full items-center justify-between px-3 py-2 text-left hover:bg-gray-50 transition-colors"},{default:O(()=>[D("span",lj,j(h),1),S(d(Ho).ItemIndicator,{class:"transition-transform duration-200"},{default:O(()=>[S(p,{class:"w-3 h-3 text-gray-500"})]),_:1})]),_:2},1024),S(d(Ho).ItemContent,{class:"overflow-hidden"},{default:O(()=>[D("div",cj,[(y(!0),V(ge,null,Ie(c.blocksByCategory[h],f=>(y(),V("button",{key:f.blockType+"-"+(f.presetIndex??"default"),onClick:g=>r("blockSelect",f),onMouseenter:g=>a(f),onMouseleave:l,class:Ne(["flex items-center gap-2 px-3 py-2 w-full hover:bg-gray-50 transition-colors text-left",{"bg-gray-50":d(s)===f}])},[D("div",{class:"flex-none w-5 h-5 flex items-center justify-center text-gray-600 text-sm",innerHTML:f.icon||""},null,8,dj),D("div",pj,[D("div",fj,j(f.name),1)])],42,uj))),128))])]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["defaultValue"])]),D("div",hj,[d(s)?(y(),V("div",gj,[D("div",mj,[D("div",{class:"flex-none w-12 h-12 flex items-center justify-center text-gray-600 text-2xl bg-white rounded border",innerHTML:d(s).icon||""},null,8,vj),D("div",bj,[D("h3",yj,j(d(s).name),1),d(s).description?(y(),V("p",xj,j(d(s).description),1)):Z("",!0)])]),D("div",wj,[d(s).previewImageUrl?(y(),V("img",{key:0,src:d(s).previewImageUrl,alt:`Preview of ${d(s).name}`,class:"w-full h-full object-contain"},null,8,_j)):(y(),V("div",kj,[D("div",Cj,j(d(o)("blocksPopover.noPreviewAvailable")),1),D("div",Ej,j(d(s).blockType),1)]))])])):(y(),V("div",Oj,j(d(o)("blocksPopover.hoverToSeeDetails")),1))])]))}}});function j2(){const e=dt(Qt);if(!e)throw new Error("useEventBus must be used within a component that has access to CraftileEditor");return e.events}function Tj(e,t){const n=e instanceof Qy;let r,o;if(n)r=e,o=!0;else{const B=e||{},{autoSync:z=!0,...J}=B;r=new Qy(J),o=z}const i=Q({blocks:{},regions:[{name:"main",blocks:[]}]}),s=A(()=>i.value.blocks),a=A(()=>i.value.regions),l=Q(r.canUndo()),c=Q(r.canRedo()),u=A(()=>{const B=[];for(const z of a.value)for(const J of z.blocks){const q=s.value[J];q&&B.push(q)}return B}),p=B=>s.value[B],h=B=>Object.values(s.value).filter(z=>z.type===B),f=B=>{const z=s.value[B];return z?z.children.map(J=>s.value[J]).filter(Boolean):[]},g=()=>{const B=He(r.getPage());i.value=B,Nn(()=>{l.value=r.canUndo(),c.value=r.canRedo()})};g();const m=[];o&&["page:set","block:insert","block:remove","block:move","block:toggle","block:duplicate","block:property:set","block:update","undo","redo"].forEach(B=>{const z=r.on(B,()=>{g()});m.push(z)});const b=(B,z)=>{const J=r.insertBlock(B,z);return o||g(),J},w=(B,z,J)=>{const q=r.insertBlockFromPreset(B,z,J);return o||g(),q},E=B=>{r.removeBlock(B),o||g()},k=(B,z)=>{r.moveBlock(B,z),o||g()},v=(B,z,J)=>{r.setBlockProperty(B,z,J),o||g()},_=(B,z)=>{r.setBlockName(B,z),o||g()},T=(B,z)=>{r.toggleBlock(B,z),o||g()},N=B=>{const z=r.duplicateBlock(B);return o||g(),z},C=(B,z)=>{const J=r.pasteBlock(B,z);return o||g(),J},x=()=>{const B=r.undo();return o||g(),B},I=()=>{const B=r.redo();return o||g(),B},R=()=>{g()},M=()=>{m.forEach(B=>B()),m.length=0};return Sr(()=>{M()}),{page:i,blocks:s,regions:a,engine:r,rootLevelBlocks:u,getBlockById:p,getBlocksByType:h,getChildrenBlocks:f,insertBlock:b,insertBlockFromPreset:w,removeBlock:E,moveBlock:k,setBlockProperty:v,setBlockName:_,toggleBlock:T,duplicateBlock:N,pasteBlock:C,undo:x,redo:I,canUndo:l,canRedo:c,refresh:R,destroy:M}}function dr(){const e=dt(Qt);if(!e)throw new Error("useCraftileEngine must be used within a component that has access to CraftileEditor");return Tj(e.engine)}function uu(){const e=dt(Qt);if(!e)throw new Error("useBlocksPopover must be used within a component that has access to CraftileEditor");return{open:({anchor:t,context:n})=>{e.events.emit("blocks-popover:open",{anchor:t,context:n})},close:()=>{e.events.emit("blocks-popover:close")},getAllowedBlockSchemas:t=>{const n=e.engine.getBlocksManager(),r=Object.values(n.getAll());if(t.parentId){const o=e.engine.getBlockById(t.parentId);if(!o)return[];let i=r.filter(s=>n.canBeChild(s.type,o.type));return e.blockFilterFunction&&(i=i.filter(s=>e.blockFilterFunction(s,t))),i}return e.blockFilterFunction?r.filter(o=>e.blockFilterFunction(o,t)):r},expandPresetsToBlockOptions:t=>{const n=[];for(const r of t)r.presets&&r.presets.length>0?r.presets.forEach((o,i)=>{n.push({blockType:r.type,presetIndex:i,name:o.name,icon:o.icon||r.meta?.icon,category:o.category||r.meta?.category||"Other",description:o.description||r.meta?.description,previewImageUrl:o.previewImageUrl||r.meta?.previewImageUrl})}):n.push({blockType:r.type,name:r.meta?.name||r.type.replace(/-/g," ").replace(/\b\w/g,o=>o.toUpperCase()),icon:r.meta?.icon,category:r.meta?.category||"Other",description:r.meta?.description,previewImageUrl:r.meta?.previewImageUrl});return n},getInsertionContext:(t,n)=>{const r=e.engine.getBlockById(t);if(!r)return{regionId:"main"};if(r.parentId){const o=e.engine.getBlockById(r.parentId);if(o){const i=o.children.indexOf(t),s=n==="before"?i:i+1;return{parentId:r.parentId,index:s}}}for(const o of e.engine.getPage().regions){const i=o.blocks.indexOf(t);if(i!==-1){const s=n==="before"?i:i+1;return{regionId:ut(o),index:s}}}return{regionId:"main"}}}}function Nx(){const e=dt(Qt);if(!e)throw new Error("useLayersPanel must be used within a component that has access to CraftileEditor");const t=A(()=>e.ui.state.layersPanel.expandedBlocks),n=(a,l)=>{l?e.ui.state.layersPanel.expandedBlocks.add(a):e.ui.state.layersPanel.expandedBlocks.delete(a)},r=a=>e.ui.state.layersPanel.expandedBlocks.has(a),o=a=>{const l=!r(a);return n(a,l),l},i=a=>{a.forEach(l=>{e.ui.state.layersPanel.expandedBlocks.add(l)})},s=a=>{a.forEach(l=>{e.ui.state.layersPanel.expandedBlocks.delete(l)})};return{expandedBlocks:t,setExpanded:n,isExpanded:r,toggleExpanded:o,expandAll:i,collapseAll:s,collapseRegion:a=>{const l=e.engine.getPage(),c=l.regions.find(p=>ut(p)===a);if(!c)return;const u=p=>{const h=l.blocks[p];if(!h||!h.children)return[];let f=[];return h.children.forEach(g=>{f.push(g),f.push(...u(g))}),f};c.blocks.forEach(p=>{const h=[p,...u(p)];s(h)})},expandAncestors:a=>{const l=e.engine.getPage(),c=l.blocks[a];if(!c)return;let u=c.parentId;for(;u;)e.ui.state.layersPanel.expandedBlocks.add(u),u=l.blocks[u]?.parentId}}}const Sj={key:1,class:"flex-1 overflow-hidden"},Pj=P({__name:"BlocksPopover",setup(e){const{t}=Dn(),n=j2(),{engine:r,insertBlock:o,insertBlockFromPreset:i}=dr(),{getAllowedBlockSchemas:s,expandPresetsToBlockOptions:a}=uu(),{setExpanded:l}=Nx(),c=Q(null),u=Q(null),p=Q(""),h=Q([]),f=A(()=>h.value.length>0),g=V2({id:"blocks-popover",portalled:!0,closeOnInteractOutside:!0,positioning:{placement:"left-start",strategy:"fixed",slide:!0,offset:{crossAxis:-32},flip:["left","right"],fitViewport:!0,getAnchorRect:()=>c.value?.getBoundingClientRect()??null}}),m=A(()=>{if(!u.value)return[];const _=s(u.value);return a(_)}),b=A(()=>{const _={};return m.value.forEach(T=>{const N=T.category||"Other";_[N]||(_[N]=[]),_[N].push(T)}),_}),w=A(()=>{const _=p.value.trim().toLowerCase();if(!_)return b.value;const T={};return Object.entries(b.value).forEach(([N,C])=>{const x=C.filter(I=>{const R=I.name.toLowerCase(),M=(I.description||"").toLowerCase();return R.includes(_)||M.includes(_)});x.length>0&&(T[N]=x)}),T}),E=_=>{if(!u.value)return;let T;_.presetIndex!==void 0?T=i(_.blockType,_.presetIndex,{parentId:u.value.parentId,regionId:u.value.regionId,index:u.value.index}):T=o(_.blockType,{parentId:u.value.parentId,regionId:u.value.regionId,index:u.value.index});const N=r.getBlocksManager().get(_.blockType);N?.accepts&&N.accepts.length>0&&l(T,!0),v()},k=({anchor:_,context:T})=>{c.value=_,u.value=T||null,g.value.setOpen(!0),g.value.reposition()},v=()=>{g.value.setOpen(!1),u.value=null,c.value=null};return Je(()=>{n.on("blocks-popover:open",k),n.on("blocks-popover:close",v)}),Sr(()=>{n.off("blocks-popover:open",k),n.off("blocks-popover:close",v)}),(_,T)=>{const N=Ij;return y(),$(d(_i).RootProvider,{value:d(g)},{default:O(()=>[S(d(_i).Positioner,{class:"!z-[1100]"},{default:O(()=>[S(d(_i).Content,{class:"bg-white shadow rounded-md w-[640px] h-[520px] border flex flex-col"},{default:O(()=>[S(d(rC).Root,{class:"flex-none p-2"},{default:O(()=>[S(d(rC).Input,{modelValue:d(p),"onUpdate:modelValue":T[0]||(T[0]=C=>Ce(p)?p.value=C:null),class:"rounded border w-full text-sm h-8 px-3 focus-visible:ring-2 focus-visible:border-transparent focus-visible:ring-accent focus-visible:outline-none",placeholder:d(t)("blocksPopover.searchPlaceholder")},null,8,["modelValue","placeholder"])]),_:1}),d(f)?(y(),$(d(Ii).Root,{key:0,class:"flex-1 flex flex-col overflow-hidden",defaultValue:"blocks"},{default:O(()=>[S(d(Ii).List,{class:"flex flex-none bg-gray-100 p-[2px] rounded mx-2"},{default:O(()=>[S(d(Ii).Trigger,{value:"blocks",class:"flex-1 py-1.5 rounded data-selected:bg-white data-selected:shadow"},{default:O(()=>[re(j(d(t)("blocksPopover.tabBlocks")),1)]),_:1}),S(d(Ii).Trigger,{value:"saved",class:"flex-1 py-1.5 rounded data-selected:bg-white data-selected:shadow"},{default:O(()=>[re(j(d(t)("blocksPopover.tabSaved")),1)]),_:1})]),_:1}),S(d(Ii).Content,{value:"blocks",class:"flex-1 overflow-hidden mt-2"},{default:O(()=>[S(N,{"blocks-by-category":d(w),"search-query":d(p),onBlockSelect:E},null,8,["blocks-by-category","search-query"])]),_:1})]),_:1})):(y(),V("div",Sj,[S(N,{"blocks-by-category":d(w),"search-query":d(p),onBlockSelect:E},null,8,["blocks-by-category","search-query"])]))]),_:1})]),_:1})]),_:1},8,["value"])}}}),$j={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Rj(e,t){return y(),V("svg",$j,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"},null,-1)])])}const Aj=fe({name:"heroicons-adjustments-horizontal",render:Rj}),Nj={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Mj(e,t){return y(),V("svg",Nj,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21q.512.078 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48 48 0 0 0-3.478-.397m-12 .562q.51-.088 1.022-.165m0 0a48 48 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a52 52 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a49 49 0 0 0-7.5 0"},null,-1)])])}const Mx=fe({name:"heroicons-trash",render:Mj}),Dj={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Lj(e,t){return y(),V("svg",Dj,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M3.98 8.223A10.5 10.5 0 0 0 1.934 12c1.292 4.339 5.31 7.5 10.066 7.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.499a10.52 10.52 0 0 1-4.293 5.773M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"},null,-1)])])}const Dx=fe({name:"heroicons-eye-slash",render:Lj}),Vj={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Fj(e,t){return y(),V("svg",Vj,[...t[0]||(t[0]=[D("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"},[D("path",{d:"M2.036 12.322a1 1 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178c.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178"}),D("path",{d:"M15 12a3 3 0 1 1-6 0a3 3 0 0 1 6 0"})],-1)])])}const Lx=fe({name:"heroicons-eye",render:Fj}),Bj={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Hj(e,t){return y(),V("svg",Bj,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"},null,-1)])])}const zj=fe({name:"heroicons-arrow-long-right",render:Hj}),Uj={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function jj(e,t){return y(),V("svg",Uj,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"},null,-1)])])}const Gj=fe({name:"heroicons-arrow-long-left",render:jj}),Wj={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function qj(e,t){return y(),V("svg",Wj,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9 9 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9 9 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"},null,-1)])])}const G2=fe({name:"heroicons-document-duplicate",render:qj}),Kj={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Yj(e,t){return y(),V("svg",Kj,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 6.75a.75.75 0 1 1 0-1.5a.75.75 0 0 1 0 1.5m0 6a.75.75 0 1 1 0-1.5a.75.75 0 0 1 0 1.5m0 6a.75.75 0 1 1 0-1.5a.75.75 0 0 1 0 1.5"},null,-1)])])}const Xj=fe({name:"heroicons-ellipsis-vertical",render:Yj}),Jj={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Zj(e,t){return y(),V("svg",Jj,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M15.75 19.5L8.25 12l7.5-7.5"},null,-1)])])}const Qj=fe({name:"heroicons-chevron-left",render:Zj});function sa(){const e=dt(Qt);if(!e)throw new Error("useSelectedBlock must be used within a component that has access to CraftileEditor");const{regions:t,blocks:n,moveBlock:r,duplicateBlock:o,toggleBlock:i,removeBlock:s}=dr(),a=A(()=>!!e.ui.state.selectedBlockId),l=A(()=>e.ui.state.selectedBlockId),c=A(()=>e.ui.state.selectedBlockId&&n.value[e.ui.state.selectedBlockId]||null),u=m=>{e.ui.setSelectedBlock(m)},p=()=>{e.ui.clearSelectedBlock(),e.inspector.clearSelectedBlock()},h=A(()=>{if(!c.value)return null;const m=c.value;for(const b of t.value){const w=b.blocks.indexOf(m.id);if(w!==-1)return{parentType:"region",parentId:ut(b),currentIndex:w,siblingCount:b.blocks.length}}if(m.parentId){const b=n.value[m.parentId];if(b){const w=b.children.indexOf(m.id);if(w!==-1)return{parentType:"block",parentId:m.parentId,currentIndex:w,siblingCount:b.children.length}}}return null}),f=A(()=>!c.value||c.value?.static?!1:h.value&&h.value.currentIndex>0),g=A(()=>!c.value||c.value?.static?!1:h.value&&h.value.currentIndex<h.value.siblingCount-1);return{hasSelection:a,selectedBlockId:l,selectedBlock:c,canMoveToPrevious:f,canMoveToNext:g,selectBlock:u,clearSelection:p,moveToPrevious:()=>{if(!c.value||!h.value)return;const m=h.value.currentIndex-1;h.value.parentType==="region"?r(c.value.id,{targetRegionId:h.value.parentId,targetIndex:m}):h.value.parentType==="block"&&r(c.value.id,{targetParentId:h.value.parentId,targetIndex:m})},moveToNext:()=>{if(!c.value||!h.value)return;const m=h.value.currentIndex+1;h.value.parentType==="region"?r(c.value.id,{targetRegionId:h.value.parentId,targetIndex:m}):h.value.parentType==="block"&&r(c.value.id,{targetParentId:h.value.parentId,targetIndex:m})},duplicate:()=>{l.value&&o(l.value)},toggle:()=>{l.value&&i(l.value)},remove:()=>{l.value&&(s(l.value),p())}}}const eG={key:0,class:"border-b border-gray-200 bg-white px-3 py-2 flex-none"},tG={class:"flex items-center gap-2"},nG=["aria-label"],rG={class:"flex-1 min-w-0"},oG=P({__name:"ConfigurationHeader",props:{isOverlay:{type:Boolean,default:!1}},setup(e){const t=e,{t:n}=Dn(),{engine:r,moveBlock:o,duplicateBlock:i,toggleBlock:s,removeBlock:a,setBlockName:l}=dr(),{selectedBlock:c,clearSelection:u}=sa(),p=A(()=>c.value?c.value.name?c.value.name:r.getBlockSchema(c.value.type)?.meta?.name||c.value.type:""),h=Q(!1),f=Q(""),g=Q(null);function m(){c.value&&(f.value=p.value,h.value=!0,Nn(()=>{g.value?.focus(),g.value?.select()}))}function b(){if(!c.value||!f.value.trim()){w();return}const R=f.value.trim();R!==p.value&&l(c.value.id,R),h.value=!1}function w(){h.value=!1,f.value=""}function E(R){R.key==="Enter"?(R.preventDefault(),b()):R.key==="Escape"&&(R.preventDefault(),w())}const k=A(()=>{if(!c.value)return null;const R=r.getPage(),M=c.value;for(const B of R.regions){const z=B.blocks.indexOf(M.id);if(z!==-1)return{parentType:"region",parentId:ut(B),currentIndex:z,siblingCount:B.blocks.length}}if(M.parentId){const B=R.blocks[M.parentId];if(B){const z=B.children.indexOf(M.id);if(z!==-1)return{parentType:"block",parentId:M.parentId,currentIndex:z,siblingCount:B.children.length}}}return null}),v=A(()=>!c.value||c.value?.static?!1:k.value&&k.value.currentIndex>0),_=A(()=>!c.value||c.value?.static?!1:k.value&&k.value.currentIndex<k.value.siblingCount-1);function T(){i(c.value.id)}function N(){if(!c.value||!k.value)return;const R=k.value.currentIndex+1;k.value.parentType==="region"?o(c.value.id,{targetRegionId:k.value.parentId,targetIndex:R}):k.value.parentType==="block"&&o(c.value.id,{targetParentId:k.value.parentId,targetIndex:R})}function C(){if(!c.value||!k.value)return;const R=k.value.currentIndex-1;k.value.parentType==="region"?o(c.value.id,{targetRegionId:k.value.parentId,targetIndex:R}):k.value.parentType==="block"&&o(c.value.id,{targetParentId:k.value.parentId,targetIndex:R})}function x(){c.value&&s(c.value.id)}function I(){!c.value||c.value.static||(a(c.value.id),u())}return(R,M)=>{const B=Qj,z=Xj,J=G2,q=Gj,K=zj,X=Lx,de=Dx,Ue=Mx;return d(c)?(y(),V("div",eG,[D("div",tG,[t.isOverlay?(y(),V("button",{key:0,onClick:M[0]||(M[0]=(...je)=>d(u)&&d(u)(...je)),class:"flex-none flex items-center justify-center w-8 h-8 rounded-md hover:bg-gray-100 transition-colors","aria-label":d(n)("common.close")},[S(B,{class:"w-4 h-4 text-gray-600"})],8,nG)):Z("",!0),D("div",rG,[d(h)?yo((y(),V("input",{key:0,ref_key:"nameInputRef",ref:g,"onUpdate:modelValue":M[1]||(M[1]=je=>Ce(f)?f.value=je:null),type:"text",onBlur:b,onKeydown:E,class:"w-full text-sm font-medium text-gray-900 px-2 py-1 rounded border border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"},null,544)),[[Zo,d(f)]]):(y(),V("button",{key:1,onClick:m,class:"w-full text-left text-sm font-medium text-gray-900 truncate capitalize px-2 py-1 rounded hover:bg-gray-100 transition-colors"},j(d(p)),1))]),S(d(yt).Root,{positioning:{strategy:"fixed",placement:"bottom-end"}},{default:O(()=>[S(d(yt).Trigger,{class:"flex items-center justify-center w-8 h-8 rounded-md hover:bg-gray-100 transition-colors"},{default:O(()=>[S(z,{class:"w-4 h-4 text-gray-600"})]),_:1}),S(d(yt).Positioner,{class:"!z-10"},{default:O(()=>[S(d(yt).Content,{class:"bg-white rounded-lg shadow-lg border border-gray-200 py-1 min-w-[160px] focus:outline-none"},{default:O(()=>[S(d(yt).Item,{value:"duplicate",disabled:d(c).static,onSelect:T,class:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 cursor-pointer data-[disabled]:opacity-50 data-[disabled]:cursor-not-allowed"},{default:O(()=>[S(J,{class:"w-4 h-4"}),re(" "+j(d(n)("block.duplicate")),1)]),_:1},8,["disabled"]),S(d(yt).Item,{value:"move-next",disabled:!d(v),onSelect:C,class:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 cursor-pointer data-[disabled]:opacity-50 data-[disabled]:cursor-not-allowed"},{default:O(()=>[S(q,{class:"w-4 h-4"}),re(" "+j(d(n)("block.moveToPrevious")),1)]),_:1},8,["disabled"]),S(d(yt).Item,{value:"move-next",disabled:!d(_),onSelect:N,class:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 cursor-pointer data-[disabled]:opacity-50 data-[disabled]:cursor-not-allowed"},{default:O(()=>[S(K,{class:"w-4 h-4"}),re(" "+j(d(n)("block.moveToNext")),1)]),_:1},8,["disabled"]),S(d(yt).Item,{value:"toggle",onSelect:x,class:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 cursor-pointer"},{default:O(()=>[d(c).disabled?(y(),$(X,{key:0,class:"w-4 h-4"})):(y(),$(de,{key:1,class:"w-4 h-4"})),re(" "+j(d(c).disabled?d(n)("block.enable"):d(n)("block.disable")),1)]),_:1}),S(d(yt).Item,{value:"remove",disabled:d(c).static,onSelect:I,class:"flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 cursor-pointer data-[disabled]:opacity-50 data-[disabled]:cursor-not-allowed"},{default:O(()=>[S(Ue,{class:"w-4 h-4"}),re(" "+j(d(n)("block.remove")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})])])):Z("",!0)}}}),iG={class:"h-full w-full flex flex-col bg-white relative"},sG={class:"flex-1 overflow-y-auto"},aG={key:1,class:"flex-1 overflow-y-auto"},lG={key:1,class:"h-full flex flex-col items-center justify-center p-6 text-center"},cG={class:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center mb-4"},uG={class:"text-lg font-medium text-gray-900 mb-2"},dG={class:"text-sm text-gray-500 max-w-xs"},W2=P({__name:"ConfigurationPanels",props:{isOverlay:{type:Boolean,default:!1}},setup(e){const t=dt(Qt),{t:n}=Dn(),{configurationPanels:r}=Yi(),{hasSelection:o}=sa(),i=Q("properties"),s=A(()=>r.value.length>=2),a=A(()=>o.value&&r.value.length>0?r.value[0]:null);return(l,c)=>{const u=oG,p=Gp,h=Aj;return y(),V("div",iG,[S(u,{"is-overlay":l.isOverlay,class:"flex-none"},null,8,["is-overlay"]),d(o)?(y(),V(ge,{key:0},[d(s)?(y(),$(d(Ii).Root,{key:0,modelValue:d(i),"onUpdate:modelValue":c[0]||(c[0]=f=>Ce(i)?i.value=f:null),class:"flex-1 flex flex-col overflow-y-hidden"},{default:O(()=>[S(d(Ii).List,{class:"flex border-b flex-none"},{default:O(()=>[(y(!0),V(ge,null,Ie(d(r),f=>(y(),$(d(Ii).Trigger,{key:f.id,value:f.id,class:"flex items-center gap-0.5 px-1.5 py-2 text-xs font-medium transition-colors text-gray-500 data-selected:border-b-2 data-selected:border-accent data-selected:text-accent hover:text-gray-700"},{default:O(()=>[f.icon&&(d(qo)(f.icon)||d(Pi)(f.icon))?(y(),$(Xn(f.icon),{key:0,editor:d(t),class:"w-3 h-3"},null,8,["editor"])):f.icon&&d($i)(f.icon)?(y(),$(p,{key:1,"render-fn":f.icon,class:"w-3 h-3"},null,8,["render-fn"])):Z("",!0),re(" "+j(f.title),1)]),_:2},1032,["value"]))),128))]),_:1}),D("div",sG,[(y(!0),V(ge,null,Ie(d(r),f=>(y(),$(d(Ii).Content,{key:f.id,value:f.id},{default:O(()=>[d(qo)(f.render)||d(Pi)(f.render)?(y(),$(Xn(f.render),{editor:d(t),key:f.id},null,8,["editor"])):d($i)(f.render)?(y(),$(p,{key:1,"render-fn":f.render,class:"h-full"},null,8,["render-fn"])):Z("",!0)]),_:2},1032,["value"]))),128))])]),_:1},8,["modelValue"])):d(a)?(y(),V("div",aG,[d(qo)(d(a).render)||d(Pi)(d(a).render)?(y(),$(Xn(d(a).render),{key:0,editor:d(t)},null,8,["editor"])):d($i)(d(a).render)?(y(),$(p,{key:1,"render-fn":d(a).render},null,8,["render-fn"])):Z("",!0)])):Z("",!0)],64)):(y(),V("div",lG,[D("div",cG,[S(h,{class:"w-8 h-8 text-gray-400"})]),D("h3",uG,j(d(n)("configPanels.properties")),1),D("p",dG,j(d(n)("configPanels.selectedBlock")),1)]))])}}}),pG={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function fG(e,t){return y(),V("svg",pG,[...t[0]||(t[0]=[D("path",{fill:"currentColor","fill-rule":"evenodd",d:"M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.286a1.5 1.5 0 0 0 1.492-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25m2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75zM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6m3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711","clip-rule":"evenodd"},null,-1)])])}const hG=fe({name:"heroicons-trash16-solid",render:fG}),gG={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function mG(e,t){return y(),V("svg",gG,[...t[0]||(t[0]=[D("path",{fill:"currentColor","fill-rule":"evenodd",d:"M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7 7 0 0 0 2.16-3.11a.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76zm3.196 3.195l1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109","clip-rule":"evenodd"},null,-1),D("path",{fill:"currentColor",d:"m7.812 10.994l1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566a7 7 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806"},null,-1)])])}const vG=fe({name:"heroicons-eye-slash16-solid",render:mG}),bG={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function yG(e,t){return y(),V("svg",bG,[...t[0]||(t[0]=[D("path",{fill:"currentColor",d:"M5.5 3.5A1.5 1.5 0 0 1 7 2h2.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 1 .439 1.061V9.5A1.5 1.5 0 0 1 12 11V8.621a3 3 0 0 0-.879-2.121L9 4.379A3 3 0 0 0 6.879 3.5z"},null,-1),D("path",{fill:"currentColor",d:"M4 5a1.5 1.5 0 0 0-1.5 1.5v6A1.5 1.5 0 0 0 4 14h5a1.5 1.5 0 0 0 1.5-1.5V8.621a1.5 1.5 0 0 0-.44-1.06L7.94 5.439A1.5 1.5 0 0 0 6.878 5z"},null,-1)])])}const xG=fe({name:"heroicons-document-duplicate16-solid",render:yG}),wG={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function _G(e,t){return y(),V("svg",wG,[...t[0]||(t[0]=[D("path",{fill:"currentColor","fill-rule":"evenodd",d:"M8 2a.75.75 0 0 1 .75.75v8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06l-2.5 2.5a.75.75 0 0 1-1.06 0l-2.5-2.5a.75.75 0 1 1 1.06-1.06l1.22 1.22V2.75A.75.75 0 0 1 8 2","clip-rule":"evenodd"},null,-1)])])}const kG=fe({name:"heroicons-arrow-long-down16-solid",render:_G}),CG=["disabled","title"],EG=P({__name:"PreviewToolbarButton",props:{disabled:{type:Boolean,default:!1},title:{},variant:{default:"default"}},emits:["click"],setup(e){const t=e,n=A(()=>`w-6 h-6 flex items-center justify-center border-0 bg-transparent rounded-md cursor-pointer relative disabled:text-gray-600 disabled:cursor-not-allowed [&>svg]:w-3.5 &[&>svg]:h-3.5 ${{default:"text-gray-400 hover:enabled:bg-gray-500 hover:enabled:text-gray-100 active:enabled:bg-gray-600",danger:"text-gray-400 hover:enabled:bg-red-800 hover:enabled:text-red-200 active:enabled:bg-gray-600"}[t.variant]}`);return(r,o)=>(y(),V("button",{disabled:r.disabled,title:r.title,class:Ne(n.value),onClick:o[0]||(o[0]=It(i=>r.$emit("click",i),["stop"]))},[L(r.$slots,"default")],10,CG))}}),OG={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function IG(e,t){return y(),V("svg",OG,[...t[0]||(t[0]=[D("path",{fill:"currentColor","fill-rule":"evenodd",d:"M8 14a.75.75 0 0 0 .75-.75V4.56l1.22 1.22a.75.75 0 1 0 1.06-1.06l-2.5-2.5a.75.75 0 0 0-1.06 0l-2.5 2.5a.75.75 0 0 0 1.06 1.06l1.22-1.22v8.69c0 .414.336.75.75.75","clip-rule":"evenodd"},null,-1)])])}const TG=fe({name:"heroicons-arrow-long-up16-solid",render:IG});function Qm(){const e=dt(Qt);if(!e)throw new Error("useInspector must be used within a component that has access to CraftileEditor");const t=A(()=>e.inspector.state.enabled),n=A(()=>e.inspector.state.hoveredBlockRect),r=A(()=>e.inspector.state.hoveredParentRect),o=A(()=>e.inspector.state.hoveredBlockId),i=A(()=>e.inspector.state.selectedBlockRect),s=A(()=>e.inspector.state.parentFlexDirection),a=A(()=>e.inspector.state.iframeRect);return{isEnabled:t,iframeRect:a,hoveredBlockId:o,hoveredBlockRect:n,hoveredParentRect:r,selectedBlockRect:i,parentFlexDirection:s,enable:()=>e.inspector.enable(),disable:()=>e.inspector.disable(),toggle:()=>e.inspector.toggle(),updateIframeRect:l=>e.inspector.setIframeRect(l),clearHoveredBlock:()=>e.inspector.clearHoveredBlock()}}const SG={key:0,class:"absolute -top-[18.5px] left-0 bg-blue-500/95 text-white px-1 py-0.5 font-semibold text-[0.6rem] flex items-center gap-0.5 pointer-events-none whitespace-nowrap shadow-lg rounded-t"},PG=["innerHTML"],$G=P({__name:"SelectedBlockOverlay",props:{zoomScale:{default:1}},setup(e){const t=e,{t:n}=Dn(),{engine:r,getBlockById:o}=dr(),{isEnabled:i,selectedBlockRect:s,iframeRect:a}=Qm(),{selectedBlock:l,canMoveToPrevious:c,canMoveToNext:u,moveToPrevious:p,moveToNext:h,duplicate:f,toggle:g,remove:m}=sa(),b=Q(),w=Q({width:200,height:42}),E=A(()=>i.value&&s.value&&a.value&&!l.value?.disabled&&!l.value?.ghost),k=A(()=>l.value?.static===!0),v=A(()=>{if(!l.value)return{name:n("common.block"),icon:""};const I=o(l.value.id);if(!I)return{name:n("common.block"),icon:""};const R=r.getBlockSchema(I.type);return{name:R?.meta?.name||I.type||n("common.block"),icon:R?.meta?.icon||""}}),_=A(()=>v.value.name),T=A(()=>v.value.icon),N=A(()=>{if(!s.value||!_.value)return!1;const I=20+_.value.length*7+20;return s.value.width>=I}),C=A(()=>!s.value||!a.value?{}:{position:"absolute",left:`${s.value.left}px`,top:`${s.value.top}px`,width:`${s.value.width}px`,height:`${s.value.height}px`});st([b,E],async()=>{if(b.value&&E.value&&(await Nn(),b.value)){const I=b.value.getBoundingClientRect();w.value={width:I.width,height:I.height}}},{immediate:!0});const x=A(()=>{if(!s.value||!a.value)return{};const I=s.value,R=a.value,{width:M,height:B}=w.value,z=2,J=t.zoomScale,q=I.width*J,K=I.top-R.top<B+z?I.height+z:-((B+z)/J),X=q<=M,de={position:"absolute",top:`${K}px`};return X?de.left="0px":de.right="0px",de});return(I,R)=>{const M=TG,B=EG,z=kG,J=xG,q=vG,K=hG;return d(E)?(y(),V("div",{key:0,class:"absolute inset-0 w-full h-full pointer-events-none z-10",style:Yt(d(C))},[d(N)?(y(),V("div",SG,[D("span",{class:"w-3 h-3 flex items-center justify-center [&_svg]:w-full [&_svg]:h-full [&_svg]:fill-current",innerHTML:d(T)},null,8,PG),D("span",null,j(d(_)),1)])):Z("",!0),R[0]||(R[0]=D("div",{class:"absolute inset-0 border border-blue-500 bg-blue-500/5"},null,-1)),D("div",{ref_key:"toolbarElement",ref:b,class:"absolute flex gap-0.5 bg-gray-800 rounded p-0.5 shadow-lg shadow-black/25 ring-1 ring-white/10 z-10 pointer-events-auto",style:Yt(d(x))},[d(k)?Z("",!0):(y(),$(B,{key:0,disabled:!d(c),title:d(n)("block.moveToPrevious"),onClick:d(p)},{default:O(()=>[S(M,{class:"w-3.5 h-3.5"})]),_:1},8,["disabled","title","onClick"])),d(k)?Z("",!0):(y(),$(B,{key:1,disabled:!d(u),title:d(n)("block.moveToNext"),onClick:d(h)},{default:O(()=>[S(z)]),_:1},8,["disabled","title","onClick"])),d(k)?Z("",!0):(y(),$(B,{key:2,title:d(n)("block.duplicate"),onClick:d(f)},{default:O(()=>[S(J)]),_:1},8,["title","onClick"])),S(B,{title:d(n)("block.disable"),onClick:d(g)},{default:O(()=>[S(q)]),_:1},8,["title","onClick"]),d(k)?Z("",!0):(y(),$(B,{key:3,variant:"danger",title:d(n)("block.remove"),onClick:d(m)},{default:O(()=>[S(K)]),_:1},8,["title","onClick"]))],4)],4)):Z("",!0)}}}),RG={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function AG(e,t){return y(),V("svg",RG,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 4.5v15m7.5-7.5h-15"},null,-1)])])}const ev=fe({name:"heroicons-plus",render:AG}),NG={key:0,class:"absolute top-0 left-0 w-full h-full pointer-events-none z-[1000]"},MG={class:"bg-blue-500 text-white px-1 py-0.5 rounded-t font-medium text-[0.60rem] flex items-center gap-0.5 pointer-events-none absolute -left-[1px] -top-[19px]"},DG=["innerHTML"],LG=P({__name:"HoveredBlockOverlay",emits:["insertBefore","insertAfter","buttonEnter","buttonLeave"],setup(e,{emit:t}){const n=t,{t:r}=Dn(),{engine:o,getBlockById:i}=dr(),{isEnabled:s,iframeRect:a,hoveredBlockId:l,hoveredBlockRect:c,hoveredParentRect:u,parentFlexDirection:p}=Qm(),{selectedBlockId:h}=sa(),f=A(()=>s.value&&l.value&&l.value!==h.value),g=A(()=>{if(!l.value)return{name:r("common.block"),icon:""};const k=i(l.value);if(!k)return{name:r("common.block"),icon:""};const v=o.getBlockSchema(k.type);return{name:v?.meta?.name||k.type||r("common.block"),icon:v?.meta?.icon||""}}),m=A(()=>g.value.name),b=A(()=>g.value.icon),w=A(()=>!u.value||!a.value?{}:{position:"absolute",left:`${u.value.left}px`,top:`${u.value.top}px`,width:`${u.value.width}px`,height:`${u.value.height}px`}),E=A(()=>!c.value||!a.value?{}:{position:"absolute",left:`${c.value.left}px`,top:`${c.value.top}px`,width:`${c.value.width}px`,height:`${c.value.height}px`});return(k,v)=>{const _=ev;return d(f)?(y(),V("div",NG,[d(u)?(y(),V("div",{key:0,class:"border border-dashed border-slate-400 bg-transparent pointer-events-none box-border absolute",style:Yt(d(w))},null,4)):Z("",!0),D("div",{class:"border border-dashed border-blue-500 bg-transparent pointer-events-none box-border relative",style:Yt(d(E))},[D("div",MG,[D("span",{class:"w-3 h-3 flex items-center justify-center [&_svg]:w-full [&_svg]:h-full [&_svg]:fill-current",innerHTML:d(b)},null,8,DG),D("span",null,j(d(m)),1)]),D("button",{class:Ne(["w-4 h-4 bg-blue-500/90 border border-white/20 rounded-full flex items-center justify-center text-white cursor-pointer pointer-events-auto opacity-80 shadow-sm hover:opacity-100 hover:bg-blue-500 absolute",{"-top-2 left-1/2 -translate-x-1/2":d(p)==="column","-left-2 top-1/2 -translate-y-1/2":d(p)==="row"}]),onMouseenter:v[0]||(v[0]=T=>n("buttonEnter",d(l))),onMouseleave:v[1]||(v[1]=T=>n("buttonLeave",d(l))),onClick:v[2]||(v[2]=It(T=>n("insertBefore",d(l),T),["stop"]))},[S(_,{class:"w-3 h-3 fill-current"})],34),D("button",{class:Ne(["w-4 h-4 bg-blue-500/90 border border-white/20 rounded-full flex items-center justify-center text-white cursor-pointer pointer-events-auto opacity-80 shadow-sm hover:opacity-100 hover:bg-blue-500 absolute",{"-bottom-2 left-1/2 -translate-x-1/2":d(p)==="column","-right-2 top-1/2 -translate-y-1/2":d(p)==="row"}]),onMouseenter:v[3]||(v[3]=T=>n("buttonEnter",d(l))),onMouseleave:v[4]||(v[4]=T=>n("buttonLeave",d(l))),onClick:v[5]||(v[5]=It(T=>n("insertAfter",d(l),T),["stop"]))},[S(_,{class:"w-3 h-3 fill-current"})],34)],4)])):Z("",!0)}}});function VG(){const e=dt(Qt);if(!e)throw new Error("usePreview must be used within a component that has access to CraftileEditor");const t=A(()=>e.preview.state.previewUrl),n=A(()=>e.preview.state.isIframeReady),r=A(()=>e.preview.state.previewFrame);return{currentPreviewUrl:t,isIframeReady:n,previewFrame:r,registerFrame:e.preview._registerFrame.bind(e.preview),onMessage:e.preview.onMessage.bind(e.preview),sendMessage:e.preview.sendMessage.bind(e.preview),loadUrl:e.preview.loadUrl.bind(e.preview),loadFromHtml:e.preview.loadFromHtml.bind(e.preview),reload:e.preview.reload.bind(e.preview),getFrame:e.preview.getFrame.bind(e.preview)}}const FG=["src"],BG=P({__name:"PreviewCanvas",setup(e){const{currentDeviceData:t}=Xm(),{currentPreviewUrl:n,registerFrame:r,sendMessage:o}=VG(),{updateIframeRect:i,clearHoveredBlock:s}=Qm(),{open:a,getInsertionContext:l}=uu(),{clearSelection:c}=sa(),u=Q(),p=Q(),h=A(()=>t.value?.width),f=()=>p.value?.getBoundingClientRect().width||0,g=A(()=>{const T=f();if(T<=0||!h.value||h.value===0||h.value<=T)return 1;const N=T/h.value;return Math.min(N,1)}),m=A(()=>{const T=g.value,N=h.value===0?"100%":`${h.value}px`,C=h.value===0?"none":`scale(${T})`;return{width:N,height:`${100/T}%`,transform:C,transformOrigin:"0 0"}}),b=()=>{if(u.value){const T=u.value.getBoundingClientRect();i(T)}},w=T=>{c(),s(),r(T.target),b()},E=T=>{o("craftile.inspector.overlay-button-enter",{blockId:T})},k=T=>{o("craftile.inspector.overlay-button-leave",{blockId:T})},v=(T,N)=>{const C=l(T,"before");a({anchor:N.target,context:C})},_=(T,N)=>{const C=l(T,"after");a({anchor:N.target,context:C})};return Je(()=>{window.addEventListener("scroll",b)}),Sr(()=>{window.removeEventListener("scroll",b)}),(T,N)=>{const C=LG,x=$G;return y(),V("div",{ref_key:"previewWrapper",ref:p,class:"h-full w-full relative preview-wrapper overflow-hidden"},[D("div",{ref_key:"canvasContainer",ref:u,class:"bg-white mx-auto rounded-xs relative transition-transform duration-300 ease-out",style:Yt(d(m))},[D("iframe",{ref:"previewFrame",src:d(n),class:"w-full h-full border-0 preview-iframe",onLoad:w},null,40,FG),S(C,{onButtonEnter:E,onButtonLeave:k,onInsertBefore:v,onInsertAfter:_}),S(x)],4)],512)}}}),HG=P({__name:"AddBlockBtn",props:{blockId:{}},setup(e){const t=e,{open:n,getInsertionContext:r}=uu(),o=Q(null);function i(){o.value&&n({anchor:o.value,context:r(t.blockId,"after")})}return(s,a)=>{const l=ev;return y(),V("div",{ref_key:"el",ref:o,class:"relative flex items-center w-full h-1.5 transition-colors group rounded"},[a[0]||(a[0]=D("div",{class:"h-[2px] w-0 bg-accent/70 group-hover:w-full transition-[width] duration-100 absolute left-1/2 transform -translate-x-1/2"},null,-1)),D("button",{class:"bg-accent text-accent-foreground h-4 w-4 hidden group-hover:flex items-center justify-center absolute left-1/2 transform -translate-x-1/2 rounded-full cursor-pointer hover:ring-2 hover:ring-accent/40",onClick:i},[S(l,{class:"w-3 h-3"})])],512)}}}),zG={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function UG(e,t){return y(),V("svg",zG,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5"},null,-1)])])}const jG=fe({name:"heroicons-code-bracket",render:UG}),GG={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function WG(e,t){return y(),V("svg",GG,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15M9 12l3 3m0 0l3-3m-3 3V2.25"},null,-1)])])}const qG=fe({name:"heroicons-arrow-down-on-square",render:WG}),KG={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function YG(e,t){return y(),V("svg",KG,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3l-3-3m0 0l-3 3m3-3V15"},null,-1)])])}const XG=fe({name:"heroicons-arrow-up-on-square",render:YG}),JG={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function ZG(e,t){return y(),V("svg",JG,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M15.75 17.25L12 21m0 0l-3.75-3.75M12 21V3"},null,-1)])])}const QG=fe({name:"heroicons-arrow-long-down",render:ZG}),eW={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function tW(e,t){return y(),V("svg",eW,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M8.25 6.75L12 3m0 0l3.75 3.75M12 3v18"},null,-1)])])}const nW=fe({name:"heroicons-arrow-long-up",render:tW}),rW={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function oW(e,t){return y(),V("svg",rW,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0q.083.292.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0q.002-.32.084-.612m7.332 0q.969.073 1.927.184c1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48 48 0 0 1 1.927-.184"},null,-1)])])}const iW=fe({name:"heroicons-clipboard",render:oW}),sW={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function aW(e,t){return y(),V("svg",sW,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192q.56-.045 1.124-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48 48 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.25 2.25 0 0 0 15 2.25h-1.5a2.25 2.25 0 0 0-2.15 1.586m5.8 0q.099.316.1.664v.75h-6V4.5q.001-.348.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9"},null,-1)])])}const lW=fe({name:"heroicons-clipboard-document",render:aW});function q2(e){const{engine:t,blocks:n,getBlockById:r,getChildrenBlocks:o,setBlockProperty:i,toggleBlock:s,removeBlock:a,duplicateBlock:l,moveBlock:c,regions:u}=dr(),p=A(()=>r(e)),h=A(()=>p.value?.properties||{}),f=A(()=>p.value?.type),g=A(()=>p.value?.disabled),m=A(()=>{if(p.value)return t.getBlockSchema(p.value.type)}),b=A(()=>{if(w.value)return w.value.children?.indexOf(e)??-1;for(const C of u.value){const x=C.blocks.indexOf(e);if(x!==-1)return x}}),w=A(()=>{if(p.value){for(const C of u.value)if(C.blocks.includes(e))return;for(const C of Object.values(n.value))if(C.children?.includes(e))return C}}),E=A(()=>o(e)),k=A(()=>{if(!(b.value===void 0||b.value<=0)){if(w.value){const C=w.value.children[b.value-1];return r(C)}for(const C of u.value)if(C.blocks.includes(e)){const x=C.blocks[b.value-1];return r(x)}}}),v=A(()=>{if(!(b.value===void 0||b.value<0)){if(w.value){if(b.value>=w.value.children.length-1)return;const C=w.value.children[b.value+1];return r(C)}for(const C of u.value)if(C.blocks.includes(e)){if(b.value>=C.blocks.length-1)return;const x=C.blocks[b.value+1];return r(x)}}}),_=A(()=>w.value===void 0),T=A(()=>E.value.length>0),N=A(()=>m.value?.accepts&&m.value.accepts.length>0||T.value);return{block:p,properties:h,type:f,disabled:g,schema:m,index:b,parent:w,children:E,isRootLevel:_,hasChildren:T,canHaveChildren:N,previousSibling:k,nextSibling:v,setProperty:(C,x)=>{i(e,C,x)},toggle:C=>{s(e,C)},remove:()=>{a(e)},duplicate:()=>l(e),moveChild:(C,x)=>{c(C,{targetParentId:e,targetIndex:x})}}}function cW(){const e=dt(Qt);if(!e)throw new Error("useClipboard must be used within a component that has access to CraftileEditor");const{engine:t,pasteBlock:n}=dr(),r=e.ui,o=A(()=>r.state.clipboard.copiedBlock),i=A(()=>o.value!==null);function s(p){try{const h=t.exportBlockAsNestedStructure(p);r.copyBlock(h)}catch(h){console.error("Failed to copy block:",h)}}function a(p){const h=o.value;if(!h)return!1;const f=t.getBlockById(p);if(!f)return!1;if(f.parentId){const g=t.getBlockById(f.parentId);if(!g||!t.getBlocksManager().canBeChild(h.type,g.type)||g.static)return!1}return!0}function l(p){const h=o.value;if(!h||!a(p))return;const f=He(h),g=t.getBlockById(p).parentId;let m;if(g)m=t.getBlockById(g).children.indexOf(p)+1,n(f,{parentId:g,index:m});else{const b=t.getPage();for(const w of b.regions){const E=w.blocks.indexOf(p);if(E!==-1){m=E+1,n(f,{regionId:ut(w),index:m});break}}}}function c(){r.clearClipboard()}function u(p){try{const h=t.exportBlockAsNestedStructure(p),f=JSON.stringify(h,null,2);navigator.clipboard.writeText(f).then(()=>{r.toast({title:"Block copied as JSON",type:"success"})},g=>{console.error("Failed to copy to clipboard:",g),r.toast({title:"Failed to copy to clipboard",type:"error"})})}catch(h){console.error("Failed to export block:",h),r.toast({title:"Failed to export block",type:"error"})}}return{copiedBlock:o,hasCopiedBlock:i,copyBlock:s,canPasteAfter:a,pasteBlockAfter:l,clearClipboard:c,copyBlockAsJSON:u}}const uW=P({__name:"BlockContextMenu",props:{blockId:{}},setup(e){const t=e,{t:n}=Dn(),{engine:r,moveBlock:o,duplicateBlock:i,toggleBlock:s,removeBlock:a}=dr(),{open:l,getInsertionContext:c}=uu(),{block:u,nextSibling:p,previousSibling:h}=q2(t.blockId),{copyBlock:f,canPasteAfter:g,pasteBlockAfter:m,hasCopiedBlock:b,copyBlockAsJSON:w}=cW(),E=A(()=>u.value?.static===!0),k=A(()=>!u.value?.parentId),v=A(()=>{if(!u.value)return null;const Qe=r.getPage(),Bn=u.value;for(const tn of Qe.regions){const nn=tn.blocks.indexOf(Bn.id);if(nn!==-1)return{parentType:"region",parentId:ut(tn),currentIndex:nn,siblingCount:tn.blocks.length}}if(Bn.parentId){const tn=Qe.blocks[Bn.parentId];if(tn){const nn=tn.children.indexOf(Bn.id);if(nn!==-1)return{parentType:"block",parentId:Bn.parentId,currentIndex:nn,siblingCount:tn.children.length}}}return null}),_=A(()=>!u.value||E.value?!1:v.value&&v.value.currentIndex>0),T=A(()=>!u.value||E.value?!1:v.value&&v.value.currentIndex<v.value.siblingCount-1),N=A(()=>!h.value||h.value.static!==!0),C=A(()=>!p.value||p.value.static!==!0),x=Q(null);function I(){i(t.blockId)}function R(){s(t.blockId)}function M(){if(!u.value||!v.value)return;const Qe=v.value.currentIndex-1;v.value.parentType==="region"?o(t.blockId,{targetRegionId:v.value.parentId,targetIndex:Qe}):v.value.parentType==="block"&&o(t.blockId,{targetParentId:v.value.parentId,targetIndex:Qe})}function B(){if(!u.value||!v.value)return;const Qe=v.value.currentIndex+1;v.value.parentType==="region"?o(t.blockId,{targetRegionId:v.value.parentId,targetIndex:Qe}):v.value.parentType==="block"&&o(t.blockId,{targetParentId:v.value.parentId,targetIndex:Qe})}function z(){if(!x.value?.$el)return;const Qe=c(t.blockId,"before");l({anchor:x.value.$el,context:Qe})}function J(){if(!x.value?.$el)return;const Qe=c(t.blockId,"after");l({anchor:x.value.$el,context:Qe})}function q(){!u.value||E.value||a(t.blockId)}const K=A(()=>k.value?n("block.insertBlockBefore"):n("block.insertSiblingBefore")),X=A(()=>k.value?n("block.insertBlockAfter"):n("block.insertSiblingAfter"));function de(){f(t.blockId)}const Ue=A(()=>b.value&&g(t.blockId));function je(){m(t.blockId)}function Ve(){w(t.blockId)}return(Qe,Bn)=>{const tn=lW,nn=iW,Xr=G2,$o=Lx,Ol=Dx,Ro=nW,va=QG,ba=XG,H=qG,U=jG,W=Mx;return d(u)?(y(),$(d(yt).Root,{key:0},{default:O(()=>[S(d(yt).ContextTrigger,{ref_key:"contextTriggerRef",ref:x,"as-child":""},{default:O(()=>[L(Qe.$slots,"default")]),_:3},512),S(d(yt).Positioner,null,{default:O(()=>[S(d(yt).Content,{class:"bg-white rounded-lg shadow-lg border border-gray-200 py-1 min-w-[180px] focus:outline-none z-50"},{default:O(()=>[S(d(yt).Item,{value:"copy",onSelect:de,class:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 cursor-pointer"},{default:O(()=>[S(tn,{class:"w-4 h-4"}),re(" "+j(d(n)("block.copy")),1)]),_:1}),S(d(yt).Item,{value:"paste-after",disabled:!d(Ue),onSelect:je,class:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 cursor-pointer data-[disabled]:opacity-50 data-[disabled]:cursor-not-allowed"},{default:O(()=>[S(nn,{class:"w-4 h-4"}),re(" "+j(d(n)("block.pasteAfter")),1)]),_:1},8,["disabled"]),S(d(yt).Item,{value:"duplicate",disabled:d(E),onSelect:I,class:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 cursor-pointer data-[disabled]:opacity-50 data-[disabled]:cursor-not-allowed"},{default:O(()=>[S(Xr,{class:"w-4 h-4"}),re(" "+j(d(n)("block.duplicate")),1)]),_:1},8,["disabled"]),S(d(yt).Item,{value:"toggle",onSelect:R,class:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 cursor-pointer"},{default:O(()=>[d(u).disabled?(y(),$($o,{key:0,class:"w-4 h-4"})):(y(),$(Ol,{key:1,class:"w-4 h-4"})),re(" "+j(d(u).disabled?d(n)("block.enable"):d(n)("block.disable")),1)]),_:1}),S(d(yt).Separator,{class:"my-1 h-px bg-gray-200"}),S(d(yt).Item,{value:"move-previous",disabled:!d(_),onSelect:M,class:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 cursor-pointer data-[disabled]:opacity-50 data-[disabled]:cursor-not-allowed"},{default:O(()=>[S(Ro,{class:"w-4 h-4"}),re(" "+j(d(n)("block.moveToPrevious")),1)]),_:1},8,["disabled"]),S(d(yt).Item,{value:"move-next",disabled:!d(T),onSelect:B,class:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 cursor-pointer data-[disabled]:opacity-50 data-[disabled]:cursor-not-allowed"},{default:O(()=>[S(va,{class:"w-4 h-4"}),re(" "+j(d(n)("block.moveToNext")),1)]),_:1},8,["disabled"]),S(d(yt).Separator,{class:"my-1 h-px bg-gray-200"}),S(d(yt).Item,{value:"insert-before",disabled:!d(N),onSelect:z,class:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 cursor-pointer data-[disabled]:opacity-50 data-[disabled]:cursor-not-allowed"},{default:O(()=>[S(ba,{class:"w-4 h-4"}),re(" "+j(d(K)),1)]),_:1},8,["disabled"]),S(d(yt).Item,{value:"insert-after",disabled:!d(C),onSelect:J,class:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 cursor-pointer data-[disabled]:opacity-50 data-[disabled]:cursor-not-allowed"},{default:O(()=>[S(H,{class:"w-4 h-4"}),re(" "+j(d(X)),1)]),_:1},8,["disabled"]),S(d(yt).Separator,{class:"my-1 h-px bg-gray-200"}),S(d(yt).Item,{value:"copy-as-json",onSelect:Ve,class:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 cursor-pointer"},{default:O(()=>[S(U,{class:"w-4 h-4"}),re(" "+j(d(n)("block.copyAsJson")),1)]),_:1}),S(d(yt).Item,{value:"remove",disabled:d(E),onSelect:q,class:"flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 cursor-pointer data-[disabled]:opacity-50 data-[disabled]:cursor-not-allowed"},{default:O(()=>[S(W,{class:"w-4 h-4"}),re(" "+j(d(n)("block.remove")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:3})):Z("",!0)}}}),dW={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function pW(e,t){return y(),V("svg",dW,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25"},null,-1)])])}const fW=fe({name:"heroicons-lock-closed",render:pW}),hW={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function gW(e,t){return y(),V("svg",hW,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5m0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25m9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25"},null,-1)])])}const mW=fe({name:"heroicons-squares-plus",render:gW}),vW={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function bW(e,t){return y(),V("svg",vW,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"},null,-1)])])}const yW=fe({name:"heroicons-arrow-path",render:bW}),xW={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function wW(e,t){return y(),V("svg",xW,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"},null,-1)])])}const _W=fe({name:"heroicons-cube",render:wW}),kW={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function CW(e,t){return y(),V("svg",kW,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m8.25 4.5l7.5 7.5l-7.5 7.5"},null,-1)])])}const EW=fe({name:"heroicons-chevron-right",render:CW});var OW=Object.defineProperty,xg=Object.getOwnPropertySymbols,K2=Object.prototype.hasOwnProperty,Y2=Object.prototype.propertyIsEnumerable,bC=(e,t,n)=>t in e?OW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lc=(e,t)=>{for(var n in t||(t={}))K2.call(t,n)&&bC(e,n,t[n]);if(xg)for(var n of xg(t))Y2.call(t,n)&&bC(e,n,t[n]);return e},X2=(e,t)=>{var n={};for(var r in e)K2.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xg)for(var r of xg(e))t.indexOf(r)<0&&Y2.call(e,r)&&(n[r]=e[r]);return n};const J2="[vue-draggable-plus]: ";function IW(e){console.warn(J2+e)}function TW(e){console.error(J2+e)}function yC(e,t,n){return n>=0&&n<e.length&&e.splice(n,0,e.splice(t,1)[0]),e}function SW(e){return e.replace(/-(\w)/g,(t,n)=>n?n.toUpperCase():"")}function PW(e){return Object.keys(e).reduce((t,n)=>(typeof e[n]<"u"&&(t[SW(n)]=e[n]),t),{})}function xC(e,t){return Array.isArray(e)&&e.splice(t,1),e}function wC(e,t,n){return Array.isArray(e)&&e.splice(t,0,n),e}function $W(e){return typeof e>"u"}function RW(e){return typeof e=="string"}function _C(e,t,n){const r=e.children[n];e.insertBefore(t,r)}function xb(e){e.parentNode&&e.parentNode.removeChild(e)}function AW(e,t=document){var n;let r=null;return typeof t?.querySelector=="function"?r=(n=t?.querySelector)==null?void 0:n.call(t,e):r=document.querySelector(e),r||IW(`Element not found: ${e}`),r}function NW(e,t,n=null){return function(...r){return e.apply(n,r),t.apply(n,r)}}function MW(e,t){const n=lc({},e);return Object.keys(t).forEach(r=>{n[r]?n[r]=NW(e[r],t[r]):n[r]=t[r]}),n}function DW(e){return e instanceof HTMLElement}function kC(e,t){Object.keys(e).forEach(n=>{t(n,e[n])})}function LW(e){return e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97)}const VW=Object.assign;function CC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(n),!0).forEach(function(r){FW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kh(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kh=function(t){return typeof t}:kh=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kh(e)}function FW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hi(){return Hi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hi.apply(this,arguments)}function BW(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function HW(e,t){if(e==null)return{};var n=BW(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var zW="1.15.2";function Ri(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Xi=Ri(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Jp=Ri(/Edge/i),EC=Ri(/firefox/i),Sd=Ri(/safari/i)&&!Ri(/chrome/i)&&!Ri(/android/i),Z2=Ri(/iP(ad|od|hone)/i),Q2=Ri(/chrome/i)&&Ri(/android/i),e$={capture:!1,passive:!1};function ot(e,t,n){e.addEventListener(t,n,!Xi&&e$)}function et(e,t,n){e.removeEventListener(t,n,!Xi&&e$)}function wg(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function UW(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function eo(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&wg(e,t):wg(e,t))||r&&e===n)return e;if(e===n)break}while(e=UW(e))}return null}var OC=/\s+/g;function gr(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(OC," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(OC," ")}}function $e(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function Ec(e,t){var n="";if(typeof e=="string")n=e;else do{var r=$e(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function t$(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function Ko(){var e=document.scrollingElement;return e||document.documentElement}function qt(e,t,n,r,o){if(!(!e.getBoundingClientRect&&e!==window)){var i,s,a,l,c,u,p;if(e!==window&&e.parentNode&&e!==Ko()?(i=e.getBoundingClientRect(),s=i.top,a=i.left,l=i.bottom,c=i.right,u=i.height,p=i.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,p=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!Xi))do if(o&&o.getBoundingClientRect&&($e(o,"transform")!=="none"||n&&$e(o,"position")!=="static")){var h=o.getBoundingClientRect();s-=h.top+parseInt($e(o,"border-top-width")),a-=h.left+parseInt($e(o,"border-left-width")),l=s+i.height,c=a+i.width;break}while(o=o.parentNode);if(r&&e!==window){var f=Ec(o||e),g=f&&f.a,m=f&&f.d;f&&(s/=m,a/=g,p/=g,u/=m,l=s+u,c=a+p)}return{top:s,left:a,bottom:l,right:c,width:p,height:u}}}function IC(e,t,n){for(var r=Is(e,!0),o=qt(e)[t];r;){var i=qt(r)[n],s=void 0;if(s=o>=i,!s)return r;if(r===Ko())break;r=Is(r,!1)}return!1}function Hc(e,t,n,r){for(var o=0,i=0,s=e.children;i<s.length;){if(s[i].style.display!=="none"&&s[i]!==Re.ghost&&(r||s[i]!==Re.dragged)&&eo(s[i],n.draggable,e,!1)){if(o===t)return s[i];o++}i++}return null}function Vx(e,t){for(var n=e.lastElementChild;n&&(n===Re.ghost||$e(n,"display")==="none"||t&&!wg(n,t));)n=n.previousElementSibling;return n||null}function Dr(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Re.clone&&(!t||wg(e,t))&&n++;return n}function TC(e){var t=0,n=0,r=Ko();if(e)do{var o=Ec(e),i=o.a,s=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*s}while(e!==r&&(e=e.parentNode));return[t,n]}function jW(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function Is(e,t){if(!e||!e.getBoundingClientRect)return Ko();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=$e(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Ko();if(r||t)return n;r=!0}}while(n=n.parentNode);return Ko()}function GW(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function wb(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Pd;function n$(e,t){return function(){if(!Pd){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),Pd=setTimeout(function(){Pd=void 0},t)}}}function WW(){clearTimeout(Pd),Pd=void 0}function r$(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function o$(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function i$(e,t,n){var r={};return Array.from(e.children).forEach(function(o){var i,s,a,l;if(!(!eo(o,t.draggable,e,!1)||o.animated||o===n)){var c=qt(o);r.left=Math.min((i=r.left)!==null&&i!==void 0?i:1/0,c.left),r.top=Math.min((s=r.top)!==null&&s!==void 0?s:1/0,c.top),r.right=Math.max((a=r.right)!==null&&a!==void 0?a:-1/0,c.right),r.bottom=Math.max((l=r.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var xr="Sortable"+new Date().getTime();function qW(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(r){if(!($e(r,"display")==="none"||r===Re.ghost)){e.push({target:r,rect:qt(r)});var o=ei({},e[e.length-1].rect);if(r.thisAnimationDuration){var i=Ec(r,!0);i&&(o.top-=i.f,o.left-=i.e)}r.fromRect=o}})}},addAnimationState:function(n){e.push(n)},removeAnimationState:function(n){e.splice(jW(e,{target:n}),1)},animateAll:function(n){var r=this;if(!this.options.animation){clearTimeout(t),typeof n=="function"&&n();return}var o=!1,i=0;e.forEach(function(s){var a=0,l=s.target,c=l.fromRect,u=qt(l),p=l.prevFromRect,h=l.prevToRect,f=s.rect,g=Ec(l,!0);g&&(u.top-=g.f,u.left-=g.e),l.toRect=u,l.thisAnimationDuration&&wb(p,u)&&!wb(c,u)&&(f.top-u.top)/(f.left-u.left)===(c.top-u.top)/(c.left-u.left)&&(a=YW(f,p,h,r.options)),wb(u,c)||(l.prevFromRect=c,l.prevToRect=u,a||(a=r.options.animation),r.animate(l,f,u,a)),a&&(o=!0,i=Math.max(i,a),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},a),l.thisAnimationDuration=a)}),clearTimeout(t),o?t=setTimeout(function(){typeof n=="function"&&n()},i):typeof n=="function"&&n(),e=[]},animate:function(n,r,o,i){if(i){$e(n,"transition",""),$e(n,"transform","");var s=Ec(this.el),a=s&&s.a,l=s&&s.d,c=(r.left-o.left)/(a||1),u=(r.top-o.top)/(l||1);n.animatingX=!!c,n.animatingY=!!u,$e(n,"transform","translate3d("+c+"px,"+u+"px,0)"),this.forRepaintDummy=KW(n),$e(n,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),$e(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){$e(n,"transition",""),$e(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},i)}}}}function KW(e){return e.offsetWidth}function YW(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var Ml=[],_b={initializeByDefault:!0},Zp={mount:function(e){for(var t in _b)_b.hasOwnProperty(t)&&!(t in e)&&(e[t]=_b[t]);Ml.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ml.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";Ml.forEach(function(i){t[i.pluginName]&&(t[i.pluginName][o]&&t[i.pluginName][o](ei({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](ei({sortable:t},n)))})},initializePlugins:function(e,t,n,r){Ml.forEach(function(s){var a=s.pluginName;if(!(!e.options[a]&&!s.initializeByDefault)){var l=new s(e,t,e.options);l.sortable=e,l.options=e.options,e[a]=l,Hi(n,l.defaults)}});for(var o in e.options)if(e.options.hasOwnProperty(o)){var i=this.modifyOption(e,o,e.options[o]);typeof i<"u"&&(e.options[o]=i)}},getEventProperties:function(e,t){var n={};return Ml.forEach(function(r){typeof r.eventProperties=="function"&&Hi(n,r.eventProperties.call(t[r.pluginName],e))}),n},modifyOption:function(e,t,n){var r;return Ml.forEach(function(o){e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[t]=="function"&&(r=o.optionListeners[t].call(e[o.pluginName],n))}),r}};function XW(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,i=e.cloneEl,s=e.toEl,a=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,p=e.newDraggableIndex,h=e.originalEvent,f=e.putSortable,g=e.extraEventProperties;if(t=t||n&&n[xr],!!t){var m,b=t.options,w="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Xi&&!Jp?m=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(r,!0,!0)),m.to=s||n,m.from=a||n,m.item=o||n,m.clone=i,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=p,m.originalEvent=h,m.pullMode=f?f.lastPutMode:void 0;var E=ei(ei({},g),Zp.getEventProperties(r,t));for(var k in E)m[k]=E[k];n&&n.dispatchEvent(m),b[w]&&b[w].call(t,m)}}var JW=["evt"],nr=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.evt,o=HW(n,JW);Zp.pluginEvent.bind(Re)(e,t,ei({dragEl:me,parentEl:Lt,ghostEl:Me,rootEl:$t,nextEl:Na,lastDownEl:Ch,cloneEl:Mt,cloneHidden:Es,dragStarted:rd,putSortable:gn,activeSortable:Re.active,originalEvent:r,oldIndex:cc,oldDraggableIndex:$d,newIndex:mr,newDraggableIndex:_s,hideGhostForTarget:c$,unhideGhostForTarget:u$,cloneNowHidden:function(){Es=!0},cloneNowShown:function(){Es=!1},dispatchSortableEvent:function(i){Wn({sortable:t,name:i,originalEvent:r})}},o))};function Wn(e){XW(ei({putSortable:gn,cloneEl:Mt,targetEl:me,rootEl:$t,oldIndex:cc,oldDraggableIndex:$d,newIndex:mr,newDraggableIndex:_s},e))}var me,Lt,Me,$t,Na,Ch,Mt,Es,cc,mr,$d,_s,Hf,gn,ec=!1,_g=!1,kg=[],Oa,Zr,kb,Cb,SC,PC,rd,Dl,Rd,Ad=!1,zf=!1,Eh,Tn,Eb=[],c0=!1,Cg=[],tv=typeof document<"u",Uf=Z2,$C=Jp||Xi?"cssFloat":"float",ZW=tv&&!Q2&&!Z2&&"draggable"in document.createElement("div"),s$=(function(){if(tv){if(Xi)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}})(),a$=function(e,t){var n=$e(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=Hc(e,0,t),i=Hc(e,1,t),s=o&&$e(o),a=i&&$e(i),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+qt(o).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+qt(i).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&s.float&&s.float!=="none"){var u=s.float==="left"?"left":"right";return i&&(a.clear==="both"||a.clear===u)?"vertical":"horizontal"}return o&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||l>=r&&n[$C]==="none"||i&&n[$C]==="none"&&l+c>r)?"vertical":"horizontal"},QW=function(e,t,n){var r=n?e.left:e.top,o=n?e.right:e.bottom,i=n?e.width:e.height,s=n?t.left:t.top,a=n?t.right:t.bottom,l=n?t.width:t.height;return r===s||o===a||r+i/2===s+l/2},e9=function(e,t){var n;return kg.some(function(r){var o=r[xr].options.emptyInsertThreshold;if(!(!o||Vx(r))){var i=qt(r),s=e>=i.left-o&&e<=i.right+o,a=t>=i.top-o&&t<=i.bottom+o;if(s&&a)return n=r}}),n},l$=function(e){function t(o,i){return function(s,a,l,c){var u=s.options.group.name&&a.options.group.name&&s.options.group.name===a.options.group.name;if(o==null&&(i||u))return!0;if(o==null||o===!1)return!1;if(i&&o==="clone")return o;if(typeof o=="function")return t(o(s,a,l,c),i)(s,a,l,c);var p=(i?s:a).options.group.name;return o===!0||typeof o=="string"&&o===p||o.join&&o.indexOf(p)>-1}}var n={},r=e.group;(!r||kh(r)!="object")&&(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},c$=function(){!s$&&Me&&$e(Me,"display","none")},u$=function(){!s$&&Me&&$e(Me,"display","")};tv&&!Q2&&document.addEventListener("click",function(e){if(_g)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),_g=!1,!1},!0);var Ia=function(e){if(me){e=e.touches?e.touches[0]:e;var t=e9(e.clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[xr]._onDragOver(n)}}},t9=function(e){me&&me.parentNode[xr]._isOutsideThisEl(e.target)};function Re(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Hi({},t),e[xr]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return a$(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,s){i.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Re.supportPointer!==!1&&"PointerEvent"in window&&!Sd,emptyInsertThreshold:5};Zp.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);l$(t);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=t.forceFallback?!1:ZW,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?ot(e,"pointerdown",this._onTapStart):(ot(e,"mousedown",this._onTapStart),ot(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(ot(e,"dragover",this),ot(e,"dragenter",this)),kg.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Hi(this,qW())}Re.prototype={constructor:Re,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Dl=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,me):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,o=r.preventOnFilter,i=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,a=(s||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,c=r.filter;if(c9(n),!me&&!(/mousedown|pointerdown/.test(i)&&e.button!==0||r.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&Sd&&a&&a.tagName.toUpperCase()==="SELECT")&&(a=eo(a,r.draggable,n,!1),!(a&&a.animated)&&Ch!==a)){if(cc=Dr(a),$d=Dr(a,r.draggable),typeof c=="function"){if(c.call(this,e,a,this)){Wn({sortable:t,rootEl:l,name:"filter",targetEl:a,toEl:n,fromEl:n}),nr("filter",t,{evt:e}),o&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(u){if(u=eo(l,u.trim(),n,!1),u)return Wn({sortable:t,rootEl:u,name:"filter",targetEl:a,fromEl:n,toEl:n}),nr("filter",t,{evt:e}),!0}),c)){o&&e.cancelable&&e.preventDefault();return}r.handle&&!eo(l,r.handle,n,!1)||this._prepareDragStart(e,s,a)}}},_prepareDragStart:function(e,t,n){var r=this,o=r.el,i=r.options,s=o.ownerDocument,a;if(n&&!me&&n.parentNode===o){var l=qt(n);if($t=o,me=n,Lt=me.parentNode,Na=me.nextSibling,Ch=n,Hf=i.group,Re.dragged=me,Oa={target:me,clientX:(t||e).clientX,clientY:(t||e).clientY},SC=Oa.clientX-l.left,PC=Oa.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,me.style["will-change"]="all",a=function(){if(nr("delayEnded",r,{evt:e}),Re.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!EC&&r.nativeDraggable&&(me.draggable=!0),r._triggerDragStart(e,t),Wn({sortable:r,name:"choose",originalEvent:e}),gr(me,i.chosenClass,!0)},i.ignore.split(",").forEach(function(c){t$(me,c.trim(),Ob)}),ot(s,"dragover",Ia),ot(s,"mousemove",Ia),ot(s,"touchmove",Ia),ot(s,"mouseup",r._onDrop),ot(s,"touchend",r._onDrop),ot(s,"touchcancel",r._onDrop),EC&&this.nativeDraggable&&(this.options.touchStartThreshold=4,me.draggable=!0),nr("delayStart",this,{evt:e}),i.delay&&(!i.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Jp||Xi))){if(Re.eventCanceled){this._onDrop();return}ot(s,"mouseup",r._disableDelayedDrag),ot(s,"touchend",r._disableDelayedDrag),ot(s,"touchcancel",r._disableDelayedDrag),ot(s,"mousemove",r._delayedDragTouchMoveHandler),ot(s,"touchmove",r._delayedDragTouchMoveHandler),i.supportPointer&&ot(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(a,i.delay)}else a()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){me&&Ob(me),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;et(e,"mouseup",this._disableDelayedDrag),et(e,"touchend",this._disableDelayedDrag),et(e,"touchcancel",this._disableDelayedDrag),et(e,"mousemove",this._delayedDragTouchMoveHandler),et(e,"touchmove",this._delayedDragTouchMoveHandler),et(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?ot(document,"pointermove",this._onTouchMove):t?ot(document,"touchmove",this._onTouchMove):ot(document,"mousemove",this._onTouchMove):(ot(me,"dragend",this),ot($t,"dragstart",this._onDragStart));try{document.selection?Oh(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(ec=!1,$t&&me){nr("dragStarted",this,{evt:t}),this.nativeDraggable&&ot(document,"dragover",t9);var n=this.options;!e&&gr(me,n.dragClass,!1),gr(me,n.ghostClass,!0),Re.active=this,e&&this._appendGhost(),Wn({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Zr){this._lastX=Zr.clientX,this._lastY=Zr.clientY,c$();for(var e=document.elementFromPoint(Zr.clientX,Zr.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Zr.clientX,Zr.clientY),e!==t);)t=e;if(me.parentNode[xr]._isOutsideThisEl(e),t)do{if(t[xr]){var n=void 0;if(n=t[xr]._onDragOver({clientX:Zr.clientX,clientY:Zr.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);u$()}},_onTouchMove:function(e){if(Oa){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,i=Me&&Ec(Me,!0),s=Me&&i&&i.a,a=Me&&i&&i.d,l=Uf&&Tn&&TC(Tn),c=(o.clientX-Oa.clientX+r.x)/(s||1)+(l?l[0]-Eb[0]:0)/(s||1),u=(o.clientY-Oa.clientY+r.y)/(a||1)+(l?l[1]-Eb[1]:0)/(a||1);if(!Re.active&&!ec){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(Me){i?(i.e+=c-(kb||0),i.f+=u-(Cb||0)):i={a:1,b:0,c:0,d:1,e:c,f:u};var p="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");$e(Me,"webkitTransform",p),$e(Me,"mozTransform",p),$e(Me,"msTransform",p),$e(Me,"transform",p),kb=c,Cb=u,Zr=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Me){var e=this.options.fallbackOnBody?document.body:$t,t=qt(me,!0,Uf,!0,e),n=this.options;if(Uf){for(Tn=e;$e(Tn,"position")==="static"&&$e(Tn,"transform")==="none"&&Tn!==document;)Tn=Tn.parentNode;Tn!==document.body&&Tn!==document.documentElement?(Tn===document&&(Tn=Ko()),t.top+=Tn.scrollTop,t.left+=Tn.scrollLeft):Tn=Ko(),Eb=TC(Tn)}Me=me.cloneNode(!0),gr(Me,n.ghostClass,!1),gr(Me,n.fallbackClass,!0),gr(Me,n.dragClass,!0),$e(Me,"transition",""),$e(Me,"transform",""),$e(Me,"box-sizing","border-box"),$e(Me,"margin",0),$e(Me,"top",t.top),$e(Me,"left",t.left),$e(Me,"width",t.width),$e(Me,"height",t.height),$e(Me,"opacity","0.8"),$e(Me,"position",Uf?"absolute":"fixed"),$e(Me,"zIndex","100000"),$e(Me,"pointerEvents","none"),Re.ghost=Me,e.appendChild(Me),$e(Me,"transform-origin",SC/parseInt(Me.style.width)*100+"% "+PC/parseInt(Me.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,o=n.options;if(nr("dragStart",this,{evt:e}),Re.eventCanceled){this._onDrop();return}nr("setupClone",this),Re.eventCanceled||(Mt=o$(me),Mt.removeAttribute("id"),Mt.draggable=!1,Mt.style["will-change"]="",this._hideClone(),gr(Mt,this.options.chosenClass,!1),Re.clone=Mt),n.cloneId=Oh(function(){nr("clone",n),!Re.eventCanceled&&(n.options.removeCloneOnHide||$t.insertBefore(Mt,me),n._hideClone(),Wn({sortable:n,name:"clone"}))}),!t&&gr(me,o.dragClass,!0),t?(_g=!0,n._loopId=setInterval(n._emulateDragOver,50)):(et(document,"mouseup",n._onDrop),et(document,"touchend",n._onDrop),et(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,me)),ot(document,"drop",n),$e(me,"transform","translateZ(0)")),ec=!0,n._dragStartId=Oh(n._dragStarted.bind(n,t,e)),ot(document,"selectstart",n),rd=!0,Sd&&$e(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,r,o,i,s=this.options,a=s.group,l=Re.active,c=Hf===a,u=s.sort,p=gn||l,h,f=this,g=!1;if(c0)return;function m(K,X){nr(K,f,ei({evt:e,isOwner:c,axis:h?"vertical":"horizontal",revert:i,dragRect:r,targetRect:o,canSort:u,fromSortable:p,target:n,completed:w,onMove:function(de,Ue){return jf($t,t,me,r,de,qt(de),e,Ue)},changed:E},X))}function b(){m("dragOverAnimationCapture"),f.captureAnimationState(),f!==p&&p.captureAnimationState()}function w(K){return m("dragOverCompleted",{insertion:K}),K&&(c?l._hideClone():l._showClone(f),f!==p&&(gr(me,gn?gn.options.ghostClass:l.options.ghostClass,!1),gr(me,s.ghostClass,!0)),gn!==f&&f!==Re.active?gn=f:f===Re.active&&gn&&(gn=null),p===f&&(f._ignoreWhileAnimating=n),f.animateAll(function(){m("dragOverAnimationComplete"),f._ignoreWhileAnimating=null}),f!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(n===me&&!me.animated||n===t&&!n.animated)&&(Dl=null),!s.dragoverBubble&&!e.rootEl&&n!==document&&(me.parentNode[xr]._isOutsideThisEl(e.target),!K&&Ia(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function E(){mr=Dr(me),_s=Dr(me,s.draggable),Wn({sortable:f,name:"change",toEl:t,newIndex:mr,newDraggableIndex:_s,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=eo(n,s.draggable,t,!0),m("dragOver"),Re.eventCanceled)return g;if(me.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||f._ignoreWhileAnimating===n)return w(!1);if(_g=!1,l&&!s.disabled&&(c?u||(i=Lt!==$t):gn===this||(this.lastPutMode=Hf.checkPull(this,l,me,e))&&a.checkPut(this,l,me,e))){if(h=this._getDirection(e,n)==="vertical",r=qt(me),m("dragOverValid"),Re.eventCanceled)return g;if(i)return Lt=$t,b(),this._hideClone(),m("revert"),Re.eventCanceled||(Na?$t.insertBefore(me,Na):$t.appendChild(me)),w(!0);var k=Vx(t,s.draggable);if(!k||i9(e,h,this)&&!k.animated){if(k===me)return w(!1);if(k&&t===e.target&&(n=k),n&&(o=qt(n)),jf($t,t,me,r,n,o,e,!!n)!==!1)return b(),k&&k.nextSibling?t.insertBefore(me,k.nextSibling):t.appendChild(me),Lt=t,E(),w(!0)}else if(k&&o9(e,h,this)){var v=Hc(t,0,s,!0);if(v===me)return w(!1);if(n=v,o=qt(n),jf($t,t,me,r,n,o,e,!1)!==!1)return b(),t.insertBefore(me,v),Lt=t,E(),w(!0)}else if(n.parentNode===t){o=qt(n);var _=0,T,N=me.parentNode!==t,C=!QW(me.animated&&me.toRect||r,n.animated&&n.toRect||o,h),x=h?"top":"left",I=IC(n,"top","top")||IC(me,"top","top"),R=I?I.scrollTop:void 0;Dl!==n&&(T=o[x],Ad=!1,zf=!C&&s.invertSwap||N),_=s9(e,n,o,h,C?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,zf,Dl===n);var M;if(_!==0){var B=Dr(me);do B-=_,M=Lt.children[B];while(M&&($e(M,"display")==="none"||M===Me))}if(_===0||M===n)return w(!1);Dl=n,Rd=_;var z=n.nextElementSibling,J=!1;J=_===1;var q=jf($t,t,me,r,n,o,e,J);if(q!==!1)return(q===1||q===-1)&&(J=q===1),c0=!0,setTimeout(r9,30),b(),J&&!z?t.appendChild(me):n.parentNode.insertBefore(me,J?z:n),I&&r$(I,0,R-I.scrollTop),Lt=me.parentNode,T!==void 0&&!zf&&(Eh=Math.abs(T-qt(n)[x])),E(),w(!0)}if(t.contains(me))return w(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){et(document,"mousemove",this._onTouchMove),et(document,"touchmove",this._onTouchMove),et(document,"pointermove",this._onTouchMove),et(document,"dragover",Ia),et(document,"mousemove",Ia),et(document,"touchmove",Ia)},_offUpEvents:function(){var e=this.el.ownerDocument;et(e,"mouseup",this._onDrop),et(e,"touchend",this._onDrop),et(e,"pointerup",this._onDrop),et(e,"touchcancel",this._onDrop),et(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(mr=Dr(me),_s=Dr(me,n.draggable),nr("drop",this,{evt:e}),Lt=me&&me.parentNode,mr=Dr(me),_s=Dr(me,n.draggable),Re.eventCanceled){this._nulling();return}ec=!1,zf=!1,Ad=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),u0(this.cloneId),u0(this._dragStartId),this.nativeDraggable&&(et(document,"drop",this),et(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Sd&&$e(document.body,"user-select",""),$e(me,"transform",""),e&&(rd&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),Me&&Me.parentNode&&Me.parentNode.removeChild(Me),($t===Lt||gn&&gn.lastPutMode!=="clone")&&Mt&&Mt.parentNode&&Mt.parentNode.removeChild(Mt),me&&(this.nativeDraggable&&et(me,"dragend",this),Ob(me),me.style["will-change"]="",rd&&!ec&&gr(me,gn?gn.options.ghostClass:this.options.ghostClass,!1),gr(me,this.options.chosenClass,!1),Wn({sortable:this,name:"unchoose",toEl:Lt,newIndex:null,newDraggableIndex:null,originalEvent:e}),$t!==Lt?(mr>=0&&(Wn({rootEl:Lt,name:"add",toEl:Lt,fromEl:$t,originalEvent:e}),Wn({sortable:this,name:"remove",toEl:Lt,originalEvent:e}),Wn({rootEl:Lt,name:"sort",toEl:Lt,fromEl:$t,originalEvent:e}),Wn({sortable:this,name:"sort",toEl:Lt,originalEvent:e})),gn&&gn.save()):mr!==cc&&mr>=0&&(Wn({sortable:this,name:"update",toEl:Lt,originalEvent:e}),Wn({sortable:this,name:"sort",toEl:Lt,originalEvent:e})),Re.active&&((mr==null||mr===-1)&&(mr=cc,_s=$d),Wn({sortable:this,name:"end",toEl:Lt,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){nr("nulling",this),$t=me=Lt=Me=Na=Mt=Ch=Es=Oa=Zr=rd=mr=_s=cc=$d=Dl=Rd=gn=Hf=Re.dragged=Re.ghost=Re.clone=Re.active=null,Cg.forEach(function(e){e.checked=!0}),Cg.length=kb=Cb=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":me&&(this._onDragOver(e),n9(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,r=0,o=n.length,i=this.options;r<o;r++)t=n[r],eo(t,i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||l9(t));return e},sort:function(e,t){var n={},r=this.el;this.toArray().forEach(function(o,i){var s=r.children[i];eo(s,this.options.draggable,r,!1)&&(n[o]=s)},this),t&&this.captureAnimationState(),e.forEach(function(o){n[o]&&(r.removeChild(n[o]),r.appendChild(n[o]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return eo(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var r=Zp.modifyOption(this,e,t);typeof r<"u"?n[e]=r:n[e]=t,e==="group"&&l$(n)},destroy:function(){nr("destroy",this);var e=this.el;e[xr]=null,et(e,"mousedown",this._onTapStart),et(e,"touchstart",this._onTapStart),et(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(et(e,"dragover",this),et(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),kg.splice(kg.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Es){if(nr("hideClone",this),Re.eventCanceled)return;$e(Mt,"display","none"),this.options.removeCloneOnHide&&Mt.parentNode&&Mt.parentNode.removeChild(Mt),Es=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Es){if(nr("showClone",this),Re.eventCanceled)return;me.parentNode==$t&&!this.options.group.revertClone?$t.insertBefore(Mt,me):Na?$t.insertBefore(Mt,Na):$t.appendChild(Mt),this.options.group.revertClone&&this.animate(me,Mt),$e(Mt,"display",""),Es=!1}}};function n9(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function jf(e,t,n,r,o,i,s,a){var l,c=e[xr],u=c.options.onMove,p;return window.CustomEvent&&!Xi&&!Jp?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=o||t,l.relatedRect=i||qt(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),u&&(p=u.call(c,l,s)),p}function Ob(e){e.draggable=!1}function r9(){c0=!1}function o9(e,t,n){var r=qt(Hc(n.el,0,n.options,!0)),o=i$(n.el,n.options,Me),i=10;return t?e.clientX<o.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<o.top-i||e.clientY<r.bottom&&e.clientX<r.left}function i9(e,t,n){var r=qt(Vx(n.el,n.options.draggable)),o=i$(n.el,n.options,Me),i=10;return t?e.clientX>o.right+i||e.clientY>r.bottom&&e.clientX>r.left:e.clientY>o.bottom+i||e.clientX>r.right&&e.clientY>r.top}function s9(e,t,n,r,o,i,s,a){var l=r?e.clientY:e.clientX,c=r?n.height:n.width,u=r?n.top:n.left,p=r?n.bottom:n.right,h=!1;if(!s){if(a&&Eh<c*o){if(!Ad&&(Rd===1?l>u+c*i/2:l<p-c*i/2)&&(Ad=!0),Ad)h=!0;else if(Rd===1?l<u+Eh:l>p-Eh)return-Rd}else if(l>u+c*(1-o)/2&&l<p-c*(1-o)/2)return a9(t)}return h=h||s,h&&(l<u+c*i/2||l>p-c*i/2)?l>u+c/2?1:-1:0}function a9(e){return Dr(me)<Dr(e)?1:-1}function l9(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function c9(e){Cg.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&Cg.push(r)}}function Oh(e){return setTimeout(e,0)}function u0(e){return clearTimeout(e)}tv&&ot(document,"touchmove",function(e){(Re.active||ec)&&e.cancelable&&e.preventDefault()});Re.utils={on:ot,off:et,css:$e,find:t$,is:function(e,t){return!!eo(e,t,e,!1)},extend:GW,throttle:n$,closest:eo,toggleClass:gr,clone:o$,index:Dr,nextTick:Oh,cancelNextTick:u0,detectDirection:a$,getChild:Hc};Re.get=function(e){return e[xr]};Re.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(Re.utils=ei(ei({},Re.utils),r.utils)),Zp.mount(r)})};Re.create=function(e,t){return new Re(e,t)};Re.version=zW;var jt=[],od,d0,p0=!1,Ib,Tb,Eg,id;function u9(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?ot(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ot(document,"pointermove",this._handleFallbackAutoScroll):n.touches?ot(document,"touchmove",this._handleFallbackAutoScroll):ot(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?et(document,"dragover",this._handleAutoScroll):(et(document,"pointermove",this._handleFallbackAutoScroll),et(document,"touchmove",this._handleFallbackAutoScroll),et(document,"mousemove",this._handleFallbackAutoScroll)),RC(),Ih(),WW()},nulling:function(){Eg=d0=od=p0=id=Ib=Tb=null,jt.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var r=this,o=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,s=document.elementFromPoint(o,i);if(Eg=t,n||this.options.forceAutoScrollFallback||Jp||Xi||Sd){Sb(t,this.options,s,n);var a=Is(s,!0);p0&&(!id||o!==Ib||i!==Tb)&&(id&&RC(),id=setInterval(function(){var l=Is(document.elementFromPoint(o,i),!0);l!==a&&(a=l,Ih()),Sb(t,r.options,l,n)},10),Ib=o,Tb=i)}else{if(!this.options.bubbleScroll||Is(s,!0)===Ko()){Ih();return}Sb(t,this.options,Is(s,!1),!1)}}},Hi(e,{pluginName:"scroll",initializeByDefault:!0})}function Ih(){jt.forEach(function(e){clearInterval(e.pid)}),jt=[]}function RC(){clearInterval(id)}var Sb=n$(function(e,t,n,r){if(t.scroll){var o=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,a=t.scrollSpeed,l=Ko(),c=!1,u;d0!==n&&(d0=n,Ih(),od=t.scroll,u=t.scrollFn,od===!0&&(od=Is(n,!0)));var p=0,h=od;do{var f=h,g=qt(f),m=g.top,b=g.bottom,w=g.left,E=g.right,k=g.width,v=g.height,_=void 0,T=void 0,N=f.scrollWidth,C=f.scrollHeight,x=$e(f),I=f.scrollLeft,R=f.scrollTop;f===l?(_=k<N&&(x.overflowX==="auto"||x.overflowX==="scroll"||x.overflowX==="visible"),T=v<C&&(x.overflowY==="auto"||x.overflowY==="scroll"||x.overflowY==="visible")):(_=k<N&&(x.overflowX==="auto"||x.overflowX==="scroll"),T=v<C&&(x.overflowY==="auto"||x.overflowY==="scroll"));var M=_&&(Math.abs(E-o)<=s&&I+k<N)-(Math.abs(w-o)<=s&&!!I),B=T&&(Math.abs(b-i)<=s&&R+v<C)-(Math.abs(m-i)<=s&&!!R);if(!jt[p])for(var z=0;z<=p;z++)jt[z]||(jt[z]={});(jt[p].vx!=M||jt[p].vy!=B||jt[p].el!==f)&&(jt[p].el=f,jt[p].vx=M,jt[p].vy=B,clearInterval(jt[p].pid),(M!=0||B!=0)&&(c=!0,jt[p].pid=setInterval((function(){r&&this.layer===0&&Re.active._onTouchMove(Eg);var J=jt[this.layer].vy?jt[this.layer].vy*a:0,q=jt[this.layer].vx?jt[this.layer].vx*a:0;typeof u=="function"&&u.call(Re.dragged.parentNode[xr],q,J,e,Eg,jt[this.layer].el)!=="continue"||r$(jt[this.layer].el,q,J)}).bind({layer:p}),24))),p++}while(t.bubbleScroll&&h!==l&&(h=Is(h,!1)));p0=c}},30),d$=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,o=e.activeSortable,i=e.dispatchSortableEvent,s=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var l=n||o;s();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);a(),l&&!l.el.contains(u)&&(i("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function Fx(){}Fx.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=Hc(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:d$};Hi(Fx,{pluginName:"revertOnSpill"});function Bx(){}Bx.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,r=n||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:d$};Hi(Bx,{pluginName:"removeOnSpill"});Re.mount(new u9);Re.mount(Bx,Fx);function d9(e){return e==null?e:JSON.parse(JSON.stringify(e))}function p9(e){zt()&&Sr(e)}function f9(e){zt()?Je(e):Nn(e)}let p$=null,f$=null;function AC(e=null,t=null){p$=e,f$=t}function h9(){return{data:p$,clonedData:f$}}const NC=Symbol("cloneElement");function g9(...e){var t,n;const r=(t=zt())==null?void 0:t.proxy;let o=null;const i=e[0];let[,s,a]=e;Array.isArray(d(s))||(a=s,s=null);let l=null;const{immediate:c=!0,clone:u=d9,customUpdate:p}=(n=d(a))!=null?n:{};function h(C){var x;const{from:I,oldIndex:R,item:M}=C;o=Array.from(I.childNodes);const B=d((x=d(s))==null?void 0:x[R]),z=u(B);AC(B,z),M[NC]=z}function f(C){const x=C.item[NC];if(!$W(x)){if(xb(C.item),Ce(s)){const I=[...d(s)];s.value=wC(I,C.newDraggableIndex,x);return}wC(d(s),C.newDraggableIndex,x)}}function g(C){const{from:x,item:I,oldIndex:R,oldDraggableIndex:M,pullMode:B,clone:z}=C;if(_C(x,I,R),B==="clone"){xb(z);return}if(Ce(s)){const J=[...d(s)];s.value=xC(J,M);return}xC(d(s),M)}function m(C){if(p){p(C);return}const{from:x,item:I,oldIndex:R,oldDraggableIndex:M,newDraggableIndex:B}=C;if(xb(I),_C(x,I,R),Ce(s)){const z=[...d(s)];s.value=yC(z,M,B);return}yC(d(s),M,B)}function b(C){const{newIndex:x,oldIndex:I,from:R,to:M}=C;let B=null;const z=x===I&&R===M;try{if(z){let J=null;o?.some((q,K)=>{if(J&&o?.length!==M.childNodes.length)return R.insertBefore(J,q.nextSibling),!0;const X=M.childNodes[K];J=M?.replaceChild(q,X)})}}catch(J){B=J}finally{o=null}Nn(()=>{if(AC(),B)throw B})}const w={onUpdate:m,onStart:h,onAdd:f,onRemove:g,onEnd:b};function E(C){const x=d(i);return C||(C=RW(x)?AW(x,r?.$el):x),C&&!DW(C)&&(C=C.$el),C||TW("Root element not found"),C}function k(){var C;const x=(C=d(a))!=null?C:{},{immediate:I,clone:R}=x,M=X2(x,["immediate","clone"]);return kC(M,(B,z)=>{LW(B)&&(M[B]=(J,...q)=>{const K=h9();return VW(J,K),z(J,...q)})}),MW(s===null?{}:w,M)}const v=C=>{C=E(C),l&&_.destroy(),l=new Re(C,k())};st(()=>a,()=>{l&&kC(k(),(C,x)=>{l?.option(C,x)})},{deep:!0});const _={option:(C,x)=>l?.option(C,x),destroy:()=>{l?.destroy(),l=null},save:()=>l?.save(),toArray:()=>l?.toArray(),closest:(...C)=>l?.closest(...C)},T=()=>_?.option("disabled",!0),N=()=>_?.option("disabled",!1);return f9(()=>{c&&v()}),p9(_.destroy),lc({start:v,pause:T,resume:N},_)}const f0=["update","start","add","remove","choose","unchoose","end","sort","filter","clone","move","change"],m9=["clone","animation","ghostClass","group","sort","disabled","store","handle","draggable","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","chosenClass","dragClass","ignore","filter","preventOnFilter","easing","setData","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","emptyInsertThreshold","scroll","forceAutoScrollFallback","scrollSensitivity","scrollSpeed","bubbleScroll","modelValue","tag","target","customUpdate",...f0.map(e=>`on${e.replace(/^\S/,t=>t.toUpperCase())}`)],h$=P({name:"VueDraggable",model:{prop:"modelValue",event:"update:modelValue"},props:m9,emits:["update:modelValue",...f0],setup(e,{slots:t,emit:n,expose:r,attrs:o}){const i=f0.reduce((u,p)=>{const h=`on${p.replace(/^\S/,f=>f.toUpperCase())}`;return u[h]=(...f)=>n(p,...f),u},{}),s=A(()=>{const u=j1(e),{modelValue:p}=u,h=X2(u,["modelValue"]),f=Object.entries(h).reduce((g,[m,b])=>{const w=d(b);return w!==void 0&&(g[m]=w),g},{});return lc(lc({},i),PW(lc(lc({},o),f)))}),a=A({get:()=>e.modelValue,set:u=>n("update:modelValue",u)}),l=Q(),c=Tr(g9(e.target||l,a,s));return r(c),()=>{var u;return uo(e.tag||"div",{ref:l},(u=t?.default)==null?void 0:u.call(t,c))}}}),v9=(e,t)=>e.name?e.name:t?.meta?.name?t.meta.name:e.type.replace(/-/g," ").replace(/\b\w/g,n=>n.toUpperCase());function b9(){const e=dt(Qt),{engine:t,getBlockById:n}=dr(),r=e?.blockLabelFunction,o=s=>{const a=n(s);if(!a||!r)return"";const l=t.getBlockSchema(a.type);return r(a,l)},i=s=>{const a=n(s);if(!a)return"Unknown Block";const l=t.getBlockSchema(a.type);return v9(a,l)};return{getBlockLabel:o,getBlockSchemaName:i,getBlockLabelReactive:s=>A(()=>o(s)),getBlockSchemaNameReactive:s=>A(()=>i(s))}}const y9=["data-block-id"],x9=["data-block-id","data-selected"],w9={key:1,class:"w-5 h-full"},_9={class:"w-4 h-4 mr-1 flex items-center justify-center relative"},k9=["innerHTML"],C9={class:"flex-1 flex items-center gap-1 min-w-0"},E9={class:"shrink-0"},O9={key:0,class:"italic text-gray-500 truncate text-xs"},I9={class:"flex items-center gap-0.5"},T9=["title"],S9=["title"],P9={key:0,class:"ml-3 space-y-1"},$9={key:0,class:""},R9=P({__name:"BlockItem",props:{blockId:{},level:{},isDragging:{type:Boolean}},setup(e){const t=e,{t:n}=Dn(),r=Q(!1),{block:o,children:i,hasChildren:s,canHaveChildren:a,nextSibling:l,toggle:c,moveChild:u,schema:p}=q2(t.blockId),{isExpanded:h,toggleExpanded:f}=Nx(),{getBlockLabelReactive:g,getBlockSchemaNameReactive:m}=b9(),{selectedBlockId:b,selectBlock:w}=sa(),{open:E}=uu(),{engine:k,moveBlock:v,removeBlock:_,blocks:T}=dr(),N=A(()=>b.value===t.blockId),C=A(()=>h(t.blockId)),x=A(()=>o.value?.static===!0),I=A(()=>o.value?.repeated===!0),R=A(()=>o.value?.ghost===!0),M=m(t.blockId),B=g(t.blockId),z=A(()=>p.value?.meta?.icon),J=A(()=>!l.value||l.value.static!==!0);function q(je){const Ve=je.target,Qe={parentId:t.blockId,index:0};E({anchor:Ve,context:Qe})}function K(je){if(je.related&&je.related.classList.contains("is-static"))return!1;if(!je.drag||!je.target||!je.to)return!0;const Ve=je.dragged.getAttribute?.("data-block-id");if(!Ve)return!1;const Qe=T.value[Ve];if(!Qe)return!1;const Bn=je.to?.parentElement?.closest?.("[data-block-id]")?.getAttribute?.("data-block-id");if(!Bn)return!1;const tn=T.value[Bn];return tn?k.getBlocksManager().canBeChild(Qe.type,tn.type):!1}function X(je){const{oldIndex:Ve,newIndex:Qe,from:Bn,to:tn}=je;if(typeof Qe>"u")return;const nn=je.item?.getAttribute?.("data-block-id");if(!nn)return;const Xr=Bn===tn;if(Xr&&Ve===Qe)return;if(Xr){u(nn,Qe);return}const $o=tn?.parentElement?.closest?.("[data-block-id]")?.getAttribute?.("data-block-id");$o&&v(nn,{targetParentId:$o,targetIndex:Qe})}function de(je){return K(je)}function Ue(){_(t.blockId)}return(je,Ve)=>{const Qe=EW,Bn=_W,tn=yW,nn=mW,Xr=fW,$o=Dx,Ol=Lx,Ro=Mx,va=uW,ba=iS("BlockItem",!0),H=ev,U=HG;return d(o)?(y(),V("div",{key:0,class:Ne({"bg-gray-100":d(r),"is-static":d(x)}),"data-block-id":d(o).id},[S(va,{"block-id":d(o).id},{default:O(()=>[D("div",{"data-block-id":d(o).id,"data-selected":d(N)?"true":void 0,class:Ne(["flex items-center h-8 text-sm hover:bg-gray-50 data-selected:bg-accent/10 data-selected:border data-selected:border-accent/20 data-selected:hover:bg-accent/10 cursor-pointer rounded-md group transition-all duration-200",{"text-gray-700":!d(o).disabled&&!d(R),"text-gray-500":d(R)&&!d(o).disabled,"text-gray-400":d(o).disabled}]),onClick:Ve[3]||(Ve[3]=W=>d(w)(d(o).id))},[d(a)?(y(),V("button",{key:0,onClick:Ve[0]||(Ve[0]=It(()=>d(f)(t.blockId),["stop"])),class:"h-full mr-0.5 px-1 flex items-center justify-center hover:bg-gray-200 rounded cursor-pointer"},[S(Qe,{class:Ne(["w-3 h-3 transition-transform duration-200",{"rotate-90":d(C)}])},null,8,["class"])])):(y(),V("div",w9)),D("div",_9,[d(R)?(y(),$(Bn,{key:0,class:Ne([{"group-hover:opacity-0":d(x)},"w-4 h-4 transition-opacity text-gray-400"])},null,8,["class"])):d(I)?(y(),$(tn,{key:1,class:Ne([{"group-hover:opacity-0":d(x)},"w-4 h-4 transition-opacity"])},null,8,["class"])):d(z)?(y(),V("span",{key:2,innerHTML:d(z),class:Ne([{"group-hover:opacity-0":d(x)},"[&>svg]:w-4 [&>svg]:h-4 h-4 w-4 transition-opacity"])},null,10,k9)):(y(),$(nn,{key:3,class:Ne([{"group-hover:opacity-0":d(x)},"transition-opacity"])},null,8,["class"])),d(x)?(y(),$(Xr,{key:4,class:"w-4 h-4 absolute opacity-0 group-hover:opacity-100 transition-opacity text-gray-400"})):Z("",!0)]),D("div",C9,[D("span",E9,j(d(M)),1),d(B)?(y(),V("span",O9,"- "+j(d(B)),1)):Z("",!0)]),D("div",I9,[D("button",{onClick:Ve[1]||(Ve[1]=It(()=>d(c)(),["stop"])),class:Ne(["p-1 hover:bg-gray-200 rounded text-gray-500 hover:text-gray-700 transition-colors",{"opacity-100":d(o).disabled,"opacity-0 group-hover:opacity-100":!d(o).disabled}]),title:d(o).disabled?d(n)("block.show"):d(n)("block.hide")},[d(o).disabled?(y(),$($o,{key:0,class:"w-4 h-4"})):(y(),$(Ol,{key:1,class:"w-4 h-4"}))],10,T9),d(x)?Z("",!0):(y(),V("button",{key:0,onClick:Ve[2]||(Ve[2]=It(()=>Ue(),["stop"])),class:"p-1 hover:bg-red-100 rounded text-gray-500 hover:text-red-600 transition-colors opacity-0 group-hover:opacity-100",title:d(n)("block.remove")},[S(Ro,{class:"w-4 h-4"})],8,S9))])],10,x9)]),_:1},8,["block-id"]),d(a)&&d(C)?(y(),V("div",P9,[S(d(h$),{"model-value":d(o).children,animation:200,group:{name:"blocks",pull:!0,put:K},"ghost-class":"ghost-block","chosen-class":"chosen-block","drag-class":"drag-block",filter:".is-static",onEnd:X,onMove:de},{default:O(()=>[(y(!0),V(ge,null,Ie(d(i),W=>(y(),$(ba,{key:W.id,"block-id":W.id,level:je.level+1},null,8,["block-id","level"]))),128))]),_:1},8,["model-value","group"]),d(s)?Z("",!0):(y(),V("div",$9,[D("button",{onClick:Ve[4]||(Ve[4]=W=>q(W)),class:"flex items-center gap-1.5 w-full p-1.5 text-xs text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded transition-colors"},[S(H,{class:"w-3 h-3"}),D("span",null,j(d(n)("layers.addBlockToBlock")),1)])]))])):Z("",!0),d(J)?(y(),$(U,{key:`add-block-${d(o).id}`,"block-id":d(o).id,onMouseenter:Ve[5]||(Ve[5]=W=>r.value=!0),onMouseleave:Ve[6]||(Ve[6]=W=>r.value=!1)},null,8,["block-id"])):Z("",!0)],10,y9)):Z("",!0)}}}),nv=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},A9={},N9={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"w-4 h-4"};function M9(e,t){return y(),V("svg",N9,[...t[0]||(t[0]=[D("path",{fill:"currentColor",d:"M4 2a2 2 0 0 0-2 2v10h2V4h10V2zm4 4a2 2 0 0 0-2 2v10h2V8h10V6zm12 6v8h-8v-8zm0-2h-8a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2m-1 7h-6v-2h6z"},null,-1)])])}const D9=nv(A9,[["render",M9]]),Vu={small:640,medium:768,large:1024,extraLarge:1280,extraExtraLarge:1536};function g$(){const e=Q(0),t=()=>{e.value=window.innerWidth},n=A(()=>e.value>=Vu.small),r=A(()=>e.value>=Vu.medium),o=A(()=>e.value>=Vu.large),i=A(()=>e.value>=Vu.extraLarge),s=A(()=>e.value>=Vu.extraExtraLarge);return Je(()=>{t(),window.addEventListener("resize",t)}),Sr(()=>{window.removeEventListener("resize",t)}),{width:e,isSmall:n,isMedium:r,isLarge:o,isExtraLarge:i,isExtraExtraLarge:s}}const L9={class:"h-full flex flex-col overflow-y-hidden relative"},V9={class:"flex-none h-12 flex items-center border-b px-4"},F9={class:"flex-1 overflow-y-auto"},B9={class:"flex items-center justify-between"},H9={class:"text-sm capitalize"},z9=["title","onClick"],U9={class:"my-2"},j9={key:0,class:"flex items-center justify-center py-2"},G9=["onClick"],W9={key:0,class:"absolute inset-0 z-10"},q9=P({__name:"LayersPanel",setup(e){const{t}=Dn(),{regions:n,moveBlock:r}=dr(),{collapseRegion:o,expandAncestors:i}=Nx(),{open:s}=uu(),a=j2(),{isExtraExtraLarge:l}=g$(),{hasSelection:c}=sa();a.on("ui:block:select",g=>{i(g.blockId),Nn(()=>{const m=document.querySelector(`[data-block-id="${g.blockId}"]`);m&&m.scrollIntoView({behavior:"smooth",block:"nearest"})})});const u=A(()=>Array.isArray(n.value)?n.value:[]);function p(g,m){const{oldIndex:b,newIndex:w}=g;if(typeof w>"u"||b===w)return;const E=u.value.find(v=>ut(v)===m);if(!E)return;const k=E.blocks[b];k&&r(k,{targetRegionId:m,targetIndex:w})}function h(g){if(g.related&&g.related.classList.contains("is-static"))return!1}function f(g,m){const b=g.target;s({anchor:b,context:{regionId:m,index:0}})}return(g,m)=>{const b=R9,w=ev,E=W2;return y(),V("div",L9,[D("div",V9,[D("h2",null,j(d(t)("layers.header")),1)]),D("div",F9,[(y(!0),V(ge,null,Ie(d(u),k=>(y(),V("div",{key:d(ut)(k),class:"not-last:border-b px-4 mt-2"},[D("div",B9,[D("h3",H9,j(k.name),1),k.blocks.length>0?(y(),V("button",{key:0,class:"p-1 hover:bg-gray-200 rounded text-gray-500 hover:text-gray-700 transition-colors",title:d(t)("layers.collapseAll"),onClick:v=>d(o)(d(ut)(k))},[S(D9,{class:"w-4 h-4"})],8,z9)):Z("",!0)]),D("div",U9,[S(d(h$),{"model-value":k.blocks,animation:200,"ghost-class":"ghost-block","chosen-class":"chosen-block","drag-class":"drag-block",filter:".is-static",onEnd:v=>p(v,d(ut)(k)),onMove:h},{default:O(()=>[(y(!0),V(ge,null,Ie(k.blocks,v=>(y(),$(b,{key:v,"block-id":v,level:0},null,8,["block-id"]))),128))]),_:2},1032,["model-value","onEnd"]),k.blocks.length===0?(y(),V("div",j9,[D("button",{onClick:v=>f(v,d(ut)(k)),class:"flex w-full items-center gap-2 px-2 py-1 text-sm text-accent/90 hover:text-accent hover:bg-accent-foreground rounded-lg transition-colors cursor-pointer"},[S(w,{class:"w-4 h-4"}),re(" "+j(d(t)("layers.addBlockToRegion")),1)],8,G9)])):Z("",!0)])]))),128))]),d(c)&&!d(l)?(y(),V("div",W9,[S(E,{"is-overlay":""})])):Z("",!0)])}}}),K9={class:"h-full w-75 border-r flex-none relative"},Y9=P({__name:"Panels",setup(e){const t=dt(Qt),{activeSidebarPanel:n,sidebarPanels:r}=Yi(),o=A(()=>r.value.find(i=>i.id===n.value));return(i,s)=>{const a=q9,l=Gp;return y(),V("aside",K9,[d(n)==="layers"?(y(),$(a,{key:0,class:"h-full"})):d(o)?(y(),V(ge,{key:1},[d(qo)(d(o).render)||d(Pi)(d(o).render)?(y(),$(Xn(d(o).render),{key:0,editor:d(t),class:"h-full"},null,8,["editor"])):d($i)(d(o).render)?(y(),$(l,{key:1,"render-fn":d(o).render,class:"h-full"},null,8,["render-fn"])):Z("",!0)],64)):Z("",!0)])}}}),X9={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function J9(e,t){return y(),V("svg",X9,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M6.429 9.75L2.25 12l4.179 2.25m0-4.5l5.571 3l5.571-3m-11.142 0L2.25 7.5L12 2.25l9.75 5.25l-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0l4.179 2.25L12 21.75L2.25 16.5l4.179-2.25m11.142 0l-5.571 3l-5.571-3"},null,-1)])])}const Z9=fe({name:"heroicons-square3-stack3d",render:J9}),Q9={class:"h-full w-14 border-r bg-white"},eq={class:"flex flex-col gap-1 p-1.5"},tq=["title"],nq=["onClick","title"],rq={key:2},oq=P({__name:"Sidebar",setup(e){const{t}=Dn(),{activeSidebarPanel:n,setActiveSidebarPanel:r,sidebarPanels:o}=Yi(),i=dt(Qt);return(s,a)=>{const l=Z9,c=Gp;return y(),V("div",Q9,[D("div",eq,[D("button",{onClick:a[0]||(a[0]=u=>d(r)("layers")),class:Ne(["aspect-square flex items-center justify-center rounded-md cursor-pointer transition-colors",d(n)==="layers"?"bg-accent-foreground text-accent":"hover:bg-gray-100 text-gray-700"]),title:d(t)("layers.title")},[S(l,{class:"w-5"})],10,tq),(y(!0),V(ge,null,Ie(d(o),u=>(y(),V("button",{key:"panel-icon-"+u.id,onClick:p=>d(r)(u.id),class:Ne(["aspect-square flex items-center justify-center rounded-md cursor-pointer transition-colors text-sm font-medium",d(n)===u.id?"bg-accent-foreground text-accent":"hover:bg-gray-100 text-gray-700"]),title:u.title},[u.icon&&(d(qo)(u.icon)||d(Pi)(u.icon))?(y(),$(Xn(u.icon),{key:0,editor:d(i),class:"w-5 h-5"},null,8,["editor"])):u.icon&&d($i)(u.icon)?(y(),$(c,{key:1,"render-fn":u.icon,class:"w-5 h-5"},null,8,["render-fn"])):(y(),V("span",rq,j(u.title.charAt(0).toUpperCase()),1))],10,nq))),128))])])}}}),iq=P({__name:"HeaderActionRenderer",props:{action:{}},setup(e){const t=e,n=dt(Qt),r=Q(!1),o=()=>{r.value=!r.value},i=s=>{t.action.button&&t.action.button.onClick(s,{toggleLoading:o,editor:n})};return(s,a)=>{const l=Vt,c=Gp;return y(),$(JT,null,[s.action.button?(y(),$(l,{key:0,variant:s.action.button.variant||"default",loading:d(r),onClick:i},{default:O(()=>[re(j(s.action.button.text),1)]),_:1},8,["variant","loading"])):d(qo)(s.action.render)||d(Pi)(s.action.render)?(y(),$(Xn(s.action.render),{key:1,editor:d(n)},null,8,["editor"])):d($i)(s.action.render)?(y(),$(c,{key:2,"render-fn":s.action.render},null,8,["render-fn"])):Z("",!0)],1024)}}}),sq={class:"h-14 flex items-center justify-between relative z-50 px-4 border-b bg-white"},aq={class:"flex items-center gap-2"},lq={class:"flex items-center gap-2"},cq={class:"flex items-center gap-2"},uq=P({__name:"Header",setup(e){const{headerActions:t}=Yi(),n=A(()=>t.value.filter(i=>i.slot==="left")),r=A(()=>t.value.filter(i=>i.slot==="center")),o=A(()=>t.value.filter(i=>i.slot==="right"));return(i,s)=>{const a=iq;return y(),V("header",sq,[D("div",aq,[(y(!0),V(ge,null,Ie(d(n),l=>(y(),$(a,{key:l.id,action:l},null,8,["action"]))),128))]),D("div",lq,[(y(!0),V(ge,null,Ie(d(r),l=>(y(),$(a,{key:l.id,action:l},null,8,["action"]))),128))]),D("div",cq,[(y(!0),V(ge,null,Ie(d(o),l=>(y(),$(a,{key:l.id,action:l},null,8,["action"]))),128))])])}}}),dq={class:"h-full w-full flex flex-col overflow-hidden"},pq={class:"flex-1 flex overflow-hidden relative"},fq={class:"flex-1 p-3 bg-gray-100 overflow-auto preview-container flex justify-center"},hq={key:0,class:"h-full flex-none overflow-y-hidden w-75 border-l"},gq=P({__name:"Editor",setup(e){const{isExtraExtraLarge:t}=g$(),{keyboardShortcuts:n}=Yi(),r=dt(Qt),o=i=>{const s=[i.ctrlKey&&"ctrl",i.metaKey&&"meta",i.shiftKey&&"shift",i.altKey&&"alt",i.key.toLowerCase()].filter(Boolean).join("+"),a=n.value.get(s);a&&(i.preventDefault(),i.stopPropagation(),a.handler({editor:r}))};return(i,s)=>{const a=uq,l=oq,c=Y9,u=BG,p=W2,h=Pj,f=ej,g=jU;return y(),V("div",{class:"__craftile",style:{height:"100%",width:"100%"},tabindex:"0",onKeydown:o},[D("div",dq,[S(a),D("main",pq,[S(l),S(c),D("div",fq,[S(u)]),d(t)?(y(),V("aside",hq,[S(p)])):Z("",!0)])]),S(h),S(f),S(g)],32)}}});let mq=class{events;state;toaster;constructor(t){this.events=t,this.state=Tr({activeSidebarPanel:"layers",sidebarPanels:new Map,headerActions:new Map,configurationPanels:new Map,modals:new Map,openModals:[],keyboardShortcuts:new Map,propertyFields:new Map,selectedBlockId:null,layersPanel:{expandedBlocks:new Set},clipboard:{copiedBlock:null}}),this.toaster=AU({placement:"bottom",overlap:!0,gap:16})}generateId(t){return t+"-"+(Date.now().toString(36)+Math.random().toString(36).substr(2))}setSelectedBlock(t){const n=this.state.selectedBlockId;this.state.selectedBlockId=t,t!==null&&t!==n&&this.events.emit("ui:block:select",{blockId:t})}clearSelectedBlock(){this.state.selectedBlockId&&(this.state.selectedBlockId=null,this.events.emit("ui:block:clear-selection",{blockId:null}))}toast(t){typeof t=="string"?this.toaster.create({description:t,type:"info"}):this.toaster.create(t)}registerSidebarPanel(t){const n={...t,id:t.id||this.generateId("sidebar-panel"),render:typeof t.render=="object"?fe(t.render):t.render,icon:t.icon&&typeof t.icon=="object"?fe(t.icon):t.icon};this.state.sidebarPanels.set(n.id,n)}removeSidebarPanel(t){this.state.sidebarPanels.delete(t)}registerHeaderAction(t){if(!t.render&&!t.button)throw new Error("HeaderAction must have either a render or button configuration");if(t.render&&t.button)throw new Error("HeaderAction cannot have both render and button configurations");const n={...t,id:t.id||this.generateId("header-action"),render:typeof t.render=="object"?fe(t.render):t.render};this.state.headerActions.set(n.id,n)}removeHeaderAction(t){this.state.headerActions.delete(t)}registerConfigurationPanel(t){const n={...t,id:t.id||this.generateId("config-panel"),render:typeof t.render=="object"?fe(t.render):t.render,icon:t.icon&&typeof t.icon=="object"?fe(t.icon):t.icon};this.state.configurationPanels.set(n.id,n)}removeConfigurationPanel(t){this.state.configurationPanels.delete(t)}registerPropertyField(t){const n={...t,render:typeof t.render=="object"?fe(t.render):t.render};this.state.propertyFields.set(t.type,n)}removePropertyField(t){this.state.propertyFields.delete(t)}registerModal(t){const n={...t,id:t.id||this.generateId("modal"),render:typeof t.render=="object"?fe(t.render):t.render};this.state.modals.set(n.id,n)}unregisterModal(t){this.state.modals.delete(t),this.closeModal(t)}openModal(t){this.state.openModals.includes(t)||(this.state.openModals.push(t),this.events.emit("ui:modal:open",{modalId:t}))}closeModal(t){const n=this.state.openModals.indexOf(t);n>=0&&(this.state.openModals.splice(n,1),this.events.emit("ui:modal:close",{modalId:t}))}registerKeyboardShortcut(t){this.state.keyboardShortcuts.set(t.key,t)}removeKeyboardShortcut(t){this.state.keyboardShortcuts.delete(t)}copyBlock(t){this.state.clipboard.copiedBlock=t,this.events.emit("ui:clipboard:copy",{block:t})}getCopiedBlock(){return this.state.clipboard.copiedBlock}clearClipboard(){this.state.clipboard.copiedBlock=null,this.events.emit("ui:clipboard:clear",{})}};const vq={class:"text-xs whitespace-nowrap capitalize max-w-[120px] overflow-hidden text-ellipsis"},bq={class:"flex items-center justify-between px-4 py-3 border-b border-solid"},yq={class:"text-sm font-semibold text-gray-900 m-0"},xq={class:"rounded cursor-pointer text-gray-500 transition-all duration-200 flex items-center justify-center p-1 hover:text-gray-700"},wq={class:"flex flex-col gap-1 p-2"},_q=["onClick"],kq={class:"text-xs ml-auto"},Cq={class:"px-4 py-3 border-t"},Eq={class:"text-[13px] font-semibold text-gray-700 mt-0 mb-3 mx-0"},Oq={class:"flex flex-wrap gap-2"},Iq={class:"flex-1"},Tq={for:"custom-width",class:"block text-xs text-gray-500 mb-1"},Sq={class:"mt-4"},Pq={class:"flex flex-col gap-1 mt-2"},$q=["onClick"],Rq={class:"flex-1"},Aq=["onClick"],Nq={inheritAttrs:!1},Mq=P({...Nq,__name:"DeviceModeSwitcher",setup(e){const{t}=Dn(),{currentDevice:n,currentDeviceData:r,devicePresets:o,savedCustomDevices:i,setDeviceMode:s,addCustomDevice:a,removeCustomDevice:l}=Xm(),c=Q(!1),u=Q(768),p={desktop:mg,tablet:Zy,mobile:l2},h=w=>p[w||"desktop"]||mg,f=()=>h(r.value.icon),g=w=>{s(w),c.value=!1},m=()=>{const w=`custom-${u.value}`;a({id:w,label:`${t("common.custom")} ${u.value}px`,width:u.value}),s(w),c.value=!1},b=w=>{l(w)};return(w,E)=>{const k=Ax,v=Vt,_=Sx,T=Zy;return y(),$(d(_i).Root,{open:d(c),"onUpdate:open":E[1]||(E[1]=N=>Ce(c)?c.value=N:null),positioning:{placement:"top-end",gutter:0}},{default:O(()=>[S(d(_i).Trigger,{"as-child":""},{default:O(()=>[S(v,{class:"gap-1"},{default:O(()=>[(y(),$(Xn(f()),{class:"device-icon"})),D("span",vq,j(d(r).label),1),S(d(_i).Indicator,{"as-child":""},{default:O(()=>[S(k,{class:"w-3.5 h-3.5 transition-transform duration-200 data-[state=open]:rotate-180"})]),_:1})]),_:1})]),_:1}),S(d(_i).Positioner,null,{default:O(()=>[S(d(_i).Content,{class:"w-72 border shadow-xs overflow-hidden mt-1 rounded-lg bg-white"},{default:O(()=>[D("div",bq,[D("h4",yq,j(d(t)("header.devicePreview")),1),S(d(_i).CloseTrigger,{"as-child":""},{default:O(()=>[D("button",xq,[S(_,{class:"w-4 h-4"})])]),_:1})]),D("div",wq,[(y(!0),V(ge,null,Ie(d(o),N=>(y(),V("button",{key:N.id,class:Ne(["flex items-center gap-2 cursor-pointer text-left text-sm text-gray-700 transition-[background] duration-[0.2s] px-3 py-2.5 rounded-md border-[none]",{"text-accent! bg-accent/8":d(n)===N.id}]),onClick:C=>g(N.id)},[(y(),$(Xn(h(N.icon)),{class:"w-5 h-5"})),D("span",null,j(N.label),1),D("span",kq,j(N.width===0?d(t)("header.auto"):N.width+"px"),1)],10,_q))),128))]),D("div",Cq,[D("h5",Eq,j(d(t)("header.customDeviceSize")),1),D("div",Oq,[D("div",Iq,[D("label",Tq,j(d(t)("header.deviceWidthPx")),1),yo(D("input",{"onUpdate:modelValue":E[0]||(E[0]=N=>Ce(u)?u.value=N:null),type:"number",id:"custom-width",min:"320",max:"2560",class:"w-full border rounded text-sm px-3 py-2"},null,512),[[Zo,d(u)]])]),D("button",{class:"w-full text-accent-foreground bg-accent rounded text-[13px] font-medium cursor-pointer transition-[background] duration-[0.2s] mt-2 p-2 border-[none]",onClick:m},j(d(t)("header.apply")),1)]),D("div",Sq,[D("h5",null,j(d(t)("header.savedCustomDevices")),1),D("div",Pq,[(y(!0),V(ge,null,Ie(d(i),(N,C)=>(y(),V("div",{key:C,role:"button",class:Ne(["flex items-center gap-2 rounded text-left text-sm text-gray-700 px-3 py-2 cursor-pointer",{"text-accent! bg-accent/8":d(n)===`custom-${N.width}`}]),onClick:x=>g(`custom-${N.width}`)},[S(T,{class:"w-5 h-5 flex-none"}),D("span",Rq,j(N.width)+"px",1),D("button",{class:"flex-none rounded cursor-pointer text-gray-500 flex items-center justify-center transition-all duration-[0.2s] p-1 border-[none] hover:text-red-600",onClick:It(x=>b(N.id),["stop"])},[S(_)],8,Aq)],10,$q))),128))])])])]),_:1})]),_:1})]),_:1},8,["open"])}}}),Dq={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Lq(e,t){return y(),V("svg",Dq,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"},null,-1)])])}const Vq=fe({name:"heroicons-arrow-left",render:Lq}),Fq={};function Bq(e,t){const n=Vq,r=Vt;return y(),$(r,{square:"",title:"Back"},{default:O(()=>[S(n)]),_:1})}const Hq=nv(Fq,[["render",Bq]]),zq=P({__name:"RedoButton",setup(e){const{t}=Dn(),{redo:n,canRedo:r}=dr(),o=()=>{n()};return(i,s)=>{const a=c2,l=Vt;return y(),$(l,{square:"",disabled:!d(r),onClick:o,title:d(t)("header.redo")},{default:O(()=>[S(a)]),_:1},8,["disabled","title"])}}}),Uq={},jq={class:"text-xl"};function Gq(e,t){return y(),V("h1",jq,"Craftile Editor")}const Wq=nv(Uq,[["render",Gq]]),qq={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Kq(e,t){return y(),V("svg",qq,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 0 1 0 12h-3"},null,-1)])])}const Yq=fe({name:"heroicons-arrow-uturn-left",render:Kq}),Xq=P({__name:"UndoButton",setup(e){const{t}=Dn(),{undo:n,canUndo:r}=dr(),o=()=>{n()};return(i,s)=>{const a=Yq,l=Vt;return y(),$(l,{square:"",disabled:!d(r),onClick:o,title:d(t)("header.undo")},{default:O(()=>[S(a)]),_:1},8,["disabled","title"])}}}),Jq={},Zq={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"};function Qq(e,t){return y(),V("svg",Zq,[...t[0]||(t[0]=[D("g",{fill:"none"},[D("path",{d:"m12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.036q-.016-.004-.024.006l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.016-.018m.264-.113l-.014.002l-.184.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.003-.011l.018-.43l-.003-.012l-.01-.01z"}),D("path",{fill:"currentColor",d:"M10.611 10.611a1 1 0 0 1 1.11-.208l8.839 3.889a1 1 0 0 1-.14 1.88l-3.338.91l-.91 3.338a1 1 0 0 1-1.88.14l-3.89-8.84a1 1 0 0 1 .209-1.109M17 3a3 3 0 0 1 3 3v3a1 1 0 1 1-2 0V6a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h3a1 1 0 1 1 0 2H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3zm-3.73 10.269l1.715 3.9l.318-1.164a1 1 0 0 1 .701-.702l1.165-.318l-3.9-1.716Z"})],-1)])])}const eK=nv(Jq,[["render",Qq]]),tK=P({__name:"ToggleInspector",setup(e){const{t}=Dn(),{isEnabled:n,toggle:r}=Qm();return(o,i)=>{const s=eK,a=Vt;return y(),$(a,{onClick:d(r),variant:d(n)?"sutble":"default",square:"",title:d(n)?d(t)("header.disableInspector"):d(t)("header.enableInspector")},{default:O(()=>[S(s,{class:"w-4 h-4"})]),_:1},8,["onClick","variant","title"])}}});function nK(e){e.registerHeaderAction({id:"back-button",slot:"left",render:Hq,order:-20}),e.registerHeaderAction({id:"title",slot:"left",render:Wq,order:-10}),e.registerHeaderAction({id:"device-mode",slot:"right",render:Mq,order:-40}),e.registerHeaderAction({id:"inspection-mode",slot:"right",render:tK,order:-30}),e.registerHeaderAction({id:"undo",slot:"right",render:Xq,order:-20}),e.registerHeaderAction({id:"redo",slot:"right",render:zq,order:-10})}const MC=({editor:e})=>{const t=e.engine;t&&t.canUndo()&&t.undo()},Pb=({editor:e})=>{const t=e.engine;t&&t.canRedo()&&t.redo()};function rK(e){e.registerKeyboardShortcut({key:"ctrl+z",handler:MC}),e.registerKeyboardShortcut({key:"meta+z",handler:MC}),e.registerKeyboardShortcut({key:"ctrl+y",handler:Pb}),e.registerKeyboardShortcut({key:"ctrl+shift+z",handler:Pb}),e.registerKeyboardShortcut({key:"meta+shift+z",handler:Pb})}class oK{state;devicePresets;constructor(t={}){const n={id:"fit",label:"Auto",width:0,icon:"desktop"},r=t.presets?.filter(s=>s.id!=="fit");r&&r.length>0?this.devicePresets=[n,...r]:this.devicePresets=[n,{id:"desktop",label:"Desktop",width:1440,icon:"desktop"},{id:"laptop",label:"Laptop",width:1024,icon:"desktop"},{id:"tablet",label:"Tablet",width:768,icon:"tablet"},{id:"mobile",label:"Mobile",width:375,icon:"mobile"},{id:"mobile-sm",label:"Small Mobile",width:320,icon:"mobile"}];const o=t.default||"fit",i=this.devicePresets.some(s=>s.id===o);this.state=Tr({currentDevice:i?o:"fit",savedCustomDevices:[]})}getCurrentDeviceData(){const t=this.devicePresets.find(r=>r.id===this.state.currentDevice);return t||this.state.savedCustomDevices.find(r=>r.id===this.state.currentDevice)||this.devicePresets[0]}setDeviceMode(t){this.state.currentDevice=t}addCustomDevice(t){this.state.savedCustomDevices.push(t)}removeCustomDevice(t){const n=this.state.savedCustomDevices.findIndex(r=>r.id===t);n>-1&&this.state.savedCustomDevices.splice(n,1),this.state.currentDevice===t&&(this.state.currentDevice="fit")}getAllDevices(){return[...this.devicePresets,...this.state.savedCustomDevices]}}const iK={key:0},sK={class:"text-sm font-medium text-gray-700 capitalize"},aK={class:"p-3"},lK={key:1,class:"p-4"},cK={key:1,class:"text-center py-8"},uK={class:"text-sm text-gray-500"},dK=P({__name:"PropertiesPanel",setup(e){const{t}=Dn(),{selectedBlock:n}=sa(),{engine:r,setBlockProperty:o}=dr(),{currentDevice:i}=Xm(),s=A(()=>{if(!n.value)return[];const h=r.getBlockSchema(n.value.type);if(!h||!h.properties)return[];const f=i.value==="fit"?"_default":i.value;return h.properties.filter(g=>g.visibleIf?wh(g.visibleIf,n.value?.properties||{},f):!0)}),a=A(()=>s.value.some(h=>h.group)),l=A(()=>{if(!a.value)return[];const h=new Map;return s.value.forEach(f=>{const g=f.group||"default",m=f.group||t("common.default");h.has(g)||h.set(g,{id:g,label:m,fields:[]}),h.get(g).fields.push(f)}),Array.from(h.values())}),c=A(()=>l.value.length===0?[]:[l.value[0].id]),u=h=>n.value?.properties?.[h];function p(h,f){if(!n.value)return;const g=m=>{const b=He(m);return Array.isArray(b)?b.map(g):b&&typeof b=="object"&&b.constructor===Object?Object.fromEntries(Object.entries(b).map(([w,E])=>[w,g(E)])):b};o(n.value.id,h,g(f))}return(h,f)=>{const g=Ax,m=ws;return d(n)?(y(),V("div",iK,[d(s).length>0?(y(),V(ge,{key:0},[d(a)?(y(),$(d(Ho).Root,{key:0,class:"w-full","default-value":d(c),multiple:""},{default:O(()=>[(y(!0),V(ge,null,Ie(d(l),b=>(y(),$(d(Ho).Item,{key:b.id,value:b.id,class:"border-b border-gray-100"},{default:O(()=>[S(d(Ho).ItemTrigger,{class:"flex w-full items-center justify-between p-3 text-left hover:bg-gray-50 transition-colors"},{default:O(()=>[D("span",sK,j(b.label),1),S(d(Ho).ItemIndicator,{class:"transition-transform duration-200 data-[state=open]:rotate-180"},{default:O(()=>[S(g,{class:"w-4 h-4 text-gray-500"})]),_:1})]),_:2},1024),S(d(Ho).ItemContent,{class:"overflow-hidden"},{default:O(()=>[D("div",aK,[S(Fy,{name:"property-field",tag:"div",class:"space-y-4"},{default:O(()=>[(y(!0),V(ge,null,Ie(b.fields,w=>(y(),$(m,{key:w.id,field:w,"model-value":u(w.id),"onUpdate:modelValue":E=>p(w.id,E)},null,8,["field","model-value","onUpdate:modelValue"]))),128))]),_:2},1024)])]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["default-value"])):(y(),V("div",lK,[S(Fy,{name:"property-field",tag:"div",class:"space-y-4"},{default:O(()=>[(y(!0),V(ge,null,Ie(d(s),b=>(y(),$(m,{key:b.id,field:b,"model-value":u(b.id),"onUpdate:modelValue":w=>p(b.id,w)},null,8,["field","model-value","onUpdate:modelValue"]))),128))]),_:1})]))],64)):(y(),V("div",cK,[D("p",uK,j(d(t)("configPanels.noProperties")),1)]))])):Z("",!0)}}});function pK(e){e.registerConfigurationPanel({id:"properties",title:"Properties",render:dK,order:-10})}class fK{editor;plugins=new Set;constructor(t){this.editor=t}setupPlugins(t){this.plugins.forEach(n=>{n({vueApp:t,editor:this.editor})})}register(t){return this.plugins.add(t),this}unregister(t){return this.plugins.delete(t),this}getAllPlugins(){return Array.from(this.plugins.values())}}class hK{handlers=new Map;targetWindow;targetOrigin;fallbackHandler;constructor(t,n="*"){this.targetWindow=t,this.targetOrigin=n,window.addEventListener("message",this.handleMessage.bind(this))}handleMessage(t){const n=t.data;if(!n.type)return;const r=this.handlers.get(n.type);r?r.forEach(o=>o(n.payload,t)):this.fallbackHandler&&this.fallbackHandler(t.data,t)}send(t,n){const r={type:t,payload:n};this.targetWindow.postMessage(r,this.targetOrigin)}listen(t,n){return this.handlers.has(t)||this.handlers.set(t,[]),this.handlers.get(t).push(n),()=>{const r=this.handlers.get(t);if(r){const o=r.indexOf(n);o>-1&&r.splice(o,1)}}}registerFallbackHandler(t){this.fallbackHandler=t}}function gK(e,t="*"){return new hK(e.contentWindow,t)}class mK{state;messenger;readyListenerInitialized=!1;readyCallbacks=[];constructor(){this.state=Tr({previewUrl:"about:blank",previewFrame:null,isIframeReady:!1,messageQueue:[]})}loadUrl(t){this.state.previewUrl=t}loadFromHtml(t){const n=new Blob([t],{type:"text/html"}),r=URL.createObjectURL(n);this.state.previewUrl=r,setTimeout(()=>URL.revokeObjectURL(r),1e3)}reload(){this.state.previewFrame&&this.state.previewFrame.contentWindow?.location.reload()}getFrame(){return this.state.previewFrame}_registerFrame(t){this.state.previewFrame=t,this.messenger=gK(t),this.readyListenerInitialized||(this.messenger.listen("craftile.preview.ready",()=>{this.state.isIframeReady=!0,this.runReadyCallbacks(),this.flushMessageQueue()}),this.readyListenerInitialized=!0)}sendMessage(t,n){this.state.isIframeReady?this.messenger.send(t,n):this.state.messageQueue.push({type:t,payload:n})}onMessage(t,n){return this.messenger.listen(t,n)}onReady(t){this.readyCallbacks.push(t)}runReadyCallbacks(){this.readyCallbacks.forEach(t=>t.call(this)),this.readyCallbacks=[]}flushMessageQueue(){if(this.state.isIframeReady&&this.state.previewFrame?.contentWindow)for(;this.state.messageQueue.length>0;){const t=this.state.messageQueue.shift();this.messenger.send(t.type,t.payload)}}}function vK(e,t){const n={added:new Set,updated:new Set,removed:new Set,moved:new Map,blocksToInclude:new Set};let r=null;const o=[],i=()=>{if(n.added.size||n.updated.size||n.removed.size||n.moved.size){const l=e.getPage();Array.from(n.blocksToInclude).forEach(u=>{let p=l.blocks[u];for(;p;){if(p.repeated&&p.parentId){n.blocksToInclude.add(p.parentId);break}p=p.parentId?l.blocks[p.parentId]:void 0}});const c={};n.blocksToInclude.forEach(u=>{l.blocks[u]&&(c[u]=structuredClone(l.blocks[u]))}),t?.onUpdates({blocks:c,regions:structuredClone(l.regions),changes:{added:Array.from(n.added),updated:Array.from(n.updated),removed:Array.from(n.removed),moved:Object.fromEntries(n.moved)}}),n.added.clear(),n.updated.clear(),n.removed.clear(),n.moved.clear(),n.blocksToInclude.clear()}},s=()=>{r&&clearTimeout(r),r=setTimeout(i,t?.debounceMs||0)},a=(l,c)=>{c.add(l);const u=e.getPage().blocks[l];u?.children&&u.children.forEach(p=>{a(p,c)})};return o.push(e.on("block:insert",({blockId:l,parentId:c})=>{n.added.add(l),a(l,n.blocksToInclude),c&&n.blocksToInclude.add(c),s()})),o.push(e.on("block:remove",({blockId:l,parentId:c})=>{n.added.delete(l),n.updated.delete(l),n.removed.add(l),n.blocksToInclude.delete(l),c&&n.blocksToInclude.add(c),s()})),o.push(e.on("block:property:set",({blockId:l})=>{n.added.has(l)||n.updated.add(l),n.blocksToInclude.add(l),s()})),o.push(e.on("block:move",({blockId:l,sourceParentId:c,targetParentId:u,targetIndex:p,targetRegionId:h})=>{n.moved.set(l,{toRegion:h,toParent:u,toIndex:p??0}),n.blocksToInclude.add(l),c&&n.blocksToInclude.add(c),u&&n.blocksToInclude.add(u),s()})),o.push(e.on("block:toggle",({blockId:l})=>{n.added.has(l)||n.updated.add(l),n.blocksToInclude.add(l);const c=e.getPage().blocks[l];c?.parentId&&n.blocksToInclude.add(c.parentId),s()})),o.push(e.on("block:duplicate",({newBlockId:l,parentId:c})=>{n.added.add(l),a(l,n.blocksToInclude),c&&n.blocksToInclude.add(c),s()})),o.push(e.on("block:update",({blockId:l})=>{n.added.has(l)||n.updated.add(l),n.blocksToInclude.add(l),s()})),()=>{r&&clearTimeout(r),o.forEach(l=>l())}}class bK{state;events;preview;ui;engine;constructor(t,n,r,o){this.events=t,this.preview=n,this.ui=r,this.engine=o,this.state=Tr({enabled:!0,hoveredBlockId:null,hoveredBlockRect:null,hoveredParentRect:null,parentFlexDirection:"column",selectedBlockId:null,selectedBlockRect:null,iframeRect:null}),this.preview.onReady(()=>{this.preview.onMessage("craftile.preview.block-hover",i=>{this.setHoveredBlock(i.blockId,i.blockRect,i.parentRect),this.state.parentFlexDirection=i.parentFlexDirection}),this.preview.onMessage("craftile.preview.block-select",i=>{this.setSelectedBlock(i.blockId,i.blockRect),this.ui.setSelectedBlock(i.blockId)}),this.preview.onMessage("craftile.preview.update-selected-block",i=>{this.state.selectedBlockId&&this.setSelectedBlock(i.blockId,i.blockRect)}),this.preview.onMessage("craftile.preview.block-leave",()=>{this.clearHoveredBlock()})}),this.events.on("ui:block:select",i=>{this.engine.getPage().blocks[i.blockId]?.ghost!==!0&&this.preview.sendMessage("craftile.editor.select-block",{blockId:i.blockId})}),this.events.on("ui:block:clear-selection",()=>{this.preview.sendMessage("craftile.editor.deselect-block"),this.clearSelectedBlock()})}enable(){this.state.enabled=!0,this.events.emit("inspector:enabled",{}),this.preview.sendMessage("craftile.inspector.enable")}disable(){this.state.enabled=!1,this.events.emit("inspector:disabled",{}),this.preview.sendMessage("craftile.inspector.disable")}toggle(){this.state.enabled?this.disable():this.enable()}setHoveredBlock(t,n,r){this.state.hoveredBlockId=t,this.state.hoveredBlockRect=n,this.state.hoveredParentRect=r||null}setSelectedBlock(t,n){this.state.selectedBlockId=t,this.state.selectedBlockRect=n}clearHoveredBlock(){this.state.hoveredBlockId=null,this.state.hoveredBlockRect=null,this.state.hoveredParentRect=null}clearSelectedBlock(){this.state.selectedBlockId=null,this.state.selectedBlockRect=null}setIframeRect(t){this.state.iframeRect=t}}class yK{engine;ui;i18n;events;devices;preview;plugins;inspector;blockLabelFunction;blockFilterFunction;previewUpdateDelay;vueApp=null;constructor(t={}){this.engine=new Qy({blockSchemas:t.blockSchemas,page:t.initialPage}),this.events=new d2,this.i18n=qU(t.i18n),this.devices=new oK(t.devices),this.preview=new mK,this.ui=new mq(this.events),this.plugins=new fK(this),this.inspector=new bK(this.events,this.preview,this.ui,this.engine),this.blockLabelFunction=t.blockLabelFunction,this.blockFilterFunction=t.blockFilterFunction,this.previewUpdateDelay=t.previewUpdateDelay,t.plugins?.forEach(n=>this.plugins.register(n)),this.setup()}getActiveBlock(){return this.ui.state.selectedBlockId?this.engine.getBlockById(this.ui.state.selectedBlockId):void 0}getBlockProperty(t,n){const r=this.engine.getBlockById(t);return r?r.properties[n]:null}setBlockProperty(t,n,r){return this.engine.setBlockProperty(t,n,r)}setup(){nK(this.ui),rK(this.ui),pK(this.ui),this.vueApp=lg({setup:()=>{tu(Qt,this);const t=this.setupEngineWatcher(this.previewUpdateDelay??150);return on(t),()=>uo(gq)}}),this.plugins.setupPlugins(this.vueApp)}setupEngineWatcher(t){return vK(this.engine,{debounceMs:t,onUpdates:n=>{this.preview.sendMessage("craftile.editor.updates",n),this.events.emit("updates",n)}})}mount(t){this.vueApp.mount(t)}}function xK(e={}){const{el:t,...n}=e,r=new yK(n);return t&&r.mount(t),r}(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('/*! tailwindcss v4.1.13 | MIT License | https://tailwindcss.com */@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){.__craftile *,.__craftile :before,.__craftile :after,.__craftile ::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-border-style:solid;--tw-font-weight:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-outline-style:solid;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1}}}@layer theme{.__craftile,.__craftile :host{--color-blue-500:oklch(62.3% .214 259.815);--color-gray-50:var(--color-gray-50,oklch(98.5% 0 0));--color-gray-100:var(--color-gray-100,oklch(96.7% .001 286.375));--color-gray-200:var(--color-gray-200,oklch(92% .004 286.32));--color-gray-300:var(--color-gray-300,oklch(87.1% .006 286.286));--color-gray-400:var(--color-gray-400,oklch(70.5% .015 286.067));--color-gray-500:var(--color-gray-500,oklch(55.2% .016 285.938));--color-gray-600:var(--color-gray-600,oklch(44.2% .017 285.786));--color-gray-700:var(--color-gray-700,oklch(37% .013 285.805));--color-gray-800:var(--color-gray-800,oklch(37% .013 285.805));--color-gray-900:var(--color-gray-900,oklch(37% .013 285.805));--color-white:#fff;--spacing:.25rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--font-weight-medium:500;--radius-md:.375rem;--radius-lg:.5rem;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--color-accent:var(--color-accent,oklch(54.6% .245 262.881));--color-accent-foreground:var(--color-accent-foreground,oklch(93.2% .032 255.585))}}@layer base,components;@layer utilities{.__craftile .relative{position:relative}.__craftile .\\!z-20{z-index:20!important}.__craftile .z-50{z-index:50}.__craftile .mt-3{margin-top:calc(var(--spacing)*3)}.__craftile .mb-1{margin-bottom:calc(var(--spacing)*1)}.__craftile .mb-2{margin-bottom:calc(var(--spacing)*2)}.__craftile .ml-2{margin-left:calc(var(--spacing)*2)}.__craftile .ml-auto{margin-left:auto}.__craftile .block{display:block}.__craftile .flex{display:flex}.__craftile .grid{display:grid}.__craftile .inline-flex{display:inline-flex}.__craftile .h-1{height:calc(var(--spacing)*1)}.__craftile .h-2{height:calc(var(--spacing)*2)}.__craftile .h-2\\.5{height:calc(var(--spacing)*2.5)}.__craftile .h-3{height:calc(var(--spacing)*3)}.__craftile .h-4{height:calc(var(--spacing)*4)}.__craftile .h-6{height:calc(var(--spacing)*6)}.__craftile .h-7{height:calc(var(--spacing)*7)}.__craftile .h-8{height:calc(var(--spacing)*8)}.__craftile .h-9{height:calc(var(--spacing)*9)}.__craftile .h-10{height:calc(var(--spacing)*10)}.__craftile .h-36{height:calc(var(--spacing)*36)}.__craftile .h-full{height:100%}.__craftile .max-h-60{max-height:calc(var(--spacing)*60)}.__craftile .w-0{width:calc(var(--spacing)*0)}.__craftile .w-2\\.5{width:calc(var(--spacing)*2.5)}.__craftile .w-3{width:calc(var(--spacing)*3)}.__craftile .w-4{width:calc(var(--spacing)*4)}.__craftile .w-6{width:calc(var(--spacing)*6)}.__craftile .w-7{width:calc(var(--spacing)*7)}.__craftile .w-8{width:calc(var(--spacing)*8)}.__craftile .w-16{width:calc(var(--spacing)*16)}.__craftile .w-60{width:calc(var(--spacing)*60)}.__craftile .w-\\[var\\(--reference-width\\)\\]{width:var(--reference-width)}.__craftile .w-full{width:100%}.__craftile .min-w-8{min-width:calc(var(--spacing)*8)}.__craftile .min-w-10{min-width:calc(var(--spacing)*10)}.__craftile .flex-1{flex:1}.__craftile .flex-none{flex:none}.__craftile .-translate-x-1\\/2{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.__craftile .-translate-y-1\\/2{--tw-translate-y: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.__craftile .cursor-pointer{cursor:pointer}.__craftile .touch-none{touch-action:none}.__craftile .appearance-none{appearance:none}.__craftile .grid-cols-8{grid-template-columns:repeat(8,minmax(0,1fr))}.__craftile .flex-col{flex-direction:column}.__craftile .items-center{align-items:center}.__craftile .justify-between{justify-content:space-between}.__craftile .justify-center{justify-content:center}.__craftile .gap-1{gap:calc(var(--spacing)*1)}.__craftile .gap-1\\.5{gap:calc(var(--spacing)*1.5)}.__craftile .gap-2{gap:calc(var(--spacing)*2)}.__craftile .gap-3{gap:calc(var(--spacing)*3)}.__craftile .gap-4{gap:calc(var(--spacing)*4)}.__craftile .overflow-auto{overflow:auto}.__craftile .overflow-hidden{overflow:hidden}.__craftile .rounded{border-radius:.25rem}.__craftile .rounded-full{border-radius:3.40282e38px}.__craftile .rounded-lg{border-radius:var(--radius-lg)}.__craftile .rounded-md{border-radius:var(--radius-md)}.__craftile .border{border-style:var(--tw-border-style);border-width:1px}.__craftile .border-2{border-style:var(--tw-border-style);border-width:2px}.__craftile .border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.__craftile .border-l{border-left-style:var(--tw-border-style);border-left-width:1px}.__craftile .border-accent{border-color:var(--color-accent,oklch(54.6% .245 262.881))}.__craftile .border-gray-300{border-color:var(--color-gray-300,oklch(87.1% .006 286.286))}.__craftile .border-white{border-color:var(--color-white)}.__craftile .bg-accent{background-color:var(--color-accent,oklch(54.6% .245 262.881))}.__craftile .bg-gray-100{background-color:var(--color-gray-100,oklch(96.7% .001 286.375))}.__craftile .bg-gray-300{background-color:var(--color-gray-300,oklch(87.1% .006 286.286))}.__craftile .bg-white{background-color:var(--color-white)}.__craftile .bg-none{background-image:none}.__craftile .p-0\\.5{padding:calc(var(--spacing)*.5)}.__craftile .p-4{padding:calc(var(--spacing)*4)}.__craftile .px-1{padding-inline:calc(var(--spacing)*1)}.__craftile .px-2{padding-inline:calc(var(--spacing)*2)}.__craftile .px-3{padding-inline:calc(var(--spacing)*3)}.__craftile .py-1{padding-block:calc(var(--spacing)*1)}.__craftile .py-2{padding-block:calc(var(--spacing)*2)}.__craftile .pl-1{padding-left:calc(var(--spacing)*1)}.__craftile .text-center{text-align:center}.__craftile .text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.__craftile .text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.__craftile .font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.__craftile .text-accent{color:var(--color-accent,oklch(54.6% .245 262.881))}.__craftile .text-gray-400{color:var(--color-gray-400,oklch(70.5% .015 286.067))}.__craftile .text-gray-500{color:var(--color-gray-500,oklch(55.2% .016 285.938))}.__craftile .text-gray-600{color:var(--color-gray-600,oklch(44.2% .017 285.786))}.__craftile .text-gray-700{color:var(--color-gray-700,oklch(37% .013 285.805))}.__craftile .text-gray-900{color:var(--color-gray-900,oklch(37% .013 285.805))}.__craftile .shadow{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.__craftile .shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.__craftile .shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.__craftile .outline-0{outline-style:var(--tw-outline-style);outline-width:0}.__craftile .transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.__craftile .transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.__craftile .forced-color-adjust-none{forced-color-adjust:none}.__craftile .outline-none{--tw-outline-style:none;outline-style:none}.__craftile .select-none{-webkit-user-select:none;user-select:none}.__craftile .focus-within\\:border-transparent:focus-within{border-color:#0000}.__craftile .focus-within\\:ring-2:focus-within{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.__craftile .focus-within\\:ring-accent:focus-within{--tw-ring-color:var(--color-accent,oklch(54.6% .245 262.881))}.__craftile .focus-within\\:outline-none:focus-within{--tw-outline-style:none;outline-style:none}@media (hover:hover){.__craftile .hover\\:scale-110:hover{--tw-scale-x:110%;--tw-scale-y:110%;--tw-scale-z:110%;scale:var(--tw-scale-x)var(--tw-scale-y)}.__craftile .hover\\:bg-gray-50:hover{background-color:var(--color-gray-50,oklch(98.5% 0 0))}.__craftile .hover\\:bg-gray-100:hover{background-color:var(--color-gray-100,oklch(96.7% .001 286.375))}}.__craftile .focus\\:border-transparent:focus{border-color:#0000}.__craftile .focus\\:ring:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.__craftile .focus\\:ring-2:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.__craftile .focus\\:ring-accent:focus{--tw-ring-color:var(--color-accent,oklch(54.6% .245 262.881))}.__craftile .focus\\:ring-blue-500:focus{--tw-ring-color:var(--color-blue-500)}.__craftile .focus\\:outline-none:focus{--tw-outline-style:none;outline-style:none}.__craftile .data-\\[state\\=checked\\]\\:translate-x-4[data-state=checked]{--tw-translate-x:calc(var(--spacing)*4);translate:var(--tw-translate-x)var(--tw-translate-y)}.__craftile .data-\\[state\\=checked\\]\\:border-accent[data-state=checked]{border-color:var(--color-accent,oklch(54.6% .245 262.881))}.__craftile .data-\\[state\\=checked\\]\\:bg-accent[data-state=checked]{background-color:var(--color-accent,oklch(54.6% .245 262.881))}.__craftile .data-\\[state\\=checked\\]\\:bg-accent-foreground[data-state=checked]{background-color:var(--color-accent-foreground,oklch(93.2% .032 255.585))}.__craftile .data-\\[state\\=checked\\]\\:bg-white[data-state=checked]{background-color:var(--color-white)}.__craftile .data-\\[state\\=checked\\]\\:text-accent[data-state=checked]{color:var(--color-accent,oklch(54.6% .245 262.881))}.__craftile .data-\\[state\\=checked\\]\\:shadow[data-state=checked]{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.__craftile .data-\\[state\\=checked\\]\\:outline-4[data-state=checked]{outline-style:var(--tw-outline-style);outline-width:4px}.__craftile .data-\\[state\\=checked\\]\\:-outline-offset-8[data-state=checked]{outline-offset:-8px}.__craftile .data-\\[state\\=checked\\]\\:outline-accent[data-state=checked]{outline-color:var(--color-accent,oklch(54.6% .245 262.881))}.__craftile .data-\\[state\\=closed\\]\\:hidden[data-state=closed]{display:none}}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-outline-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-scale-x{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-y{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-z{syntax:"*";inherits:false;initial-value:1}')),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const Ut=e=>{const t=Symbol(e);return[n=>tu(t,n),n=>dt(t,n),t]},[m$,Ln]=Ut("FieldContext"),wK=P({__name:"field-context",setup(e){const t=Ln();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}});function _K(e){return e==null?[]:Array.isArray(e)?e:[e]}var kK=e=>e[0],CK=e=>e[e.length-1],EK=(e,t)=>e.indexOf(t)!==-1,OK=(e,...t)=>e.concat(t),IK=(e,...t)=>e.filter(n=>!t.includes(n)),DC=(e,t)=>EK(e,t)?IK(e,t):OK(e,t),LC=e=>e?.constructor.name==="Array",TK=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!gl(e[n],t[n]))return!1;return!0},gl=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof e?.isEqual=="function"&&typeof t?.isEqual=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(LC(e)&&LC(t))return TK(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(t??Object.create(null)),r=n.length;for(let o=0;o<r;o++)if(!Reflect.has(e,n[o]))return!1;for(let o=0;o<r;o++){const i=n[o];if(!gl(e[i],t[i]))return!1}return!0},SK=e=>Array.isArray(e),v$=e=>e!=null&&typeof e=="object",$b=e=>v$(e)&&!SK(e),Nd=e=>typeof e=="string",uc=e=>typeof e=="function",PK=e=>e==null,Th=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),$K=e=>Object.prototype.toString.call(e),b$=Function.prototype.toString,RK=b$.call(Object),AK=e=>{if(!v$(e)||$K(e)!="[object Object]"||DK(e))return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Th(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&b$.call(n)==RK},NK=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,MK=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,DK=e=>NK(e)||MK(e),LK=()=>{},Og=(...e)=>(...t)=>{e.forEach(function(n){n?.(...t)})},y$=(e,t)=>{try{return e()}catch(n){return n instanceof Error&&Error.captureStackTrace?.(n,y$),t?.()}},{floor:x$,abs:Ig,round:rv,min:VK,max:FK,pow:BK,sign:HK}=Math,h0=e=>Number.isNaN(e),aa=e=>h0(e)?0:e,w$=(e,t)=>(e%t+t)%t,zK=(e,t)=>(e%t+t)%t,UK=(e,t,n)=>e===0?n:t[e-1],jK=(e,t,n)=>e===t.length-1?n:t[e+1],GK=(e,t)=>aa(e)>=t,WK=(e,t)=>aa(e)<=t,_$=(e,t,n)=>{const r=aa(e),o=t==null||r>=t,i=n==null||r<=n;return o&&i},qK=(e,t,n)=>rv((aa(e)-t)/n)*n+t,dn=(e,t,n)=>VK(FK(aa(e),t),n),ov=(e,t,n)=>(aa(e)-t)/(n-t),Hx=(e,t,n,r)=>dn(qK(e*(n-t)+t,t,r),t,n),VC=(e,t)=>{let n=e,r=t.toString(),o=r.indexOf("."),i=o>=0?r.length-o:0;if(i>0){let s=BK(10,i);n=rv(n*s)/s}return n},Md=(e,t)=>typeof t=="number"?x$(e*t+.5)/t:rv(e),lp=(e,t,n,r)=>{const o=t!=null?Number(t):0,i=Number(n),s=(e-o)%r;let a=Ig(s)*2>=r?e+HK(s)*(r-Ig(s)):e-s;if(a=VC(a,r),!h0(o)&&a<o)a=o;else if(!h0(i)&&a>i){const l=x$((i-o)/r),c=o+l*r;a=l<=0||c<o?i:c}return VC(a,r)},sd=(e,t,n)=>e[t]===n?e:[...e.slice(0,t),n,...e.slice(t+1)];function k$(e,t){const n=UK(e,t.values,t.min),r=jK(e,t.values,t.max);let o=t.values.slice();return function(i){let s=lp(i,n,r,t.step);return o=sd(o,e,i),o[e]=s,o}}function KK(e,t){const n=t.values[e]+t.step;return k$(e,t)(n)}function YK(e,t){const n=t.values[e]-t.step;return k$(e,t)(n)}var XK=(e,t)=>{let n=e.findIndex(i=>t-i<0);if(n===0)return n;if(n===-1)return e.length-1;let r=e[n-1],o=e[n];return Ig(r-t)<Ig(o-t)?n-1:n},C$=(e,t,n,r)=>e.map((o,i)=>({min:i===0?t:e[i-1]+r,max:i===e.length-1?n:e[i+1]-r,value:o})),g0=(e,t)=>{const[n,r]=e,[o,i]=t;return s=>n===r||o===i?o:o+(i-o)/(r-n)*(s-n)},wt=(e,t=0,n=10)=>{const r=Math.pow(n,t);return rv(e*r)/r},FC=e=>{if(!Number.isFinite(e))return 0;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n+=1;return n},E$=(e,t,n)=>{let r=t==="+"?e+n:e-n;if(e%1!==0||n%1!==0){const o=10**Math.max(FC(e),FC(n));e=Math.round(e*o),n=Math.round(n*o),r=t==="+"?e+n:e-n,r/=o}return r},JK=(e,t)=>E$(aa(e),"+",t),ZK=(e,t)=>E$(aa(e),"-",t),BC=e=>e!=null?`${e}px`:void 0;function zx(e){if(!AK(e)||e===void 0)return e;const t=Reflect.ownKeys(e).filter(r=>typeof r=="string"),n={};for(const r of t){const o=e[r];o!==void 0&&(n[r]=zx(o))}return n}function QK(e,t){const n={};for(const r of t){const o=e[r];o!==void 0&&(n[r]=o)}return n}function m0(...e){e.length===1?e[0]:e[1],e.length!==2||e[0]}function O$(e,t){if(e==null)throw new Error(t())}var HC=e=>Math.max(0,Math.min(1,e)),eY=(e,t)=>e.map((n,r)=>e[(Math.max(t,0)+r)%e.length]),Rb=(...e)=>t=>e.reduce((n,r)=>r(n),t),ad=()=>{},iv=e=>typeof e=="object"&&e!==null,tY=2147483647,G=e=>e?"":void 0,cp=e=>e?"true":void 0,nY=1,rY=9,oY=11,Jn=e=>iv(e)&&e.nodeType===nY&&typeof e.nodeName=="string",I$=e=>iv(e)&&e.nodeType===rY,iY=e=>iv(e)&&e===e.window,T$=e=>Jn(e)?e.localName||"":"#document";function sY(e){return["html","body","#document"].includes(T$(e))}var aY=e=>iv(e)&&e.nodeType!==void 0,up=e=>aY(e)&&e.nodeType===oY&&"host"in e,lY=e=>Jn(e)&&e.localName==="input",cY=e=>Jn(e)?e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0:!1;function Tg(e){if(!e)return!1;const t=e.getRootNode();return S$(t)===e}var uY=/(textarea|select)/;function dY(e){if(e==null||!Jn(e))return!1;try{return lY(e)&&e.selectionStart!=null||uY.test(e.localName)||e.isContentEditable||e.getAttribute("contenteditable")==="true"||e.getAttribute("contenteditable")===""}catch{return!1}}function zc(e,t){if(!e||!t||!Jn(e)||!Jn(t))return!1;const n=t.getRootNode?.();if(e===t||e.contains(t))return!0;if(n&&up(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Eo(e){return I$(e)?e:iY(e)?e.document:e?.ownerDocument??document}function pY(e){return Eo(e).documentElement}function rn(e){return up(e)?rn(e.host):I$(e)?e.defaultView??window:Jn(e)?e.ownerDocument?.defaultView??window:window}function S$(e){let t=e.activeElement;for(;t?.shadowRoot;){const n=t.shadowRoot.activeElement;if(!n||n===t)break;t=n}return t}function fY(e){if(T$(e)==="html")return e;const t=e.assignedSlot||e.parentNode||up(e)&&e.host||pY(e);return up(t)?t.host:t}var Ab=new WeakMap;function Ux(e){return Ab.has(e)||Ab.set(e,rn(e).getComputedStyle(e)),Ab.get(e)}var sv=()=>typeof document<"u";function hY(){return navigator.userAgentData?.platform??navigator.platform}function gY(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(({brand:t,version:n})=>`${t}/${n}`).join(" "):navigator.userAgent}var jx=e=>sv()&&e.test(hY()),mY=e=>sv()&&e.test(gY()),vY=e=>sv()&&e.test(navigator.vendor),zC=()=>sv()&&!!navigator.maxTouchPoints,bY=()=>jx(/^iPhone/i),yY=()=>jx(/^iPad/i)||av()&&navigator.maxTouchPoints>1,Gx=()=>bY()||yY(),xY=()=>av()||Gx(),av=()=>jx(/^Mac/i),lv=()=>xY()&&vY(/apple/i),wY=()=>mY(/Android/i);function _Y(e){return e.composedPath?.()??e.nativeEvent?.composedPath?.()}function ho(e){return _Y(e)?.[0]??e.target}function kY(e){return TY(e).isComposing||e.keyCode===229}function CY(e){return e.pointerType===""&&e.isTrusted?!0:wY()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}var Ns=e=>e.button===0,EY=e=>e.button===2||av()&&e.ctrlKey&&e.button===0,dp=e=>e.ctrlKey||e.altKey||e.metaKey,OY=e=>"touches"in e&&e.touches.length>0,IY={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},UC={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function pp(e,t={}){const{dir:n="ltr",orientation:r="horizontal"}=t;let o=e.key;return o=IY[o]??o,n==="rtl"&&r==="horizontal"&&o in UC&&(o=UC[o]),o}function TY(e){return e.nativeEvent??e}var SY=new Set(["PageUp","PageDown"]),PY=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);function Sg(e){return e.ctrlKey||e.metaKey?.1:SY.has(e.key)||e.shiftKey&&PY.has(e.key)?10:1}function rl(e,t="client"){const n=OY(e)?e.touches[0]||e.changedTouches[0]:e;return{x:n[`${t}X`],y:n[`${t}Y`]}}var Kt=(e,t,n,r)=>{const o=typeof e=="function"?e():e;return o?.addEventListener(t,n,r),()=>{o?.removeEventListener(t,n,r)}};function P$(e,t){const{type:n="HTMLInputElement",property:r="value"}=t,o=rn(e)[n].prototype;return Object.getOwnPropertyDescriptor(o,r)??{}}function $Y(e){if(e.localName==="input")return"HTMLInputElement";if(e.localName==="textarea")return"HTMLTextAreaElement";if(e.localName==="select")return"HTMLSelectElement"}function Qp(e,t,n="value"){if(!e)return;const r=$Y(e);r&&P$(e,{type:r,property:n}).set?.call(e,t),e.setAttribute(n,t)}function $$(e,t){e&&(P$(e,{type:"HTMLInputElement",property:"checked"}).set?.call(e,t),t?e.setAttribute("checked",""):e.removeAttribute("checked"))}function R$(e,t){const{value:n,bubbles:r=!0}=t;if(!e)return;const o=rn(e);e instanceof o.HTMLInputElement&&(Qp(e,`${n}`),e.dispatchEvent(new o.Event("input",{bubbles:r})))}function A$(e,t){const{checked:n,bubbles:r=!0}=t;if(!e)return;const o=rn(e);e instanceof o.HTMLInputElement&&($$(e,n),e.dispatchEvent(new o.Event("click",{bubbles:r})))}function RY(e){return AY(e)?e.form:e.closest("form")}function AY(e){return e.matches("textarea, input, select, button")}function NY(e,t){if(!e)return;const n=RY(e),r=o=>{o.defaultPrevented||t()};return n?.addEventListener("reset",r,{passive:!0}),()=>n?.removeEventListener("reset",r)}function MY(e,t){const n=e?.closest("fieldset");if(!n)return;t(n.disabled);const r=rn(n),o=new r.MutationObserver(()=>t(n.disabled));return o.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>o.disconnect()}function du(e,t){if(!e)return;const{onFieldsetDisabledChange:n,onFormReset:r}=t,o=[NY(e,r),MY(e,n)];return()=>o.forEach(i=>i?.())}var DY=e=>Jn(e)&&e.tagName==="IFRAME",LY=e=>parseInt(e.getAttribute("tabindex")||"0",10)<0,N$="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type";function Wx(e){return!e||e.closest("[inert]")?!1:e.matches(N$)&&cY(e)}function qx(e,t){if(!e)return[];const n=Array.from(e.querySelectorAll(N$)).filter(VY);return n.forEach((r,o)=>{if(DY(r)&&r.contentDocument){const i=r.contentDocument.body,s=qx(i);n.splice(o,1,...s)}}),n.length,n}function VY(e){return e!=null&&e.tabIndex>0?!0:Wx(e)&&!LY(e)}function FY(e,t){const n=qx(e),r=n[0]||null,o=n[n.length-1]||null;return[r,o]}function M$(e){const{root:t,getInitialEl:n,filter:r,enabled:o=!0}=e;if(!o)return;let i=null;if(i||(i=typeof n=="function"?n():n),i||(i=t?.querySelector("[data-autofocus],[autofocus]")),!i){const s=qx(t);i=r?s.filter(r)[0]:s[0]}return i||t||void 0}function BY(e){const t=e.currentTarget;if(!t)return!1;const[n,r]=FY(t);return!(Tg(n)&&e.shiftKey||Tg(r)&&!e.shiftKey||!n&&!r)}function D$(e){const t=new Set;function n(r){const o=globalThis.requestAnimationFrame(r);t.add(()=>globalThis.cancelAnimationFrame(o))}return n(()=>n(e)),function(){t.forEach(r=>r())}}function Ht(e){let t;const n=globalThis.requestAnimationFrame(()=>{t=e()});return()=>{globalThis.cancelAnimationFrame(n),t?.()}}function HY(e,t){if(!e)return;const{attributes:n,callback:r}=t,o=e.ownerDocument.defaultView||window,i=new o.MutationObserver(s=>{for(const a of s)a.type==="attributes"&&a.attributeName&&n.includes(a.attributeName)&&r(a)});return i.observe(e,{attributes:!0,attributeFilter:n}),()=>i.disconnect()}function L$(e,t){const{defer:n}=t,r=n?Ht:i=>i(),o=[];return o.push(r(()=>{const i=typeof e=="function"?e():e;o.push(HY(i,t))})),()=>{o.forEach(i=>i?.())}}function v0(e){const t=fY(e);return sY(t)?Eo(t).body:Jn(t)&&V$(t)?t:v0(t)}var zY=/auto|scroll|overlay|hidden|clip/,UY=new Set(["inline","contents"]);function V$(e){const t=rn(e),{overflow:n,overflowX:r,overflowY:o,display:i}=t.getComputedStyle(e);return zY.test(n+o+r)&&!UY.has(i)}function jY(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function GY(e,t){const{rootEl:n,...r}=t||{};!e||!n||!V$(n)||!jY(n)||e.scrollIntoView(r)}function Kx(e,t){const{left:n,top:r,width:o,height:i}=t.getBoundingClientRect(),s={x:e.x-n,y:e.y-r},a={x:HC(s.x/o),y:HC(s.y/i)};function l(c={}){const{dir:u="ltr",orientation:p="horizontal",inverted:h}=c,f=typeof h=="object"?h.x:h,g=typeof h=="object"?h.y:h;return p==="horizontal"?u==="rtl"||f?1-a.x:a.x:g?1-a.y:a.y}return{offset:s,percent:a,getPercentValue:l}}function WY(e,t){const n=e.body,r="pointerLockElement"in e||"mozPointerLockElement"in e,o=()=>!!e.pointerLockElement;function i(){}function s(l){o(),console.error("PointerLock error occurred:",l),e.exitPointerLock()}if(!r)return;try{n.requestPointerLock()}catch{}const a=[Kt(e,"pointerlockchange",i,!1),Kt(e,"pointerlockerror",s,!1)];return()=>{a.forEach(l=>l()),e.exitPointerLock()}}var dc="default",b0="",Sh=new WeakMap;function qY(e={}){const{target:t,doc:n}=e,r=n??document,o=r.documentElement;return Gx()?(dc==="default"&&(b0=o.style.webkitUserSelect,o.style.webkitUserSelect="none"),dc="disabled"):t&&(Sh.set(t,t.style.userSelect),t.style.userSelect="none"),()=>KY({target:t,doc:r})}function KY(e={}){const{target:t,doc:n}=e,r=(n??document).documentElement;if(Gx()){if(dc!=="disabled")return;dc="restoring",setTimeout(()=>{D$(()=>{dc==="restoring"&&(r.style.webkitUserSelect==="none"&&(r.style.webkitUserSelect=b0||""),b0="",dc="default")})},300)}else if(t&&Sh.has(t)){const o=Sh.get(t);t.style.userSelect==="none"&&(t.style.userSelect=o??""),t.getAttribute("style")===""&&t.removeAttribute("style"),Sh.delete(t)}}function F$(e={}){const{defer:t,target:n,...r}=e,o=t?Ht:s=>s(),i=[];return i.push(o(()=>{const s=typeof n=="function"?n():n;i.push(qY({...r,target:s}))})),()=>{i.forEach(s=>s?.())}}function B$(e,t){const{onPointerMove:n,onPointerUp:r}=t,o=a=>{const l=rl(a),c=Math.sqrt(l.x**2+l.y**2),u=a.pointerType==="touch"?10:5;if(!(c<u)){if(a.pointerType==="mouse"&&a.button===0){i(a);return}n({point:l,event:a})}},i=a=>{const l=rl(a);r({point:l,event:a})},s=[Kt(e,"pointermove",o,!1),Kt(e,"pointerup",i,!1),Kt(e,"pointercancel",i,!1),Kt(e,"contextmenu",i,!1),F$({doc:e})];return()=>{s.forEach(a=>a())}}function YY(e){const{pointerNode:t,keyboardNode:n=t,onPress:r,onPressStart:o,onPressEnd:i,isValidKey:s=w=>w.key==="Enter"}=e;if(!t)return ad;const a=rn(t);let l=ad,c=ad,u=ad;const p=w=>({point:rl(w),event:w});function h(w){o?.(p(w))}function f(w){i?.(p(w))}const g=Kt(t,"pointerdown",w=>{c();const E=Kt(a,"pointerup",v=>{const _=ho(v);zc(t,_)?r?.(p(v)):i?.(p(v))},{passive:!r,once:!0}),k=Kt(a,"pointercancel",f,{passive:!i,once:!0});c=Rb(E,k),Tg(n)&&w.pointerType==="mouse"&&w.preventDefault(),h(w)},{passive:!o}),m=Kt(n,"focus",b);l=Rb(g,m);function b(){const w=_=>{if(!s(_))return;const T=C=>{if(!s(C))return;const x=new a.PointerEvent("pointerup"),I=p(x);r?.(I),i?.(I)};c(),c=Kt(n,"keyup",T);const N=new a.PointerEvent("pointerdown");h(N)},E=()=>{const _=new a.PointerEvent("pointercancel");f(_)},k=Kt(n,"keydown",w),v=Kt(n,"blur",E);u=Rb(k,v)}return()=>{l(),c(),u()}}function Pg(e,t){return Array.from(e?.querySelectorAll(t)??[])}function XY(e,t){return e?.querySelector(t)??null}var Yx=e=>e.id;function JY(e,t,n=Yx){return e.find(r=>n(r)===t)}function ZY(e,t,n=Yx){const r=JY(e,t,n);return r?e.indexOf(r):-1}function H$(e,t){const{onEntry:n,measure:r,box:o="border-box"}=t,i=(Array.isArray(e)?e:[e]).filter(Jn),s=rn(i[0]),a=c=>{const u=i.map(p=>r(p));n({rects:u,entries:c})};a([]);const l=new s.ResizeObserver(a);return i.forEach(c=>l.observe(c,{box:o})),()=>l.disconnect()}var QY=e=>e.split("").map(t=>{const n=t.charCodeAt(0);return n>0&&n<128?t:n>=128&&n<=255?`/x${n.toString(16)}`.replace("/","\\"):""}).join("").trim(),eX=e=>QY(e.dataset?.valuetext??e.textContent??""),tX=(e,t)=>e.trim().toLowerCase().startsWith(t.toLowerCase());function nX(e,t,n,r=Yx){const o=n?ZY(e,n,r):-1;let i=n?eY(e,o):e;return t.length===1&&(i=i.filter(s=>r(s)!==n)),i.find(s=>tX(eX(s),t))}function z$(e,t){if(!e)return ad;const n=Object.keys(t).reduce((r,o)=>(r[o]=e.style.getPropertyValue(o),r),{});return Object.assign(e.style,t),()=>{Object.assign(e.style,n),e.style.length===0&&e.removeAttribute("style")}}function rX(e,t){const{state:n,activeId:r,key:o,timeout:i=350,itemToId:s}=t,a=n.keysSoFar+o,l=a.length>1&&Array.from(a).every(f=>f===a[0])?a[0]:a;let c=e.slice();const u=nX(c,l,r,s);function p(){clearTimeout(n.timer),n.timer=-1}function h(f){n.keysSoFar=f,p(),f!==""&&(n.timer=+setTimeout(()=>{h(""),p()},i))}return h(a),u}var y0=Object.assign(rX,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:oX});function oX(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}var cv={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"};function iX(e,t,n){const{signal:r}=t;return[new Promise((o,i)=>{const s=setTimeout(()=>{i(new Error(`Timeout of ${n}ms exceeded`))},n);r.addEventListener("abort",()=>{clearTimeout(s),i(new Error("Promise aborted"))}),e.then(a=>{r.aborted||(clearTimeout(s),o(a))}).catch(a=>{r.aborted||(clearTimeout(s),i(a))})}),()=>t.abort()]}function sX(e,t){const{timeout:n,rootNode:r}=t,o=rn(r),i=Eo(r),s=new o.AbortController;return iX(new Promise(a=>{const l=e();if(l){a(l);return}const c=new o.MutationObserver(()=>{const u=e();u&&u.isConnected&&(c.disconnect(),a(u))});c.observe(i.body,{childList:!0,subtree:!0})}),s,n)}var aX=(...e)=>e.map(t=>t?.trim?.()).filter(Boolean).join(" "),lX=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,jC=e=>{const t={};let n;for(;n=lX.exec(e);)t[n[1]]=n[2];return t},cX=(e,t)=>{if(Nd(e)){if(Nd(t))return`${e};${t}`;e=jC(e)}else Nd(t)&&(t=jC(t));return Object.assign({},e??{},t??{})};function Xx(...e){let t={};for(let n of e){if(!n)continue;for(let o in t){if(o.startsWith("on")&&typeof t[o]=="function"&&typeof n[o]=="function"){t[o]=Og(n[o],t[o]);continue}if(o==="className"||o==="class"){t[o]=aX(t[o],n[o]);continue}if(o==="style"){t[o]=cX(t[o],n[o]);continue}t[o]=n[o]!==void 0?n[o]:t[o]}for(let o in n)t[o]===void 0&&(t[o]=n[o]);const r=Object.getOwnPropertySymbols(n);for(let o of r)t[o]=n[o]}return t}function x0(e,t,n){let r=[],o;return i=>{const s=e(i);return(s.length!==r.length||s.some((a,l)=>!gl(r[l],a)))&&(r=s,o=t(s,i)),o}}function ef(){return{and:(...e)=>function(t){return e.every(n=>t.guard(n))},or:(...e)=>function(t){return e.some(n=>t.guard(n))},not:e=>function(t){return!t.guard(e)}}}function uX(){return{guards:ef(),createMachine:e=>e,choose:e=>function({choose:t}){return t(e)?.actions}}}var tc=(e=>(e.NotStarted="Not Started",e.Started="Started",e.Stopped="Stopped",e))(tc||{}),Nb="__init__";function dX(e){const t=()=>e.getRootNode?.()??document,n=()=>Eo(t());return{...e,getRootNode:t,getDoc:n,getWin:()=>n().defaultView??window,getActiveElement:()=>S$(t()),isActiveElement:Tg,getById:r=>t().getElementById(r)}}function pX(e){return new Proxy({},{get(t,n){return n==="style"?r=>e({style:r}).style:e}})}var On=()=>e=>Array.from(new Set(e));function fX(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}var GC={htmlFor:"for",className:"class",onDoubleClick:"onDblclick",onChange:"onInput",onFocus:"onFocusin",onBlur:"onFocusout",defaultValue:"value",defaultChecked:"checked"},hX="viewBox,className,preserveAspectRatio,fillRule,clipPath,clipRule,strokeWidth,strokeLinecap,strokeLinejoin,strokeDasharray,strokeDashoffset,strokeMiterlimit".split(",");function gX(e){return e in GC?GC[e]:e.startsWith("on")?`on${fX(e.substr(2))}`:hX.includes(e)?e:e.toLowerCase()}var pu=pX(e=>{const t={};for(const n in e){const r=e[n];n==="children"?typeof r=="string"&&(t.innerHTML=r):t[gX(n)]=e[n]}return t});function $g(e){const t=e().defaultValue??e().value,n=e().isEqual??Object.is,r=co(t),o=A(()=>e().value!==void 0),i=co(o.value?e().value:r.value);return{initial:t,ref:i,get(){return o.value?e().value:r.value},set(s){const a=o.value?e().value:r.value,l=uc(s)?s(a):s;e().debug&&console.log(`[bindable > ${e().debug}] setValue`,{next:l,prev:a}),o.value||(r.value=l),n(l,a)||e().onChange?.(l,a)},invoke(s,a){e().onChange?.(s,a)},hash(s){return e().hash?.(s)??String(s)}}}$g.cleanup=e=>{Sr(()=>e())};$g.ref=e=>{let t=e;return{get:()=>t,set:n=>{t=n}}};function mX(e){const t={current:e};return{get(n){return t.current[n]},set(n,r){t.current[n]=r}}}var vX=(e,t)=>{st(()=>[...e.map(n=>n())],(n,r)=>{let o=!1;for(let i=0;i<n.length;i++)if(!gl(r[i],pe(n[i]))){o=!0;break}o&&t()})};function ml(e,t={}){const n=A(()=>{const{id:C,ids:x,getRootNode:I}=pe(t);return dX({id:C,ids:x,getRootNode:I})}),r=(...C)=>{e.debug&&console.log(...C)},o=A(()=>e.props?.({props:zx(pe(t)),get scope(){return n.value}})??pe(t)),i=bX(o),s=e.context?.({prop:i,bindable:$g,get scope(){return n.value},flush:WC,getContext(){return a},getComputed(){return v},getRefs(){return g},getEvent(){return h()}}),a={get(C){return s[C]?.get()},set(C,x){s[C]?.set(x)},initial(C){return s[C]?.initial},hash(C){const x=s[C]?.get();return s[C]?.hash(x)}};let l=new Map,c=null,u={current:null},p={current:{type:""}};const h=()=>({...p.current,current(){return p.current},previous(){return u.current}}),f=()=>({..._,matches(...C){const x=_.get();return C.includes(x)},hasTag(C){const x=_.get();return!!e.states[x]?.tags?.includes(C)}}),g=mX(e.refs?.({prop:i,context:a})??{}),m=()=>({state:f(),context:a,event:h(),prop:i,send:N,action:b,guard:w,track:vX,refs:g,computed:v,flush:WC,get scope(){return n.value},choose:k}),b=C=>{const x=uc(C)?C(m()):C;if(!x)return;const I=x.map(R=>{const M=e.implementations?.actions?.[R];return M||m0(`[zag-js] No implementation found for action "${JSON.stringify(R)}"`),M});for(const R of I)R?.(m())},w=C=>uc(C)?C(m()):e.implementations?.guards?.[C](m()),E=C=>{const x=uc(C)?C(m()):C;if(!x)return;const I=x.map(M=>{const B=e.implementations?.effects?.[M];return B||m0(`[zag-js] No implementation found for effect "${JSON.stringify(M)}"`),B}),R=[];for(const M of I){const B=M?.(m());B&&R.push(B)}return()=>R.forEach(M=>M?.())},k=C=>_K(C).find(x=>{let I=!x.guard;return Nd(x.guard)?I=!!w(x.guard):uc(x.guard)&&(I=x.guard(m())),I}),v=C=>{O$(e.computed,()=>"[zag-js] No computed object found on machine");const x=e.computed[C];return x({context:a,event:h(),prop:i,refs:g,get scope(){return n.value},computed:v})},_=$g(()=>({defaultValue:e.initialState({prop:i}),onChange(C,x){x&&(l.get(x)?.(),l.delete(x)),x&&b(e.states[x]?.exit),b(c?.actions);const I=E(e.states[C]?.effects);if(I&&l.set(C,I),x===Nb){b(e.entry);const R=E(e.effects);R&&l.set(Nb,R)}b(e.states[C]?.entry)}}));let T=tc.NotStarted;Je(()=>{const C=T===tc.Started;T=tc.Started,r(C?"rehydrating...":"initializing..."),_.invoke(_.initial,Nb)}),on(()=>{T=tc.Stopped,r("unmounting...");const C=l.values();for(const x of C)x?.();l=new Map,b(e.exit)});const N=C=>{if(T!==tc.Started)return;u.current=p.current,p.current=C;let x=_.get();const I=e.states[x].on?.[C.type]??e.on?.[C.type],R=k(I);if(!R)return;c=R;const M=R.target??x;r("transition",C.type,R.target||x,`(${R.actions})`);const B=M!==x;B?_.set(M):R.reenter&&!B?_.invoke(x,x):b(R.actions)};return e.watch?.(m()),{state:f(),send:N,context:a,prop:i,get scope(){return n.value},refs:g,computed:v,event:h(),getStatus:()=>T}}function bX(e){return function(t){return e.value[t]}}var WC=e=>{Nn().then(()=>{e()})};const yX=P({name:"Dynamic",inheritAttrs:!1,setup(e,{attrs:t,slots:n}){return()=>{if(!n.default)return null;const r=U$(n.default()),[o,...i]=r;if(Object.keys(t).length>0){delete o.props?.ref;const s=Xx(t,o.props??{}),a=Ir(o,s);for(const l in s)l.startsWith("on")&&(a.props||={},a.props[l]=s[l]);return r.length===1?a:[a,...i]}return r}}});function U$(e){return e?e.flatMap(t=>t.type===ge?U$(t.children):[t]):[]}const xX="br, hr, img, input, area, textarea".split(", "),wX=e=>typeof e=="string"&&xX.includes(e),Mb=e=>P({name:"Polymorphic",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1}},setup(t,{attrs:n,slots:r}){return t.asChild?()=>uo(yX,n,r):()=>uo(e,n,wX(e)?void 0:r.default?.())}});function _X(){const e=new Map;return new Proxy(Mb,{apply(t,n,r){return Mb(r[0])},get(t,n){return e.has(n)||e.set(n,Mb(n)),e.get(n)}})}const ce=_X();function Jx(e){const t=pe(e);return t?.$el??t}const kX=e=>Object.prototype.hasOwnProperty.call(e,"nodeName")&&typeof e.nodeName=="string";function ue(){const e=zt(),t=Q(),n=A(()=>["#text","#comment"].includes(t.value?.$el.nodeName)?t.value?.$el.nextElementSibling:Jx(t)),r=Object.assign({},e.exposed),o={};for(const s in e.props)Object.defineProperty(o,s,{enumerable:!0,configurable:!0,get:()=>e.props[s]});if(Object.keys(r).length>0)for(const s in r)Object.defineProperty(o,s,{enumerable:!0,configurable:!0,get:()=>r[s]});Object.defineProperty(o,"$el",{enumerable:!0,configurable:!0,get:()=>e.vnode.el}),e.exposed=o;function i(s){t.value=s,!(kX(s)||!s)&&(Object.defineProperty(o,"$el",{enumerable:!0,configurable:!0,get:()=>s.$el}),e.exposed=o)}return{forwardRef:i,currentRef:t,currentElement:n}}const CX=P({__name:"field-error-text",props:{asChild:{type:Boolean}},setup(e){const t=Ln();return ue(),(n,r)=>d(t).invalid?(y(),$(d(ce).span,F({key:0},d(t).getErrorTextProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"])):Z("",!0)}}),EX=P({__name:"field-helper-text",props:{asChild:{type:Boolean}},setup(e){const t=Ln();return ue(),(n,r)=>(y(),$(d(ce).span,F(d(t).getHelperTextProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),OX=P({__name:"field-input",props:{modelValue:{},asChild:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=Ln(),r=t;return ue(),(o,i)=>(y(),$(d(ce).input,F(d(n).getInputProps(),{"as-child":o.asChild,value:o.modelValue,onInput:i[0]||(i[0]=s=>r("update:modelValue",s.target.value))}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child","value"]))}}),IX=P({__name:"field-label",props:{asChild:{type:Boolean}},setup(e){const t=Ln();return ue(),(n,r)=>(y(),$(d(ce).label,F(d(t).getLabelProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),TX=P({__name:"field-required-indicator",props:{asChild:{type:Boolean}},setup(e){const t=Ln();return ue(),(n,r)=>d(t).required?(y(),$(d(ce).span,F({key:0},d(t).getRequiredIndicatorProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default",{},()=>[r[0]||(r[0]=re("*",-1))])]),_:3},16,["as-child"])):L(n.$slots,"fallback",{key:1})}}),SX=P({__name:"field-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=A(()=>t.value);return m$(n),ue(),(r,o)=>(y(),$(d(ce).div,F(n.value.getRootProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),[OCe,vl]=Ut("EnvironmentContext"),bl=A(()=>({getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}));var no=(e,t=[])=>({parts:(...n)=>{if(PX(t))return no(e,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>no(e,[...t,...n]),omit:(...n)=>no(e,t.filter(r=>!n.includes(r))),rename:n=>no(n,t),keys:()=>t,build:()=>[...new Set(t)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${Ll(e)}"][data-part="${Ll(r)}"]`,`& [data-scope="${Ll(e)}"][data-part="${Ll(r)}"]`].join(", "),attrs:{"data-scope":Ll(e),"data-part":Ll(r)}}}),{})}),Ll=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),PX=e=>e.length===0;const $X=no("field").parts("root","errorText","helperText","input","label","select","textarea","requiredIndicator"),as=$X.build(),RX=(e={})=>{const t=vl(bl),n=Tr({hasErrorText:!1,hasHelperText:!1}),r=nt(),o=A(()=>pe(e).id??r),i=Q(null),s=A(()=>pe(e).ids?.control??`field::${o.value}`),a=A(()=>pe(e).ids?.errorText??`field::${o.value}::error-text`),l=A(()=>pe(e).ids?.helperText??`field::${o.value}::helper-text`),c=A(()=>pe(e).ids?.label??`field::${o.value}::label`);Je(()=>{const v=Jx(i);if(!v)return;const _=()=>{const C=t.value.getRootNode();n.hasErrorText=!!C.getElementById(a.value),n.hasHelperText=!!C.getElementById(l.value)};_();const T=t.value.getWindow(),N=new T.MutationObserver(_);N.observe(v,{childList:!0,subtree:!0}),on(()=>{N.disconnect()})});const u=()=>{const v=pe(e);return{...as.root.attrs,id:s.value,role:"group","data-disabled":G(v.disabled),"data-invalid":G(v.invalid),"data-readonly":G(v.readOnly)}},p=()=>{const v=pe(e);return{...as.label.attrs,id:c.value,"data-disabled":G(v.disabled),"data-invalid":G(v.invalid),"data-readonly":G(v.readOnly),"data-required":G(v.required),htmlFor:o.value}},h=A(()=>{const v=pe(e),_=[];return n.hasErrorText&&v.invalid&&_.push(a.value),n.hasHelperText&&_.push(l.value),_}),f=()=>{const v=pe(e);return{"aria-describedby":h.value.join(" ")||void 0,"aria-invalid":cp(v.invalid),"data-invalid":G(v.invalid),"data-required":G(v.required),"data-readonly":G(v.readOnly),id:o.value,required:v.required,disabled:v.disabled,readOnly:v.readOnly}},g=()=>({...f(),...as.input.attrs}),m=()=>({...f(),...as.textarea.attrs}),b=()=>({...f(),...as.select.attrs}),w=()=>{const v=pe(e);return{id:l.value,...as.helperText.attrs,"data-disabled":G(v.disabled)}},E=()=>({id:a.value,...as.errorText.attrs,"aria-live":"polite"}),k=()=>({"aria-hidden":!0,...as.requiredIndicator.attrs});return A(()=>{const v=pe(e);return{ariaDescribedby:h.value.join(" ")||void 0,ids:{control:o.value,label:c.value,errorText:a.value,helperText:l.value},refs:{rootRef:i},disabled:v.disabled,invalid:v.invalid,readOnly:v.readOnly,required:v.required,getLabelProps:p,getRootProps:u,getInputProps:g,getTextareaProps:m,getSelectProps:b,getHelperTextProps:w,getErrorTextProps:E,getRequiredIndicatorProps:k}})},AX=P({__name:"field-root",props:Ze({disabled:{type:Boolean},id:{},ids:{},invalid:{type:Boolean},readOnly:{type:Boolean},required:{type:Boolean},asChild:{type:Boolean}},{disabled:void 0,invalid:void 0,readOnly:void 0,required:void 0}),setup(e){const t=RX(e);return m$(t),ue(),(n,r)=>(y(),$(d(ce).div,F(d(t).getRootProps(),{ref:d(t).refs.rootRef,"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),NX=P({__name:"field-select",props:{modelValue:{},asChild:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=Ln(),r=t;return ue(),(o,i)=>(y(),$(d(ce).select,F(d(n).getSelectProps(),{value:o.modelValue,onChange:i[0]||(i[0]=s=>r("update:modelValue",s.target.value)),"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["value","as-child"]))}});var MX=e=>{if(!e)return;const t=Ux(e),n=rn(e),r=Eo(e),o=()=>{requestAnimationFrame(()=>{e.style.height="auto";let c;t.boxSizing==="content-box"?c=e.scrollHeight-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):c=e.scrollHeight+parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),t.maxHeight!=="none"&&c>parseFloat(t.maxHeight)?(t.overflowY==="hidden"&&(e.style.overflowY="scroll"),c=parseFloat(t.maxHeight)):t.overflowY!=="hidden"&&(e.style.overflowY="hidden"),e.style.height=`${c}px`})};e.addEventListener("input",o),e.form?.addEventListener("reset",o);const i=Object.getPrototypeOf(e),s=Object.getOwnPropertyDescriptor(i,"value");Object.defineProperty(e,"value",{...s,set(){s?.set?.apply(this,arguments),o()}});const a=new n.ResizeObserver(()=>{requestAnimationFrame(()=>o())});a.observe(e);const l=new n.MutationObserver(()=>o());return l.observe(e,{attributes:!0,attributeFilter:["rows","placeholder"]}),r.fonts?.addEventListener("loadingdone",o),()=>{e.removeEventListener("input",o),e.form?.removeEventListener("reset",o),r.fonts?.removeEventListener("loadingdone",o),a.disconnect(),l.disconnect()}};const DX=P({__name:"field-textarea",props:{modelValue:{},autoresize:{type:Boolean},asChild:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=Ln(),o=t,i=Q();return Je(()=>{const s=Jx(i);if(!s||!n.autoresize)return;const a=MX(s);on(()=>a?.())}),ue(),(s,a)=>(y(),$(d(ce).textarea,F({ref_key:"textareaRef",ref:i},d(r).getTextareaProps(),{value:s.modelValue,onInput:a[0]||(a[0]=l=>o("update:modelValue",l.target.value)),style:n.autoresize?{resize:"none",overflow:"hidden"}:void 0,"as-child":s.asChild}),{default:O(()=>[L(s.$slots,"default")]),_:3},16,["value","style","as-child"]))}}),Oc=Object.freeze(Object.defineProperty({__proto__:null,Context:wK,ErrorText:CX,HelperText:EX,Input:OX,Label:IX,RequiredIndicator:TX,Root:AX,RootProvider:SX,Select:NX,Textarea:DX},Symbol.toStringTag,{value:"Module"})),LX=P({__name:"Text",props:at({field:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=rt(e,"modelValue");return(n,r)=>(y(),$(d(Oc).Root,null,{default:O(()=>[S(d(Oc).Label,{class:"block text-sm font-medium text-gray-700 mb-1"},{default:O(()=>[re(j(n.field.label),1)]),_:1}),S(d(Oc).Input,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=o=>t.value=o),class:"w-full h-9 px-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent",placeholder:n.field.placeholder},null,8,["modelValue","placeholder"])]),_:1}))}}),VX=P({__name:"Textarea",props:at({field:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=rt(e,"modelValue");return(n,r)=>(y(),$(d(Oc).Root,null,{default:O(()=>[S(d(Oc).Label,{class:"block text-sm font-medium text-gray-700 mb-1"},{default:O(()=>[re(j(n.field.label||n.field.id),1)]),_:1}),S(d(Oc).Textarea,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=o=>t.value=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical",rows:n.field.rows||3,placeholder:n.field.placeholder},null,8,["modelValue","rows","placeholder"])]),_:1}))}}),[j$,tf]=Ut("SwitchContext"),FX=P({__name:"switch-context",setup(e){const t=tf();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),BX=P({__name:"switch-control",props:{asChild:{type:Boolean}},setup(e){const t=tf();return ue(),(n,r)=>(y(),$(d(ce).span,F(d(t).getControlProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),HX=P({__name:"switch-hidden-input",props:{asChild:{type:Boolean}},setup(e){const t=tf(),n=Ln();return ue(),(r,o)=>(y(),$(d(ce).input,F({"aria-describedby":d(n)?.ariaDescribedby},d(t).getHiddenInputProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["aria-describedby","as-child"]))}}),zX=P({__name:"switch-label",props:{asChild:{type:Boolean}},setup(e){const t=tf();return ue(),(n,r)=>(y(),$(d(ce).span,F(d(t).getLabelProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),UX=P({__name:"switch-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=A(()=>t.value);return j$(n),ue(),(r,o)=>(y(),$(d(ce).label,F(n.value.getRootProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}});function jX(e){return!(e.metaKey||!av()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}var GX=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function WX(e,t,n){const r=n?ho(n):null,o=rn(r);return e=e||r instanceof o.HTMLInputElement&&!GX.has(r?.type)||r instanceof o.HTMLTextAreaElement||r instanceof o.HTMLElement&&r.isContentEditable,!(e&&t==="keyboard"&&n instanceof o.KeyboardEvent&&!Reflect.has(qX,n.key))}var yl=null,w0=new Set,Dd=new Map,ol=!1,_0=!1,qX={Tab:!0,Escape:!0};function uv(e,t){for(let n of w0)n(e,t)}function Rg(e){ol=!0,jX(e)&&(yl="keyboard",uv("keyboard",e))}function Hr(e){yl="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(ol=!0,uv("pointer",e))}function G$(e){CY(e)&&(ol=!0,yl="virtual")}function W$(e){const t=ho(e);t===rn(t)||t===Eo(t)||(!ol&&!_0&&(yl="virtual",uv("virtual",e)),ol=!1,_0=!1)}function q$(){ol=!1,_0=!0}function KX(e){if(typeof window>"u"||Dd.get(rn(e)))return;const t=rn(e),n=Eo(e);let r=t.HTMLElement.prototype.focus;function o(){yl="virtual",uv("virtual",null),ol=!0,r.apply(this,arguments)}Object.defineProperty(t.HTMLElement.prototype,"focus",{configurable:!0,value:o}),n.addEventListener("keydown",Rg,!0),n.addEventListener("keyup",Rg,!0),n.addEventListener("click",G$,!0),t.addEventListener("focus",W$,!0),t.addEventListener("blur",q$,!1),typeof t.PointerEvent<"u"?(n.addEventListener("pointerdown",Hr,!0),n.addEventListener("pointermove",Hr,!0),n.addEventListener("pointerup",Hr,!0)):(n.addEventListener("mousedown",Hr,!0),n.addEventListener("mousemove",Hr,!0),n.addEventListener("mouseup",Hr,!0)),t.addEventListener("beforeunload",()=>{YX(e)},{once:!0}),Dd.set(t,{focus:r})}var YX=(e,t)=>{const n=rn(e),r=Eo(e);Dd.has(n)&&(n.HTMLElement.prototype.focus=Dd.get(n).focus,r.removeEventListener("keydown",Rg,!0),r.removeEventListener("keyup",Rg,!0),r.removeEventListener("click",G$,!0),n.removeEventListener("focus",W$,!0),n.removeEventListener("blur",q$,!1),typeof n.PointerEvent<"u"?(r.removeEventListener("pointerdown",Hr,!0),r.removeEventListener("pointermove",Hr,!0),r.removeEventListener("pointerup",Hr,!0)):(r.removeEventListener("mousedown",Hr,!0),r.removeEventListener("mousemove",Hr,!0),r.removeEventListener("mouseup",Hr,!0)),Dd.delete(n))};function Ag(){return yl==="keyboard"}function K$(e={}){const{isTextInput:t,autoFocus:n,onChange:r,root:o}=e;KX(o),r?.({isFocusVisible:n||Ag(),modality:yl});const i=(s,a)=>{WX(!!t,s,a)&&r?.({isFocusVisible:Ag(),modality:s})};return w0.add(i),()=>{w0.delete(i)}}var XX=no("switch").parts("root","label","control","thumb"),Gf=XX.build(),Y$=e=>e.ids?.root??`switch:${e.id}`,qC=e=>e.ids?.label??`switch:${e.id}:label`,JX=e=>e.ids?.thumb??`switch:${e.id}:thumb`,ZX=e=>e.ids?.control??`switch:${e.id}:control`,k0=e=>e.ids?.hiddenInput??`switch:${e.id}:input`,QX=e=>e.getById(Y$(e)),pc=e=>e.getById(k0(e));function eJ(e,t){const{context:n,send:r,prop:o,scope:i}=e,s=!!o("disabled"),a=!!o("readOnly"),l=!!o("required"),c=!!n.get("checked"),u=!s&&n.get("focused"),p=!s&&n.get("focusVisible"),h={"data-active":G(n.get("active")),"data-focus":G(u),"data-focus-visible":G(p),"data-readonly":G(a),"data-hover":G(n.get("hovered")),"data-disabled":G(s),"data-state":c?"checked":"unchecked","data-invalid":G(o("invalid")),"data-required":G(l)};return{checked:c,disabled:s,focused:u,setChecked(f){r({type:"CHECKED.SET",checked:f,isTrusted:!1})},toggleChecked(){r({type:"CHECKED.TOGGLE",checked:c,isTrusted:!1})},getRootProps(){return t.label({...Gf.root.attrs,...h,dir:o("dir"),id:Y$(i),htmlFor:k0(i),onPointerMove(){s||r({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){s||r({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(f){s||(ho(f)===pc(i)&&f.stopPropagation(),lv()&&pc(i)?.focus())}})},getLabelProps(){return t.element({...Gf.label.attrs,...h,dir:o("dir"),id:qC(i)})},getThumbProps(){return t.element({...Gf.thumb.attrs,...h,dir:o("dir"),id:JX(i),"aria-hidden":!0})},getControlProps(){return t.element({...Gf.control.attrs,...h,dir:o("dir"),id:ZX(i),"aria-hidden":!0})},getHiddenInputProps(){return t.input({id:k0(i),type:"checkbox",required:o("required"),defaultChecked:c,disabled:s,"aria-labelledby":qC(i),"aria-invalid":o("invalid"),name:o("name"),form:o("form"),value:o("value"),style:cv,onFocus(){const f=Ag();r({type:"CONTEXT.SET",context:{focused:!0,focusVisible:f}})},onBlur(){r({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(f){if(a){f.preventDefault();return}const g=f.currentTarget.checked;r({type:"CHECKED.SET",checked:g,isTrusted:!0})}})}}}var{not:KC}=ef(),tJ={props({props:e}){return{defaultChecked:!1,label:"switch",value:"on",...e}},initialState(){return"ready"},context({prop:e,bindable:t}){return{checked:t(()=>({defaultValue:e("defaultChecked"),value:e("checked"),onChange(n){e("onCheckedChange")?.({checked:n})}})),fieldsetDisabled:t(()=>({defaultValue:!1})),focusVisible:t(()=>({defaultValue:!1})),active:t(()=>({defaultValue:!1})),focused:t(()=>({defaultValue:!1})),hovered:t(()=>({defaultValue:!1}))}},computed:{isDisabled:({context:e,prop:t})=>t("disabled")||e.get("fieldsetDisabled")},watch({track:e,prop:t,context:n,action:r}){e([()=>t("disabled")],()=>{r(["removeFocusIfNeeded"])}),e([()=>n.get("checked")],()=>{r(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:KC("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:KC("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},states:{ready:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackPressEvent({computed:e,scope:t,context:n}){if(!e("isDisabled"))return YY({pointerNode:QX(t),keyboardNode:pc(t),isValidKey:r=>r.key===" ",onPress:()=>n.set("active",!1),onPressStart:()=>n.set("active",!0),onPressEnd:()=>n.set("active",!1)})},trackFocusVisible({computed:e,scope:t}){if(!e("isDisabled"))return K$({root:t.getRootNode()})},trackFormControlState({context:e,send:t,scope:n}){return du(pc(n),{onFieldsetDisabledChange(r){e.set("fieldsetDisabled",r)},onFormReset(){const r=e.initial("checked");t({type:"CHECKED.SET",checked:!!r,src:"form-reset"})}})}},actions:{setContext({context:e,event:t}){for(const n in t.context)e.set(n,t.context[n])},syncInputElement({context:e,scope:t}){const n=pc(t);n&&$$(n,!!e.get("checked"))},removeFocusIfNeeded({context:e,prop:t}){t("disabled")&&e.set("focused",!1)},setChecked({context:e,event:t}){e.set("checked",t.checked)},toggleChecked({context:e}){e.set("checked",!e.get("checked"))},dispatchChangeEvent({context:e,scope:t}){const n=pc(t);A$(n,{checked:e.get("checked")})}}}};On()(["checked","defaultChecked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);const xl=A(()=>({dir:"ltr",locale:"en-US"})),[ICe,wl]=Ut("LocaleContext"),fu=e=>{const t={};for(const[n,r]of Object.entries(e))r!==void 0&&(t[n]=r);return t},nJ=(e={},t)=>{const n=nt(),r=vl(bl),o=wl(xl),i=Ln(),s=A(()=>{const l=pe(e);return{id:n,ids:{label:i?.value.ids.label,hiddenInput:i?.value.ids.control},disabled:i?.value.disabled,readOnly:i?.value.readOnly,invalid:i?.value.invalid,required:i?.value.required,dir:o.value.dir,getRootNode:r?.value.getRootNode,...fu(l),onCheckedChange(c){t?.("checkedChange",c),t?.("update:checked",c.checked),l.onCheckedChange?.(c)}}}),a=ml(tJ,s);return A(()=>eJ(a,pu))},rJ=P({__name:"switch-root",props:Ze({checked:{type:Boolean},defaultChecked:{type:Boolean},disabled:{type:Boolean},form:{},id:{},ids:{},invalid:{type:Boolean},label:{},name:{},readOnly:{type:Boolean},required:{type:Boolean},value:{},asChild:{type:Boolean}},{checked:void 0,defaultChecked:void 0,disabled:void 0,invalid:void 0,readOnly:void 0,required:void 0}),emits:["checkedChange","update:checked"],setup(e,{emit:t}){const n=nJ(e,t);return j$(n),ue(),(r,o)=>(y(),$(d(ce).label,F(d(n).getRootProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),oJ=P({__name:"switch-thumb",props:{asChild:{type:Boolean}},setup(e){const t=tf();return ue(),(n,r)=>(y(),$(d(ce).span,F(d(t).getThumbProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Fu=Object.freeze(Object.defineProperty({__proto__:null,Context:FX,Control:BX,HiddenInput:HX,Label:zX,Root:rJ,RootProvider:UX,Thumb:oJ},Symbol.toStringTag,{value:"Module"})),iJ={key:1,class:"flex items-center cursor-pointer gap-2"},sJ={class:"text-sm font-medium text-gray-700"},aJ=P({__name:"Boolean",props:at({field:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,n=A(()=>t.field.variant||"checkbox"),r=rt(e,"modelValue");return(o,i)=>n.value==="switch"?(y(),$(d(Fu).Root,{key:0,checked:r.value,"onUpdate:checked":i[0]||(i[0]=s=>r.value=s),class:"flex items-center cursor-pointer gap-2"},{default:O(()=>[S(d(Fu).Control,{class:"w-8 h-4 p-0.5 inline-flex items-center bg-gray-300 rounded-full data-[state=checked]:bg-accent relative transition-colors"},{default:O(()=>[S(d(Fu).Thumb,{class:"w-3 h-3 bg-white rounded-full shadow-sm data-[state=checked]:translate-x-4 transition-transform"})]),_:1}),S(d(Fu).Label,{class:"text-sm font-medium text-gray-700"},{default:O(()=>[re(j(o.field.label),1)]),_:1}),S(d(Fu).HiddenInput)]),_:1},8,["checked"])):(y(),V("label",iJ,[yo(D("input",{type:"checkbox","onUpdate:modelValue":i[1]||(i[1]=s=>r.value=s),class:"w-4 h-4 rounded border-gray-300 focus:outline-none text-accent focus:ring-accent focus:ring-2"},null,512),[[Fp,r.value]]),D("span",sJ,j(o.field.label),1)]))}}),lJ={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function cJ(e,t){return y(),V("svg",lJ,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m4.5 12.75l6 6l9-13.5"},null,-1)])])}const uJ=fe({name:"heroicons-check",render:cJ}),dJ={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function pJ(e,t){return y(),V("svg",dJ,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m19.5 8.25l-7.5 7.5l-7.5-7.5"},null,-1)])])}const X$=fe({name:"heroicons-chevron-down",render:pJ});var fJ=Object.defineProperty,hJ=(e,t,n)=>t in e?fJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Le=(e,t,n)=>hJ(e,typeof t!="symbol"?t+"":t,n),Ph={itemToValue(e){return typeof e=="string"?e:$b(e)&&Th(e,"value")?e.value:""},itemToString(e){return typeof e=="string"?e:$b(e)&&Th(e,"label")?e.label:Ph.itemToValue(e)},isItemDisabled(e){return $b(e)&&Th(e,"disabled")?!!e.disabled:!1}},Zx=class J${constructor(t){this.options=t,Le(this,"items"),Le(this,"indexMap",null),Le(this,"copy",n=>new J$({...this.options,items:n??[...this.items]})),Le(this,"isEqual",n=>gl(this.items,n.items)),Le(this,"setItems",n=>this.copy(n)),Le(this,"getValues",(n=this.items)=>{const r=[];for(const o of n){const i=this.getItemValue(o);i!=null&&r.push(i)}return r}),Le(this,"find",n=>{if(n==null)return null;const r=this.indexOf(n);return r!==-1?this.at(r):null}),Le(this,"findMany",n=>{const r=[];for(const o of n){const i=this.find(o);i!=null&&r.push(i)}return r}),Le(this,"at",n=>{if(!this.options.groupBy&&!this.options.groupSort)return this.items[n]??null;let r=0;const o=this.group();for(const[,i]of o)for(const s of i){if(r===n)return s;r++}return null}),Le(this,"sortFn",(n,r)=>{const o=this.indexOf(n),i=this.indexOf(r);return(o??0)-(i??0)}),Le(this,"sort",n=>[...n].sort(this.sortFn.bind(this))),Le(this,"getItemValue",n=>n==null?null:this.options.itemToValue?.(n)??Ph.itemToValue(n)),Le(this,"getItemDisabled",n=>n==null?!1:this.options.isItemDisabled?.(n)??Ph.isItemDisabled(n)),Le(this,"stringifyItem",n=>n==null?null:this.options.itemToString?.(n)??Ph.itemToString(n)),Le(this,"stringify",n=>n==null?null:this.stringifyItem(this.find(n))),Le(this,"stringifyItems",(n,r=", ")=>{const o=[];for(const i of n){const s=this.stringifyItem(i);s!=null&&o.push(s)}return o.join(r)}),Le(this,"stringifyMany",(n,r)=>this.stringifyItems(this.findMany(n),r)),Le(this,"has",n=>this.indexOf(n)!==-1),Le(this,"hasItem",n=>n==null?!1:this.has(this.getItemValue(n))),Le(this,"group",()=>{const{groupBy:n,groupSort:r}=this.options;if(!n)return[["",[...this.items]]];const o=new Map;this.items.forEach((s,a)=>{const l=n(s,a);o.has(l)||o.set(l,[]),o.get(l).push(s)});let i=Array.from(o.entries());return r&&i.sort(([s],[a])=>{if(typeof r=="function")return r(s,a);if(Array.isArray(r)){const l=r.indexOf(s),c=r.indexOf(a);return l===-1?1:c===-1?-1:l-c}return r==="asc"?s.localeCompare(a):r==="desc"?a.localeCompare(s):0}),i}),Le(this,"getNextValue",(n,r=1,o=!1)=>{let i=this.indexOf(n);if(i===-1)return null;for(i=o?Math.min(i+r,this.size-1):i+r;i<=this.size&&this.getItemDisabled(this.at(i));)i++;return this.getItemValue(this.at(i))}),Le(this,"getPreviousValue",(n,r=1,o=!1)=>{let i=this.indexOf(n);if(i===-1)return null;for(i=o?Math.max(i-r,0):i-r;i>=0&&this.getItemDisabled(this.at(i));)i--;return this.getItemValue(this.at(i))}),Le(this,"indexOf",n=>{if(n==null)return-1;if(!this.options.groupBy&&!this.options.groupSort)return this.items.findIndex(r=>this.getItemValue(r)===n);if(!this.indexMap){this.indexMap=new Map;let r=0;const o=this.group();for(const[,i]of o)for(const s of i){const a=this.getItemValue(s);a!=null&&this.indexMap.set(a,r),r++}}return this.indexMap.get(n)??-1}),Le(this,"getByText",(n,r)=>{const o=r!=null?this.indexOf(r):-1,i=n.length===1;for(let s=0;s<this.items.length;s++){const a=this.items[(o+s+1)%this.items.length];if(!(i&&this.getItemValue(a)===r)&&!this.getItemDisabled(a)&&gJ(this.stringifyItem(a),n))return a}}),Le(this,"search",(n,r)=>{const{state:o,currentValue:i,timeout:s=350}=r,a=o.keysSoFar+n,l=a.length>1&&Array.from(a).every(f=>f===a[0])?a[0]:a,c=this.getByText(l,i),u=this.getItemValue(c);function p(){clearTimeout(o.timer),o.timer=-1}function h(f){o.keysSoFar=f,p(),f!==""&&(o.timer=+setTimeout(()=>{h(""),p()},s))}return h(a),u}),Le(this,"update",(n,r)=>{let o=this.indexOf(n);return o===-1?this:this.copy([...this.items.slice(0,o),r,...this.items.slice(o+1)])}),Le(this,"upsert",(n,r,o="append")=>{let i=this.indexOf(n);return i===-1?(o==="append"?this.append:this.prepend)(r):this.copy([...this.items.slice(0,i),r,...this.items.slice(i+1)])}),Le(this,"insert",(n,...r)=>this.copy(Bu(this.items,n,...r))),Le(this,"insertBefore",(n,...r)=>{let o=this.indexOf(n);if(o===-1)if(this.items.length===0)o=0;else return this;return this.copy(Bu(this.items,o,...r))}),Le(this,"insertAfter",(n,...r)=>{let o=this.indexOf(n);if(o===-1)if(this.items.length===0)o=0;else return this;return this.copy(Bu(this.items,o+1,...r))}),Le(this,"prepend",(...n)=>this.copy(Bu(this.items,0,...n))),Le(this,"append",(...n)=>this.copy(Bu(this.items,this.items.length,...n))),Le(this,"filter",n=>{const r=this.items.filter((o,i)=>n(this.stringifyItem(o),i,o));return this.copy(r)}),Le(this,"remove",(...n)=>{const r=n.map(o=>typeof o=="string"?o:this.getItemValue(o));return this.copy(this.items.filter(o=>{const i=this.getItemValue(o);return i==null?!1:!r.includes(i)}))}),Le(this,"move",(n,r)=>{const o=this.indexOf(n);return o===-1?this:this.copy(Wf(this.items,[o],r))}),Le(this,"moveBefore",(n,...r)=>{let o=this.items.findIndex(s=>this.getItemValue(s)===n);if(o===-1)return this;let i=r.map(s=>this.items.findIndex(a=>this.getItemValue(a)===s)).sort((s,a)=>s-a);return this.copy(Wf(this.items,i,o))}),Le(this,"moveAfter",(n,...r)=>{let o=this.items.findIndex(s=>this.getItemValue(s)===n);if(o===-1)return this;let i=r.map(s=>this.items.findIndex(a=>this.getItemValue(a)===s)).sort((s,a)=>s-a);return this.copy(Wf(this.items,i,o+1))}),Le(this,"reorder",(n,r)=>this.copy(Wf(this.items,[n],r))),Le(this,"compareValue",(n,r)=>{const o=this.indexOf(n),i=this.indexOf(r);return o<i?-1:o>i?1:0}),Le(this,"range",(n,r)=>{let o=[],i=n;for(;i!=null;){if(this.find(i)&&o.push(i),i===r)return o;i=this.getNextValue(i)}return[]}),Le(this,"getValueRange",(n,r)=>n&&r?this.compareValue(n,r)<=0?this.range(n,r):this.range(r,n):[]),Le(this,"toString",()=>{let n="";for(const r of this.items){const o=this.getItemValue(r),i=this.stringifyItem(r),s=this.getItemDisabled(r),a=[o,i,s].filter(Boolean).join(":");n+=a+","}return n}),Le(this,"toJSON",()=>({size:this.size,first:this.firstValue,last:this.lastValue})),this.items=[...t.items]}get size(){return this.items.length}get firstValue(){let t=0;for(;this.getItemDisabled(this.at(t));)t++;return this.getItemValue(this.at(t))}get lastValue(){let t=this.size-1;for(;this.getItemDisabled(this.at(t));)t--;return this.getItemValue(this.at(t))}*[Symbol.iterator](){yield*this.items}},gJ=(e,t)=>!!e?.toLowerCase().startsWith(t.toLowerCase());function Bu(e,t,...n){return[...e.slice(0,t),...n,...e.slice(t)]}function Wf(e,t,n){t=[...t].sort((o,i)=>o-i);const r=t.map(o=>e[o]);for(let o=t.length-1;o>=0;o--)e=[...e.slice(0,t[o]),...e.slice(t[o]+1)];return n=Math.max(0,n-t.filter(o=>o<n).length),[...e.slice(0,n),...r,...e.slice(n)]}const mJ=e=>new Zx(e),[Z$,Vn]=Ut("SelectContext"),vJ=P({__name:"select-clear-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Vn();return ue(),(n,r)=>(y(),$(d(ce).button,F(d(t).getClearTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),[Q$,eR]=Ut("PresenceContext"),bJ=P({__name:"select-content",props:{asChild:{type:Boolean}},setup(e){const t=Vn(),n=eR(),r=A(()=>Xx(t.value.getContentProps(),n.value.presenceProps));return ue(),(o,i)=>d(n).unmounted?Z("",!0):(y(),$(d(ce).div,F({key:0},r.value,{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),yJ=P({__name:"select-context",setup(e){const t=Vn();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),xJ=P({__name:"select-control",props:{asChild:{type:Boolean}},setup(e){const t=Vn();return ue(),(n,r)=>(y(),$(d(ce).div,F(d(t).getControlProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),wJ={key:0,value:""},_J=["value","disabled"],kJ=P({__name:"select-hidden-select",props:{asChild:{type:Boolean}},setup(e){const t=Vn(),n=Ln();return ue(),(r,o)=>(y(),$(d(ce).select,F({"aria-describedby":d(n)?.ariaDescribedby},d(t).getHiddenSelectProps()),{default:O(()=>[d(t).value.length===0?(y(),V("option",wJ)):Z("",!0),(y(!0),V(ge,null,Ie(d(t).collection.items,i=>(y(),V("option",{key:i.value,value:d(t).collection.getItemValue(i),disabled:d(t).collection.getItemDisabled(i)},j(d(t).collection.stringifyItem(i))+" > ",9,_J))),128))]),_:1},16,["aria-describedby"]))}}),CJ=P({__name:"select-indicator",props:{asChild:{type:Boolean}},setup(e){const t=Vn();return ue(),(n,r)=>(y(),$(d(ce).div,F(d(t).getIndicatorProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),[EJ,OJ]=Ut("SelectItemContext"),IJ=P({__name:"select-item-context",setup(e){const t=OJ();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),[TJ,SJ]=Ut("SelectItemGroupPropsContext"),PJ=P({__name:"select-item-group-label",props:{asChild:{type:Boolean}},setup(e){const t=Vn(),n=SJ();return ue(),(r,o)=>(y(),$(d(ce).div,F(d(t).getItemGroupLabelProps({htmlFor:d(n).id}),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),$J=P({__name:"select-item-group",props:{id:{},asChild:{type:Boolean}},setup(e){const t=e,n=Vn(),r=nt(),o=t.id??r;return TJ({id:o}),ue(),(i,s)=>(y(),$(d(ce).div,F(d(n).getItemGroupProps({id:d(o)}),{"as-child":i.asChild}),{default:O(()=>[L(i.$slots,"default")]),_:3},16,["as-child"]))}}),[RJ,tR]=Ut("SelectItemPropsContext"),AJ=P({__name:"select-item-indicator",props:{asChild:{type:Boolean}},setup(e){const t=Vn(),n=tR();return ue(),(r,o)=>(y(),$(d(ce).div,F(d(t).getItemIndicatorProps(d(n)),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),NJ=P({__name:"select-item-text",props:{asChild:{type:Boolean}},setup(e){const t=Vn(),n=tR();return ue(),(r,o)=>(y(),$(d(ce).span,F(d(t).getItemTextProps(d(n)),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),MJ=P({__name:"select-item",props:{item:{},persistFocus:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=Vn();return RJ(t),EJ(A(()=>n.value.getItemState(t))),ue(),(r,o)=>(y(),$(d(ce).div,F(d(n).getItemProps(t),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),DJ=P({__name:"select-label",props:{asChild:{type:Boolean}},setup(e){const t=Vn();return ue(),(n,r)=>(y(),$(d(ce).label,F(d(t).getLabelProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),LJ=P({__name:"select-list",props:{asChild:{type:Boolean}},setup(e){const t=Vn();return ue(),(n,r)=>(y(),$(d(ce).div,F(d(t).getListProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),[dv,nR]=Ut("RenderStrategyProps");function VJ(e,t){const{state:n,send:r,context:o}=e,i=n.matches("mounted","unmountSuspended");return{skip:!o.get("initial"),present:i,setNode(s){s&&r({type:"NODE.SET",node:s})},unmount(){r({type:"UNMOUNT"})}}}var FJ={props({props:e}){return{...e,present:!!e.present}},initialState({prop:e}){return e("present")?"mounted":"unmounted"},refs(){return{node:null,styles:null}},context({bindable:e}){return{unmountAnimationName:e(()=>({defaultValue:null})),prevAnimationName:e(()=>({defaultValue:null})),present:e(()=>({defaultValue:!1})),initial:e(()=>({sync:!0,defaultValue:!1}))}},exit:["clearInitial","cleanupNode"],watch({track:e,prop:t,send:n}){e([()=>t("present")],()=>{n({type:"PRESENCE.CHANGED"})})},on:{"NODE.SET":{actions:["setupNode"]},"PRESENCE.CHANGED":{actions:["setInitial","syncPresence"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]},"UNMOUNT.SUSPEND":{target:"unmountSuspended"}}},unmountSuspended:{effects:["trackAnimationEvents"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]}}},unmounted:{on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}},implementations:{actions:{setInitial:({context:e})=>{e.get("initial")||queueMicrotask(()=>{e.set("initial",!0)})},clearInitial:({context:e})=>{e.set("initial",!1)},invokeOnExitComplete:({prop:e})=>{e("onExitComplete")?.()},setupNode:({refs:e,event:t})=>{e.get("node")!==t.node&&(e.set("node",t.node),e.set("styles",Ux(t.node)))},cleanupNode:({refs:e})=>{e.set("node",null),e.set("styles",null)},syncPresence:({context:e,refs:t,send:n,prop:r})=>{const o=r("present");if(o)return n({type:"MOUNT",src:"presence.changed"});const i=t.get("node");if(!o&&i?.ownerDocument.visibilityState==="hidden")return n({type:"UNMOUNT",src:"visibilitychange"});Ht(()=>{const s=qf(t.get("styles"));e.set("unmountAnimationName",s),s==="none"||s===e.get("prevAnimationName")||t.get("styles")?.display==="none"||t.get("styles")?.animationDuration==="0s"?n({type:"UNMOUNT",src:"presence.changed"}):n({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName:({context:e,refs:t})=>{Ht(()=>{e.set("prevAnimationName",qf(t.get("styles")))})},clearPrevAnimationName:({context:e})=>{e.set("prevAnimationName",null)}},effects:{trackAnimationEvents:({context:e,refs:t,send:n})=>{const r=t.get("node");if(!r)return;const o=a=>{(a.composedPath?.()?.[0]??a.target)===r&&e.set("prevAnimationName",qf(t.get("styles")))},i=a=>{const l=qf(t.get("styles"));ho(a)===r&&l===e.get("unmountAnimationName")&&n({type:"UNMOUNT",src:"animationend"})};r.addEventListener("animationstart",o),r.addEventListener("animationcancel",i),r.addEventListener("animationend",i);const s=z$(r,{animationFillMode:"forwards"});return()=>{r.removeEventListener("animationstart",o),r.removeEventListener("animationcancel",i),r.removeEventListener("animationend",i),D$(()=>s())}}}}};function qf(e){return e?.animationName||"none"}On()(["onExitComplete","present","immediate"]);const rR=(e,t)=>{const n=Q(!1),r=Q(null),o=A(()=>({present:pe(e).present,onExitComplete:()=>t?.("exitComplete")})),i=ml(FJ,o),s=A(()=>VJ(i));return st(()=>s.value.present,()=>{s.value.present&&(n.value=!0)}),st(r,()=>{if(r.value){const a=r.value.$el?r.value.$el:r.value;a&&s.value.setNode(a)}}),A(()=>{const a=pe(e);return{present:s.value.present,unmounted:!s.value.present&&!n.value&&a.lazyMount||a?.unmountOnExit&&!s.value?.present&&n.value,presenceProps:{ref:r,hidden:!s.value.present,"data-state":s.value.skip&&a.skipAnimationOnMount?void 0:a?.present?"open":"closed"}}})},BJ=P({__name:"select-positioner",props:{asChild:{type:Boolean}},setup(e){const t=Vn(),n=nR(),r=rR(A(()=>({...n.value,present:t.value.open})));return Q$(r),ue(),(o,i)=>d(r).unmounted?Z("",!0):(y(),$(d(ce).div,F({key:0},d(t).getPositionerProps(),{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),HJ=P({__name:"select-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=A(()=>t.value);return Z$(n),dv(A(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),ue(),(r,o)=>(y(),$(d(ce).div,F(n.value.getRootProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),zJ=["top","right","bottom","left"],Ys=Math.min,br=Math.max,Ng=Math.round,Kf=Math.floor,Yo=e=>({x:e,y:e}),UJ={left:"right",right:"left",bottom:"top",top:"bottom"},jJ={start:"end",end:"start"};function C0(e,t,n){return br(e,Ys(t,n))}function zi(e,t){return typeof e=="function"?e(t):e}function Ui(e){return e.split("-")[0]}function hu(e){return e.split("-")[1]}function Qx(e){return e==="x"?"y":"x"}function ew(e){return e==="y"?"height":"width"}const GJ=new Set(["top","bottom"]);function Uo(e){return GJ.has(Ui(e))?"y":"x"}function tw(e){return Qx(Uo(e))}function WJ(e,t,n){n===void 0&&(n=!1);const r=hu(e),o=tw(e),i=ew(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Mg(s)),[s,Mg(s)]}function qJ(e){const t=Mg(e);return[E0(e),t,E0(t)]}function E0(e){return e.replace(/start|end/g,t=>jJ[t])}const YC=["left","right"],XC=["right","left"],KJ=["top","bottom"],YJ=["bottom","top"];function XJ(e,t,n){switch(e){case"top":case"bottom":return n?t?XC:YC:t?YC:XC;case"left":case"right":return t?KJ:YJ;default:return[]}}function JJ(e,t,n,r){const o=hu(e);let i=XJ(Ui(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(E0)))),i}function Mg(e){return e.replace(/left|right|bottom|top/g,t=>UJ[t])}function ZJ(e){return{top:0,right:0,bottom:0,left:0,...e}}function oR(e){return typeof e!="number"?ZJ(e):{top:e,right:e,bottom:e,left:e}}function Dg(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function JC(e,t,n){let{reference:r,floating:o}=e;const i=Uo(t),s=tw(t),a=ew(s),l=Ui(t),c=i==="y",u=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,h=r[a]/2-o[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-o.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:p};break;case"left":f={x:r.x-o.width,y:p};break;default:f={x:r.x,y:r.y}}switch(hu(t)){case"start":f[s]-=h*(n&&c?-1:1);break;case"end":f[s]+=h*(n&&c?-1:1);break}return f}const QJ=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:p}=JC(c,r,l),h=r,f={},g=0;for(let m=0;m<a.length;m++){const{name:b,fn:w}=a[m],{x:E,y:k,data:v,reset:_}=await w({x:u,y:p,initialPlacement:r,placement:h,strategy:o,middlewareData:f,rects:c,platform:s,elements:{reference:e,floating:t}});u=E??u,p=k??p,f={...f,[b]:{...f[b],...v}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(c=_.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):_.rects),{x:u,y:p}=JC(c,h,l)),m=-1)}return{x:u,y:p,placement:h,strategy:o,middlewareData:f}};async function fp(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:p="floating",altBoundary:h=!1,padding:f=0}=zi(t,e),g=oR(f),m=a[h?p==="floating"?"reference":"floating":p],b=Dg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(m)))==null||n?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=p==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},v=Dg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:E,strategy:l}):w);return{top:(b.top-v.top+g.top)/k.y,bottom:(v.bottom-b.bottom+g.bottom)/k.y,left:(b.left-v.left+g.left)/k.x,right:(v.right-b.right+g.right)/k.x}}const eZ=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=zi(e,t)||{};if(c==null)return{};const p=oR(u),h={x:n,y:r},f=tw(o),g=ew(f),m=await s.getDimensions(c),b=f==="y",w=b?"top":"left",E=b?"bottom":"right",k=b?"clientHeight":"clientWidth",v=i.reference[g]+i.reference[f]-h[f]-i.floating[g],_=h[f]-i.reference[f],T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let N=T?T[k]:0;(!N||!await(s.isElement==null?void 0:s.isElement(T)))&&(N=a.floating[k]||i.floating[g]);const C=v/2-_/2,x=N/2-m[g]/2-1,I=Ys(p[w],x),R=Ys(p[E],x),M=I,B=N-m[g]-R,z=N/2-m[g]/2+C,J=C0(M,z,B),q=!l.arrow&&hu(o)!=null&&z!==J&&i.reference[g]/2-(z<M?I:R)-m[g]/2<0,K=q?z<M?z-M:z-B:0;return{[f]:h[f]+K,data:{[f]:J,centerOffset:z-J-K,...q&&{alignmentOffset:K}},reset:q}}}),tZ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...b}=zi(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=Ui(o),E=Uo(a),k=Ui(a)===a,v=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=h||(k||!m?[Mg(a)]:qJ(a)),T=g!=="none";!h&&T&&_.push(...JJ(a,m,g,v));const N=[a,..._],C=await fp(t,b),x=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&x.push(C[w]),p){const z=WJ(o,s,v);x.push(C[z[0]],C[z[1]])}if(I=[...I,{placement:o,overflows:x}],!x.every(z=>z<=0)){var R,M;const z=(((R=i.flip)==null?void 0:R.index)||0)+1,J=N[z];if(J&&(!(p==="alignment"&&E!==Uo(J))||I.every(K=>Uo(K.placement)===E?K.overflows[0]>0:!0)))return{data:{index:z,overflows:I},reset:{placement:J}};let q=(M=I.filter(K=>K.overflows[0]<=0).sort((K,X)=>K.overflows[1]-X.overflows[1])[0])==null?void 0:M.placement;if(!q)switch(f){case"bestFit":{var B;const K=(B=I.filter(X=>{if(T){const de=Uo(X.placement);return de===E||de==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(de=>de>0).reduce((de,Ue)=>de+Ue,0)]).sort((X,de)=>X[1]-de[1])[0])==null?void 0:B[0];K&&(q=K);break}case"initialPlacement":q=a;break}if(o!==q)return{reset:{placement:q}}}return{}}}};function ZC(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function QC(e){return zJ.some(t=>e[t]>=0)}const nZ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=zi(e,t);switch(r){case"referenceHidden":{const i=await fp(t,{...o,elementContext:"reference"}),s=ZC(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:QC(s)}}}case"escaped":{const i=await fp(t,{...o,altBoundary:!0}),s=ZC(i,n.floating);return{data:{escapedOffsets:s,escaped:QC(s)}}}default:return{}}}}},iR=new Set(["left","top"]);async function rZ(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Ui(n),a=hu(n),l=Uo(n)==="y",c=iR.has(s)?-1:1,u=i&&l?-1:1,p=zi(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:g}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof g=="number"&&(f=a==="end"?g*-1:g),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const oZ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:a}=t,l=await rZ(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:s}}}}},iZ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:b=>{let{x:w,y:E}=b;return{x:w,y:E}}},...l}=zi(e,t),c={x:n,y:r},u=await fp(t,l),p=Uo(Ui(o)),h=Qx(p);let f=c[h],g=c[p];if(i){const b=h==="y"?"top":"left",w=h==="y"?"bottom":"right",E=f+u[b],k=f-u[w];f=C0(E,f,k)}if(s){const b=p==="y"?"top":"left",w=p==="y"?"bottom":"right",E=g+u[b],k=g-u[w];g=C0(E,g,k)}const m=a.fn({...t,[h]:f,[p]:g});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:i,[p]:s}}}}}},sZ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=zi(e,t),u={x:n,y:r},p=Uo(o),h=Qx(p);let f=u[h],g=u[p];const m=zi(a,t),b=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const k=h==="y"?"height":"width",v=i.reference[h]-i.floating[k]+b.mainAxis,_=i.reference[h]+i.reference[k]-b.mainAxis;f<v?f=v:f>_&&(f=_)}if(c){var w,E;const k=h==="y"?"width":"height",v=iR.has(Ui(o)),_=i.reference[p]-i.floating[k]+(v&&((w=s.offset)==null?void 0:w[p])||0)+(v?0:b.crossAxis),T=i.reference[p]+i.reference[k]+(v?0:((E=s.offset)==null?void 0:E[p])||0)-(v?b.crossAxis:0);g<_?g=_:g>T&&(g=T)}return{[h]:f,[p]:g}}}},aZ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:s,elements:a}=t,{apply:l=()=>{},...c}=zi(e,t),u=await fp(t,c),p=Ui(o),h=hu(o),f=Uo(o)==="y",{width:g,height:m}=i.floating;let b,w;p==="top"||p==="bottom"?(b=p,w=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(w=p,b=h==="end"?"top":"bottom");const E=m-u.top-u.bottom,k=g-u.left-u.right,v=Ys(m-u[b],E),_=Ys(g-u[w],k),T=!t.middlewareData.shift;let N=v,C=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=k),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=E),T&&!h){const I=br(u.left,0),R=br(u.right,0),M=br(u.top,0),B=br(u.bottom,0);f?C=g-2*(I!==0||R!==0?I+R:br(u.left,u.right)):N=m-2*(M!==0||B!==0?M+B:br(u.top,u.bottom))}await l({...t,availableWidth:C,availableHeight:N});const x=await s.getDimensions(a.floating);return g!==x.width||m!==x.height?{reset:{rects:!0}}:{}}}};function pv(){return typeof window<"u"}function gu(e){return sR(e)?(e.nodeName||"").toLowerCase():"#document"}function Cr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function li(e){var t;return(t=(sR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function sR(e){return pv()?e instanceof Node||e instanceof Cr(e).Node:!1}function go(e){return pv()?e instanceof Element||e instanceof Cr(e).Element:!1}function ti(e){return pv()?e instanceof HTMLElement||e instanceof Cr(e).HTMLElement:!1}function eE(e){return!pv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Cr(e).ShadowRoot}const lZ=new Set(["inline","contents"]);function nf(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=mo(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!lZ.has(o)}const cZ=new Set(["table","td","th"]);function uZ(e){return cZ.has(gu(e))}const dZ=[":popover-open",":modal"];function fv(e){return dZ.some(t=>{try{return e.matches(t)}catch{return!1}})}const pZ=["transform","translate","scale","rotate","perspective"],fZ=["transform","translate","scale","rotate","perspective","filter"],hZ=["paint","layout","strict","content"];function nw(e){const t=rw(),n=go(e)?mo(e):e;return pZ.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||fZ.some(r=>(n.willChange||"").includes(r))||hZ.some(r=>(n.contain||"").includes(r))}function gZ(e){let t=Xs(e);for(;ti(t)&&!Uc(t);){if(nw(t))return t;if(fv(t))return null;t=Xs(t)}return null}function rw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mZ=new Set(["html","body","#document"]);function Uc(e){return mZ.has(gu(e))}function mo(e){return Cr(e).getComputedStyle(e)}function hv(e){return go(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xs(e){if(gu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||eE(e)&&e.host||li(e);return eE(t)?t.host:t}function aR(e){const t=Xs(e);return Uc(t)?e.ownerDocument?e.ownerDocument.body:e.body:ti(t)&&nf(t)?t:aR(t)}function hp(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=aR(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=Cr(o);if(i){const a=O0(s);return t.concat(s,s.visualViewport||[],nf(o)?o:[],a&&n?hp(a):[])}return t.concat(o,hp(o,[],n))}function O0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function lR(e){const t=mo(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=ti(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=Ng(n)!==i||Ng(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function ow(e){return go(e)?e:e.contextElement}function Ic(e){const t=ow(e);if(!ti(t))return Yo(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=lR(t);let s=(i?Ng(n.width):n.width)/r,a=(i?Ng(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const vZ=Yo(0);function cR(e){const t=Cr(e);return!rw()||!t.visualViewport?vZ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function bZ(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Cr(e)?!1:t}function il(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=ow(e);let s=Yo(1);t&&(r?go(r)&&(s=Ic(r)):s=Ic(e));const a=bZ(i,n,r)?cR(i):Yo(0);let l=(o.left+a.x)/s.x,c=(o.top+a.y)/s.y,u=o.width/s.x,p=o.height/s.y;if(i){const h=Cr(i),f=r&&go(r)?Cr(r):r;let g=h,m=O0(g);for(;m&&r&&f!==g;){const b=Ic(m),w=m.getBoundingClientRect(),E=mo(m),k=w.left+(m.clientLeft+parseFloat(E.paddingLeft))*b.x,v=w.top+(m.clientTop+parseFloat(E.paddingTop))*b.y;l*=b.x,c*=b.y,u*=b.x,p*=b.y,l+=k,c+=v,g=Cr(m),m=O0(g)}}return Dg({width:u,height:p,x:l,y:c})}function gv(e,t){const n=hv(e).scrollLeft;return t?t.left+n:il(li(e)).left+n}function uR(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-gv(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function yZ(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=li(r),a=t?fv(t.floating):!1;if(r===s||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Yo(1);const u=Yo(0),p=ti(r);if((p||!p&&!i)&&((gu(r)!=="body"||nf(s))&&(l=hv(r)),ti(r))){const f=il(r);c=Ic(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const h=s&&!p&&!i?uR(s,l):Yo(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function xZ(e){return Array.from(e.getClientRects())}function wZ(e){const t=li(e),n=hv(e),r=e.ownerDocument.body,o=br(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=br(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+gv(e);const a=-n.scrollTop;return mo(r).direction==="rtl"&&(s+=br(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}const tE=25;function _Z(e,t){const n=Cr(e),r=li(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;const u=rw();(!u||u&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}const c=gv(r);if(c<=0){const u=r.ownerDocument,p=u.body,h=getComputedStyle(p),f=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(r.clientWidth-p.clientWidth-f);g<=tE&&(i-=g)}else c<=tE&&(i+=c);return{width:i,height:s,x:a,y:l}}const kZ=new Set(["absolute","fixed"]);function CZ(e,t){const n=il(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=ti(e)?Ic(e):Yo(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,l=o*i.x,c=r*i.y;return{width:s,height:a,x:l,y:c}}function nE(e,t,n){let r;if(t==="viewport")r=_Z(e,n);else if(t==="document")r=wZ(li(e));else if(go(t))r=CZ(t,n);else{const o=cR(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Dg(r)}function dR(e,t){const n=Xs(e);return n===t||!go(n)||Uc(n)?!1:mo(n).position==="fixed"||dR(n,t)}function EZ(e,t){const n=t.get(e);if(n)return n;let r=hp(e,[],!1).filter(a=>go(a)&&gu(a)!=="body"),o=null;const i=mo(e).position==="fixed";let s=i?Xs(e):e;for(;go(s)&&!Uc(s);){const a=mo(s),l=nw(s);!l&&a.position==="fixed"&&(o=null),(i?!l&&!o:!l&&a.position==="static"&&o&&kZ.has(o.position)||nf(s)&&!l&&dR(e,s))?r=r.filter(c=>c!==s):o=a,s=Xs(s)}return t.set(e,r),r}function OZ(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?fv(t)?[]:EZ(t,this._c):[].concat(n),r],s=i[0],a=i.reduce((l,c)=>{const u=nE(t,c,o);return l.top=br(u.top,l.top),l.right=Ys(u.right,l.right),l.bottom=Ys(u.bottom,l.bottom),l.left=br(u.left,l.left),l},nE(t,s,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function IZ(e){const{width:t,height:n}=lR(e);return{width:t,height:n}}function TZ(e,t,n){const r=ti(t),o=li(t),i=n==="fixed",s=il(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=Yo(0);function c(){l.x=gv(o)}if(r||!r&&!i)if((gu(t)!=="body"||nf(o))&&(a=hv(t)),r){const f=il(t,!0,i,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else o&&c();i&&!r&&o&&c();const u=o&&!r&&!i?uR(o,a):Yo(0),p=s.left+a.scrollLeft-l.x-u.x,h=s.top+a.scrollTop-l.y-u.y;return{x:p,y:h,width:s.width,height:s.height}}function Db(e){return mo(e).position==="static"}function rE(e,t){if(!ti(e)||mo(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return li(e)===n&&(n=n.ownerDocument.body),n}function pR(e,t){const n=Cr(e);if(fv(e))return n;if(!ti(e)){let o=Xs(e);for(;o&&!Uc(o);){if(go(o)&&!Db(o))return o;o=Xs(o)}return n}let r=rE(e,t);for(;r&&uZ(r)&&Db(r);)r=rE(r,t);return r&&Uc(r)&&Db(r)&&!nw(r)?n:r||gZ(e)||n}const SZ=async function(e){const t=this.getOffsetParent||pR,n=this.getDimensions,r=await n(e.floating);return{reference:TZ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function PZ(e){return mo(e).direction==="rtl"}const $Z={convertOffsetParentRelativeRectToViewportRelativeRect:yZ,getDocumentElement:li,getClippingRect:OZ,getOffsetParent:pR,getElementRects:SZ,getClientRects:xZ,getDimensions:IZ,getScale:Ic,isElement:go,isRTL:PZ};function fR(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function RZ(e,t){let n=null,r;const o=li(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=e.getBoundingClientRect(),{left:u,top:p,width:h,height:f}=c;if(a||t(),!h||!f)return;const g=Kf(p),m=Kf(o.clientWidth-(u+h)),b=Kf(o.clientHeight-(p+f)),w=Kf(u),E={rootMargin:-g+"px "+-m+"px "+-b+"px "+-w+"px",threshold:br(0,Ys(1,l))||1};let k=!0;function v(_){const T=_[0].intersectionRatio;if(T!==l){if(!k)return s();T?s(!1,T):r=setTimeout(()=>{s(!1,1e-7)},1e3)}T===1&&!fR(c,e.getBoundingClientRect())&&s(),k=!1}try{n=new IntersectionObserver(v,{...E,root:o.ownerDocument})}catch{n=new IntersectionObserver(v,E)}n.observe(e)}return s(!0),i}function AZ(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=ow(e),u=o||i?[...c?hp(c):[],...hp(t)]:[];u.forEach(w=>{o&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const p=c&&a?RZ(c,n):null;let h=-1,f=null;s&&(f=new ResizeObserver(w=>{let[E]=w;E&&E.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var k;(k=f)==null||k.observe(t)})),n()}),c&&!l&&f.observe(c),f.observe(t));let g,m=l?il(e):null;l&&b();function b(){const w=il(e);m&&!fR(m,w)&&n(),m=w,g=requestAnimationFrame(b)}return n(),()=>{var w;u.forEach(E=>{o&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),p?.(),(w=f)==null||w.disconnect(),f=null,l&&cancelAnimationFrame(g)}}const NZ=oZ,MZ=iZ,DZ=tZ,LZ=aZ,VZ=nZ,FZ=eZ,BZ=sZ,HZ=(e,t,n)=>{const r=new Map,o={platform:$Z,...n},i={...o.platform,_c:r};return QJ(e,t,{...o,platform:i})};function oE(e=0,t=0,n=0,r=0){if(typeof DOMRect=="function")return new DOMRect(e,t,n,r);const o={x:e,y:t,width:n,height:r,top:t,right:e+n,bottom:t+r,left:e};return{...o,toJSON:()=>o}}function zZ(e){if(!e)return oE();const{x:t,y:n,width:r,height:o}=e;return oE(t,n,r,o)}function UZ(e,t){return{contextElement:Jn(e)?e:void 0,getBoundingClientRect:()=>{const n=e,r=t?.(n);return r||!n?zZ(r):n.getBoundingClientRect()}}}var Hu=e=>({variable:e,reference:`var(${e})`}),bi={arrowSize:Hu("--arrow-size"),arrowSizeHalf:Hu("--arrow-size-half"),arrowBg:Hu("--arrow-background"),transformOrigin:Hu("--transform-origin"),arrowOffset:Hu("--arrow-offset")},jZ=e=>e==="top"||e==="bottom"?"y":"x";function GZ(e,t){return{name:"transformOrigin",fn(n){const{elements:r,middlewareData:o,placement:i,rects:s,y:a}=n,l=i.split("-")[0],c=jZ(l),u=o.arrow?.x||0,p=o.arrow?.y||0,h=t?.clientWidth||0,f=t?.clientHeight||0,g=u+h/2,m=p+f/2,b=Math.abs(o.shift?.y||0),w=s.reference.height/2,E=f/2,k=e.offset?.mainAxis??e.gutter,v=typeof k=="number"?k+E:k??E,_=b>v,T={top:`${g}px calc(100% + ${v}px)`,bottom:`${g}px ${-v}px`,left:`calc(100% + ${v}px) ${m}px`,right:`${-v}px ${m}px`}[l],N=`${g}px ${s.reference.y+w-a}px`,C=!!e.overlap&&c==="y"&&_;return r.floating.style.setProperty(bi.transformOrigin.variable,C?N:T),{data:{transformOrigin:C?N:T}}}}}var WZ={name:"rects",fn({rects:e}){return{data:e}}},qZ=e=>{if(e)return{name:"shiftArrow",fn({placement:t,middlewareData:n}){if(!n.arrow)return{};const{x:r,y:o}=n.arrow,i=t.split("-")[0];return Object.assign(e.style,{left:r!=null?`${r}px`:"",top:o!=null?`${o}px`:"",[i]:`calc(100% + ${bi.arrowOffset.reference})`}),{}}}};function KZ(e){const[t,n]=e.split("-");return{side:t,align:n,hasAlign:n!=null}}var YZ={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function iE(e,t){const n=e.devicePixelRatio||1;return Math.round(t*n)/n}function iw(e){return typeof e=="function"?e():e==="clipping-ancestors"?"clippingAncestors":e}function XZ(e,t,n){const r=e||t.createElement("div");return FZ({element:r,padding:n.arrowPadding})}function JZ(e,t){if(!PK(t.offset??t.gutter))return NZ(({placement:n})=>{const r=(e?.clientHeight||0)/2,o=t.offset?.mainAxis??t.gutter,i=typeof o=="number"?o+r:o??r,{hasAlign:s}=KZ(n),a=s?void 0:t.shift,l=t.offset?.crossAxis??a;return zx({crossAxis:l,mainAxis:i,alignmentAxis:t.shift})})}function ZZ(e){if(!e.flip)return;const t=iw(e.boundary);return DZ({...t?{boundary:t}:void 0,padding:e.overflowPadding,fallbackPlacements:e.flip===!0?void 0:e.flip})}function QZ(e){if(!e.slide&&!e.overlap)return;const t=iw(e.boundary);return MZ({...t?{boundary:t}:void 0,mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:BZ()})}function eQ(e){return LZ({padding:e.overflowPadding,apply({elements:t,rects:n,availableHeight:r,availableWidth:o}){const i=t.floating,s=Math.round(n.reference.width),a=Math.round(n.reference.height);o=Math.floor(o),r=Math.floor(r),i.style.setProperty("--reference-width",`${s}px`),i.style.setProperty("--reference-height",`${a}px`),i.style.setProperty("--available-width",`${o}px`),i.style.setProperty("--available-height",`${r}px`)}})}function tQ(e){if(e.hideWhenDetached)return VZ({strategy:"referenceHidden",boundary:iw(e.boundary)??"clippingAncestors"})}function nQ(e){return e?e===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:e:{}}function rQ(e,t,n={}){const r=UZ(e,n.getAnchorRect);if(!t||!r)return;const o=Object.assign({},YZ,n),i=t.querySelector("[data-part=arrow]"),s=[JZ(i,o),ZZ(o),QZ(o),XZ(i,t.ownerDocument,o),qZ(i),GZ({gutter:o.gutter,offset:o.offset,overlap:o.overlap},i),eQ(o),tQ(o),WZ],{placement:a,strategy:l,onComplete:c,onPositioned:u}=o,p=async()=>{if(!r||!t)return;const m=await HZ(r,t,{placement:a,middleware:s,strategy:l});c?.(m),u?.({placed:!0});const b=rn(t),w=iE(b,m.x),E=iE(b,m.y);t.style.setProperty("--x",`${w}px`),t.style.setProperty("--y",`${E}px`),o.hideWhenDetached&&(m.middlewareData.hide?.referenceHidden?(t.style.setProperty("visibility","hidden"),t.style.setProperty("pointer-events","none")):(t.style.removeProperty("visibility"),t.style.removeProperty("pointer-events")));const k=t.firstElementChild;if(k){const v=Ux(k);t.style.setProperty("--z-index",v.zIndex)}},h=async()=>{n.updatePosition?(await n.updatePosition({updatePosition:p,floatingElement:t}),u?.({placed:!0})):await p()},f=nQ(o.listeners),g=o.listeners?AZ(r,t,h,f):LK;return h(),()=>{g?.(),u?.({placed:!1})}}function I0(e,t,n={}){const{defer:r,...o}=n,i=r?Ht:a=>a(),s=[];return s.push(i(()=>{const a=typeof e=="function"?e():e,l=typeof t=="function"?t():t;s.push(rQ(a,l,o))})),()=>{s.forEach(a=>a?.())}}var oQ={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function hR(e={}){const{placement:t,sameWidth:n,fitViewport:r,strategy:o="absolute"}=e;return{arrow:{position:"absolute",width:bi.arrowSize.reference,height:bi.arrowSize.reference,[bi.arrowSizeHalf.variable]:`calc(${bi.arrowSize.reference} / 2)`,[bi.arrowOffset.variable]:`calc(${bi.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:t?oQ[t.split("-")[0]]:void 0,background:bi.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:o,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:r?"var(--available-width)":void 0,maxHeight:r?"var(--available-height)":void 0,pointerEvents:t?void 0:"none",top:"0px",left:"0px",transform:t?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}function iQ(e){const t={each(n){for(let r=0;r<e.frames?.length;r+=1){const o=e.frames[r];o&&n(o)}},addEventListener(n,r,o){return t.each(i=>{try{i.document.addEventListener(n,r,o)}catch{}}),()=>{try{t.removeEventListener(n,r,o)}catch{}}},removeEventListener(n,r,o){t.each(i=>{try{i.document.removeEventListener(n,r,o)}catch{}})}};return t}function sQ(e){const t=e.frameElement!=null?e.parent:null;return{addEventListener:(n,r,o)=>{try{t?.addEventListener(n,r,o)}catch{}return()=>{try{t?.removeEventListener(n,r,o)}catch{}}},removeEventListener:(n,r,o)=>{try{t?.removeEventListener(n,r,o)}catch{}}}}var sE="pointerdown.outside",aE="focus.outside";function aQ(e){for(const t of e)if(Jn(t)&&Wx(t))return!0;return!1}var gR=e=>"clientY"in e;function lQ(e,t){if(!gR(t)||!e)return!1;const n=e.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=t.clientY&&t.clientY<=n.top+n.height&&n.left<=t.clientX&&t.clientX<=n.left+n.width}function cQ(e,t){return e.y<=t.y&&t.y<=e.y+e.height&&e.x<=t.x&&t.x<=e.x+e.width}function lE(e,t){if(!t||!gR(e))return!1;const n=t.scrollHeight>t.clientHeight,r=n&&e.clientX>t.offsetLeft+t.clientWidth,o=t.scrollWidth>t.clientWidth,i=o&&e.clientY>t.offsetTop+t.clientHeight,s={x:t.offsetLeft,y:t.offsetTop,width:t.clientWidth+(n?16:0),height:t.clientHeight+(o?16:0)},a={x:e.clientX,y:e.clientY};return cQ(s,a)?r||i:!1}function uQ(e,t){const{exclude:n,onFocusOutside:r,onPointerDownOutside:o,onInteractOutside:i,defer:s}=t;if(!e)return;const a=Eo(e),l=rn(e),c=iQ(l),u=sQ(l);function p(E,k){if(!Jn(k)||!k.isConnected||zc(e,k)||lQ(e,E))return!1;const v=a.querySelector(`[aria-controls="${e.id}"]`);if(v){const T=v0(v);if(lE(E,T))return!1}const _=v0(e);return lE(E,_)?!1:!n?.(k)}const h=new Set,f=up(e?.getRootNode());function g(E){function k(v){const _=s&&!zC()?Ht:C=>C(),T=v??E,N=T?.composedPath?.()??[T?.target];_(()=>{const C=f?N[0]:ho(E);if(!(!e||!p(E,C))){if(o||i){const x=Og(o,i);e.addEventListener(sE,x,{once:!0})}cE(e,sE,{bubbles:!1,cancelable:!0,detail:{originalEvent:T,contextmenu:EY(T),focusable:aQ(N),target:C}})}})}E.pointerType==="touch"?(h.forEach(v=>v()),h.add(Kt(a,"click",k,{once:!0})),h.add(u.addEventListener("click",k,{once:!0})),h.add(c.addEventListener("click",k,{once:!0}))):k()}const m=new Set,b=setTimeout(()=>{m.add(Kt(a,"pointerdown",g,!0)),m.add(u.addEventListener("pointerdown",g,!0)),m.add(c.addEventListener("pointerdown",g,!0))},0);function w(E){(s?Ht:k=>k())(()=>{const k=ho(E);if(!(!e||!p(E,k))){if(r||i){const v=Og(r,i);e.addEventListener(aE,v,{once:!0})}cE(e,aE,{bubbles:!1,cancelable:!0,detail:{originalEvent:E,contextmenu:!1,focusable:Wx(k),target:k}})}})}return zC()||(m.add(Kt(a,"focusin",w,!0)),m.add(u.addEventListener("focusin",w,!0)),m.add(c.addEventListener("focusin",w,!0))),()=>{clearTimeout(b),h.forEach(E=>E()),m.forEach(E=>E())}}function dQ(e,t){const{defer:n}=t,r=n?Ht:i=>i(),o=[];return o.push(r(()=>{const i=typeof e=="function"?e():e;o.push(uQ(i,t))})),()=>{o.forEach(i=>i?.())}}function cE(e,t,n){const r=e.ownerDocument.defaultView||window,o=new r.CustomEvent(t,n);return e.dispatchEvent(o)}function pQ(e,t){const n=r=>{r.key==="Escape"&&(r.isComposing||t?.(r))};return Kt(Eo(e),"keydown",n,{capture:!0})}var uE="layer:request-dismiss",Lr={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(e=>e.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(e){const t=this.indexOf(e),n=this.topMostPointerBlockingLayer()?this.indexOf(this.topMostPointerBlockingLayer()?.node):-1;return t<n},isTopMost(e){return this.layers[this.count()-1]?.node===e},getNestedLayers(e){return Array.from(this.layers).slice(this.indexOf(e)+1)},getLayersByType(e){return this.layers.filter(t=>t.type===e)},getNestedLayersByType(e,t){const n=this.indexOf(e);return n===-1?[]:this.layers.slice(n+1).filter(r=>r.type===t)},getParentLayerOfType(e,t){const n=this.indexOf(e);if(!(n<=0))return this.layers.slice(0,n).reverse().find(r=>r.type===t)},countNestedLayersOfType(e,t){return this.getNestedLayersByType(e,t).length},isInNestedLayer(e,t){return this.getNestedLayers(e).some(n=>zc(n.node,t))},isInBranch(e){return Array.from(this.branches).some(t=>zc(t,e))},add(e){this.layers.push(e),this.syncLayers()},addBranch(e){this.branches.push(e)},remove(e){const t=this.indexOf(e);t<0||(t<this.count()-1&&this.getNestedLayers(e).forEach(n=>Lr.dismiss(n.node,e)),this.layers.splice(t,1),this.syncLayers())},removeBranch(e){const t=this.branches.indexOf(e);t>=0&&this.branches.splice(t,1)},syncLayers(){this.layers.forEach((e,t)=>{e.node.style.setProperty("--layer-index",`${t}`),e.node.removeAttribute("data-nested"),e.node.removeAttribute("data-has-nested"),this.getParentLayerOfType(e.node,e.type)&&e.node.setAttribute("data-nested",e.type);const n=this.countNestedLayersOfType(e.node,e.type);n>0&&e.node.setAttribute("data-has-nested",e.type),e.node.style.setProperty("--nested-layer-count",`${n}`)})},indexOf(e){return this.layers.findIndex(t=>t.node===e)},dismiss(e,t){const n=this.indexOf(e);if(n===-1)return;const r=this.layers[n];hQ(e,uE,o=>{r.requestDismiss?.(o),o.defaultPrevented||r?.dismiss()}),fQ(e,uE,{originalLayer:e,targetLayer:t,originalIndex:n,targetIndex:t?this.indexOf(t):-1}),this.syncLayers()},clear(){this.remove(this.layers[0].node)}};function fQ(e,t,n){const r=e.ownerDocument.defaultView||window,o=new r.CustomEvent(t,{cancelable:!0,bubbles:!0,detail:n});return e.dispatchEvent(o)}function hQ(e,t,n){e.addEventListener(t,n,{once:!0})}var dE;function pE(){Lr.layers.forEach(({node:e})=>{e.style.pointerEvents=Lr.isBelowPointerBlockingLayer(e)?"none":"auto"})}function gQ(e){e.style.pointerEvents=""}function mQ(e,t){const n=Eo(e),r=[];return Lr.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(dE=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),t?.forEach(o=>{const[i,s]=sX(()=>{const a=o();return Jn(a)?a:null},{timeout:1e3});i.then(a=>r.push(z$(a,{pointerEvents:"auto"}))),r.push(s)}),()=>{Lr.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=dE,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),r.forEach(o=>o()))}}function vQ(e,t){const{warnOnMissingNode:n=!0}=t;if(n&&!e){m0("[@zag-js/dismissable] node is `null` or `undefined`");return}if(!e)return;const{onDismiss:r,onRequestDismiss:o,pointerBlocking:i,exclude:s,debug:a,type:l="dialog"}=t,c={dismiss:r,node:e,type:l,pointerBlocking:i,requestDismiss:o};Lr.add(c),pE();function u(m){const b=ho(m.detail.originalEvent);Lr.isBelowPointerBlockingLayer(e)||Lr.isInBranch(b)||(t.onPointerDownOutside?.(m),t.onInteractOutside?.(m),!m.defaultPrevented&&(a&&console.log("onPointerDownOutside:",m.detail.originalEvent),r?.()))}function p(m){const b=ho(m.detail.originalEvent);Lr.isInBranch(b)||(t.onFocusOutside?.(m),t.onInteractOutside?.(m),!m.defaultPrevented&&(a&&console.log("onFocusOutside:",m.detail.originalEvent),r?.()))}function h(m){Lr.isTopMost(e)&&(t.onEscapeKeyDown?.(m),!m.defaultPrevented&&r&&(m.preventDefault(),r()))}function f(m){if(!e)return!1;const b=typeof s=="function"?s():s,w=Array.isArray(b)?b:[b],E=t.persistentElements?.map(k=>k()).filter(Jn);return E&&w.push(...E),w.some(k=>zc(k,m))||Lr.isInNestedLayer(e,m)}const g=[i?mQ(e,t.persistentElements):void 0,pQ(e,h),dQ(e,{exclude:f,onFocusOutside:p,onPointerDownOutside:u,defer:t.defer})];return()=>{Lr.remove(e),pE(),gQ(e),g.forEach(m=>m?.())}}function mR(e,t){const{defer:n}=t,r=n?Ht:i=>i(),o=[];return o.push(r(()=>{const i=uc(e)?e():e;o.push(vQ(i,t))})),()=>{o.forEach(i=>i?.())}}var bQ=no("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText"),Un=bQ.build(),vR=e=>new Zx(e);vR.empty=()=>new Zx({items:[]});var yQ=e=>e.ids?.root??`select:${e.id}`,T0=e=>e.ids?.content??`select:${e.id}:content`,S0=e=>e.ids?.trigger??`select:${e.id}:trigger`,bR=e=>e.ids?.clearTrigger??`select:${e.id}:clear-trigger`,Yf=e=>e.ids?.label??`select:${e.id}:label`,xQ=e=>e.ids?.control??`select:${e.id}:control`,P0=(e,t)=>e.ids?.item?.(t)??`select:${e.id}:option:${t}`,$0=e=>e.ids?.hiddenSelect??`select:${e.id}:select`,yR=e=>e.ids?.positioner??`select:${e.id}:positioner`,wQ=(e,t)=>e.ids?.itemGroup?.(t)??`select:${e.id}:optgroup:${t}`,fE=(e,t)=>e.ids?.itemGroupLabel?.(t)??`select:${e.id}:optgroup-label:${t}`,Lb=e=>e.getById($0(e)),zu=e=>e.getById(T0(e)),Fa=e=>e.getById(S0(e)),_Q=e=>e.getById(bR(e)),hE=e=>e.getById(yR(e)),Vb=(e,t)=>t==null?null:e.getById(P0(e,t));function kQ(e,t){const{context:n,prop:r,scope:o,state:i,computed:s,send:a}=e,l=r("disabled")||n.get("fieldsetDisabled"),c=!!r("invalid"),u=!!r("required"),p=!!r("readOnly"),h=r("composite"),f=r("collection"),g=i.hasTag("open"),m=i.matches("focused"),b=n.get("highlightedValue"),w=n.get("highlightedItem"),E=n.get("selectedItems"),k=n.get("currentPlacement"),v=s("isTypingAhead"),_=s("isInteractive"),T=b?P0(o,b):void 0;function N(x){const I=f.getItemDisabled(x.item),R=f.getItemValue(x.item);return O$(R,()=>`[zag-js] No value found for item ${JSON.stringify(x.item)}`),{value:R,disabled:!!(l||I),highlighted:b===R,selected:n.get("value").includes(R)}}const C=hR({...r("positioning"),placement:k});return{open:g,focused:m,empty:n.get("value").length===0,highlightedItem:w,highlightedValue:b,selectedItems:E,hasSelectedItems:s("hasSelectedItems"),value:n.get("value"),valueAsString:s("valueAsString"),collection:f,multiple:!!r("multiple"),disabled:!!l,reposition(x={}){a({type:"POSITIONING.SET",options:x})},focus(){Fa(o)?.focus({preventScroll:!0})},setOpen(x){i.hasTag("open")!==x&&a({type:x?"OPEN":"CLOSE"})},selectValue(x){a({type:"ITEM.SELECT",value:x})},setValue(x){a({type:"VALUE.SET",value:x})},selectAll(){a({type:"VALUE.SET",value:f.getValues()})},setHighlightValue(x){a({type:"HIGHLIGHTED_VALUE.SET",value:x})},clearHighlightValue(){a({type:"HIGHLIGHTED_VALUE.CLEAR"})},clearValue(x){a(x?{type:"ITEM.CLEAR",value:x}:{type:"VALUE.CLEAR"})},getItemState:N,getRootProps(){return t.element({...Un.root.attrs,dir:r("dir"),id:yQ(o),"data-invalid":G(c),"data-readonly":G(p)})},getLabelProps(){return t.label({dir:r("dir"),id:Yf(o),...Un.label.attrs,"data-disabled":G(l),"data-invalid":G(c),"data-readonly":G(p),"data-required":G(u),htmlFor:$0(o),onClick(x){x.defaultPrevented||l||Fa(o)?.focus({preventScroll:!0})}})},getControlProps(){return t.element({...Un.control.attrs,dir:r("dir"),id:xQ(o),"data-state":g?"open":"closed","data-focus":G(m),"data-disabled":G(l),"data-invalid":G(c)})},getValueTextProps(){return t.element({...Un.valueText.attrs,dir:r("dir"),"data-disabled":G(l),"data-invalid":G(c),"data-focus":G(m)})},getTriggerProps(){return t.button({id:S0(o),disabled:l,dir:r("dir"),type:"button",role:"combobox","aria-controls":T0(o),"aria-expanded":g,"aria-haspopup":"listbox","data-state":g?"open":"closed","aria-invalid":c,"aria-labelledby":Yf(o),...Un.trigger.attrs,"data-disabled":G(l),"data-invalid":G(c),"data-readonly":G(p),"data-placement":k,"data-placeholder-shown":G(!s("hasSelectedItems")),onClick(x){_&&(x.defaultPrevented||a({type:"TRIGGER.CLICK"}))},onFocus(){a({type:"TRIGGER.FOCUS"})},onBlur(){a({type:"TRIGGER.BLUR"})},onKeyDown(x){if(x.defaultPrevented||!_)return;const I={ArrowUp(){a({type:"TRIGGER.ARROW_UP"})},ArrowDown(R){a({type:R.altKey?"OPEN":"TRIGGER.ARROW_DOWN"})},ArrowLeft(){a({type:"TRIGGER.ARROW_LEFT"})},ArrowRight(){a({type:"TRIGGER.ARROW_RIGHT"})},Home(){a({type:"TRIGGER.HOME"})},End(){a({type:"TRIGGER.END"})},Enter(){a({type:"TRIGGER.ENTER"})},Space(R){a(v?{type:"TRIGGER.TYPEAHEAD",key:R.key}:{type:"TRIGGER.ENTER"})}}[pp(x,{dir:r("dir"),orientation:"vertical"})];if(I){I(x),x.preventDefault();return}y0.isValidEvent(x)&&(a({type:"TRIGGER.TYPEAHEAD",key:x.key}),x.preventDefault())}})},getIndicatorProps(){return t.element({...Un.indicator.attrs,dir:r("dir"),"aria-hidden":!0,"data-state":g?"open":"closed","data-disabled":G(l),"data-invalid":G(c),"data-readonly":G(p)})},getItemProps(x){const I=N(x);return t.element({id:P0(o,I.value),role:"option",...Un.item.attrs,dir:r("dir"),"data-value":I.value,"aria-selected":I.selected,"data-state":I.selected?"checked":"unchecked","data-highlighted":G(I.highlighted),"data-disabled":G(I.disabled),"aria-disabled":cp(I.disabled),onPointerMove(R){I.disabled||R.pointerType!=="mouse"||I.value!==b&&a({type:"ITEM.POINTER_MOVE",value:I.value})},onClick(R){R.defaultPrevented||I.disabled||a({type:"ITEM.CLICK",src:"pointerup",value:I.value})},onPointerLeave(R){I.disabled||x.persistFocus||R.pointerType!=="mouse"||!e.event.previous()?.type.includes("POINTER")||a({type:"ITEM.POINTER_LEAVE"})}})},getItemTextProps(x){const I=N(x);return t.element({...Un.itemText.attrs,"data-state":I.selected?"checked":"unchecked","data-disabled":G(I.disabled),"data-highlighted":G(I.highlighted)})},getItemIndicatorProps(x){const I=N(x);return t.element({"aria-hidden":!0,...Un.itemIndicator.attrs,"data-state":I.selected?"checked":"unchecked",hidden:!I.selected})},getItemGroupLabelProps(x){const{htmlFor:I}=x;return t.element({...Un.itemGroupLabel.attrs,id:fE(o,I),dir:r("dir"),role:"presentation"})},getItemGroupProps(x){const{id:I}=x;return t.element({...Un.itemGroup.attrs,"data-disabled":G(l),id:wQ(o,I),"aria-labelledby":fE(o,I),role:"group",dir:r("dir")})},getClearTriggerProps(){return t.button({...Un.clearTrigger.attrs,id:bR(o),type:"button","aria-label":"Clear value","data-invalid":G(c),disabled:l,hidden:!s("hasSelectedItems"),dir:r("dir"),onClick(x){x.defaultPrevented||a({type:"CLEAR.CLICK"})}})},getHiddenSelectProps(){const x=n.get("value"),I=r("multiple")?x:x?.[0];return t.select({name:r("name"),form:r("form"),disabled:l,multiple:r("multiple"),required:r("required"),"aria-hidden":!0,id:$0(o),defaultValue:I,style:cv,tabIndex:-1,onFocus(){Fa(o)?.focus({preventScroll:!0})},"aria-labelledby":Yf(o)})},getPositionerProps(){return t.element({...Un.positioner.attrs,dir:r("dir"),id:yR(o),style:C.floating})},getContentProps(){return t.element({hidden:!g,dir:r("dir"),id:T0(o),role:h?"listbox":"dialog",...Un.content.attrs,"data-state":g?"open":"closed","data-placement":k,"data-activedescendant":T,"aria-activedescendant":h?T:void 0,"aria-multiselectable":r("multiple")&&h?!0:void 0,"aria-labelledby":Yf(o),tabIndex:0,onKeyDown(x){if(!_||!zc(x.currentTarget,ho(x)))return;if(x.key==="Tab"&&!BY(x)){x.preventDefault();return}const I={ArrowUp(){a({type:"CONTENT.ARROW_UP"})},ArrowDown(){a({type:"CONTENT.ARROW_DOWN"})},Home(){a({type:"CONTENT.HOME"})},End(){a({type:"CONTENT.END"})},Enter(){a({type:"ITEM.CLICK",src:"keydown.enter"})},Space(B){v?a({type:"CONTENT.TYPEAHEAD",key:B.key}):I.Enter?.(B)}},R=I[pp(x)];if(R){R(x),x.preventDefault();return}const M=ho(x);dY(M)||y0.isValidEvent(x)&&(a({type:"CONTENT.TYPEAHEAD",key:x.key}),x.preventDefault())}})},getListProps(){return t.element({...Un.list.attrs,tabIndex:0,role:h?void 0:"listbox","aria-labelledby":S0(o),"aria-activedescendant":h?void 0:T,"aria-multiselectable":!h&&r("multiple")?!0:void 0})}}}var{and:Uu,not:Ta,or:CQ}=ef(),EQ={props({props:e}){return{loopFocus:!1,closeOnSelect:!e.multiple,composite:!0,defaultValue:[],...e,collection:e.collection??vR.empty(),positioning:{placement:"bottom-start",gutter:8,...e.positioning}}},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:gl,onChange(n){const r=e("collection").findMany(n);return e("onValueChange")?.({value:n,items:r})}})),highlightedValue:t(()=>({defaultValue:e("defaultHighlightedValue")||null,value:e("highlightedValue"),onChange(n){e("onHighlightChange")?.({highlightedValue:n,highlightedItem:e("collection").find(n),highlightedIndex:e("collection").indexOf(n)})}})),currentPlacement:t(()=>({defaultValue:void 0})),fieldsetDisabled:t(()=>({defaultValue:!1})),highlightedItem:t(()=>({defaultValue:null})),selectedItems:t(()=>{const n=e("value")??e("defaultValue")??[];return{defaultValue:e("collection").findMany(n)}})}},refs(){return{typeahead:{...y0.defaultOptions}}},computed:{hasSelectedItems:({context:e})=>e.get("value").length>0,isTypingAhead:({refs:e})=>e.get("typeahead").keysSoFar!=="",isDisabled:({prop:e,context:t})=>!!e("disabled")||!!t.get("fieldsetDisabled"),isInteractive:({prop:e})=>!(e("disabled")||e("readOnly")),valueAsString:({context:e,prop:t})=>t("collection").stringifyItems(e.get("selectedItems"))},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"idle"},entry:["syncSelectElement"],watch({context:e,prop:t,track:n,action:r}){n([()=>e.get("value").toString()],()=>{r(["syncSelectedItems","syncSelectElement","dispatchChangeEvent"])}),n([()=>t("open")],()=>{r(["toggleVisibility"])}),n([()=>e.get("highlightedValue")],()=>{r(["syncHighlightedItem"])}),n([()=>t("collection").toString()],()=>{r(["syncCollection"])})},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"HIGHLIGHTED_VALUE.CLEAR":{actions:["clearHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"VALUE.CLEAR":{actions:["clearSelectedItems"]},"CLEAR.CLICK":{actions:["clearSelectedItems","focusTriggerEl"]}},effects:["trackFormControlState"],states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{target:"open",actions:["setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus","highlightFirstSelectedItem"]}],"TRIGGER.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}]}},focused:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{guard:"isTriggerArrowUpEvent",target:"open",actions:["setInitialFocus","highlightComputedLastItem"]},{guard:CQ("isTriggerArrowDownEvent","isTriggerEnterEvent"),target:"open",actions:["setInitialFocus","highlightComputedFirstItem"]},{target:"open",actions:["setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}],"TRIGGER.BLUR":{target:"idle"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightFirstSelectedItem"]}],"TRIGGER.ENTER":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_UP":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedLastItem"]}],"TRIGGER.ARROW_DOWN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_LEFT":[{guard:Uu(Ta("multiple"),"hasSelectedItems"),actions:["selectPreviousItem"]},{guard:Ta("multiple"),actions:["selectLastItem"]}],"TRIGGER.ARROW_RIGHT":[{guard:Uu(Ta("multiple"),"hasSelectedItems"),actions:["selectNextItem"]},{guard:Ta("multiple"),actions:["selectFirstItem"]}],"TRIGGER.HOME":{guard:Ta("multiple"),actions:["selectFirstItem"]},"TRIGGER.END":{guard:Ta("multiple"),actions:["selectLastItem"]},"TRIGGER.TYPEAHEAD":{guard:Ta("multiple"),actions:["selectMatchingItem"]}}},open:{tags:["open"],exit:["scrollContentToTop"],effects:["trackDismissableElement","computePlacement","scrollToHighlightedItem"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["focusTriggerEl","clearHighlightedItem"]},{target:"idle",actions:["clearHighlightedItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"restoreFocus",target:"focused",actions:["invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{target:"idle",actions:["invokeOnClose","clearHighlightedItem"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","clearHighlightedItem"]}],"ITEM.CLICK":[{guard:Uu("closeOnSelect","isOpenControlled"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{actions:["selectHighlightedItem"]}],"CONTENT.HOME":{actions:["highlightFirstItem"]},"CONTENT.END":{actions:["highlightLastItem"]},"CONTENT.ARROW_DOWN":[{guard:Uu("hasHighlightedItem","loop","isLastItemHighlighted"),actions:["highlightFirstItem"]},{guard:"hasHighlightedItem",actions:["highlightNextItem"]},{actions:["highlightFirstItem"]}],"CONTENT.ARROW_UP":[{guard:Uu("hasHighlightedItem","loop","isFirstItemHighlighted"),actions:["highlightLastItem"]},{guard:"hasHighlightedItem",actions:["highlightPreviousItem"]},{actions:["highlightLastItem"]}],"CONTENT.TYPEAHEAD":{actions:["highlightMatchingItem"]},"ITEM.POINTER_MOVE":{actions:["highlightItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{loop:({prop:e})=>!!e("loopFocus"),multiple:({prop:e})=>!!e("multiple"),hasSelectedItems:({computed:e})=>!!e("hasSelectedItems"),hasHighlightedItem:({context:e})=>e.get("highlightedValue")!=null,isFirstItemHighlighted:({context:e,prop:t})=>e.get("highlightedValue")===t("collection").firstValue,isLastItemHighlighted:({context:e,prop:t})=>e.get("highlightedValue")===t("collection").lastValue,closeOnSelect:({prop:e,event:t})=>!!(t.closeOnSelect??e("closeOnSelect")),restoreFocus:({event:e})=>gE(e),isOpenControlled:({prop:e})=>e("open")!==void 0,isTriggerClickEvent:({event:e})=>e.previousEvent?.type==="TRIGGER.CLICK",isTriggerEnterEvent:({event:e})=>e.previousEvent?.type==="TRIGGER.ENTER",isTriggerArrowUpEvent:({event:e})=>e.previousEvent?.type==="TRIGGER.ARROW_UP",isTriggerArrowDownEvent:({event:e})=>e.previousEvent?.type==="TRIGGER.ARROW_DOWN"},effects:{trackFormControlState({context:e,scope:t}){return du(Lb(t),{onFieldsetDisabledChange(n){e.set("fieldsetDisabled",n)},onFormReset(){const n=e.initial("value");e.set("value",n)}})},trackDismissableElement({scope:e,send:t,prop:n}){const r=()=>zu(e);let o=!0;return mR(r,{type:"listbox",defer:!0,exclude:[Fa(e),_Q(e)],onFocusOutside:n("onFocusOutside"),onPointerDownOutside:n("onPointerDownOutside"),onInteractOutside(i){n("onInteractOutside")?.(i),o=!(i.detail.focusable||i.detail.contextmenu)},onDismiss(){t({type:"CLOSE",src:"interact-outside",restoreFocus:o})}})},computePlacement({context:e,prop:t,scope:n}){const r=t("positioning");return e.set("currentPlacement",r.placement),I0(()=>Fa(n),()=>hE(n),{defer:!0,...r,onComplete(o){e.set("currentPlacement",o.placement)}})},scrollToHighlightedItem({context:e,prop:t,scope:n,event:r}){const o=i=>{const s=e.get("highlightedValue");if(s==null||r.current().type.includes("POINTER"))return;const a=zu(n),l=t("scrollToIndexFn");if(l){const u=t("collection").indexOf(s);l?.({index:u,immediate:i,getElement:()=>Vb(n,s)});return}const c=Vb(n,s);GY(c,{rootEl:a,block:"nearest"})};return Ht(()=>o(!0)),L$(()=>zu(n),{defer:!0,attributes:["data-activedescendant"],callback(){o(!1)}})}},actions:{reposition({context:e,prop:t,scope:n,event:r}){const o=()=>hE(n);I0(Fa(n),o,{...t("positioning"),...r.options,defer:!0,listeners:!1,onComplete(i){e.set("currentPlacement",i.placement)}})},toggleVisibility({send:e,prop:t,event:n}){e({type:t("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})},highlightPreviousItem({context:e,prop:t}){const n=e.get("highlightedValue");if(n==null)return;const r=t("collection").getPreviousValue(n,1,t("loopFocus"));r!=null&&e.set("highlightedValue",r)},highlightNextItem({context:e,prop:t}){const n=e.get("highlightedValue");if(n==null)return;const r=t("collection").getNextValue(n,1,t("loopFocus"));r!=null&&e.set("highlightedValue",r)},highlightFirstItem({context:e,prop:t}){const n=t("collection").firstValue;e.set("highlightedValue",n)},highlightLastItem({context:e,prop:t}){const n=t("collection").lastValue;e.set("highlightedValue",n)},setInitialFocus({scope:e}){Ht(()=>{M$({root:zu(e)})?.focus({preventScroll:!0})})},focusTriggerEl({event:e,scope:t}){gE(e)&&Ht(()=>{Fa(t)?.focus({preventScroll:!0})})},selectHighlightedItem({context:e,prop:t,event:n}){let r=n.value??e.get("highlightedValue");r==null||!t("collection").has(r)||(t("onSelect")?.({value:r}),r=t("deselectable")&&!t("multiple")&&e.get("value").includes(r)?null:r,e.set("value",o=>r==null?[]:t("multiple")?DC(o,r):[r]))},highlightComputedFirstItem({context:e,prop:t,computed:n}){const r=t("collection"),o=n("hasSelectedItems")?r.sort(e.get("value"))[0]:r.firstValue;e.set("highlightedValue",o)},highlightComputedLastItem({context:e,prop:t,computed:n}){const r=t("collection"),o=n("hasSelectedItems")?r.sort(e.get("value"))[0]:r.lastValue;e.set("highlightedValue",o)},highlightFirstSelectedItem({context:e,prop:t,computed:n}){if(!n("hasSelectedItems"))return;const r=t("collection").sort(e.get("value"))[0];e.set("highlightedValue",r)},highlightItem({context:e,event:t}){e.set("highlightedValue",t.value)},highlightMatchingItem({context:e,prop:t,event:n,refs:r}){const o=t("collection").search(n.key,{state:r.get("typeahead"),currentValue:e.get("highlightedValue")});o!=null&&e.set("highlightedValue",o)},setHighlightedItem({context:e,event:t}){e.set("highlightedValue",t.value)},clearHighlightedItem({context:e}){e.set("highlightedValue",null)},selectItem({context:e,prop:t,event:n}){t("onSelect")?.({value:n.value});const r=t("deselectable")&&!t("multiple")&&e.get("value").includes(n.value)?null:n.value;e.set("value",o=>r==null?[]:t("multiple")?DC(o,r):[r])},clearItem({context:e,event:t}){e.set("value",n=>n.filter(r=>r!==t.value))},setSelectedItems({context:e,event:t}){e.set("value",t.value)},clearSelectedItems({context:e}){e.set("value",[])},selectPreviousItem({context:e,prop:t}){const[n]=e.get("value"),r=t("collection").getPreviousValue(n);r&&e.set("value",[r])},selectNextItem({context:e,prop:t}){const[n]=e.get("value"),r=t("collection").getNextValue(n);r&&e.set("value",[r])},selectFirstItem({context:e,prop:t}){const n=t("collection").firstValue;n&&e.set("value",[n])},selectLastItem({context:e,prop:t}){const n=t("collection").lastValue;n&&e.set("value",[n])},selectMatchingItem({context:e,prop:t,event:n,refs:r}){const o=t("collection").search(n.key,{state:r.get("typeahead"),currentValue:e.get("value")[0]});o!=null&&e.set("value",[o])},scrollContentToTop({prop:e,scope:t}){if(e("scrollToIndexFn")){const n=e("collection").firstValue;e("scrollToIndexFn")?.({index:0,immediate:!0,getElement:()=>Vb(t,n)})}else zu(t)?.scrollTo(0,0)},invokeOnOpen({prop:e}){e("onOpenChange")?.({open:!0})},invokeOnClose({prop:e}){e("onOpenChange")?.({open:!1})},syncSelectElement({context:e,prop:t,scope:n}){const r=Lb(n);if(r){if(e.get("value").length===0&&!t("multiple")){r.selectedIndex=-1;return}for(const o of r.options)o.selected=e.get("value").includes(o.value)}},syncCollection({context:e,prop:t}){const n=t("collection"),r=n.find(e.get("highlightedValue"));r&&e.set("highlightedItem",r);const o=n.findMany(e.get("value"));e.set("selectedItems",o)},syncSelectedItems({context:e,prop:t}){const n=t("collection"),r=e.get("selectedItems"),o=e.get("value").map(i=>r.find(s=>n.getItemValue(s)===i)||n.find(i));e.set("selectedItems",o)},syncHighlightedItem({context:e,prop:t}){const n=t("collection"),r=e.get("highlightedValue"),o=r?n.find(r):null;e.set("highlightedItem",o)},dispatchChangeEvent({scope:e}){queueMicrotask(()=>{const t=Lb(e);if(!t)return;const n=e.getWin(),r=new n.Event("change",{bubbles:!0,composed:!0});t.dispatchEvent(r)})}}}};function gE(e){const t=e.restoreFocus??e.previousEvent?.restoreFocus;return t==null||!!t}On()(["closeOnSelect","collection","composite","defaultHighlightedValue","defaultOpen","defaultValue","deselectable","dir","disabled","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","onValueChange","open","positioning","readOnly","required","scrollToIndexFn","value"]);On()(["item","persistFocus"]);On()(["id"]);On()(["htmlFor"]);const OQ=(e,t)=>{const n=nt(),r=vl(bl),o=wl(xl),i=Ln(),s=A(()=>{const l=pe(e);return{id:n,ids:{label:i?.value.ids.label,hiddenSelect:i?.value.ids.control},disabled:i?.value.disabled,readOnly:i?.value.readOnly,invalid:i?.value.invalid,required:i?.value.required,dir:o.value.dir,value:l.modelValue,getRootNode:r?.value.getRootNode,...fu(l),onValueChange:c=>{t?.("valueChange",c),t?.("update:modelValue",c.value),l.onValueChange?.(c)},onHighlightChange:c=>{t?.("highlightChange",c),t?.("update:highlightedValue",c.highlightedValue),l.onHighlightChange?.(c)},onOpenChange:c=>{t?.("openChange",c),t?.("update:open",c.open),l.onOpenChange?.(c)},onFocusOutside:c=>{t?.("focusOutside",c),l.onFocusOutside?.(c)},onInteractOutside:c=>{t?.("interactOutside",c),l.onInteractOutside?.(c)},onPointerDownOutside:c=>{t?.("pointerDownOutside",c),l.onPointerDownOutside?.(c)},onSelect(c){t?.("select",c),l.onSelect?.(c)}}}),a=ml(EQ,s);return A(()=>kQ(a,pu))},IQ=P({__name:"select-root",props:Ze({closeOnSelect:{type:Boolean},collection:{},composite:{type:Boolean},defaultHighlightedValue:{},defaultOpen:{type:Boolean},defaultValue:{},deselectable:{type:Boolean},disabled:{type:Boolean},form:{},highlightedValue:{},id:{},ids:{},invalid:{type:Boolean},loopFocus:{type:Boolean},modelValue:{},multiple:{type:Boolean},name:{},open:{type:Boolean},positioning:{},readOnly:{type:Boolean},required:{type:Boolean},scrollToIndexFn:{type:Function},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{closeOnSelect:void 0,composite:void 0,defaultOpen:void 0,deselectable:void 0,disabled:void 0,invalid:void 0,loopFocus:void 0,multiple:void 0,open:void 0,readOnly:void 0,required:void 0}),emits:["focusOutside","highlightChange","interactOutside","openChange","pointerDownOutside","select","valueChange","update:modelValue","update:open","update:highlightedValue"],setup(e,{emit:t}){const n=e,r=OQ(n,t);return Z$(r),dv(A(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),ue(),(o,i)=>(y(),$(d(ce).div,F(d(r).getRootProps(),{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),TQ=P({__name:"select-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Vn();return ue(),(n,r)=>(y(),$(d(ce).button,F(d(t).getTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),SQ=P({__name:"select-value-text",props:{placeholder:{},asChild:{type:Boolean}},setup(e){const t=e,n=Vn(),r=xo();return ue(),(o,i)=>(y(),$(d(ce).span,F(d(n).getValueTextProps(),{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default",{},()=>[re(j(r.default?.()||d(n).valueAsString||t.placeholder),1)])]),_:3},16,["as-child"]))}}),Qr=Object.freeze(Object.defineProperty({__proto__:null,ClearTrigger:vJ,Content:bJ,Context:yJ,Control:xJ,HiddenSelect:kJ,Indicator:CJ,Item:MJ,ItemContext:IJ,ItemGroup:$J,ItemGroupLabel:PJ,ItemIndicator:AJ,ItemText:NJ,Label:DJ,List:LJ,Positioner:BJ,Root:IQ,RootProvider:HJ,Trigger:TQ,ValueText:SQ},Symbol.toStringTag,{value:"Module"})),PQ={key:0},$Q={class:"block text-sm font-medium text-gray-700 mb-1"},RQ={class:"flex rounded-lg border border-gray-300 bg-gray-100 p-0.5"},AQ=["data-state","onClick"],NQ=P({__name:"Select",props:at({field:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,n=rt(e,"modelValue"),r=A(()=>t.field.variant||"select"),o=A(()=>mJ({items:t.field.options?.map(s=>({label:s.label||s.value,value:s.value}))||[]})),i=A({get:()=>n.value?[n.value]:[],set:s=>{n.value=s[0]||null}});return(s,a)=>{const l=X$,c=uJ;return r.value==="segment"?(y(),V("div",PQ,[D("label",$Q,j(s.field.label),1),D("div",RQ,[(y(!0),V(ge,null,Ie(s.field.options,u=>(y(),V("button",{class:"flex-1 h-9 text-center cursor-pointer rounded text-sm data-[state=checked]:bg-white data-[state=checked]:shadow","data-state":n.value===u.value?"checked":"unchecked",onClick:p=>n.value=u.value},j(u.label||u.value),9,AQ))),256))])])):(y(),$(d(Qr).Root,{key:1,modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=u=>i.value=u),collection:o.value,positioning:{gutter:2}},{default:O(()=>[S(d(Qr).Label,{class:"block text-sm font-medium text-gray-700 mb-1"},{default:O(()=>[re(j(s.field.label),1)]),_:1}),S(d(Qr).Control,{class:"w-full"},{default:O(()=>[S(d(Qr).Trigger,{class:"flex items-center justify-between w-full px-3 py-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent"},{default:O(()=>[S(d(Qr).ValueText,{class:"text-sm text-gray-900",placeholder:s.field.placeholder||"Select an option..."},null,8,["placeholder"]),S(d(Qr).Indicator,{class:"ml-2"},{default:O(()=>[S(l,{class:"w-4 h-4 text-gray-400"})]),_:1})]),_:1})]),_:1}),S(d(Qr).Positioner,{class:"w-[var(--reference-width)]"},{default:O(()=>[S(d(Qr).Content,{class:"bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto z-50"},{default:O(()=>[(y(!0),V(ge,null,Ie(o.value.items,u=>(y(),$(d(Qr).Item,{key:u.value,item:u,class:"flex items-center px-3 py-2 text-sm text-gray-900 hover:bg-gray-100 cursor-pointer data-[state=checked]:bg-accent-foreground data-[state=checked]:text-accent"},{default:O(()=>[S(d(Qr).ItemText,null,{default:O(()=>[re(j(u.label),1)]),_:2},1024),S(d(Qr).ItemIndicator,{class:"ml-auto"},{default:O(()=>[S(c,{class:"w-4 h-4 text-accent"})]),_:1})]),_:2},1032,["item"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","collection"]))}}}),[xR,_l]=Ut("RadioGroupContext"),MQ=P({__name:"radio-group-context",setup(e){const t=_l();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),DQ=P({__name:"radio-group-indicator",props:{asChild:{type:Boolean}},setup(e){const t=_l();return ue(),(n,r)=>(y(),$(d(ce).div,F(d(t).getIndicatorProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),[LQ,VQ]=Ut("RadioGroupItemContext"),FQ=P({__name:"radio-group-item-context",setup(e){const t=VQ();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),[BQ,sw]=Ut("RadioGroupItemPropsContext"),HQ=P({__name:"radio-group-item-control",props:{asChild:{type:Boolean}},setup(e){const t=_l(),n=sw();return ue(),(r,o)=>(y(),$(d(ce).div,F(d(t).getItemControlProps(d(n)),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),zQ=P({__name:"radio-group-item-hidden-input",props:{asChild:{type:Boolean}},setup(e){const t=_l(),n=sw();return ue(),(r,o)=>(y(),$(d(ce).input,F(d(t).getItemHiddenInputProps(d(n)),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),UQ=P({__name:"radio-group-item-text",props:{asChild:{type:Boolean}},setup(e){const t=_l(),n=sw();return ue(),(r,o)=>(y(),$(d(ce).span,F(d(t).getItemTextProps(d(n)),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),jQ=P({__name:"radio-group-item",props:{value:{},disabled:{type:Boolean},invalid:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=_l();return BQ(t),LQ(A(()=>n.value.getItemState(t))),ue(),(r,o)=>(y(),$(d(ce).label,F(d(n).getItemProps(t),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),GQ=P({__name:"radio-group-label",props:{asChild:{type:Boolean}},setup(e){const t=_l();return ue(),(n,r)=>(y(),$(d(ce).label,F(d(t).getLabelProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),WQ=P({__name:"radio-group-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=A(()=>t.value);return xR(n),ue(),(r,o)=>(y(),$(d(ce).div,F(n.value.getRootProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}});var qQ=no("radio-group").parts("root","label","item","itemText","itemControl","indicator"),Vl=qQ.build(),Lg=e=>e.ids?.root??`radio-group:${e.id}`,mE=e=>e.ids?.label??`radio-group:${e.id}:label`,wR=(e,t)=>e.ids?.item?.(t)??`radio-group:${e.id}:radio:${t}`,R0=(e,t)=>e.ids?.itemHiddenInput?.(t)??`radio-group:${e.id}:radio:input:${t}`,KQ=(e,t)=>e.ids?.itemControl?.(t)??`radio-group:${e.id}:radio:control:${t}`,YQ=(e,t)=>e.ids?.itemLabel?.(t)??`radio-group:${e.id}:radio:label:${t}`,_R=e=>e.ids?.indicator??`radio-group:${e.id}:indicator`,mv=e=>e.getById(Lg(e)),XQ=(e,t)=>e.getById(R0(e,t)),JQ=e=>e.getById(_R(e)),ZQ=e=>mv(e)?.querySelector("input:not(:disabled)"),QQ=e=>mv(e)?.querySelector("input:not(:disabled):checked"),vE=e=>{const t=`input[type=radio][data-ownedby='${CSS.escape(Lg(e))}']:not([disabled])`;return Pg(mv(e),t)},eee=(e,t)=>{if(t)return e.getById(wR(e,t))},tee=e=>({left:e?.offsetLeft??0,top:e?.offsetTop??0,width:e?.offsetWidth??0,height:e?.offsetHeight??0}),nee=e=>({width:`${e.width}px`,height:`${e.height}px`,left:`${e.left}px`,top:`${e.top}px`});function ree(e,t){const{context:n,send:r,computed:o,prop:i,scope:s,refs:a}=e,l=o("isDisabled"),c=i("readOnly");function u(f){return{value:f.value,invalid:!!f.invalid,disabled:!!f.disabled||l,checked:n.get("value")===f.value,focused:n.get("focusedValue")===f.value,focusVisible:a.get("focusVisibleValue")===f.value,hovered:n.get("hoveredValue")===f.value,active:n.get("activeValue")===f.value}}function p(f){const g=u(f);return{"data-focus":G(g.focused),"data-focus-visible":G(g.focusVisible),"data-disabled":G(g.disabled),"data-readonly":G(c),"data-state":g.checked?"checked":"unchecked","data-hover":G(g.hovered),"data-invalid":G(g.invalid),"data-orientation":i("orientation"),"data-ssr":G(n.get("ssr"))}}const h=()=>{(QQ(s)??ZQ(s))?.focus()};return{focus:h,value:n.get("value"),setValue(f){r({type:"SET_VALUE",value:f,isTrusted:!1})},clearValue(){r({type:"SET_VALUE",value:null,isTrusted:!1})},getRootProps(){return t.element({...Vl.root.attrs,role:"radiogroup",id:Lg(s),"aria-labelledby":mE(s),"data-orientation":i("orientation"),"data-disabled":G(l),"aria-orientation":i("orientation"),dir:i("dir"),style:{position:"relative"}})},getLabelProps(){return t.element({...Vl.label.attrs,dir:i("dir"),"data-orientation":i("orientation"),"data-disabled":G(l),id:mE(s),onClick:h})},getItemState:u,getItemProps(f){const g=u(f);return t.label({...Vl.item.attrs,dir:i("dir"),id:wR(s,f.value),htmlFor:R0(s,f.value),...p(f),onPointerMove(){g.disabled||g.hovered||r({type:"SET_HOVERED",value:f.value,hovered:!0})},onPointerLeave(){g.disabled||r({type:"SET_HOVERED",value:null})},onPointerDown(m){g.disabled||Ns(m)&&(g.focused&&m.pointerType==="mouse"&&m.preventDefault(),r({type:"SET_ACTIVE",value:f.value,active:!0}))},onPointerUp(){g.disabled||r({type:"SET_ACTIVE",value:null})},onClick(){!g.disabled&&lv()&&XQ(s,f.value)?.focus()}})},getItemTextProps(f){return t.element({...Vl.itemText.attrs,dir:i("dir"),id:YQ(s,f.value),...p(f)})},getItemControlProps(f){const g=u(f);return t.element({...Vl.itemControl.attrs,dir:i("dir"),id:KQ(s,f.value),"data-active":G(g.active),"aria-hidden":!0,...p(f)})},getItemHiddenInputProps(f){const g=u(f);return t.input({"data-ownedby":Lg(s),id:R0(s,f.value),type:"radio",name:i("name")||i("id"),form:i("form"),value:f.value,onClick(m){if(c){m.preventDefault();return}m.currentTarget.checked&&r({type:"SET_VALUE",value:f.value,isTrusted:!0})},onBlur(){r({type:"SET_FOCUSED",value:null,focused:!1})},onFocus(){const m=Ag();r({type:"SET_FOCUSED",value:f.value,focused:!0,focusVisible:m})},onKeyDown(m){m.defaultPrevented||m.key===" "&&r({type:"SET_ACTIVE",value:f.value,active:!0})},onKeyUp(m){m.defaultPrevented||m.key===" "&&r({type:"SET_ACTIVE",value:null})},disabled:g.disabled||c,defaultChecked:g.checked,style:cv})},getIndicatorProps(){const f=n.get("indicatorRect");return t.element({id:_R(s),...Vl.indicator.attrs,dir:i("dir"),hidden:n.get("value")==null,"data-disabled":G(l),"data-orientation":i("orientation"),style:{"--transition-property":"left, top, width, height","--left":f?.left,"--top":f?.top,"--width":f?.width,"--height":f?.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:n.get("canIndicatorTransition")?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[i("orientation")==="horizontal"?"left":"top"]:i("orientation")==="horizontal"?"var(--left)":"var(--top)"}})}}}var{not:oee}=ef(),iee={props({props:e}){return{orientation:"vertical",...e}},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){e("onValueChange")?.({value:n})}})),activeValue:t(()=>({defaultValue:null})),focusedValue:t(()=>({defaultValue:null})),hoveredValue:t(()=>({defaultValue:null})),indicatorRect:t(()=>({defaultValue:{}})),canIndicatorTransition:t(()=>({defaultValue:!1})),fieldsetDisabled:t(()=>({defaultValue:!1})),ssr:t(()=>({defaultValue:!0}))}},refs(){return{indicatorCleanup:null,focusVisibleValue:null}},computed:{isDisabled:({prop:e,context:t})=>!!e("disabled")||t.get("fieldsetDisabled")},entry:["syncIndicatorRect","syncSsr"],exit:["cleanupObserver"],effects:["trackFormControlState","trackFocusVisible"],watch({track:e,action:t,context:n}){e([()=>n.get("value")],()=>{t(["setIndicatorTransition","syncIndicatorRect","syncInputElements"])})},on:{SET_VALUE:[{guard:oee("isTrusted"),actions:["setValue","dispatchChangeEvent"]},{actions:["setValue"]}],SET_HOVERED:{actions:["setHovered"]},SET_ACTIVE:{actions:["setActive"]},SET_FOCUSED:{actions:["setFocused"]}},states:{idle:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackFormControlState({context:e,scope:t}){return du(mv(t),{onFieldsetDisabledChange(n){e.set("fieldsetDisabled",n)},onFormReset(){e.set("value",e.initial("value"))}})},trackFocusVisible({scope:e}){return K$({root:e.getRootNode?.()})}},actions:{setValue({context:e,event:t}){e.set("value",t.value)},setHovered({context:e,event:t}){e.set("hoveredValue",t.value)},setActive({context:e,event:t}){e.set("activeValue",t.value)},setFocused({context:e,event:t,refs:n}){e.set("focusedValue",t.value),n.set("focusVisibleValue",t.focusVisible?t.value:null)},syncInputElements({context:e,scope:t}){vE(t).forEach(n=>{n.checked=n.value===e.get("value")})},setIndicatorTransition({context:e}){e.set("canIndicatorTransition",Nd(e.get("value")))},cleanupObserver({refs:e}){e.get("indicatorCleanup")?.()},syncSsr({context:e}){e.set("ssr",!1)},syncIndicatorRect({context:e,scope:t,refs:n}){if(n.get("indicatorCleanup")?.(),!JQ(t))return;const r=e.get("value"),o=eee(t,r);if(r==null||!o){e.set("canIndicatorTransition",!1),e.set("indicatorRect",{});return}const i=H$([o],{measure(s){return tee(s)},onEntry({rects:s}){e.set("indicatorRect",nee(s[0]))}});n.set("indicatorCleanup",i)},dispatchChangeEvent({context:e,scope:t}){vE(t).forEach(n=>{const r=n.value===e.get("value");r!==n.checked&&A$(n,{checked:r})})}}}};On()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value","defaultValue"]);On()(["value","disabled","invalid"]);const see=(e={},t)=>{const n=nt(),r=vl(bl),o=wl(xl),i=A(()=>{const a=pe(e);return{id:n,dir:o.value.dir,value:a.modelValue,getRootNode:r?.value.getRootNode,...fu(a),onValueChange:l=>{t?.("valueChange",l),t?.("update:modelValue",l.value),a.onValueChange?.(l)}}}),s=ml(iee,i);return A(()=>ree(s,pu))},aee=P({__name:"radio-group-root",props:Ze({defaultValue:{},disabled:{type:Boolean},form:{},id:{},ids:{},modelValue:{},name:{},orientation:{},readOnly:{type:Boolean},asChild:{type:Boolean}},{disabled:void 0,readOnly:void 0}),emits:["valueChange","update:modelValue"],setup(e,{emit:t}){const n=see(e,t);return xR(n),ue(),(r,o)=>(y(),$(d(ce).div,F(d(n).getRootProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),Sa=Object.freeze(Object.defineProperty({__proto__:null,Context:MQ,Indicator:DQ,Item:jQ,ItemContext:FQ,ItemControl:HQ,ItemHiddenInput:zQ,ItemText:UQ,Label:GQ,Root:aee,RootProvider:WQ},Symbol.toStringTag,{value:"Module"})),lee=P({__name:"Radio",props:at({field:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=rt(e,"modelValue");return(n,r)=>(y(),$(d(Sa).Root,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=o=>t.value=o),class:"relative gap-1 flex flex-col"},{default:O(()=>[S(d(Sa).Label,{class:"text-sm font-medium text-gray-700"},{default:O(()=>[re(j(n.field.label),1)]),_:1}),(y(!0),V(ge,null,Ie(n.field.options,o=>(y(),$(d(Sa).Item,{key:o.value,value:o.value,class:"flex items-center gap-2 cursor-pointer"},{default:O(()=>[S(d(Sa).Indicator),S(d(Sa).ItemControl,{class:"w-4 h-4 border border-gray-300 rounded-full data-[state=checked]:border-accent data-[state=checked]:outline-accent data-[state=checked]:outline-4 data-[state=checked]:-outline-offset-8"}),S(d(Sa).ItemText,{class:"text-sm text-gray-700"},{default:O(()=>[re(j(o.label||o.value),1)]),_:2},1024),S(d(Sa).ItemHiddenInput)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]))}}),[kR,Oo]=Ut("SliderContext"),cee=P({__name:"slider-context",setup(e){const t=Oo();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),uee=P({__name:"slider-control",props:{asChild:{type:Boolean}},setup(e){const t=Oo();return ue(),(n,r)=>(y(),$(d(ce).div,F(d(t).getControlProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),[dee,CR]=Ut("SliderThumbPropsContext"),pee=P({__name:"slider-dragging-indicator",props:{asChild:{type:Boolean}},setup(e){const t=Oo(),n=CR(),r=xo();return ue(),(o,i)=>(y(),$(d(ce).span,F(d(t).getDraggingIndicatorProps(d(n)),{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default",{},()=>[re(j(r.default?.()||d(t).getThumbValue(d(n).index)),1)])]),_:3},16,["as-child"]))}}),fee=P({__name:"slider-hidden-input",props:{asChild:{type:Boolean}},setup(e){const t=Oo(),n=CR();return ue(),(r,o)=>(y(),$(d(ce).input,F(d(t).getHiddenInputProps(d(n)),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),hee=P({__name:"slider-label",props:{asChild:{type:Boolean}},setup(e){const t=Oo();return ue(),(n,r)=>(y(),$(d(ce).label,F(d(t).getLabelProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),gee=P({__name:"slider-marker-group",props:{asChild:{type:Boolean}},setup(e){const t=Oo();return ue(),(n,r)=>(y(),$(d(ce).div,F(d(t).getMarkerGroupProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),mee=P({__name:"slider-marker",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=Oo();return ue(),(r,o)=>(y(),$(d(ce).span,F(d(n).getMarkerProps(t),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),vee=P({__name:"slider-range",props:{asChild:{type:Boolean}},setup(e){const t=Oo();return ue(),(n,r)=>(y(),$(d(ce).div,F(d(t).getRangeProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),bee=P({__name:"slider-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=A(()=>t.value);return kR(n),ue(),(r,o)=>(y(),$(d(ce).div,F(n.value.getRootProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}});var yee=no("slider").parts("root","label","thumb","valueText","track","range","control","markerGroup","marker","draggingIndicator"),Mo=yee.build(),ER=e=>e.ids?.root??`slider:${e.id}`,OR=(e,t)=>e.ids?.thumb?.(t)??`slider:${e.id}:thumb:${t}`,A0=(e,t)=>e.ids?.hiddenInput?.(t)??`slider:${e.id}:input:${t}`,IR=e=>e.ids?.control??`slider:${e.id}:control`,xee=e=>e.ids?.track??`slider:${e.id}:track`,wee=e=>e.ids?.range??`slider:${e.id}:range`,bE=e=>e.ids?.label??`slider:${e.id}:label`,_ee=e=>e.ids?.valueText??`slider:${e.id}:value-text`,kee=(e,t)=>e.ids?.marker?.(t)??`slider:${e.id}:marker:${t}`,Cee=e=>e.getById(ER(e)),Eee=(e,t)=>e.getById(OR(e,t)),TR=e=>Pg(PR(e),"[role=slider]"),Oee=e=>TR(e)[0],SR=(e,t)=>e.getById(A0(e,t)),PR=e=>e.getById(IR(e)),yE=(e,t)=>{const{prop:n,scope:r}=e,o=PR(r);if(!o)return;const i=Kx(t,o).getPercentValue({orientation:n("orientation"),dir:n("dir"),inverted:{y:!0}});return Hx(i,n("min"),n("max"),n("step"))},Iee=(e,t)=>{t.forEach((n,r)=>{const o=SR(e,r);o&&R$(o,{value:n})})},Tee=e=>({left:e?.offsetLeft??0,top:e?.offsetTop??0,width:e?.offsetWidth??0,height:e?.offsetHeight??0});function See(e){const t=e[0],n=e[e.length-1];return[t,n]}function Pee(e){const{prop:t,computed:n}=e,r=n("valuePercent"),[o,i]=See(r);if(r.length===1){if(t("origin")==="center"){const s=r[0]<50,a=s?`${r[0]}%`:"50%",l=s?"50%":`${100-r[0]}%`;return{start:a,end:l}}return t("origin")==="end"?{start:`${i}%`,end:"0%"}:{start:"0%",end:`${100-i}%`}}return{start:`${o}%`,end:`${100-i}%`}}function $ee(e){const{computed:t}=e,n=t("isVertical"),r=t("isRtl");return n?{position:"absolute",bottom:"var(--slider-range-start)",top:"var(--slider-range-end)"}:{position:"absolute",[r?"right":"left"]:"var(--slider-range-start)",[r?"left":"right"]:"var(--slider-range-end)"}}function Ree(e,t){const{context:n,prop:r}=e,{height:o=0}=n.get("thumbSize")??{},i=g0([r("min"),r("max")],[-o/2,o/2]);return parseFloat(i(t).toFixed(2))}function Aee(e,t){const{computed:n,context:r,prop:o}=e,{width:i=0}=r.get("thumbSize")??{};if(n("isRtl")){const a=g0([o("max"),o("min")],[-i/2,i/2]);return-1*parseFloat(a(t).toFixed(2))}const s=g0([o("min"),o("max")],[-i/2,i/2]);return parseFloat(s(t).toFixed(2))}function Nee(e,t,n){const{computed:r,prop:o}=e;if(o("thumbAlignment")==="center")return`${t}%`;const i=r("isVertical")?Ree(e,n):Aee(e,n);return`calc(${t}% - ${i}px)`}function $R(e,t){const{prop:n}=e,r=ov(t,n("min"),n("max"))*100;return Nee(e,r,t)}function RR(e){const{computed:t,prop:n}=e;let r="visible";return n("thumbAlignment")==="contain"&&!t("hasMeasuredThumbSize")&&(r="hidden"),r}function xE(e,t){const{computed:n}=e,r=n("isVertical")?"bottom":"insetInlineStart";return{visibility:RR(e),position:"absolute",transform:"var(--slider-thumb-transform)",[r]:`var(--slider-thumb-offset-${t})`}}function Mee(){return{touchAction:"none",userSelect:"none",WebkitUserSelect:"none",position:"relative"}}function Dee(e){const{context:t,computed:n}=e,r=n("isVertical"),o=n("isRtl"),i=Pee(e),s=t.get("thumbSize");return{...t.get("value").reduce((a,l,c)=>{const u=$R(e,l);return{...a,[`--slider-thumb-offset-${c}`]:u}},{}),"--slider-thumb-width":BC(s?.width),"--slider-thumb-height":BC(s?.height),"--slider-thumb-transform":r?"translateY(50%)":o?"translateX(50%)":"translateX(-50%)","--slider-range-start":i.start,"--slider-range-end":i.end}}function Lee(e,t){const{computed:n}=e,r=n("isHorizontal"),o=n("isRtl");return{visibility:RR(e),position:"absolute",pointerEvents:"none",[r?"insetInlineStart":"bottom"]:$R(e,t),translate:"var(--translate-x) var(--translate-y)","--translate-x":r?o?"50%":"-50%":"0%","--translate-y":r?"0%":"50%"}}function Vee(){return{userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none",position:"relative"}}function Fee(e,t){return t.map((n,r)=>N0(e,n,r))}function Ms(e,t){const{context:n,prop:r}=e,o=r("step")*r("minStepsBetweenThumbs");return C$(n.get("value"),r("min"),r("max"),o)[t]}function N0(e,t,n){const{prop:r}=e,o=Ms(e,n),i=lp(t,r("min"),r("max"),r("step"));return dn(i,o.min,o.max)}function Bee(e,t,n){const{context:r,prop:o}=e,i=t??r.get("focusedIndex"),s=Ms(e,i),a=YK(i,{...s,step:n??o("step"),values:r.get("value")});return a[i]=dn(a[i],s.min,s.max),a}function Hee(e,t,n){const{context:r,prop:o}=e,i=t??r.get("focusedIndex"),s=Ms(e,i),a=KK(i,{...s,step:n??o("step"),values:r.get("value")});return a[i]=dn(a[i],s.min,s.max),a}function zee(e,t){const{context:n}=e;return XK(n.get("value"),t)}function Uee(e,t){const{state:n,send:r,context:o,prop:i,computed:s,scope:a}=e,l=i("aria-label"),c=i("aria-labelledby"),u=o.get("value"),p=o.get("focusedIndex"),h=n.matches("focus"),f=n.matches("dragging"),g=s("isDisabled"),m=i("invalid"),b=s("isInteractive"),w=i("orientation")==="horizontal",E=i("orientation")==="vertical";function k(_){return ov(_,i("min"),i("max"))}function v(_){return Hx(_,i("min"),i("max"),i("step"))}return{value:u,dragging:f,focused:h,setValue(_){r({type:"SET_VALUE",value:_})},getThumbValue(_){return u[_]},setThumbValue(_,T){r({type:"SET_VALUE",index:_,value:T})},getValuePercent:k,getPercentValue:v,getThumbPercent(_){return k(u[_])},setThumbPercent(_,T){const N=v(T);r({type:"SET_VALUE",index:_,value:N})},getThumbMin(_){return Ms(e,_).min},getThumbMax(_){return Ms(e,_).max},increment(_){r({type:"INCREMENT",index:_})},decrement(_){r({type:"DECREMENT",index:_})},focus(){b&&r({type:"FOCUS",index:0})},getLabelProps(){return t.label({...Mo.label.attrs,dir:i("dir"),"data-disabled":G(g),"data-orientation":i("orientation"),"data-invalid":G(m),"data-dragging":G(f),"data-focus":G(h),id:bE(a),htmlFor:A0(a,0),onClick(_){b&&(_.preventDefault(),Oee(a)?.focus())},style:{userSelect:"none",WebkitUserSelect:"none"}})},getRootProps(){return t.element({...Mo.root.attrs,"data-disabled":G(g),"data-orientation":i("orientation"),"data-dragging":G(f),"data-invalid":G(m),"data-focus":G(h),id:ER(a),dir:i("dir"),style:Dee(e)})},getValueTextProps(){return t.element({...Mo.valueText.attrs,dir:i("dir"),"data-disabled":G(g),"data-orientation":i("orientation"),"data-invalid":G(m),"data-focus":G(h),id:_ee(a)})},getTrackProps(){return t.element({...Mo.track.attrs,dir:i("dir"),id:xee(a),"data-disabled":G(g),"data-invalid":G(m),"data-dragging":G(f),"data-orientation":i("orientation"),"data-focus":G(h),style:{position:"relative"}})},getThumbProps(_){const{index:T=0,name:N}=_,C=u[T],x=Ms(e,T),I=i("getAriaValueText")?.({value:C,index:T}),R=Array.isArray(l)?l[T]:l,M=Array.isArray(c)?c[T]:c;return t.element({...Mo.thumb.attrs,dir:i("dir"),"data-index":T,"data-name":N,id:OR(a,T),"data-disabled":G(g),"data-orientation":i("orientation"),"data-focus":G(h&&p===T),"data-dragging":G(f&&p===T),draggable:!1,"aria-disabled":cp(g),"aria-label":R,"aria-labelledby":M??bE(a),"aria-orientation":i("orientation"),"aria-valuemax":x.max,"aria-valuemin":x.min,"aria-valuenow":u[T],"aria-valuetext":I,role:"slider",tabIndex:g?void 0:0,style:xE(e,T),onPointerDown(B){b&&Ns(B)&&(r({type:"THUMB_POINTER_DOWN",index:T}),B.stopPropagation())},onBlur(){b&&r({type:"BLUR"})},onFocus(){b&&r({type:"FOCUS",index:T})},onKeyDown(B){if(B.defaultPrevented||!b)return;const z=Sg(B)*i("step"),J={ArrowUp(){w||r({type:"ARROW_INC",step:z,src:"ArrowUp"})},ArrowDown(){w||r({type:"ARROW_DEC",step:z,src:"ArrowDown"})},ArrowLeft(){E||r({type:"ARROW_DEC",step:z,src:"ArrowLeft"})},ArrowRight(){E||r({type:"ARROW_INC",step:z,src:"ArrowRight"})},PageUp(){r({type:"ARROW_INC",step:z,src:"PageUp"})},PageDown(){r({type:"ARROW_DEC",step:z,src:"PageDown"})},Home(){r({type:"HOME"})},End(){r({type:"END"})}},q=pp(B,{dir:i("dir"),orientation:i("orientation")}),K=J[q];K&&(K(B),B.preventDefault(),B.stopPropagation())}})},getHiddenInputProps(_){const{index:T=0,name:N}=_;return t.input({name:N??(i("name")?i("name")+(u.length>1?"[]":""):void 0),form:i("form"),type:"text",hidden:!0,defaultValue:u[T],id:A0(a,T)})},getRangeProps(){return t.element({id:wee(a),...Mo.range.attrs,dir:i("dir"),"data-dragging":G(f),"data-focus":G(h),"data-invalid":G(m),"data-disabled":G(g),"data-orientation":i("orientation"),style:$ee(e)})},getControlProps(){return t.element({...Mo.control.attrs,dir:i("dir"),id:IR(a),"data-dragging":G(f),"data-disabled":G(g),"data-orientation":i("orientation"),"data-invalid":G(m),"data-focus":G(h),style:Mee(),onPointerDown(_){if(!b||!Ns(_)||dp(_))return;const T=rl(_);r({type:"POINTER_DOWN",point:T}),_.preventDefault(),_.stopPropagation()}})},getMarkerGroupProps(){return t.element({...Mo.markerGroup.attrs,role:"presentation",dir:i("dir"),"aria-hidden":!0,"data-orientation":i("orientation"),style:Vee()})},getMarkerProps(_){const T=Lee(e,_.value);let N;return _.value<kK(u)?N="under-value":_.value>CK(u)?N="over-value":N="at-value",t.element({...Mo.marker.attrs,id:kee(a,_.value),role:"presentation",dir:i("dir"),"data-orientation":i("orientation"),"data-value":_.value,"data-disabled":G(g),"data-state":N,style:T})},getDraggingIndicatorProps(_){const{index:T=0}=_,N=T===p&&f;return t.element({...Mo.draggingIndicator.attrs,role:"presentation",dir:i("dir"),hidden:!N,"data-orientation":i("orientation"),"data-state":N?"open":"closed",style:xE(e,T)})}}}var jee=(e,t)=>e?.width===t?.width&&e?.height===t?.height,wE=(e,t,n,r,o)=>C$(e,t,n,o*r).map(i=>{const s=lp(i.value,i.min,i.max,r),a=dn(s,i.min,i.max);if(!_$(a,t,n))throw new Error("[zag-js/slider] The configured `min`, `max`, `step` or `minStepsBetweenThumbs` values are invalid");return a}),Gee={props({props:e}){const t=e.min??0,n=e.max??100,r=e.step??1,o=e.defaultValue??[t],i=e.minStepsBetweenThumbs??0;return{dir:"ltr",thumbAlignment:"contain",origin:"start",orientation:"horizontal",minStepsBetweenThumbs:i,...e,defaultValue:wE(o,t,n,r,i),value:e.value?wE(e.value,t,n,r,i):void 0,max:n,step:r,min:t}},initialState(){return"idle"},context({prop:e,bindable:t,getContext:n}){return{thumbSize:t(()=>({defaultValue:e("thumbSize")||null})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:gl,hash(r){return r.join(",")},onChange(r){e("onValueChange")?.({value:r})}})),focusedIndex:t(()=>({defaultValue:-1,onChange(r){const o=n();e("onFocusChange")?.({focusedIndex:r,value:o.get("value")})}})),fieldsetDisabled:t(()=>({defaultValue:!1}))}},computed:{isHorizontal:({prop:e})=>e("orientation")==="horizontal",isVertical:({prop:e})=>e("orientation")==="vertical",isRtl:({prop:e})=>e("orientation")==="horizontal"&&e("dir")==="rtl",isDisabled:({context:e,prop:t})=>!!t("disabled")||e.get("fieldsetDisabled"),isInteractive:({prop:e,computed:t})=>!(e("readOnly")||t("isDisabled")),hasMeasuredThumbSize:({context:e})=>e.get("thumbSize")!=null,valuePercent:x0(({context:e,prop:t})=>[e.get("value"),t("min"),t("max")],([e,t,n])=>e.map(r=>100*ov(r,t,n)))},watch({track:e,action:t,context:n}){e([()=>n.hash("value")],()=>{t(["syncInputElements","dispatchChangeEvent"])})},effects:["trackFormControlState","trackThumbSize"],on:{SET_VALUE:[{guard:"hasIndex",actions:["setValueAtIndex"]},{actions:["setValue"]}],INCREMENT:{actions:["incrementThumbAtIndex"]},DECREMENT:{actions:["decrementThumbAtIndex"]}},states:{idle:{on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},FOCUS:{target:"focus",actions:["setFocusedIndex"]},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","focusActiveThumb"]}}},focus:{entry:["focusActiveThumb"],on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","focusActiveThumb"]},ARROW_DEC:{actions:["decrementThumbAtIndex","invokeOnChangeEnd"]},ARROW_INC:{actions:["incrementThumbAtIndex","invokeOnChangeEnd"]},HOME:{actions:["setFocusedThumbToMin","invokeOnChangeEnd"]},END:{actions:["setFocusedThumbToMax","invokeOnChangeEnd"]},BLUR:{target:"idle",actions:["clearFocusedIndex"]}}},dragging:{entry:["focusActiveThumb"],effects:["trackPointerMove"],on:{POINTER_UP:{target:"focus",actions:["invokeOnChangeEnd"]},POINTER_MOVE:{actions:["setPointerValue"]}}}},implementations:{guards:{hasIndex:({event:e})=>e.index!=null},effects:{trackFormControlState({context:e,scope:t}){return du(Cee(t),{onFieldsetDisabledChange(n){e.set("fieldsetDisabled",n)},onFormReset(){e.set("value",e.initial("value"))}})},trackPointerMove({scope:e,send:t}){return B$(e.getDoc(),{onPointerMove(n){t({type:"POINTER_MOVE",point:n.point})},onPointerUp(){t({type:"POINTER_UP"})}})},trackThumbSize({context:e,scope:t,prop:n}){if(!(n("thumbAlignment")!=="contain"||n("thumbSize")))return H$(TR(t),{box:"border-box",measure(r){return Tee(r)},onEntry({rects:r}){if(r.length===0)return;const o=QK(r[0],["width","height"]);jee(e.get("thumbSize"),o)||e.set("thumbSize",o)}})}},actions:{dispatchChangeEvent({context:e,scope:t}){Iee(t,e.get("value"))},syncInputElements({context:e,scope:t}){e.get("value").forEach((n,r)=>{const o=SR(t,r);Qp(o,n.toString())})},invokeOnChangeEnd({prop:e,context:t}){queueMicrotask(()=>{e("onValueChangeEnd")?.({value:t.get("value")})})},setClosestThumbIndex(e){const{context:t,event:n}=e,r=yE(e,n.point);if(r==null)return;const o=zee(e,r);t.set("focusedIndex",o)},setFocusedIndex({context:e,event:t}){e.set("focusedIndex",t.index)},clearFocusedIndex({context:e}){e.set("focusedIndex",-1)},setPointerValue(e){queueMicrotask(()=>{const{context:t,event:n}=e,r=yE(e,n.point);if(r==null)return;const o=t.get("focusedIndex"),i=N0(e,r,o);t.set("value",s=>sd(s,o,i))})},focusActiveThumb({scope:e,context:t}){Ht(()=>{Eee(e,t.get("focusedIndex"))?.focus({preventScroll:!0})})},decrementThumbAtIndex(e){const{context:t,event:n}=e,r=Bee(e,n.index,n.step);t.set("value",r)},incrementThumbAtIndex(e){const{context:t,event:n}=e,r=Hee(e,n.index,n.step);t.set("value",r)},setFocusedThumbToMin(e){const{context:t}=e,n=t.get("focusedIndex"),{min:r}=Ms(e,n);t.set("value",o=>sd(o,n,r))},setFocusedThumbToMax(e){const{context:t}=e,n=t.get("focusedIndex"),{max:r}=Ms(e,n);t.set("value",o=>sd(o,n,r))},setValueAtIndex(e){const{context:t,event:n}=e,r=N0(e,n.value,n.index);t.set("value",o=>sd(o,n.index,r))},setValue(e){const{context:t,event:n}=e,r=Fee(e,n.value);t.set("value",r)}}}};On()(["aria-label","aria-labelledby","dir","disabled","form","getAriaValueText","getRootNode","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value","defaultValue"]);On()(["index","name"]);const Wee=(e={},t)=>{const n=nt(),r=vl(bl),o=wl(xl),i=A(()=>{const a=pe(e);return{id:n,dir:o.value.dir,value:a.modelValue,getRootNode:r?.value.getRootNode,...fu(a),onFocusChange:l=>{t?.("focusChange",l),a.onFocusChange?.(l)},onValueChangeEnd:l=>{t?.("valueChangeEnd",l),a.onValueChangeEnd?.(l)},onValueChange:l=>{t?.("valueChange",l),t?.("update:modelValue",l.value),a.onValueChange?.(l)}}}),s=ml(Gee,i);return A(()=>Uee(s,pu))},qee=P({__name:"slider-root",props:Ze({"aria-label":{},"aria-labelledby":{},defaultValue:{},dir:{},disabled:{type:Boolean},form:{},getAriaValueText:{type:Function},getRootNode:{type:Function},id:{},ids:{},invalid:{type:Boolean},max:{},min:{},minStepsBetweenThumbs:{},modelValue:{},name:{},orientation:{},origin:{},readOnly:{type:Boolean},step:{},thumbAlignment:{},thumbSize:{},asChild:{type:Boolean}},{disabled:void 0,invalid:void 0,readOnly:void 0}),emits:["focusChange","valueChange","valueChangeEnd","update:modelValue"],setup(e,{emit:t}){const n=Wee(e,t);return kR(n),ue(),(r,o)=>(y(),$(d(ce).div,F(d(n).getRootProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),Kee=P({__name:"slider-thumb",props:{index:{},name:{},asChild:{type:Boolean}},setup(e){const t=e,n=Oo();return dee(t),ue(),(r,o)=>(y(),$(d(ce).div,F(d(n).getThumbProps(t),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),Yee=P({__name:"slider-track",props:{asChild:{type:Boolean}},setup(e){const t=Oo();return ue(),(n,r)=>(y(),$(d(ce).div,F(d(t).getTrackProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Xee=P({__name:"slider-value-text",props:{asChild:{type:Boolean}},setup(e){const t=Oo(),n=xo();return ue(),(r,o)=>(y(),$(d(ce).span,F(d(t).getValueTextProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default",{},()=>[re(j(n.default?.()||d(t).value.join(", ")),1)])]),_:3},16,["as-child"]))}}),Fl=Object.freeze(Object.defineProperty({__proto__:null,Context:cee,Control:uee,DraggingIndicator:pee,HiddenInput:fee,Label:hee,Marker:mee,MarkerGroup:gee,Range:vee,Root:qee,RootProvider:bee,Thumb:Kee,Track:Yee,ValueText:Xee},Symbol.toStringTag,{value:"Module"})),[AR,la]=Ut("NumberInputContext"),Jee=P({__name:"number-input-context",setup(e){const t=la();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),Zee=P({__name:"number-input-control",props:{asChild:{type:Boolean}},setup(e){const t=la();return ue(),(n,r)=>(y(),$(d(ce).div,F(d(t).getControlProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Qee=P({__name:"number-input-decrement-trigger",props:{asChild:{type:Boolean}},setup(e){const t=la();return ue(),(n,r)=>(y(),$(d(ce).button,F(d(t).getDecrementTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),ete=P({__name:"number-input-increment-trigger",props:{asChild:{type:Boolean}},setup(e){const t=la();return ue(),(n,r)=>(y(),$(d(ce).button,F(d(t).getIncrementTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),tte=P({__name:"number-input-input",props:{asChild:{type:Boolean}},setup(e){const t=la(),n=Ln();return ue(),(r,o)=>(y(),$(d(ce).input,F({"aria-describedby":d(n)?.ariaDescribedby},d(t).getInputProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["aria-describedby","as-child"]))}}),nte=P({__name:"number-input-label",props:{asChild:{type:Boolean}},setup(e){const t=la();return ue(),(n,r)=>(y(),$(d(ce).label,F(d(t).getLabelProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),rte=P({__name:"number-input-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=A(()=>t.value);return AR(n),ue(),(r,o)=>(y(),$(d(ce).div,F(n.value.getRootProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}});let Fb=new Map,M0=!1;try{M0=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let Vg=!1;try{Vg=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const NR={degree:{narrow:{default:"","ja-JP":" ","zh-TW":"","sl-SI":" "}}};class ote{format(t){let n="";if(!M0&&this.options.signDisplay!=null?n=ste(this.numberFormatter,this.options.signDisplay,t):n=this.numberFormatter.format(t),this.options.style==="unit"&&!Vg){var r;let{unit:o,unitDisplay:i="short",locale:s}=this.resolvedOptions();if(!o)return n;let a=(r=NR[o])===null||r===void 0?void 0:r[i];n+=a[s]||a.default}return n}formatToParts(t){return this.numberFormatter.formatToParts(t)}formatRange(t,n){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(t,n);if(n<t)throw new RangeError("End date must be >= start date");return`${this.format(t)}  ${this.format(n)}`}formatRangeToParts(t,n){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(t,n);if(n<t)throw new RangeError("End date must be >= start date");let r=this.numberFormatter.formatToParts(t),o=this.numberFormatter.formatToParts(n);return[...r.map(i=>({...i,source:"startRange"})),{type:"literal",value:"  ",source:"shared"},...o.map(i=>({...i,source:"endRange"}))]}resolvedOptions(){let t=this.numberFormatter.resolvedOptions();return!M0&&this.options.signDisplay!=null&&(t={...t,signDisplay:this.options.signDisplay}),!Vg&&this.options.style==="unit"&&(t={...t,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),t}constructor(t,n={}){this.numberFormatter=ite(t,n),this.options=n}}function ite(e,t={}){let{numberingSystem:n}=t;if(n&&e.includes("-nu-")&&(e.includes("-u-")||(e+="-u-"),e+=`-nu-${n}`),t.style==="unit"&&!Vg){var r;let{unit:s,unitDisplay:a="short"}=t;if(!s)throw new Error('unit option must be provided with style: "unit"');if(!(!((r=NR[s])===null||r===void 0)&&r[a]))throw new Error(`Unsupported unit ${s} with unitDisplay = ${a}`);t={...t,style:"decimal"}}let o=e+(t?Object.entries(t).sort((s,a)=>s[0]<a[0]?-1:1).join():"");if(Fb.has(o))return Fb.get(o);let i=new Intl.NumberFormat(e,t);return Fb.set(o,i),i}function ste(e,t,n){if(t==="auto")return e.format(n);if(t==="never")return e.format(Math.abs(n));{let r=!1;if(t==="always"?r=n>0||Object.is(n,0):t==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):r=n>0),r){let o=e.format(-n),i=e.format(n),s=o.replace(i,"").replace(/\u200e|\u061C/,"");return[...s].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),o.replace(i,"!!!").replace(s,"+").replace("!!!",i)}else return e.format(n)}}const ate=new RegExp("^.*\\(.*\\).*$"),lte=["latn","arab","hanidec","deva","beng","fullwide"];class MR{parse(t){return Bb(this.locale,this.options,t).parse(t)}isValidPartialNumber(t,n,r){return Bb(this.locale,this.options,t).isValidPartialNumber(t,n,r)}getNumberingSystem(t){return Bb(this.locale,this.options,t).options.numberingSystem}constructor(t,n={}){this.locale=t,this.options=n}}const _E=new Map;function Bb(e,t,n){let r=kE(e,t);if(!e.includes("-nu-")&&!r.isValidPartialNumber(n)){for(let o of lte)if(o!==r.options.numberingSystem){let i=kE(e+(e.includes("-u-")?"-nu-":"-u-nu-")+o,t);if(i.isValidPartialNumber(n))return i}}return r}function kE(e,t){let n=e+(t?Object.entries(t).sort((o,i)=>o[0]<i[0]?-1:1).join():""),r=_E.get(n);return r||(r=new cte(e,t),_E.set(n,r)),r}class cte{parse(t){let n=this.sanitize(t);if(this.symbols.group&&(n=Bl(n,this.symbols.group,"")),this.symbols.decimal&&(n=n.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(n=n.replace(this.symbols.minusSign,"-")),n=n.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let s=n.indexOf("-");n=n.replace("-",""),n=n.replace("+","");let a=n.indexOf(".");a===-1&&(a=n.length),n=n.replace(".",""),a-2===0?n=`0.${n}`:a-2===-1?n=`0.0${n}`:a-2===-2?n="0.00":n=`${n.slice(0,a-2)}.${n.slice(a-2)}`,s>-1&&(n=`-${n}`)}let r=n?+n:NaN;if(isNaN(r))return NaN;if(this.options.style==="percent"){var o,i;let s={...this.options,style:"decimal",minimumFractionDigits:Math.min(((o=this.options.minimumFractionDigits)!==null&&o!==void 0?o:0)+2,20),maximumFractionDigits:Math.min(((i=this.options.maximumFractionDigits)!==null&&i!==void 0?i:0)+2,20)};return new MR(this.locale,s).parse(new ote(this.locale,s).format(r))}return this.options.currencySign==="accounting"&&ate.test(t)&&(r=-1*r),r}sanitize(t){return t=t.replace(this.symbols.literals,""),this.symbols.minusSign&&(t=t.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(t=t.replace(",",this.symbols.decimal),t=t.replace("",this.symbols.decimal)),this.symbols.group&&(t=Bl(t,".",this.symbols.group))),this.symbols.group===""&&t.includes("'")&&(t=Bl(t,"'",this.symbols.group)),this.options.locale==="fr-FR"&&this.symbols.group&&(t=Bl(t," ",this.symbols.group),t=Bl(t,/\u00A0/g,this.symbols.group)),t}isValidPartialNumber(t,n=-1/0,r=1/0){return t=this.sanitize(t),this.symbols.minusSign&&t.startsWith(this.symbols.minusSign)&&n<0?t=t.slice(this.symbols.minusSign.length):this.symbols.plusSign&&t.startsWith(this.symbols.plusSign)&&r>0&&(t=t.slice(this.symbols.plusSign.length)),this.symbols.group&&t.startsWith(this.symbols.group)||this.symbols.decimal&&t.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(t=Bl(t,this.symbols.group,"")),t=t.replace(this.symbols.numeral,""),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,"")),t.length===0)}constructor(t,n={}){this.locale=t,n.roundingIncrement!==1&&n.roundingIncrement!=null&&(n.maximumFractionDigits==null&&n.minimumFractionDigits==null?(n.maximumFractionDigits=0,n.minimumFractionDigits=0):n.maximumFractionDigits==null?n.maximumFractionDigits=n.minimumFractionDigits:n.minimumFractionDigits==null&&(n.minimumFractionDigits=n.maximumFractionDigits)),this.formatter=new Intl.NumberFormat(t,n),this.options=this.formatter.resolvedOptions(),this.symbols=dte(t,this.formatter,this.options,n);var r,o;this.options.style==="percent"&&(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)>18||((o=this.options.maximumFractionDigits)!==null&&o!==void 0?o:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const CE=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),ute=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function dte(e,t,n,r){var o,i,s,a;let l=new Intl.NumberFormat(e,{...n,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),c=l.formatToParts(-10000.111),u=l.formatToParts(10000.111),p=ute.map(C=>l.formatToParts(C));var h;let f=(h=(o=c.find(C=>C.type==="minusSign"))===null||o===void 0?void 0:o.value)!==null&&h!==void 0?h:"-",g=(i=u.find(C=>C.type==="plusSign"))===null||i===void 0?void 0:i.value;!g&&(r?.signDisplay==="exceptZero"||r?.signDisplay==="always")&&(g="+");let m=(s=new Intl.NumberFormat(e,{...n,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(C=>C.type==="decimal"))===null||s===void 0?void 0:s.value,b=(a=c.find(C=>C.type==="group"))===null||a===void 0?void 0:a.value,w=c.filter(C=>!CE.has(C.type)).map(C=>EE(C.value)),E=p.flatMap(C=>C.filter(x=>!CE.has(x.type)).map(x=>EE(x.value))),k=[...new Set([...w,...E])].sort((C,x)=>x.length-C.length),v=k.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${k.join("|")}|[\\p{White_Space}]`,"gu"),_=[...new Intl.NumberFormat(n.locale,{useGrouping:!1}).format(9876543210)].reverse(),T=new Map(_.map((C,x)=>[C,x])),N=new RegExp(`[${_.join("")}]`,"g");return{minusSign:f,plusSign:g,decimal:m,group:b,literals:v,numeral:N,index:C=>String(T.get(C))}}function Bl(e,t,n){return e.replaceAll?e.replaceAll(t,n):e.split(t).join(n)}function EE(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var pte=no("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber"),ls=pte.build(),fte=e=>e.ids?.root??`number-input:${e.id}`,ld=e=>e.ids?.input??`number-input:${e.id}:input`,DR=e=>e.ids?.incrementTrigger??`number-input:${e.id}:inc`,LR=e=>e.ids?.decrementTrigger??`number-input:${e.id}:dec`,hte=e=>e.ids?.scrubber??`number-input:${e.id}:scrubber`,VR=e=>`number-input:${e.id}:cursor`,gte=e=>e.ids?.label??`number-input:${e.id}:label`,cd=e=>e.getById(ld(e)),mte=e=>e.getById(DR(e)),vte=e=>e.getById(LR(e)),FR=e=>e.getDoc().getElementById(VR(e)),bte=(e,t)=>{let n=null;return t==="increment"&&(n=mte(e)),t==="decrement"&&(n=vte(e)),n},yte=(e,t)=>{if(!lv())return _te(e,t),()=>{FR(e)?.remove()}},xte=e=>{const t=e.getDoc(),n=t.documentElement,r=t.body;return r.style.pointerEvents="none",n.style.userSelect="none",n.style.cursor="ew-resize",()=>{r.style.pointerEvents="",n.style.userSelect="",n.style.cursor="",n.style.length||n.removeAttribute("style"),r.style.length||r.removeAttribute("style")}},wte=(e,t)=>{const{point:n,isRtl:r,event:o}=t,i=e.getWin(),s=Md(o.movementX,i.devicePixelRatio),a=Md(o.movementY,i.devicePixelRatio);let l=s>0?"increment":s<0?"decrement":null;r&&l==="increment"&&(l="decrement"),r&&l==="decrement"&&(l="increment");const c={x:n.x+s,y:n.y+a},u=i.innerWidth,p=Md(7.5,i.devicePixelRatio);return c.x=zK(c.x+p,u)-p,{hint:l,point:c}},_te=(e,t)=>{const n=e.getDoc(),r=n.createElement("div");r.className="scrubber--cursor",r.id=VR(e),Object.assign(r.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:tY,transform:t?`translate3d(${t.x}px, ${t.y}px, 0px)`:void 0,willChange:"transform"}),r.innerHTML=`
      <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
        <g transform="translate(2 3)">
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
        </g>
      </svg>`,n.body.appendChild(r)};function kte(e,t){const{state:n,send:r,prop:o,scope:i,computed:s}=e,a=n.hasTag("focus"),l=s("isDisabled"),c=!!o("readOnly"),u=!!o("required"),p=n.matches("scrubbing"),h=s("isValueEmpty"),f=s("isOutOfRange")||!!o("invalid"),g=l||!s("canIncrement")||c,m=l||!s("canDecrement")||c,b=o("translations");return{focused:a,invalid:f,empty:h,value:s("formattedValue"),valueAsNumber:s("valueAsNumber"),setValue(w){r({type:"VALUE.SET",value:w})},clearValue(){r({type:"VALUE.CLEAR"})},increment(){r({type:"VALUE.INCREMENT"})},decrement(){r({type:"VALUE.DECREMENT"})},setToMax(){r({type:"VALUE.SET",value:o("max")})},setToMin(){r({type:"VALUE.SET",value:o("min")})},focus(){cd(i)?.focus()},getRootProps(){return t.element({id:fte(i),...ls.root.attrs,dir:o("dir"),"data-disabled":G(l),"data-focus":G(a),"data-invalid":G(f),"data-scrubbing":G(p)})},getLabelProps(){return t.label({...ls.label.attrs,dir:o("dir"),"data-disabled":G(l),"data-focus":G(a),"data-invalid":G(f),"data-required":G(u),"data-scrubbing":G(p),id:gte(i),htmlFor:ld(i)})},getControlProps(){return t.element({...ls.control.attrs,dir:o("dir"),role:"group","aria-disabled":l,"data-focus":G(a),"data-disabled":G(l),"data-invalid":G(f),"data-scrubbing":G(p),"aria-invalid":cp(f)})},getValueTextProps(){return t.element({...ls.valueText.attrs,dir:o("dir"),"data-disabled":G(l),"data-invalid":G(f),"data-focus":G(a),"data-scrubbing":G(p)})},getInputProps(){return t.input({...ls.input.attrs,dir:o("dir"),name:o("name"),form:o("form"),id:ld(i),role:"spinbutton",defaultValue:s("formattedValue"),pattern:o("formatOptions")?void 0:o("pattern"),inputMode:o("inputMode"),"aria-invalid":cp(f),"data-invalid":G(f),disabled:l,"data-disabled":G(l),readOnly:c,required:o("required"),autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text","aria-roledescription":"numberfield","aria-valuemin":o("min"),"aria-valuemax":o("max"),"aria-valuenow":Number.isNaN(s("valueAsNumber"))?void 0:s("valueAsNumber"),"aria-valuetext":s("valueText"),"data-scrubbing":G(p),onFocus(){r({type:"INPUT.FOCUS"})},onBlur(){r({type:"INPUT.BLUR"})},onInput(w){r({type:"INPUT.CHANGE",target:w.currentTarget,hint:"set"})},onBeforeInput(w){try{const{selectionStart:E,selectionEnd:k,value:v}=w.currentTarget,_=v.slice(0,E)+(w.data??"")+v.slice(k);s("parser").isValidPartialNumber(_)||w.preventDefault()}catch{}},onKeyDown(w){if(w.defaultPrevented||c||kY(w))return;const E=Sg(w)*o("step"),k={ArrowUp(){r({type:"INPUT.ARROW_UP",step:E}),w.preventDefault()},ArrowDown(){r({type:"INPUT.ARROW_DOWN",step:E}),w.preventDefault()},Home(){dp(w)||(r({type:"INPUT.HOME"}),w.preventDefault())},End(){dp(w)||(r({type:"INPUT.END"}),w.preventDefault())},Enter(){r({type:"INPUT.ENTER"})}}[w.key];k?.(w)}})},getDecrementTriggerProps(){return t.button({...ls.decrementTrigger.attrs,dir:o("dir"),id:LR(i),disabled:m,"data-disabled":G(m),"aria-label":b.decrementLabel,type:"button",tabIndex:-1,"aria-controls":ld(i),"data-scrubbing":G(p),onPointerDown(w){m||Ns(w)&&(r({type:"TRIGGER.PRESS_DOWN",hint:"decrement",pointerType:w.pointerType}),w.pointerType==="mouse"&&w.preventDefault(),w.pointerType==="touch"&&w.currentTarget?.focus({preventScroll:!0}))},onPointerUp(w){r({type:"TRIGGER.PRESS_UP",hint:"decrement",pointerType:w.pointerType})},onPointerLeave(){m||r({type:"TRIGGER.PRESS_UP",hint:"decrement"})}})},getIncrementTriggerProps(){return t.button({...ls.incrementTrigger.attrs,dir:o("dir"),id:DR(i),disabled:g,"data-disabled":G(g),"aria-label":b.incrementLabel,type:"button",tabIndex:-1,"aria-controls":ld(i),"data-scrubbing":G(p),onPointerDown(w){g||!Ns(w)||(r({type:"TRIGGER.PRESS_DOWN",hint:"increment",pointerType:w.pointerType}),w.pointerType==="mouse"&&w.preventDefault(),w.pointerType==="touch"&&w.currentTarget?.focus({preventScroll:!0}))},onPointerUp(w){r({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:w.pointerType})},onPointerLeave(w){r({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:w.pointerType})}})},getScrubberProps(){return t.element({...ls.scrubber.attrs,dir:o("dir"),"data-disabled":G(l),id:hte(i),role:"presentation","data-scrubbing":G(p),onMouseDown(w){if(l||!Ns(w))return;const E=rl(w),k=rn(w.currentTarget).devicePixelRatio;E.x=E.x-Md(7.5,k),E.y=E.y-Md(7.5,k),r({type:"SCRUBBER.PRESS_DOWN",point:E}),w.preventDefault()},style:{cursor:l?void 0:"ew-resize"}})}}}function Cte(e,t){if(!(!e||!t.isActiveElement(e)))try{const{selectionStart:n,selectionEnd:r,value:o}=e,i=o.substring(0,n),s=o.substring(r);return{start:n,end:r,value:o,beforeTxt:i,afterTxt:s}}catch{}}function Ete(e,t,n){if(!(!e||!n.isActiveElement(e))){if(!t){e.setSelectionRange(e.value.length,e.value.length);return}try{const{value:r}=e,{beforeTxt:o="",afterTxt:i="",start:s}=t;let a=r.length;if(r.endsWith(i))a=r.length-i.length;else if(r.startsWith(o))a=o.length;else if(s!=null){const l=o[s-1],c=r.indexOf(l,s-1);c!==-1&&(a=c+1)}e.setSelectionRange(a,a)}catch{}}}var Ote=(e,t={})=>new Intl.NumberFormat(e,t),Ite=(e,t={})=>new MR(e,t),Hb=(e,t)=>{const{prop:n,computed:r}=t;return n("formatOptions")?e===""?Number.NaN:r("parser").parse(e):parseFloat(e)},Pa=(e,t)=>{const{prop:n,computed:r}=t;return Number.isNaN(e)?"":n("formatOptions")?r("formatter").format(e):e.toString()},Tte=(e,t)=>{let n=e!==void 0&&!Number.isNaN(e)?e:1;return t?.style==="percent"&&(e===void 0||Number.isNaN(e))&&(n=.01),n},{choose:Ste,guards:Pte,createMachine:$te}=uX(),{not:OE,and:IE}=Pte,Rte=$te({props({props:e}){const t=Tte(e.step,e.formatOptions);return{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!e.allowOverflow,allowOverflow:!1,inputMode:"decimal",pattern:"-?[0-9]*(.[0-9]+)?",defaultValue:"",step:t,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,spinOnPress:!0,...e,translations:{incrementLabel:"increment value",decrementLabel:"decrease value",...e.translations}}},initialState(){return"idle"},context({prop:e,bindable:t,getComputed:n}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(r){const o=n(),i=Hb(r,{computed:o,prop:e});e("onValueChange")?.({value:r,valueAsNumber:i})}})),hint:t(()=>({defaultValue:null})),scrubberCursorPoint:t(()=>({defaultValue:null,hash(r){return r?`x:${r.x}, y:${r.y}`:""}})),fieldsetDisabled:t(()=>({defaultValue:!1}))}},computed:{isRtl:({prop:e})=>e("dir")==="rtl",valueAsNumber:({context:e,computed:t,prop:n})=>Hb(e.get("value"),{computed:t,prop:n}),formattedValue:({computed:e,prop:t})=>Pa(e("valueAsNumber"),{computed:e,prop:t}),isAtMin:({computed:e,prop:t})=>WK(e("valueAsNumber"),t("min")),isAtMax:({computed:e,prop:t})=>GK(e("valueAsNumber"),t("max")),isOutOfRange:({computed:e,prop:t})=>!_$(e("valueAsNumber"),t("min"),t("max")),isValueEmpty:({context:e})=>e.get("value")==="",isDisabled:({prop:e,context:t})=>!!e("disabled")||t.get("fieldsetDisabled"),canIncrement:({prop:e,computed:t})=>e("allowOverflow")||!t("isAtMax"),canDecrement:({prop:e,computed:t})=>e("allowOverflow")||!t("isAtMin"),valueText:({prop:e,context:t})=>e("translations").valueText?.(t.get("value")),formatter:x0(({prop:e})=>[e("locale"),e("formatOptions")],([e,t])=>Ote(e,t)),parser:x0(({prop:e})=>[e("locale"),e("formatOptions")],([e,t])=>Ite(e,t))},watch({track:e,action:t,context:n,computed:r,prop:o}){e([()=>n.get("value"),()=>o("locale")],()=>{t(["syncInputElement"])}),e([()=>r("isOutOfRange")],()=>{t(["invokeOnInvalid"])}),e([()=>n.hash("scrubberCursorPoint")],()=>{t(["setVirtualCursorPosition"])})},effects:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:["focus"],effects:["attachWheelListener"],on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:["increment"]},"INPUT.ARROW_DOWN":{actions:["decrement"]},"INPUT.HOME":{actions:["decrementToMin"]},"INPUT.END":{actions:["incrementToMax"]},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:IE("clampValueOnBlur",OE("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur"]},{guard:OE("isInRange"),target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnInvalid"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur"]}}},"before:spin":{tags:["focus"],effects:["trackButtonDisabled","waitForChangeDelay"],entry:Ste([{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}]),on:{CHANGE_DELAY:{target:"spinning",guard:IE("isInRange","spinOnPress")},"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:["clearHint"]},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:["focus"],effects:["trackButtonDisabled","spinValue"],on:{SPIN:[{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}],"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:["focus"],effects:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}},implementations:{guards:{clampValueOnBlur:({prop:e})=>e("clampValueOnBlur"),spinOnPress:({prop:e})=>!!e("spinOnPress"),isInRange:({computed:e})=>!e("isOutOfRange"),isDecrementHint:({context:e,event:t})=>(t.hint??e.get("hint"))==="decrement",isIncrementHint:({context:e,event:t})=>(t.hint??e.get("hint"))==="increment",isTouchPointer:({event:e})=>e.pointerType==="touch"},effects:{waitForChangeDelay({send:e}){const t=setTimeout(()=>{e({type:"CHANGE_DELAY"})},300);return()=>clearTimeout(t)},spinValue({send:e}){const t=setInterval(()=>{e({type:"SPIN"})},50);return()=>clearInterval(t)},trackFormControl({context:e,scope:t}){const n=cd(t);return du(n,{onFieldsetDisabledChange(r){e.set("fieldsetDisabled",r)},onFormReset(){e.set("value",e.initial("value"))}})},setupVirtualCursor({context:e,scope:t}){const n=e.get("scrubberCursorPoint");return yte(t,n)},preventTextSelection({scope:e}){return xte(e)},trackButtonDisabled({context:e,scope:t,send:n}){const r=e.get("hint"),o=bte(t,r);return L$(o,{attributes:["disabled"],callback(){n({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener({scope:e,send:t,prop:n}){const r=cd(e);if(!r||!e.isActiveElement(r)||!n("allowMouseWheel"))return;function o(i){i.preventDefault();const s=Math.sign(i.deltaY)*-1;s===1?t({type:"VALUE.INCREMENT"}):s===-1&&t({type:"VALUE.DECREMENT"})}return Kt(r,"wheel",o,{passive:!1})},activatePointerLock({scope:e}){if(!lv())return WY(e.getDoc())},trackMousemove({scope:e,send:t,context:n,computed:r}){const o=e.getDoc();function i(a){const l=n.get("scrubberCursorPoint"),c=r("isRtl"),u=wte(e,{point:l,isRtl:c,event:a});u.hint&&t({type:"SCRUBBER.POINTER_MOVE",hint:u.hint,point:u.point})}function s(){t({type:"SCRUBBER.POINTER_UP"})}return Og(Kt(o,"mousemove",i,!1),Kt(o,"mouseup",s,!1))}},actions:{focusInput({scope:e,prop:t}){if(!t("focusInputOnChange"))return;const n=cd(e);e.isActiveElement(n)||Ht(()=>n?.focus({preventScroll:!0}))},increment({context:e,event:t,prop:n,computed:r}){let o=JK(r("valueAsNumber"),t.step??n("step"));n("allowOverflow")||(o=dn(o,n("min"),n("max"))),e.set("value",Pa(o,{computed:r,prop:n}))},decrement({context:e,event:t,prop:n,computed:r}){let o=ZK(r("valueAsNumber"),t.step??n("step"));n("allowOverflow")||(o=dn(o,n("min"),n("max"))),e.set("value",Pa(o,{computed:r,prop:n}))},setClampedValue({context:e,prop:t,computed:n}){const r=dn(n("valueAsNumber"),t("min"),t("max"));e.set("value",Pa(r,{computed:n,prop:t}))},setRawValue({context:e,event:t,prop:n,computed:r}){let o=Hb(t.value,{computed:r,prop:n});n("allowOverflow")||(o=dn(o,n("min"),n("max"))),e.set("value",Pa(o,{computed:r,prop:n}))},setValue({context:e,event:t}){const n=t.target?.value??t.value;e.set("value",n)},clearValue({context:e}){e.set("value","")},incrementToMax({context:e,prop:t,computed:n}){const r=Pa(t("max"),{computed:n,prop:t});e.set("value",r)},decrementToMin({context:e,prop:t,computed:n}){const r=Pa(t("min"),{computed:n,prop:t});e.set("value",r)},setHint({context:e,event:t}){e.set("hint",t.hint)},clearHint({context:e}){e.set("hint",null)},invokeOnFocus({computed:e,prop:t}){t("onFocusChange")?.({focused:!0,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},invokeOnBlur({computed:e,prop:t}){t("onFocusChange")?.({focused:!1,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},invokeOnInvalid({computed:e,prop:t,event:n}){if(n.type==="INPUT.CHANGE")return;const r=e("valueAsNumber")>t("max")?"rangeOverflow":"rangeUnderflow";t("onValueInvalid")?.({reason:r,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},syncInputElement({context:e,event:t,computed:n,scope:r}){const o=t.type.endsWith("CHANGE")?e.get("value"):n("formattedValue"),i=cd(r),s=Cte(i,r);Ht(()=>{Qp(i,o),Ete(i,s,r)})},setFormattedValue({context:e,computed:t}){e.set("value",t("formattedValue"))},setCursorPoint({context:e,event:t}){e.set("scrubberCursorPoint",t.point)},clearCursorPoint({context:e}){e.set("scrubberCursorPoint",null)},setVirtualCursorPosition({context:e,scope:t}){const n=FR(t),r=e.get("scrubberCursorPoint");!n||!r||(n.style.transform=`translate3d(${r.x}px, ${r.y}px, 0px)`)}}}});On()(["allowMouseWheel","allowOverflow","clampValueOnBlur","dir","disabled","focusInputOnChange","form","formatOptions","getRootNode","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","required","readOnly","spinOnPress","step","translations","value","defaultValue"]);const Ate=(e={},t)=>{const n=nt(),r=vl(bl),o=wl(xl),i=Ln(),s=A(()=>{const l=pe(e);return{id:n,ids:{label:i?.value.ids.label,input:i?.value.ids.control},disabled:i?.value.disabled,readOnly:i?.value.readOnly,required:i?.value.required,invalid:i?.value.invalid,dir:o.value.dir,locale:o.value.locale,value:l.modelValue,getRootNode:r?.value.getRootNode,...fu(l),onValueChange:c=>{t?.("valueChange",c),t?.("update:modelValue",c.value),l.onValueChange?.(c)},onFocusChange:c=>{t?.("focusChange",c),l.onFocusChange?.(c)},onValueInvalid:c=>{t?.("valueInvalid",c),l.onValueInvalid?.(c)}}}),a=ml(Rte,s);return A(()=>kte(a,pu))},Nte=P({__name:"number-input-root",props:Ze({allowMouseWheel:{type:Boolean},allowOverflow:{type:Boolean},clampValueOnBlur:{type:Boolean},defaultValue:{},disabled:{type:Boolean},focusInputOnChange:{type:Boolean},form:{},formatOptions:{},id:{},ids:{},inputMode:{},invalid:{type:Boolean},locale:{},max:{},min:{},modelValue:{},name:{},pattern:{},readOnly:{type:Boolean},required:{type:Boolean},spinOnPress:{type:Boolean},step:{},translations:{},asChild:{type:Boolean}},{allowMouseWheel:void 0,allowOverflow:void 0,clampValueOnBlur:void 0,disabled:void 0,focusInputOnChange:void 0,invalid:void 0,readOnly:void 0,required:void 0,spinOnPress:void 0}),emits:["focusChange","valueChange","valueInvalid","update:modelValue"],setup(e,{emit:t}){const n=Ate(e,t);return AR(n),ue(),(r,o)=>(y(),$(d(ce).div,F(d(n).getRootProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),Mte=P({__name:"number-input-scrubber",props:{asChild:{type:Boolean}},setup(e){const t=la();return ue(),(n,r)=>(y(),$(d(ce).div,F(d(t).getScrubberProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Dte=P({__name:"number-input-value-text",props:{asChild:{type:Boolean}},setup(e){const t=la();return ue(),(n,r)=>(y(),$(d(ce).span,F(d(t).getValueTextProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),ki=Object.freeze(Object.defineProperty({__proto__:null,Context:Jee,Control:Zee,DecrementTrigger:Qee,IncrementTrigger:ete,Input:tte,Label:nte,Root:Nte,RootProvider:rte,Scrubber:Mte,ValueText:Dte},Symbol.toStringTag,{value:"Module"})),Lte={class:"flex items-center gap-4"},Vte={key:0,class:"px-1 text-sm text-gray-500 border-gray-300"},Fte=P({__name:"Range",props:at({field:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,n=A(()=>t.field.min||0),r=A(()=>t.field.max||100),o=A(()=>t.field.step||1),i=rt(e,"modelValue"),s=A({get:()=>[i.value??t.field.default??t.field.min??0],set:l=>{i.value=l[0]}}),a=A({get:()=>(i.value??t.field.default??t.field.min??0).toString(),set:l=>{const c=parseFloat(l);i.value=isNaN(c)?void 0:c}});return(l,c)=>(y(),$(d(Fl).Root,{modelValue:s.value,"onUpdate:modelValue":c[1]||(c[1]=u=>s.value=u),min:n.value,max:r.value,step:o.value,class:"relative w-full"},{default:O(()=>[S(d(Fl).Label,{class:"block text-sm font-medium text-gray-700 mb-1"},{default:O(()=>[re(j(l.field.label),1)]),_:1}),D("div",Lte,[S(d(Fl).Control,{class:"flex-1 flex items-center h-2 select-none touch-none"},{default:O(()=>[S(d(Fl).Track,{class:"flex-1 overflow-hidden h-1 rounded-full bg-gray-100"},{default:O(()=>[S(d(Fl).Range,{class:"h-1 bg-accent"})]),_:1}),(y(),$(d(Fl).Thumb,{index:0,key:0,class:"h-4 w-4 bg-white rounded-full shadow outline-none border-2 border-accent"}))]),_:1}),S(d(ki).Root,{modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=u=>a.value=u),min:n.value,max:r.value,step:o.value,class:"flex-none w-16"},{default:O(()=>[S(d(ki).Control,{class:"flex items-center h-8 border border-gray-300 rounded overflow-hidden focus-within:outline-none focus-within:ring-2 focus-within:ring-accent focus-within:border-transparent"},{default:O(()=>[S(d(ki).Input,{class:"w-full px-2 text-sm focus:outline-none appearance-none"}),l.field.unit?(y(),V("div",Vte,j(l.field.unit),1)):Z("",!0)]),_:1})]),_:1},8,["modelValue","min","max","step"])])]),_:1},8,["modelValue","min","max","step"]))}}),Bte={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Hte(e,t){return y(),V("svg",Bte,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m15 11.25l1.5 1.5l.75-.75V8.758l2.276-.61a3 3 0 1 0-3.675-3.675l-.61 2.277H12l-.75.75l1.5 1.5M15 11.25l-8.47 8.47c-.34.34-.8.53-1.28.53s-.94.19-1.28.53l-.97.97l-.75-.75l.97-.97c.34-.34.53-.8.53-1.28s.19-.94.53-1.28L12.75 9M15 11.25L12.75 9"},null,-1)])])}const zte=fe({name:"heroicons-eye-dropper",render:Hte});var Ute=Object.defineProperty,jte=(e,t,n)=>t in e?Ute(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aw=(e,t,n)=>jte(e,t+"",n),Gte=(e,t,n)=>{const r=`linear-gradient(to ${e[+!t]}, transparent, #000)`;return{areaStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(${n},0,0),rgb(${n},255,0))`},areaGradientStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(${n},0,255),rgb(${n},255,255))`,WebkitMaskImage:r,maskImage:r}}},Wte=(e,t,n)=>{const r=`linear-gradient(to ${e[+!t]}, transparent, #000)`;return{areaStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(0,${n},0),rgb(255,${n},0))`},areaGradientStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(0,${n},255),rgb(255,${n},255))`,WebkitMaskImage:r,maskImage:r}}},qte=(e,t,n)=>{const r=`linear-gradient(to ${e[+!t]}, transparent, #000)`;return{areaStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(0,0,${n}),rgb(255,0,${n}))`},areaGradientStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(0,255,${n}),rgb(255,255,${n}))`,WebkitMaskImage:r,maskImage:r}}},Kte=(e,t,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[Number(t)]}, hsla(0,0%,0%,1) 0%, hsla(0,0%,0%,0) 50%, hsla(0,0%,100%,0) 50%, hsla(0,0%,100%,1) 100%)`,`linear-gradient(to ${e[+!t]},hsl(0,0%,50%),hsla(0,0%,50%,0))`,`hsl(${n}, 100%, 50%)`].join(",")}}),Yte=(e,t,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[+!t]}, hsla(0,0%,0%,${n}) 0%, hsla(0,0%,0%,0) 50%, hsla(0,0%,100%,0) 50%, hsla(0,0%,100%,${n}) 100%)`,`linear-gradient(to ${e[Number(t)]},hsla(0,100%,50%,${n}),hsla(60,100%,50%,${n}),hsla(120,100%,50%,${n}),hsla(180,100%,50%,${n}),hsla(240,100%,50%,${n}),hsla(300,100%,50%,${n}),hsla(359,100%,50%,${n}))`,"hsl(0, 0%, 50%)"].join(",")}}),Xte=(e,t,n)=>({areaStyles:{},areaGradientStyles:{backgroundImage:[`linear-gradient(to ${e[+!t]},hsl(0,0%,${n}%),hsla(0,0%,${n}%,0))`,`linear-gradient(to ${e[Number(t)]},hsl(0,100%,${n}%),hsl(60,100%,${n}%),hsl(120,100%,${n}%),hsl(180,100%,${n}%),hsl(240,100%,${n}%),hsl(300,100%,${n}%),hsl(360,100%,${n}%))`].join(",")}}),Jte=(e,t,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[Number(t)]},hsl(0,0%,0%),hsla(0,0%,0%,0))`,`linear-gradient(to ${e[+!t]},hsl(0,0%,100%),hsla(0,0%,100%,0))`,`hsl(${n}, 100%, 50%)`].join(",")}}),Zte=(e,t,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[+!t]},hsla(0,0%,0%,${n}),hsla(0,0%,0%,0))`,`linear-gradient(to ${e[Number(t)]},hsla(0,100%,50%,${n}),hsla(60,100%,50%,${n}),hsla(120,100%,50%,${n}),hsla(180,100%,50%,${n}),hsla(240,100%,50%,${n}),hsla(300,100%,50%,${n}),hsla(359,100%,50%,${n}))`,`linear-gradient(to ${e[+!t]},hsl(0,0%,0%),hsl(0,0%,100%))`].join(",")}}),Qte=(e,t,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[+!t]},hsla(0,0%,100%,${n}),hsla(0,0%,100%,0))`,`linear-gradient(to ${e[Number(t)]},hsla(0,100%,50%,${n}),hsla(60,100%,50%,${n}),hsla(120,100%,50%,${n}),hsla(180,100%,50%,${n}),hsla(240,100%,50%,${n}),hsla(300,100%,50%,${n}),hsla(359,100%,50%,${n}))`,"#000"].join(",")}});function TE(e,t){const{xChannel:n,yChannel:r,dir:o="ltr"}=t,{zChannel:i}=e.getColorAxes({xChannel:n,yChannel:r}),s=e.getChannelValue(i),{minValue:a,maxValue:l}=e.getChannelRange(i),c=["top",o==="rtl"?"left":"right"];let u=!1,p={areaStyles:{},areaGradientStyles:{}},h=(s-a)/(l-a),f=e.getFormat()==="hsla";switch(i){case"red":{u=n==="green",p=Gte(c,u,s);break}case"green":{u=n==="red",p=Wte(c,u,s);break}case"blue":{u=n==="red",p=qte(c,u,s);break}case"hue":{u=n!=="saturation",f?p=Kte(c,u,s):p=Jte(c,u,s);break}case"saturation":{u=n==="hue",f?p=Yte(c,u,h):p=Zte(c,u,h);break}case"brightness":{u=n==="hue",p=Qte(c,u,h);break}case"lightness":{u=n==="hue",p=Xte(c,u,s);break}}return p}var ene=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(e[n]!==t[n])return!1;return!0},lw=class{toHexInt(){return this.toFormat("rgba").toHexInt()}getChannelValue(e){if(e in this)return this[e];throw new Error("Unsupported color channel: "+e)}getChannelValuePercent(e,t){const n=t??this.getChannelValue(e),{minValue:r,maxValue:o}=this.getChannelRange(e);return ov(n,r,o)}getChannelPercentValue(e,t){const{minValue:n,maxValue:r,step:o}=this.getChannelRange(e),i=Hx(t,n,r,o);return lp(i,n,r,o)}withChannelValue(e,t){const{minValue:n,maxValue:r}=this.getChannelRange(e);if(e in this){let o=this.clone();return o[e]=dn(t,n,r),o}throw new Error("Unsupported color channel: "+e)}getColorAxes(e){let{xChannel:t,yChannel:n}=e,r=t||this.getChannels().find(s=>s!==n),o=n||this.getChannels().find(s=>s!==r),i=this.getChannels().find(s=>s!==r&&s!==o);return{xChannel:r,yChannel:o,zChannel:i}}incrementChannel(e,t){const{minValue:n,maxValue:r,step:o}=this.getChannelRange(e),i=lp(dn(this.getChannelValue(e)+t,n,r),n,r,o);return this.withChannelValue(e,i)}decrementChannel(e,t){return this.incrementChannel(e,-t)}isEqual(e){return ene(this.toJSON(),e.toJSON())&&this.getChannelValue("alpha")===e.getChannelValue("alpha")}},tne=/^#[\da-f]+$/i,nne=/^rgba?\((.*)\)$/,rne=/[^#]/gi,BR=class $h extends lw{constructor(t,n,r,o){super(),this.red=t,this.green=n,this.blue=r,this.alpha=o}static parse(t){let n=[];if(tne.test(t)&&[4,5,7,9].includes(t.length)){const o=(t.length<6?t.replace(rne,"$&$&"):t).slice(1).split("");for(;o.length>0;)n.push(parseInt(o.splice(0,2).join(""),16));n[3]=n[3]!==void 0?n[3]/255:void 0}const r=t.match(nne);return r?.[1]&&(n=r[1].split(",").map(o=>Number(o.trim())).map((o,i)=>dn(o,0,i<3?255:1))),n.length<3?void 0:new $h(n[0],n[1],n[2],n[3]??1)}toString(t){switch(t){case"hex":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")).toUpperCase();case"hexa":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")+Math.round(this.alpha*255).toString(16).padStart(2,"0")).toUpperCase();case"rgb":return`rgb(${this.red}, ${this.green}, ${this.blue})`;case"css":case"rgba":return`rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"hsb":return this.toHSB().toString("hsb");default:return this.toFormat(t).toString(t)}}toFormat(t){switch(t){case"rgba":return this;case"hsba":return this.toHSB();case"hsla":return this.toHSL();default:throw new Error("Unsupported color conversion: rgb -> "+t)}}toHexInt(){return this.red<<16|this.green<<8|this.blue}toHSB(){const t=this.red/255,n=this.green/255,r=this.blue/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=i-o,a=i===0?0:s/i;let l=0;if(s!==0){switch(i){case t:l=(n-r)/s+(n<r?6:0);break;case n:l=(r-t)/s+2;break;case r:l=(t-n)/s+4;break}l/=6}return new dw(wt(l*360,2),wt(a*100,2),wt(i*100,2),wt(this.alpha,2))}toHSL(){const t=this.red/255,n=this.green/255,r=this.blue/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=(i+o)/2,a=i-o;let l=-1,c=-1;if(a===0)l=c=0;else{switch(c=a/(s<.5?i+o:2-i-o),i){case t:l=(n-r)/a+(n<r?6:0);break;case n:l=(r-t)/a+2;break;case r:l=(t-n)/a+4;break}l/=6}return new uw(wt(l*360,2),wt(c*100,2),wt(s*100,2),wt(this.alpha,2))}clone(){return new $h(this.red,this.green,this.blue,this.alpha)}getChannelFormatOptions(t){switch(t){case"red":case"green":case"blue":return{style:"decimal"};case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+t)}}formatChannelValue(t,n){let r=this.getChannelFormatOptions(t),o=this.getChannelValue(t);return new Intl.NumberFormat(n,r).format(o)}getChannelRange(t){switch(t){case"red":case"green":case"blue":return{minValue:0,maxValue:255,step:1,pageSize:17};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+t)}}toJSON(){return{r:this.red,g:this.green,b:this.blue,a:this.alpha}}getFormat(){return"rgba"}getChannels(){return $h.colorChannels}};aw(BR,"colorChannels",["red","green","blue"]);var cw=BR,one=/hsl\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsla\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,HR=class Rh extends lw{constructor(t,n,r,o){super(),this.hue=t,this.saturation=n,this.lightness=r,this.alpha=o}static parse(t){let n;if(n=t.match(one)){const[r,o,i,s]=(n[1]??n[2]).split(",").map(a=>Number(a.trim().replace("%","")));return new Rh(w$(r,360),dn(o,0,100),dn(i,0,100),dn(s??1,0,1))}}toString(t){switch(t){case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsl":return`hsl(${this.hue}, ${wt(this.saturation,2)}%, ${wt(this.lightness,2)}%)`;case"css":case"hsla":return`hsla(${this.hue}, ${wt(this.saturation,2)}%, ${wt(this.lightness,2)}%, ${this.alpha})`;case"hsb":return this.toHSB().toString("hsb");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(t).toString(t)}}toFormat(t){switch(t){case"hsla":return this;case"hsba":return this.toHSB();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsl -> "+t)}}toHSB(){let t=this.saturation/100,n=this.lightness/100,r=n+t*Math.min(n,1-n);return t=r===0?0:2*(1-n/r),new dw(wt(this.hue,2),wt(t*100,2),wt(r*100,2),wt(this.alpha,2))}toRGB(){let t=this.hue,n=this.saturation/100,r=this.lightness/100,o=n*Math.min(r,1-r),i=(s,a=(s+t/30)%12)=>r-o*Math.max(Math.min(a-3,9-a,1),-1);return new cw(Math.round(i(0)*255),Math.round(i(8)*255),Math.round(i(4)*255),wt(this.alpha,2))}clone(){return new Rh(this.hue,this.saturation,this.lightness,this.alpha)}getChannelFormatOptions(t){switch(t){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"lightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+t)}}formatChannelValue(t,n){let r=this.getChannelFormatOptions(t),o=this.getChannelValue(t);return(t==="saturation"||t==="lightness")&&(o/=100),new Intl.NumberFormat(n,r).format(o)}getChannelRange(t){switch(t){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"lightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+t)}}toJSON(){return{h:this.hue,s:this.saturation,l:this.lightness,a:this.alpha}}getFormat(){return"hsla"}getChannels(){return Rh.colorChannels}};aw(HR,"colorChannels",["hue","saturation","lightness"]);var uw=HR,ine=/hsb\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsba\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,zR=class Ah extends lw{constructor(t,n,r,o){super(),this.hue=t,this.saturation=n,this.brightness=r,this.alpha=o}static parse(t){let n;if(n=t.match(ine)){const[r,o,i,s]=(n[1]??n[2]).split(",").map(a=>Number(a.trim().replace("%","")));return new Ah(w$(r,360),dn(o,0,100),dn(i,0,100),dn(s??1,0,1))}}toString(t){switch(t){case"css":return this.toHSL().toString("css");case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsb":return`hsb(${this.hue}, ${wt(this.saturation,2)}%, ${wt(this.brightness,2)}%)`;case"hsba":return`hsba(${this.hue}, ${wt(this.saturation,2)}%, ${wt(this.brightness,2)}%, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(t).toString(t)}}toFormat(t){switch(t){case"hsba":return this;case"hsla":return this.toHSL();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsb -> "+t)}}toHSL(){let t=this.saturation/100,n=this.brightness/100,r=n*(1-t/2);return t=r===0||r===1?0:(n-r)/Math.min(r,1-r),new uw(wt(this.hue,2),wt(t*100,2),wt(r*100,2),wt(this.alpha,2))}toRGB(){let t=this.hue,n=this.saturation/100,r=this.brightness/100,o=(i,s=(i+t/60)%6)=>r-n*r*Math.max(Math.min(s,4-s,1),0);return new cw(Math.round(o(5)*255),Math.round(o(3)*255),Math.round(o(1)*255),wt(this.alpha,2))}clone(){return new Ah(this.hue,this.saturation,this.brightness,this.alpha)}getChannelFormatOptions(t){switch(t){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"brightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+t)}}formatChannelValue(t,n){let r=this.getChannelFormatOptions(t),o=this.getChannelValue(t);return(t==="saturation"||t==="brightness")&&(o/=100),new Intl.NumberFormat(n,r).format(o)}getChannelRange(t){switch(t){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"brightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+t)}}toJSON(){return{h:this.hue,s:this.saturation,b:this.brightness,a:this.alpha}}getFormat(){return"hsba"}getChannels(){return Ah.colorChannels}};aw(zR,"colorChannels",["hue","saturation","brightness"]);var dw=zR,sne="aliceblue:f0f8ff,antiquewhite:faebd7,aqua:00ffff,aquamarine:7fffd4,azure:f0ffff,beige:f5f5dc,bisque:ffe4c4,black:000000,blanchedalmond:ffebcd,blue:0000ff,blueviolet:8a2be2,brown:a52a2a,burlywood:deb887,cadetblue:5f9ea0,chartreuse:7fff00,chocolate:d2691e,coral:ff7f50,cornflowerblue:6495ed,cornsilk:fff8dc,crimson:dc143c,cyan:00ffff,darkblue:00008b,darkcyan:008b8b,darkgoldenrod:b8860b,darkgray:a9a9a9,darkgreen:006400,darkkhaki:bdb76b,darkmagenta:8b008b,darkolivegreen:556b2f,darkorange:ff8c00,darkorchid:9932cc,darkred:8b0000,darksalmon:e9967a,darkseagreen:8fbc8f,darkslateblue:483d8b,darkslategray:2f4f4f,darkturquoise:00ced1,darkviolet:9400d3,deeppink:ff1493,deepskyblue:00bfff,dimgray:696969,dodgerblue:1e90ff,firebrick:b22222,floralwhite:fffaf0,forestgreen:228b22,fuchsia:ff00ff,gainsboro:dcdcdc,ghostwhite:f8f8ff,gold:ffd700,goldenrod:daa520,gray:808080,green:008000,greenyellow:adff2f,honeydew:f0fff0,hotpink:ff69b4,indianred:cd5c5c,indigo:4b0082,ivory:fffff0,khaki:f0e68c,lavender:e6e6fa,lavenderblush:fff0f5,lawngreen:7cfc00,lemonchiffon:fffacd,lightblue:add8e6,lightcoral:f08080,lightcyan:e0ffff,lightgoldenrodyellow:fafad2,lightgrey:d3d3d3,lightgreen:90ee90,lightpink:ffb6c1,lightsalmon:ffa07a,lightseagreen:20b2aa,lightskyblue:87cefa,lightslategray:778899,lightsteelblue:b0c4de,lightyellow:ffffe0,lime:00ff00,limegreen:32cd32,linen:faf0e6,magenta:ff00ff,maroon:800000,mediumaquamarine:66cdaa,mediumblue:0000cd,mediumorchid:ba55d3,mediumpurple:9370d8,mediumseagreen:3cb371,mediumslateblue:7b68ee,mediumspringgreen:00fa9a,mediumturquoise:48d1cc,mediumvioletred:c71585,midnightblue:191970,mintcream:f5fffa,mistyrose:ffe4e1,moccasin:ffe4b5,navajowhite:ffdead,navy:000080,oldlace:fdf5e6,olive:808000,olivedrab:6b8e23,orange:ffa500,orangered:ff4500,orchid:da70d6,palegoldenrod:eee8aa,palegreen:98fb98,paleturquoise:afeeee,palevioletred:d87093,papayawhip:ffefd5,peachpuff:ffdab9,peru:cd853f,pink:ffc0cb,plum:dda0dd,powderblue:b0e0e6,purple:800080,rebeccapurple:663399,red:ff0000,rosybrown:bc8f8f,royalblue:4169e1,saddlebrown:8b4513,salmon:fa8072,sandybrown:f4a460,seagreen:2e8b57,seashell:fff5ee,sienna:a0522d,silver:c0c0c0,skyblue:87ceeb,slateblue:6a5acd,slategray:708090,snow:fffafa,springgreen:00ff7f,steelblue:4682b4,tan:d2b48c,teal:008080,thistle:d8bfd8,tomato:ff6347,turquoise:40e0d0,violet:ee82ee,wheat:f5deb3,white:ffffff,whitesmoke:f5f5f5,yellow:ffff00,yellowgreen:9acd32",ane=e=>{const t=new Map,n=e.split(",");for(let r=0;r<n.length;r++){const[o,i]=n[r].split(":");t.set(o,`#${i}`),o.includes("gray")&&t.set(o.replace("gray","grey"),`#${i}`)}return t},SE=ane(sne),Js=e=>{if(SE.has(e))return Js(SE.get(e));const t=cw.parse(e)||dw.parse(e)||uw.parse(e);if(!t){const n=new Error("Invalid color value: "+e);throw Error.captureStackTrace?.(n,Js),n}return t},PE=e=>typeof e=="string"?Js(e):e,UR=no("color-picker",["root","label","control","trigger","positioner","content","area","areaThumb","valueText","areaBackground","channelSlider","channelSliderLabel","channelSliderTrack","channelSliderThumb","channelSliderValueText","channelInput","transparencyGrid","swatchGroup","swatchTrigger","swatchIndicator","swatch","eyeDropperTrigger","formatTrigger","formatSelect"]),St=UR.build(),lne=e=>e.ids?.root??`color-picker:${e.id}`,$E=e=>e.ids?.label??`color-picker:${e.id}:label`,D0=e=>e.ids?.hiddenInput??`color-picker:${e.id}:hidden-input`,jR=e=>e.ids?.control??`color-picker:${e.id}:control`,GR=e=>e.ids?.trigger??`color-picker:${e.id}:trigger`,L0=e=>e.ids?.content??`color-picker:${e.id}:content`,WR=e=>e.ids?.positioner??`color-picker:${e.id}:positioner`,cne=e=>e.ids?.formatSelect??`color-picker:${e.id}:format-select`,qR=e=>e.ids?.area??`color-picker:${e.id}:area`,une=e=>e.ids?.areaGradient??`color-picker:${e.id}:area-gradient`,KR=e=>e.ids?.areaThumb??`color-picker:${e.id}:area-thumb`,YR=(e,t)=>e.ids?.channelSliderTrack?.(t)??`color-picker:${e.id}:slider-track:${t}`,V0=(e,t)=>e.ids?.channelSliderThumb?.(t)??`color-picker:${e.id}:slider-thumb:${t}`,Nh=e=>e.getById(L0(e)),dne=e=>e.getById(KR(e)),pne=(e,t)=>e.getById(V0(e,t)),fne=e=>e.getById(cne(e)),RE=e=>e.getById(D0(e)),hne=e=>e.getById(qR(e)),gne=(e,t,n)=>{const r=hne(e);if(!r)return;const{getPercentValue:o}=Kx(t,r);return{x:o({dir:n,orientation:"horizontal"}),y:o({orientation:"vertical"})}},XR=e=>e.getById(jR(e)),zb=e=>e.getById(GR(e)),mne=e=>e.getById(WR(e)),vne=(e,t)=>e.getById(YR(e,t)),bne=(e,t,n,r)=>{const o=vne(e,n);if(!o)return;const{getPercentValue:i}=Kx(t,o);return{x:i({dir:r,orientation:"horizontal"}),y:i({orientation:"vertical"})}},yne=e=>[...Pg(Nh(e),"input[data-channel]"),...Pg(XR(e),"input[data-channel]")];function xne(e,t){switch(t){case"hue":return Js(`hsl(${e.getChannelValue("hue")}, 100%, 50%)`);case"lightness":case"brightness":case"saturation":case"red":case"green":case"blue":return e.withChannelValue("alpha",1);case"alpha":return e;default:throw new Error("Unknown color channel: "+t)}}function F0(e,t){if(t==null)return"";if(t==="hex")return e.toString("hex");if(t==="css")return e.toString("css");if(t in e)return e.getChannelValue(t).toString();const n=e.getFormat()==="hsla";switch(t){case"hue":return n?e.toFormat("hsla").getChannelValue("hue").toString():e.toFormat("hsba").getChannelValue("hue").toString();case"saturation":return n?e.toFormat("hsla").getChannelValue("saturation").toString():e.toFormat("hsba").getChannelValue("saturation").toString();case"lightness":return e.toFormat("hsla").getChannelValue("lightness").toString();case"brightness":return e.toFormat("hsba").getChannelValue("brightness").toString();case"red":case"green":case"blue":return e.toFormat("rgba").getChannelValue(t).toString();default:return e.getChannelValue(t).toString()}}function wne(e,t){switch(t){case"hex":const n=Js("#000000"),r=Js("#FFFFFF");return{minValue:n.toHexInt(),maxValue:r.toHexInt(),pageSize:10,step:1};case"css":return;case"hue":case"saturation":case"lightness":return e.toFormat("hsla").getChannelRange(t);case"brightness":return e.toFormat("hsba").getChannelRange(t);case"red":case"green":case"blue":return e.toFormat("rgba").getChannelRange(t);default:return e.getChannelRange(t)}}function _ne(e,t){return e==="vertical"?"top":t==="ltr"?"right":"left"}var kne=e=>{const{channel:t,value:n,dir:r,orientation:o}=e,i=_ne(o,r),{minValue:s,maxValue:a}=n.getChannelRange(t);switch(t){case"hue":return`linear-gradient(to ${i}, rgb(255, 0, 0) 0%, rgb(255, 255, 0) 17%, rgb(0, 255, 0) 33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 67%, rgb(255, 0, 255) 83%, rgb(255, 0, 0) 100%)`;case"lightness":{let l=n.withChannelValue(t,s).toString("css"),c=n.withChannelValue(t,(a-s)/2).toString("css"),u=n.withChannelValue(t,a).toString("css");return`linear-gradient(to ${i}, ${l}, ${c}, ${u})`}case"saturation":case"brightness":case"red":case"green":case"blue":case"alpha":{let l=n.withChannelValue(t,s).toString("css"),c=n.withChannelValue(t,a).toString("css");return`linear-gradient(to ${i}, ${l}, ${c})`}default:throw new Error("Unknown color channel: "+t)}};function Cne(e,t){const{context:n,send:r,prop:o,computed:i,state:s,scope:a}=e,l=n.get("value"),c=n.get("format"),u=i("areaValue"),p=i("valueAsString"),h=i("disabled"),f=!!o("readOnly"),g=!!o("invalid"),m=!!o("required"),b=i("interactive"),w=s.hasTag("dragging"),E=s.hasTag("open"),k=s.hasTag("focused"),v=C=>{const x=u.getChannels();return{xChannel:C.xChannel??x[1],yChannel:C.yChannel??x[2]}},_=n.get("currentPlacement"),T=hR({...o("positioning"),placement:_});function N(C){const x=PE(C.value).toFormat(n.get("format"));return{value:x,valueAsString:x.toString("hex"),checked:x.isEqual(l),disabled:C.disabled||!b}}return{dragging:w,open:E,valueAsString:p,value:l,inline:!!o("inline"),setOpen(C){o("inline")||s.hasTag("open")===C||r({type:C?"OPEN":"CLOSE"})},setValue(C){r({type:"VALUE.SET",value:PE(C),src:"set-color"})},getChannelValue(C){return F0(l,C)},getChannelValueText(C,x){return l.formatChannelValue(C,x)},setChannelValue(C,x){const I=l.withChannelValue(C,x);r({type:"VALUE.SET",value:I,src:"set-channel"})},format:n.get("format"),setFormat(C){const x=l.toFormat(C);r({type:"VALUE.SET",value:x,src:"set-format"})},alpha:l.getChannelValue("alpha"),setAlpha(C){const x=l.withChannelValue("alpha",C);r({type:"VALUE.SET",value:x,src:"set-alpha"})},getRootProps(){return t.element({...St.root.attrs,dir:o("dir"),id:lne(a),"data-disabled":G(h),"data-readonly":G(f),"data-invalid":G(g),style:{"--value":l.toString("css")}})},getLabelProps(){return t.element({...St.label.attrs,dir:o("dir"),id:$E(a),htmlFor:D0(a),"data-disabled":G(h),"data-readonly":G(f),"data-invalid":G(g),"data-required":G(m),"data-focus":G(k),onClick(C){C.preventDefault(),XY(XR(a),"[data-channel=hex]")?.focus({preventScroll:!0})}})},getControlProps(){return t.element({...St.control.attrs,id:jR(a),dir:o("dir"),"data-disabled":G(h),"data-readonly":G(f),"data-invalid":G(g),"data-state":E?"open":"closed","data-focus":G(k)})},getTriggerProps(){return t.button({...St.trigger.attrs,id:GR(a),dir:o("dir"),disabled:h,"aria-label":`select color. current color is ${p}`,"aria-controls":L0(a),"aria-labelledby":$E(a),"data-disabled":G(h),"data-readonly":G(f),"data-invalid":G(g),"data-placement":_,"aria-expanded":G(E),"data-state":E?"open":"closed","data-focus":G(k),type:"button",onClick(){b&&r({type:"TRIGGER.CLICK"})},onBlur(){b&&r({type:"TRIGGER.BLUR"})},style:{position:"relative"}})},getPositionerProps(){return t.element({...St.positioner.attrs,id:WR(a),dir:o("dir"),style:T.floating})},getContentProps(){return t.element({...St.content.attrs,id:L0(a),dir:o("dir"),tabIndex:-1,"data-placement":_,"data-state":E?"open":"closed",hidden:!E})},getValueTextProps(){return t.element({...St.valueText.attrs,dir:o("dir"),"data-disabled":G(h),"data-focus":G(k)})},getAreaProps(C={}){const{xChannel:x,yChannel:I}=v(C),{areaStyles:R}=TE(u,{xChannel:x,yChannel:I,dir:o("dir")});return t.element({...St.area.attrs,id:qR(a),role:"group","data-invalid":G(g),"data-disabled":G(h),"data-readonly":G(f),onPointerDown(M){if(!b||!Ns(M)||dp(M))return;const B=rl(M);r({type:"AREA.POINTER_DOWN",point:B,channel:{xChannel:x,yChannel:I},id:"area"}),M.preventDefault()},style:{position:"relative",touchAction:"none",forcedColorAdjust:"none",...R}})},getAreaBackgroundProps(C={}){const{xChannel:x,yChannel:I}=v(C),{areaGradientStyles:R}=TE(u,{xChannel:x,yChannel:I,dir:o("dir")});return t.element({...St.areaBackground.attrs,id:une(a),"data-invalid":G(g),"data-disabled":G(h),"data-readonly":G(f),style:{position:"relative",touchAction:"none",forcedColorAdjust:"none",...R}})},getAreaThumbProps(C={}){const{xChannel:x,yChannel:I}=v(C),R={xChannel:x,yChannel:I},M=u.getChannelValuePercent(x),B=1-u.getChannelValuePercent(I),z=o("dir")==="rtl"?1-M:M,J=u.getChannelValue(x),q=u.getChannelValue(I),K=u.withChannelValue("alpha",1).toString("css");return t.element({...St.areaThumb.attrs,id:KR(a),dir:o("dir"),tabIndex:h?void 0:0,"data-disabled":G(h),"data-invalid":G(g),"data-readonly":G(f),role:"slider","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":J,"aria-label":`${x} and ${I}`,"aria-roledescription":"2d slider","aria-valuetext":`${x} ${J}, ${I} ${q}`,style:{position:"absolute",left:`${z*100}%`,top:`${B*100}%`,transform:"translate(-50%, -50%)",touchAction:"none",forcedColorAdjust:"none","--color":K,background:K},onFocus(){b&&r({type:"AREA.FOCUS",id:"area",channel:R})},onKeyDown(X){if(X.defaultPrevented||!b)return;const de=Sg(X),Ue={ArrowUp(){r({type:"AREA.ARROW_UP",channel:R,step:de})},ArrowDown(){r({type:"AREA.ARROW_DOWN",channel:R,step:de})},ArrowLeft(){r({type:"AREA.ARROW_LEFT",channel:R,step:de})},ArrowRight(){r({type:"AREA.ARROW_RIGHT",channel:R,step:de})},PageUp(){r({type:"AREA.PAGE_UP",channel:R,step:de})},PageDown(){r({type:"AREA.PAGE_DOWN",channel:R,step:de})},Escape(je){je.stopPropagation()}}[pp(X,{dir:o("dir")})];Ue&&(Ue(X),X.preventDefault())}})},getTransparencyGridProps(C={}){const{size:x="12px"}=C;return t.element({...St.transparencyGrid.attrs,style:{"--size":x,width:"100%",height:"100%",position:"absolute",backgroundColor:"#fff",backgroundImage:"conic-gradient(#eeeeee 0 25%, transparent 0 50%, #eeeeee 0 75%, transparent 0)",backgroundSize:"var(--size) var(--size)",inset:"0px",zIndex:"auto",pointerEvents:"none"}})},getChannelSliderProps(C){const{orientation:x="horizontal",channel:I,format:R}=C;return t.element({...St.channelSlider.attrs,"data-channel":I,"data-orientation":x,role:"presentation",onPointerDown(M){if(!b||!Ns(M)||dp(M))return;const B=rl(M);r({type:"CHANNEL_SLIDER.POINTER_DOWN",channel:I,format:R,point:B,id:I,orientation:x}),M.preventDefault()},style:{position:"relative",touchAction:"none"}})},getChannelSliderTrackProps(C){const{orientation:x="horizontal",channel:I,format:R}=C,M=R?l.toFormat(R):u;return t.element({...St.channelSliderTrack.attrs,id:YR(a,I),role:"group","data-channel":I,"data-orientation":x,style:{position:"relative",forcedColorAdjust:"none",backgroundImage:kne({orientation:x,channel:I,dir:o("dir"),value:M})}})},getChannelSliderLabelProps(C){const{channel:x}=C;return t.element({...St.channelSliderLabel.attrs,"data-channel":x,onClick(I){if(!b)return;I.preventDefault();const R=V0(a,x);a.getById(R)?.focus({preventScroll:!0})},style:{userSelect:"none",WebkitUserSelect:"none"}})},getChannelSliderValueTextProps(C){return t.element({...St.channelSliderValueText.attrs,"data-channel":C.channel})},getChannelSliderThumbProps(C){const{orientation:x="horizontal",channel:I,format:R}=C,M=R?l.toFormat(R):u,B=M.getChannelRange(I),z=M.getChannelValue(I),J=(z-B.minValue)/(B.maxValue-B.minValue),q=o("dir")==="rtl",K=x==="horizontal"&&q?1-J:J,X=x==="horizontal"?{left:`${K*100}%`,top:"50%"}:{top:`${J*100}%`,left:"50%"};return t.element({...St.channelSliderThumb.attrs,id:V0(a,I),role:"slider","aria-label":I,tabIndex:h?void 0:0,"data-channel":I,"data-disabled":G(h),"data-orientation":x,"aria-disabled":G(h),"aria-orientation":x,"aria-valuemax":B.maxValue,"aria-valuemin":B.minValue,"aria-valuenow":z,"aria-valuetext":`${I} ${z}`,style:{forcedColorAdjust:"none",position:"absolute",background:xne(u,I).toString("css"),...X},onFocus(){b&&r({type:"CHANNEL_SLIDER.FOCUS",channel:I})},onKeyDown(de){if(de.defaultPrevented||!b)return;const Ue=Sg(de)*B.step,je={ArrowUp(){r({type:"CHANNEL_SLIDER.ARROW_UP",channel:I,step:Ue})},ArrowDown(){r({type:"CHANNEL_SLIDER.ARROW_DOWN",channel:I,step:Ue})},ArrowLeft(){r({type:"CHANNEL_SLIDER.ARROW_LEFT",channel:I,step:Ue})},ArrowRight(){r({type:"CHANNEL_SLIDER.ARROW_RIGHT",channel:I,step:Ue})},PageUp(){r({type:"CHANNEL_SLIDER.PAGE_UP",channel:I})},PageDown(){r({type:"CHANNEL_SLIDER.PAGE_DOWN",channel:I})},Home(){r({type:"CHANNEL_SLIDER.HOME",channel:I})},End(){r({type:"CHANNEL_SLIDER.END",channel:I})},Escape(Ve){Ve.stopPropagation()}}[pp(de,{dir:o("dir")})];je&&(je(de),de.preventDefault())}})},getChannelInputProps(C){const{channel:x}=C,I=x==="hex"||x==="css",R=wne(l,x);return t.input({...St.channelInput.attrs,dir:o("dir"),type:I?"text":"number","data-channel":x,"aria-label":x,spellCheck:!1,autoComplete:"off",disabled:h,"data-disabled":G(h),"data-invalid":G(g),"data-readonly":G(f),readOnly:f,defaultValue:F0(l,x),min:R?.minValue,max:R?.maxValue,step:R?.step,onBeforeInput(M){I||!b||M.currentTarget.value.match(/[^0-9.]/g)&&M.preventDefault()},onFocus(M){b&&(r({type:"CHANNEL_INPUT.FOCUS",channel:x}),M.currentTarget.select())},onBlur(M){if(!b)return;const B=I?M.currentTarget.value:M.currentTarget.valueAsNumber;r({type:"CHANNEL_INPUT.BLUR",channel:x,value:B,isTextField:I})},onKeyDown(M){if(!M.defaultPrevented&&b&&M.key==="Enter"){const B=I?M.currentTarget.value:M.currentTarget.valueAsNumber;r({type:"CHANNEL_INPUT.CHANGE",channel:x,value:B,isTextField:I}),M.preventDefault()}},style:{appearance:"none",WebkitAppearance:"none",MozAppearance:"textfield"}})},getHiddenInputProps(){return t.input({type:"text",disabled:h,name:o("name"),tabIndex:-1,readOnly:f,required:m,id:D0(a),style:cv,defaultValue:p})},getEyeDropperTriggerProps(){return t.button({...St.eyeDropperTrigger.attrs,type:"button",dir:o("dir"),disabled:h,"data-disabled":G(h),"data-invalid":G(g),"data-readonly":G(f),"aria-label":"Pick a color from the screen",onClick(){b&&r({type:"EYEDROPPER.CLICK"})}})},getSwatchGroupProps(){return t.element({...St.swatchGroup.attrs,role:"group"})},getSwatchTriggerState:N,getSwatchTriggerProps(C){const x=N(C);return t.button({...St.swatchTrigger.attrs,disabled:x.disabled,dir:o("dir"),type:"button","aria-label":`select ${x.valueAsString} as the color`,"data-state":x.checked?"checked":"unchecked","data-value":x.valueAsString,"data-disabled":G(x.disabled),onClick(){x.disabled||r({type:"SWATCH_TRIGGER.CLICK",value:x.value})},style:{"--color":x.valueAsString,position:"relative"}})},getSwatchIndicatorProps(C){const x=N(C);return t.element({...St.swatchIndicator.attrs,dir:o("dir"),hidden:!x.checked})},getSwatchProps(C){const{respectAlpha:x=!0}=C,I=N(C),R=I.value.toString(x?"css":"hex");return t.element({...St.swatch.attrs,dir:o("dir"),"data-state":I.checked?"checked":"unchecked","data-value":I.valueAsString,style:{"--color":R,position:"relative",background:R}})},getFormatTriggerProps(){return t.button({...St.formatTrigger.attrs,dir:o("dir"),type:"button","aria-label":`change color format to ${AE(c)}`,onClick(C){if(C.currentTarget.disabled)return;const x=AE(c);r({type:"FORMAT.SET",format:x,src:"format-trigger"})}})},getFormatSelectProps(){return t.select({...St.formatSelect.attrs,"aria-label":"change color format",dir:o("dir"),defaultValue:o("format"),disabled:h,onChange(C){const x=One(C.currentTarget.value);r({type:"FORMAT.SET",format:x,src:"format-select"})}})}}}var Mh=["hsba","hsla","rgba"],Ene=new RegExp(`^(${Mh.join("|")})$`);function AE(e){const t=Mh.indexOf(e);return Mh[t+1]??Mh[0]}function One(e){if(Ene.test(e))return e;throw new Error(`Unsupported color format: ${e}`)}var Fg=e=>Js(e),Ine=/^[0-9a-fA-F]{3,8}$/;function Tne(e){return Ine.test(e)}function Sne(e){return e.startsWith("#")?e:Tne(e)?`#${e}`:e}var{and:Pne}=ef(),$ne={props({props:e}){return{dir:"ltr",defaultValue:Fg("#000000"),defaultFormat:"rgba",openAutoFocus:!0,...e,positioning:{placement:"bottom",...e.positioning}}},initialState({prop:e}){return e("open")||e("defaultOpen")||e("inline")?"open":"idle"},context({prop:e,bindable:t,getContext:n}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual(r,o){return r.toString("css")===o?.toString("css")},hash(r){return r.toString("css")},onChange(r){const o=n(),i=r.toString(o.get("format"));e("onValueChange")?.({value:r,valueAsString:i})}})),format:t(()=>({defaultValue:e("defaultFormat"),value:e("format"),onChange(r){e("onFormatChange")?.({format:r})}})),activeId:t(()=>({defaultValue:null})),activeChannel:t(()=>({defaultValue:null})),activeOrientation:t(()=>({defaultValue:null})),fieldsetDisabled:t(()=>({defaultValue:!1})),restoreFocus:t(()=>({defaultValue:!0})),currentPlacement:t(()=>({defaultValue:void 0}))}},computed:{rtl:({prop:e})=>e("dir")==="rtl",disabled:({prop:e,context:t})=>!!e("disabled")||t.get("fieldsetDisabled"),interactive:({prop:e})=>!(e("disabled")||e("readOnly")),valueAsString:({context:e})=>e.get("value").toString(e.get("format")),areaValue:({context:e})=>{const t=e.get("format").startsWith("hsl")?"hsla":"hsba";return e.get("value").toFormat(t)}},effects:["trackFormControl"],watch({prop:e,context:t,action:n,track:r}){r([()=>t.hash("value")],()=>{n(["syncInputElements","dispatchChangeEvent"])}),r([()=>t.get("format")],()=>{n(["syncFormatSelectElement"])}),r([()=>e("open")],()=>{n(["toggleVisibility"])})},on:{"VALUE.SET":{actions:["setValue"]},"FORMAT.SET":{actions:["setFormat"]},"CHANNEL_INPUT.CHANGE":{actions:["setChannelColorFromInput"]},"EYEDROPPER.CLICK":{actions:["openEyeDropper"]},"SWATCH_TRIGGER.CLICK":{actions:["setValue"]}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"CHANNEL_INPUT.FOCUS":{target:"focused",actions:["setActiveChannel"]}}},focused:{tags:["closed","focused"],on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"CHANNEL_INPUT.FOCUS":{actions:["setActiveChannel"]},"CHANNEL_INPUT.BLUR":{target:"idle",actions:["setChannelColorFromInput"]},"TRIGGER.BLUR":{target:"idle"}}},open:{tags:["open"],effects:["trackPositioning","trackDismissableElement"],on:{"CONTROLLED.CLOSE":[{guard:"shouldRestoreFocus",target:"focused",actions:["setReturnFocus"]},{target:"idle"}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"AREA.POINTER_DOWN":{target:"open:dragging",actions:["setActiveChannel","setAreaColorFromPoint","focusAreaThumb"]},"AREA.FOCUS":{actions:["setActiveChannel"]},"CHANNEL_SLIDER.POINTER_DOWN":{target:"open:dragging",actions:["setActiveChannel","setChannelColorFromPoint","focusChannelThumb"]},"CHANNEL_SLIDER.FOCUS":{actions:["setActiveChannel"]},"AREA.ARROW_LEFT":{actions:["decrementAreaXChannel"]},"AREA.ARROW_RIGHT":{actions:["incrementAreaXChannel"]},"AREA.ARROW_UP":{actions:["incrementAreaYChannel"]},"AREA.ARROW_DOWN":{actions:["decrementAreaYChannel"]},"AREA.PAGE_UP":{actions:["incrementAreaXChannel"]},"AREA.PAGE_DOWN":{actions:["decrementAreaXChannel"]},"CHANNEL_SLIDER.ARROW_LEFT":{actions:["decrementChannel"]},"CHANNEL_SLIDER.ARROW_RIGHT":{actions:["incrementChannel"]},"CHANNEL_SLIDER.ARROW_UP":{actions:["incrementChannel"]},"CHANNEL_SLIDER.ARROW_DOWN":{actions:["decrementChannel"]},"CHANNEL_SLIDER.PAGE_UP":{actions:["incrementChannel"]},"CHANNEL_SLIDER.PAGE_DOWN":{actions:["decrementChannel"]},"CHANNEL_SLIDER.HOME":{actions:["setChannelToMin"]},"CHANNEL_SLIDER.END":{actions:["setChannelToMax"]},"CHANNEL_INPUT.BLUR":{actions:["setChannelColorFromInput"]},INTERACT_OUTSIDE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["invokeOnClose","setReturnFocus"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"SWATCH_TRIGGER.CLICK":[{guard:Pne("isOpenControlled","closeOnSelect"),actions:["setValue","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["setValue","invokeOnClose","setReturnFocus"]},{actions:["setValue"]}]}},"open:dragging":{tags:["open"],exit:["clearActiveChannel"],effects:["trackPointerMove","disableTextSelection","trackPositioning","trackDismissableElement"],on:{"CONTROLLED.CLOSE":[{guard:"shouldRestoreFocus",target:"focused",actions:["setReturnFocus"]},{target:"idle"}],"AREA.POINTER_MOVE":{actions:["setAreaColorFromPoint","focusAreaThumb"]},"AREA.POINTER_UP":{target:"open",actions:["invokeOnChangeEnd"]},"CHANNEL_SLIDER.POINTER_MOVE":{actions:["setChannelColorFromPoint","focusChannelThumb"]},"CHANNEL_SLIDER.POINTER_UP":{target:"open",actions:["invokeOnChangeEnd"]},INTERACT_OUTSIDE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["invokeOnClose","setReturnFocus"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}]}}},implementations:{guards:{closeOnSelect:({prop:e})=>!!e("closeOnSelect"),isOpenControlled:({prop:e})=>e("open")!=null||!!e("inline"),shouldRestoreFocus:({context:e})=>!!e.get("restoreFocus")},effects:{trackPositioning({context:e,prop:t,scope:n}){if(t("inline"))return;e.get("currentPlacement")||e.set("currentPlacement",t("positioning")?.placement);const r=zb(n);return I0(r,()=>mne(n),{...t("positioning"),defer:!0,onComplete(o){e.set("currentPlacement",o.placement)}})},trackDismissableElement({context:e,scope:t,prop:n,send:r}){return n("inline")?void 0:mR(()=>Nh(t),{type:"popover",exclude:zb(t),defer:!0,onInteractOutside(o){n("onInteractOutside")?.(o),!o.defaultPrevented&&e.set("restoreFocus",!(o.detail.focusable||o.detail.contextmenu))},onPointerDownOutside:n("onPointerDownOutside"),onFocusOutside:n("onFocusOutside"),onDismiss(){r({type:"INTERACT_OUTSIDE"})}})},trackFormControl({context:e,scope:t,send:n}){const r=RE(t);return du(r,{onFieldsetDisabledChange(o){e.set("fieldsetDisabled",o)},onFormReset(){n({type:"VALUE.SET",value:e.initial("value"),src:"form.reset"})}})},trackPointerMove({context:e,scope:t,event:n,send:r}){return B$(t.getDoc(),{onPointerMove({point:o}){const i=e.get("activeId")==="area"?"AREA.POINTER_MOVE":"CHANNEL_SLIDER.POINTER_MOVE";r({type:i,point:o,format:n.format})},onPointerUp(){const o=e.get("activeId")==="area"?"AREA.POINTER_UP":"CHANNEL_SLIDER.POINTER_UP";r({type:o})}})},disableTextSelection({scope:e}){return F$({doc:e.getDoc(),target:Nh(e)})}},actions:{openEyeDropper({scope:e,context:t}){const n=e.getWin();"EyeDropper"in n&&new n.EyeDropper().open().then(({sRGBHex:r})=>{const o=t.get("value").getFormat(),i=Js(r).toFormat(o);t.set("value",i)}).catch(()=>{})},setActiveChannel({context:e,event:t}){e.set("activeId",t.id),t.channel&&e.set("activeChannel",t.channel),t.orientation&&e.set("activeOrientation",t.orientation)},clearActiveChannel({context:e}){e.set("activeChannel",null),e.set("activeId",null),e.set("activeOrientation",null)},setAreaColorFromPoint({context:e,event:t,computed:n,scope:r,prop:o}){const i=t.format?e.get("value").toFormat(t.format):n("areaValue"),{xChannel:s,yChannel:a}=t.channel||e.get("activeChannel"),l=gne(r,t.point,o("dir"));if(!l)return;const c=i.getChannelPercentValue(s,l.x),u=i.getChannelPercentValue(a,1-l.y),p=i.withChannelValue(s,c).withChannelValue(a,u);e.set("value",p)},setChannelColorFromPoint({context:e,event:t,computed:n,scope:r,prop:o}){const i=t.channel||e.get("activeId"),s=t.format?e.get("value").toFormat(t.format):n("areaValue"),a=bne(r,t.point,i,o("dir"));if(!a)return;const l=(e.get("activeOrientation")||"horizontal")==="horizontal"?a.x:a.y,c=s.getChannelPercentValue(i,l),u=s.withChannelValue(i,c);e.set("value",u)},setValue({context:e,event:t}){e.set("value",t.value)},setFormat({context:e,event:t}){e.set("format",t.format)},dispatchChangeEvent({scope:e,computed:t}){R$(RE(e),{value:t("valueAsString")})},syncInputElements({context:e,scope:t}){NE(t,e.get("value"))},invokeOnChangeEnd({context:e,prop:t,computed:n}){t("onValueChangeEnd")?.({value:e.get("value"),valueAsString:n("valueAsString")})},setChannelColorFromInput({context:e,event:t,scope:n,prop:r}){const{channel:o,isTextField:i,value:s}=t,a=e.get("value").getChannelValue("alpha");let l;if(o==="alpha"){let c=parseFloat(s);c=Number.isNaN(c)?a:c,l=e.get("value").withChannelValue("alpha",c)}else if(i)l=y$(()=>{const c=o==="hex"?Sne(s):s;return Fg(c).withChannelValue("alpha",a)},()=>e.get("value"));else{const c=e.get("value").toFormat(e.get("format")),u=Number.isNaN(s)?c.getChannelValue(o):s;l=c.withChannelValue(o,u)}NE(n,e.get("value"),l),e.set("value",l),r("onValueChangeEnd")?.({value:l,valueAsString:l.toString(e.get("format"))})},incrementChannel({context:e,event:t}){const n=e.get("value").incrementChannel(t.channel,t.step);e.set("value",n)},decrementChannel({context:e,event:t}){const n=e.get("value").decrementChannel(t.channel,t.step);e.set("value",n)},incrementAreaXChannel({context:e,event:t,computed:n}){const{xChannel:r}=t.channel,o=n("areaValue").incrementChannel(r,t.step);e.set("value",o)},decrementAreaXChannel({context:e,event:t,computed:n}){const{xChannel:r}=t.channel,o=n("areaValue").decrementChannel(r,t.step);e.set("value",o)},incrementAreaYChannel({context:e,event:t,computed:n}){const{yChannel:r}=t.channel,o=n("areaValue").incrementChannel(r,t.step);e.set("value",o)},decrementAreaYChannel({context:e,event:t,computed:n}){const{yChannel:r}=t.channel,o=n("areaValue").decrementChannel(r,t.step);e.set("value",o)},setChannelToMax({context:e,event:t}){const n=e.get("value"),r=n.getChannelRange(t.channel),o=n.withChannelValue(t.channel,r.maxValue);e.set("value",o)},setChannelToMin({context:e,event:t}){const n=e.get("value"),r=n.getChannelRange(t.channel),o=n.withChannelValue(t.channel,r.minValue);e.set("value",o)},focusAreaThumb({scope:e}){Ht(()=>{dne(e)?.focus({preventScroll:!0})})},focusChannelThumb({event:e,scope:t}){Ht(()=>{pne(t,e.channel)?.focus({preventScroll:!0})})},setInitialFocus({prop:e,scope:t}){e("openAutoFocus")&&Ht(()=>{M$({root:Nh(t),getInitialEl:e("initialFocusEl")})?.focus({preventScroll:!0})})},setReturnFocus({scope:e}){Ht(()=>{zb(e)?.focus({preventScroll:!0})})},syncFormatSelectElement({context:e,scope:t}){Rne(t,e.get("format"))},invokeOnOpen({prop:e}){e("inline")||e("onOpenChange")?.({open:!0})},invokeOnClose({prop:e}){e("inline")||e("onOpenChange")?.({open:!1})},toggleVisibility({prop:e,event:t,send:n}){n({type:e("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:t})}}}};function NE(e,t,n){const r=yne(e);Ht(()=>{r.forEach(o=>{const i=o.dataset.channel;Qp(o,F0(n||t,i))})})}function Rne(e,t){const n=fne(e);n&&Ht(()=>Qp(n,t))}On()(["closeOnSelect","dir","disabled","format","defaultFormat","getRootNode","id","ids","initialFocusEl","inline","name","positioning","onFocusOutside","onFormatChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","onValueChangeEnd","defaultOpen","open","positioning","required","readOnly","value","defaultValue","invalid","openAutoFocus"]);On()(["xChannel","yChannel"]);On()(["channel","orientation"]);On()(["value","disabled"]);On()(["value","respectAlpha"]);On()(["size"]);const[Ane,JR]=Ut("ColorPickerAreaPropsContext"),[ZR,Ct]=Ut("ColorPickerContext"),Nne=P({__name:"color-picker-area-background",props:{asChild:{type:Boolean}},setup(e){const t=Ct(),n=JR();return ue(),(r,o)=>(y(),$(d(ce).div,F(d(t).getAreaBackgroundProps(d(n)),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),Mne=P({__name:"color-picker-area-thumb",props:{asChild:{type:Boolean}},setup(e){const t=Ct(),n=JR();return ue(),(r,o)=>(y(),$(d(ce).div,F(d(t).getAreaThumbProps(d(n)),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),Dne=P({__name:"color-picker-area",props:{xChannel:{},yChannel:{},asChild:{type:Boolean}},setup(e){const t=e,n=Ct();return Ane(t),ue(),(r,o)=>(y(),$(d(ce).div,F(d(n).getAreaProps(t),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),Lne=P({__name:"color-picker-channel-input",props:{channel:{},orientation:{},asChild:{type:Boolean}},setup(e){const t=e,n=Ct();return ue(),(r,o)=>(y(),$(d(ce).input,F(d(n).getChannelInputProps(t),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),[Vne,vv]=Ut("ColorPickerChannelPropsContext"),Fne=P({__name:"color-picker-channel-slider-label",props:{asChild:{type:Boolean}},setup(e){const t=Ct(),n=vv();return ue(),(r,o)=>(y(),$(d(ce).label,F(d(t).getChannelSliderLabelProps(d(n)),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),[Bne,pw]=Ut("ColorPickerFormatProps"),Hne=P({__name:"color-picker-channel-slider-thumb",props:{asChild:{type:Boolean}},setup(e){const t=Ct(),n=pw(),r=vv(),o=A(()=>({...r,...n}));return ue(),(i,s)=>(y(),$(d(ce).div,F(d(t).getChannelSliderThumbProps(o.value),{"as-child":i.asChild}),{default:O(()=>[L(i.$slots,"default")]),_:3},16,["as-child"]))}}),zne=P({__name:"color-picker-channel-slider-track",props:{asChild:{type:Boolean}},setup(e){const t=Ct(),n=pw(),r=vv(),o=A(()=>({...r,...n}));return ue(),(i,s)=>(y(),$(d(ce).div,F(d(t).getChannelSliderTrackProps(o.value),{"as-child":i.asChild}),{default:O(()=>[L(i.$slots,"default")]),_:3},16,["as-child"]))}}),Une=P({__name:"color-picker-channel-slider-value-text",props:{asChild:{type:Boolean}},setup(e){const t=Ct(),n=vv(),r=xo(),o=wl(xl);return ue(),(i,s)=>(y(),$(d(ce).span,F(d(t).getChannelSliderValueTextProps(d(n)),{"as-child":i.asChild}),{default:O(()=>[L(i.$slots,"default",{},()=>[re(j(r.default?.()||d(t).getChannelValueText(d(n).channel,d(o).locale)),1)])]),_:3},16,["as-child"]))}}),jne=P({__name:"color-picker-channel-slider",props:{channel:{},orientation:{},asChild:{type:Boolean}},setup(e){const t=e,n=Ct(),r=pw(),o=A(()=>({...t,...r}));return Vne(t),ue(),(i,s)=>(y(),$(d(ce).div,F(d(n).getChannelSliderProps(o.value),{"as-child":i.asChild}),{default:O(()=>[L(i.$slots,"default")]),_:3},16,["as-child"]))}}),Gne=P({__name:"color-picker-content",props:{immediate:{type:Boolean},lazyMount:{type:Boolean},present:{type:Boolean},skipAnimationOnMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=Ct(),n=eR(),r=A(()=>Xx(t.value.getContentProps(),n.value.presenceProps));return ue(),(o,i)=>d(n).unmounted?Z("",!0):(y(),$(d(ce).div,F({key:0},r.value,{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),Wne=P({__name:"color-picker-context",setup(e){const t=Ct();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),qne=P({__name:"color-picker-control",props:{asChild:{type:Boolean}},setup(e){const t=Ct();return ue(),(n,r)=>(y(),$(d(ce).div,F(d(t).getControlProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Kne=P({__name:"color-picker-eye-dropper-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Ct();return ue(),(n,r)=>(y(),$(d(ce).button,F(d(t).getEyeDropperTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Yne=P({__name:"color-picker-format-select",props:{asChild:{type:Boolean}},setup(e){const t=Ct();return ue(),(n,r)=>(y(),$(d(ce).select,Be(Fe(d(t).getFormatSelectProps())),{default:O(()=>[(y(),V(ge,null,Ie(["rgba","hsla","hsba"],o=>S(d(ce).option,{key:o,value:o},{default:O(()=>[re(j(o),1)]),_:2},1032,["value"])),64))]),_:1},16))}}),Xne=P({__name:"color-picker-format-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Ct();return ue(),(n,r)=>(y(),$(d(ce).button,F(d(t).getFormatTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Jne=P({__name:"color-picker-hidden-input",props:{asChild:{type:Boolean}},setup(e){const t=Ct(),n=Ln();return ue(),(r,o)=>(y(),$(d(ce).input,F({"aria-describedby":d(n)?.ariaDescribedby},d(t).getHiddenInputProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["aria-describedby","as-child"]))}}),Zne=P({__name:"color-picker-label",props:{asChild:{type:Boolean}},setup(e){const t=Ct();return ue(),(n,r)=>(y(),$(d(ce).label,F(d(t).getLabelProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Qne=P({__name:"color-picker-positioner",props:{asChild:{type:Boolean}},setup(e){const t=Ct(),n=nR(),r=rR(A(()=>({...n.value,present:t.value.open})));return Q$(r),ue(),(o,i)=>d(r).unmounted?Z("",!0):(y(),$(d(ce).div,F({key:0},d(t).getPositionerProps(),{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),ere=P({__name:"color-picker-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=A(()=>t.value);return ZR(n),dv(A(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),ue(),(r,o)=>(y(),$(d(ce).div,F(n.value.getRootProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),tre=(e={},t)=>{const n=nt(),r=vl(bl),o=wl(xl),i=Ln(),s=A(()=>{const l=pe(e);return{id:n,ids:{label:i?.value.ids.label,input:i?.value.ids.control},disabled:i?.value.disabled,invalid:i?.value.invalid,readOnly:i?.value.readOnly,required:i?.value.required,dir:o.value.dir,value:l.modelValue,getRootNode:r?.value.getRootNode,...fu(l),onOpenChange(c){t?.("openChange",c),t?.("update:open",c.open),l.onOpenChange?.(c)},onValueChange(c){t?.("valueChange",c),t?.("update:modelValue",c.value),l.onValueChange?.(c)},onFocusOutside:c=>{t?.("focusOutside",c),l.onFocusOutside?.(c)},onFormatChange:c=>{t?.("formatChange",c),t?.("update:format",c.format),l.onFormatChange?.(c)},onInteractOutside:c=>{t?.("interactOutside",c),l.onInteractOutside?.(c)},onPointerDownOutside:c=>{t?.("pointerDownOutside",c),l.onPointerDownOutside?.(c)},onValueChangeEnd:c=>{t?.("valueChangeEnd",c),l.onValueChangeEnd?.(c)}}}),a=ml($ne,s);return A(()=>Cne(a,pu))},nre=P({__name:"color-picker-root",props:Ze({closeOnSelect:{type:Boolean},defaultFormat:{},defaultOpen:{type:Boolean},defaultValue:{},disabled:{type:Boolean},format:{},id:{},ids:{},initialFocusEl:{type:Function},invalid:{type:Boolean},modelValue:{},name:{},open:{type:Boolean},openAutoFocus:{type:Boolean},positioning:{},readOnly:{type:Boolean},required:{type:Boolean},inline:{type:Boolean},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{closeOnSelect:void 0,defaultOpen:void 0,disabled:void 0,invalid:void 0,open:void 0,openAutoFocus:void 0,readOnly:void 0,required:void 0,inline:void 0}),emits:["focusOutside","formatChange","interactOutside","openChange","pointerDownOutside","valueChange","valueChangeEnd","update:modelValue","update:open","update:format"],setup(e,{emit:t}){const n=e,r=tre(n,t);return ZR(r),dv(A(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),ue(),(o,i)=>(y(),$(d(ce).div,F(d(r).getRootProps(),{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),QR=UR.extendWith("view"),rre=P({__name:"color-picker-swatch-group",props:{asChild:{type:Boolean}},setup(e){return ue(),(t,n)=>(y(),$(d(ce).div,F(d(QR).build().swatchGroup.attrs,{"as-child":t.asChild}),{default:O(()=>[L(t.$slots,"default")]),_:3},16,["as-child"]))}}),[eA,ore]=Ut("ColorPickerSwatchPropsContext"),ire=P({__name:"color-picker-swatch-indicator",props:{asChild:{type:Boolean}},setup(e){const t=Ct(),n=ore();return ue(),(r,o)=>(y(),$(d(ce).div,F(d(t).getSwatchIndicatorProps(d(n)),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),sre=P({__name:"color-picker-swatch-trigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=Ct();return ue(),(r,o)=>(y(),$(d(ce).button,F(d(n).getSwatchTriggerProps(t),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),are=P({__name:"color-picker-swatch",props:{value:{},respectAlpha:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=Ct();return eA(t),ue(),(r,o)=>(y(),$(d(ce).div,F(d(n).getSwatchProps(t),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),lre=P({__name:"color-picker-transparency-grid",props:{size:{},asChild:{type:Boolean}},setup(e){const t=e,n=Ct();return ue(),(r,o)=>(y(),$(d(ce).div,F(d(n).getTransparencyGridProps(t),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),cre=P({__name:"color-picker-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Ct();return ue(),(n,r)=>(y(),$(d(ce).button,F(d(t).getTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),ure=P({__name:"color-picker-value-swatch",props:{respectAlpha:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=Ct(),r=A(()=>({value:n.value.value,respectAlpha:t.respectAlpha}));return eA(r.value),ue(),(o,i)=>(y(),$(d(ce).div,F(d(n).getSwatchProps(r.value),{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),dre=P({__name:"color-picker-value-text",props:{format:{},asChild:{type:Boolean}},setup(e){const t=e,n=Ct(),r=xo();ue();const o=A(()=>t.format?n.value.value.toString(t.format):n.value.valueAsString);return(i,s)=>(y(),$(d(ce).span,F(d(n).getValueTextProps(),{"as-child":i.asChild}),{default:O(()=>[L(i.$slots,"default",{},()=>[re(j(r.default?.()||o.value),1)])]),_:3},16,["as-child"]))}}),pre=P({__name:"color-picker-view",props:{format:{},asChild:{type:Boolean}},setup(e){const t=e,n=Ct();return Bne(t),ue(),(r,o)=>d(n).format===r.format?(y(),$(d(ce).div,F({key:0},d(QR).build().view.attrs,{"data-format":r.format,"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["data-format","as-child"])):Z("",!0)}}),ht=Object.freeze(Object.defineProperty({__proto__:null,Area:Dne,AreaBackground:Nne,AreaThumb:Mne,ChannelInput:Lne,ChannelSlider:jne,ChannelSliderLabel:Fne,ChannelSliderThumb:Hne,ChannelSliderTrack:zne,ChannelSliderValueText:Une,Content:Gne,Context:Wne,Control:qne,EyeDropperTrigger:Kne,FormatSelect:Yne,FormatTrigger:Xne,HiddenInput:Jne,Label:Zne,Positioner:Qne,Root:nre,RootProvider:ere,Swatch:are,SwatchGroup:rre,SwatchIndicator:ire,SwatchTrigger:sre,TransparencyGrid:lre,Trigger:cre,ValueSwatch:ure,ValueText:dre,View:pre},Symbol.toStringTag,{value:"Module"})),fre={class:"flex gap-2"},hre={class:"flex flex-col gap-2 w-full"},gre={key:0,class:"mt-3"},ME=8,mre=P({__name:"Color",props:at({field:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Q([]),n=rt(e,"modelValue",{get:o=>{try{return Fg(o||"#000000")}catch{return Fg("#000000")}},set:o=>o.toString("hexa")}),r=o=>{const i=t.value.findIndex(s=>s.toHexInt()===o.value.toHexInt());i!==-1&&t.value.splice(i,1),t.value.unshift(o.value),t.value.length>ME&&(t.value=t.value.slice(0,ME))};return(o,i)=>{const s=zte;return y(),$(d(ht).Root,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=a=>n.value=a),format:"rgba",class:"flex flex-col gap-1.5",onValueChange:r},{default:O(()=>[S(d(ht).Label,{class:"block text-sm font-medium text-gray-700 mb-1"},{default:O(()=>[re(j(o.field.label),1)]),_:1}),S(d(ht).Control,{class:"flex gap-2"},{default:O(()=>[S(d(ht).Trigger,{class:"appearance-none rounded cursor-pointer inline-flex items-center justify-center outline-none h-10 min-w-10 gap-2 border border-gray-300"},{default:O(()=>[S(d(ht).TransparencyGrid,{class:"rounded"}),S(d(ht).ValueSwatch,{class:"h-7 w-7 rounded shadow"})]),_:1}),S(d(ht).ChannelInput,{channel:"hex",class:"appearance-none rounded bg-none outline-0 relative w-full border px-3 h-10 min-w-10 focus:ring focus:ring-accent"})]),_:1}),S(d(ht).Positioner,{class:"w-60 !z-20 pl-1"},{default:O(()=>[S(d(ht).Content,{class:"flex flex-col p-4 gap-3 rounded bg-white border shadow-sm data-[state=open]:animate-fade-in data-[state=closed]:animate-fade-out data-[state=closed]:hidden"},{default:O(()=>[S(d(ht).Area,{class:"rounded overflow-hidden h-36 touch-none forced-color-adjust-none"},{default:O(()=>[S(d(ht).AreaBackground,{class:"h-full rounded"}),S(d(ht).AreaThumb,{class:"rounded-full w-2.5 h-2.5 outline-none border-2 border-white"})]),_:1}),D("div",fre,[S(d(ht).EyeDropperTrigger,{class:"appearance-none rounded cursor-pointer inline-flex outline-none relative select-none items-center justify-center border h-8 min-w-8"},{default:O(()=>[S(s,{class:"w-4 h-4"})]),_:1}),D("div",hre,[S(d(ht).ChannelSlider,{channel:"hue",class:"rounded w-full"},{default:O(()=>[S(d(ht).ChannelSliderTrack,{class:"h-2.5 rounded"}),S(d(ht).ChannelSliderThumb,{class:"h-2.5 w-2.5 cursor-pointer rounded-full outline-none border-2 border-white -translate-x-1/2 -translate-y-1/2"})]),_:1}),S(d(ht).ChannelSlider,{channel:"alpha",class:"rounded w-full"},{default:O(()=>[S(d(ht).TransparencyGrid),S(d(ht).ChannelSliderTrack,{class:"h-2.5 rounded"}),S(d(ht).ChannelSliderThumb,{class:"h-2.5 w-2.5 cursor-pointer rounded-full outline-none border-2 border-white -translate-x-1/2 -translate-y-1/2"})]),_:1})])]),S(d(ht).View,{format:"rgba",class:"flex gap-3"},{default:O(()=>[S(d(ht).ChannelInput,{channel:"hex",class:"flex-1 border px-3 h-8 w-0 rounded outline-0 focus:ring focus:ring-accent"}),S(d(ht).ChannelInput,{channel:"alpha",class:"flex-none border px-3 h-8 rounded outline-0 focus:ring-2 focus:ring-accent"})]),_:1}),t.value.length>0?(y(),V("div",gre,[i[1]||(i[1]=D("div",{class:"text-xs font-medium text-gray-600 mb-2"},"Recent Colors",-1)),S(d(ht).SwatchGroup,{class:"grid grid-cols-8 gap-1"},{default:O(()=>[(y(!0),V(ge,null,Ie(t.value,a=>(y(),$(d(ht).SwatchTrigger,{key:a.toHexInt(),value:a,class:"w-6 h-6 rounded border border-gray-300 cursor-pointer hover:scale-110 transition-transform"},{default:O(()=>[S(d(ht).Swatch,{value:a,class:"w-full h-full rounded"},null,8,["value"])]),_:2},1032,["value"]))),128))]),_:1})])):Z("",!0)]),_:1})]),_:1}),S(d(ht).HiddenInput)]),_:1},8,["modelValue"])}}}),vre={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function bre(e,t){return y(),V("svg",vre,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m4.5 15.75l7.5-7.5l7.5 7.5"},null,-1)])])}const yre=fe({name:"heroicons-chevron-up",render:bre}),xre={class:"flex flex-col border-l border-gray-300"},wre=P({__name:"Number",props:at({field:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=rt(e,"modelValue"),n=A({get:()=>t.value?.toString()??"",set:r=>{const o=parseFloat(r);t.value=isNaN(o)?void 0:o}});return(r,o)=>{const i=yre,s=X$;return y(),$(d(ki).Root,{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=a=>n.value=a),min:r.field.min,max:r.field.max,step:r.field.step},{default:O(()=>[S(d(ki).Label,{class:"block text-sm font-medium text-gray-700 mb-1"},{default:O(()=>[re(j(r.field.label),1)]),_:1}),S(d(ki).Control,{class:"flex items-center h-9 border border-gray-300 rounded-md overflow-hidden focus-within:ring-2 focus-within:ring-accent focus-within:border-transparent"},{default:O(()=>[S(d(ki).Input,{class:"flex-1 px-3 focus:outline-none",placeholder:r.field.placeholder},null,8,["placeholder"]),D("div",xre,[S(d(ki).IncrementTrigger,{class:"px-2 py-1 hover:bg-gray-100 cursor-pointer"},{default:O(()=>[S(i,{class:"w-3 h-3 text-gray-600"})]),_:1}),S(d(ki).DecrementTrigger,{class:"px-2 py-1 hover:bg-gray-100 cursor-pointer border-t border-gray-300"},{default:O(()=>[S(s,{class:"w-3 h-3 text-gray-600"})]),_:1})])]),_:1})]),_:1},8,["modelValue","min","max","step"])}}}),_re=({editor:e})=>{const t={text:LX,textarea:VX,boolean:aJ,select:NQ,radio:lee,range:Fte,color:mre,number:wre};for(const[n,r]of Object.entries(t))e.ui.registerPropertyField({type:n,render:r})};let Gt=null;function kre(e={}){return Gt=Tr({channels:e.channels||[],channel:"default",locale:"en",theme:e.theme||null,templates:e.templates||[],pageData:null,images:e.images||[],categories:e.categories||new Map,products:e.products||new Map,cmsPages:e.cmsPages||new Map,haveEdits:e.haveEdits||!1}),Gt}function Dt(){if(!Gt)throw new Error("State not initialized. Make sure to call createState first.");function e(s){const a=Gt.categories.get(s);if(a&&a.translations){const l=a.translations.find(c=>c.locale===Gt.locale);if(l)return{...a,name:l.name,slug:l.slug}}return a}function t(){return Array.from(Gt.categories.values()).map(s=>{if(s.translations){const a=s.translations.find(l=>l.locale===Gt.locale);if(a)return{...s,name:a.name,slug:a.slug}}return s})}function n(s){return Gt.products.get(s)}function r(){return Array.from(Gt.products.values())}function o(s){const a=Gt.cmsPages.get(s);if(a&&a.translations){const l=a.translations.find(c=>c.locale===Gt.locale);if(l)return{...a,url_key:l.url_key,page_title:l.page_title}}return a}function i(){return Array.from(Gt.cmsPages.values()).map(s=>{if(s.translations){const a=s.translations.find(l=>l.locale===Gt.locale);if(a)return{...s,url_key:a.url_key,page_title:a.page_title}}return s})}return{state:Gt,...j1(Gt),currentTemplate:A(()=>{const s=Gt.pageData?.template;return Gt.templates.find(a=>a.template===s)||null}),getCategory:e,getCategories:t,getProduct:n,getProducts:r,getCmsPage:o,getCmsPages:i}}function Cre(e){e.categories&&e.categories.forEach(t=>{Gt.categories.set(t.id,t)}),e.products&&e.products.forEach(t=>{Gt.products.set(t.id,t)}),e.cms_pages&&e.cms_pages.forEach(t=>{Gt.cmsPages.set(t.id,t)})}const Ere={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Ore(e,t){return y(),V("svg",Ere,[...t[0]||(t[0]=[D("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"},[D("path",{d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87q.11.06.22.127c.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a8 8 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a7 7 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a7 7 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a7 7 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124q.108-.066.22-.128c.332-.183.582-.495.644-.869z"}),D("path",{d:"M15 12a3 3 0 1 1-6 0a3 3 0 0 1 6 0"})],-1)])])}const Ire=fe({name:"heroicons-cog-6-tooth",render:Ore}),Tre={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Sre(e,t){return y(),V("svg",Tre,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m2.25 15.75l5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5m10.5-11.25h.008v.008h-.008zm.375 0a.375.375 0 1 1-.75 0a.375.375 0 0 1 .75 0"},null,-1)])])}const Pre=fe({name:"heroicons-photo",render:Sre});function Et(){const e=window.editorConfig.messages||{};return{t:n=>e[n]||n}}const $re={class:"pl-2"},Rre={class:"font-medium text-base"},Are={class:"text-gray-700 text-xs"},Nre={key:0,class:"text-gray-500"},Mre=P({__name:"HeaderTitle",setup(e){const{theme:t}=Dt(),{t:n}=Et();return(r,o)=>(y(),V("div",$re,[D("h1",Rre,j(d(n)("title")),1),D("h2",Are,[re(j(d(t)?.name)+" ",1),d(t)?.version?(y(),V("span",Nre,"(v"+j(d(t).version)+")",1)):Z("",!0)])]))}}),Dre={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Lre(e,t){return y(),V("svg",Dre,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m19.5 8.25l-7.5 7.5l-7.5-7.5"},null,-1)])])}const mu=fe({name:"heroicons-chevron-down",render:Lre}),Vre={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Fre(e,t){return y(),V("svg",Vre,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12.75 3.03v.568c0 .334.148.65.405.864l1.068.89c.442.369.535 1.01.216 1.49l-.51.766a2.25 2.25 0 0 1-1.161.886l-.143.048a1.107 1.107 0 0 0-.57 1.664a1.108 1.108 0 0 1-.427 1.605L9 13.125l.423 1.059a.956.956 0 0 1-1.652.928l-.679-.906a1.125 1.125 0 0 0-1.906.172L4.5 15.75l-.612.153M12.75 3.031a9 9 0 0 0-8.862 12.872M12.75 3.031a9 9 0 0 1 6.69 14.036m0 0l-.177-.529A2.25 2.25 0 0 0 17.128 15H16.5l-.324-.324a1.453 1.453 0 0 0-2.328.377l-.036.073a1.6 1.6 0 0 1-.982.816l-.99.282c-.55.157-.894.702-.8 1.267l.073.438c.08.474.49.821.97.821c.846 0 1.598.542 1.865 1.345l.215.643m5.276-3.67a9 9 0 0 1-5.276 3.67m0 0a9 9 0 0 1-10.275-4.835M15.75 9c0 .896-.393 1.7-1.016 2.25"},null,-1)])])}const Bre=fe({name:"heroicons-globe-asia-australia",render:Fre});function Hre(e){return e==null?[]:Array.isArray(e)?e:[e]}var fw=e=>e[0],hw=e=>e[e.length-1],zre=(e,...t)=>e.concat(t),Ure=(e,...t)=>e.filter(n=>!t.includes(n));function tA(e,t,n={}){const{step:r=1,loop:o=!0}=n,i=t+r,s=e.length,a=s-1;return t===-1?r>0?0:a:i<0?o?a:0:i>=s?o?0:t>s?s:t:i}function jre(e,t,n={}){return e[tA(e,t,n)]}function Gre(e,t,n={}){const{step:r=1,loop:o=!0}=n;return tA(e,t,{step:-r,loop:o})}function Wre(e,t,n={}){return e[Gre(e,t,n)]}var DE=e=>e?.constructor.name==="Array",qre=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!vu(e[n],t[n]))return!1;return!0},vu=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof e?.isEqual=="function"&&typeof t?.isEqual=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(DE(e)&&DE(t))return qre(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(t??Object.create(null)),r=n.length;for(let o=0;o<r;o++)if(!Reflect.has(e,n[o]))return!1;for(let o=0;o<r;o++){const i=n[o];if(!vu(e[i],t[i]))return!1}return!0},Kre=e=>e!=null&&typeof e=="object",Dh=e=>typeof e=="string",fc=e=>typeof e=="function",Yre=e=>e==null,Lh=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Xre=e=>Object.prototype.toString.call(e),nA=Function.prototype.toString,Jre=nA.call(Object),Zre=e=>{if(!Kre(e)||Xre(e)!="[object Object]"||toe(e))return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Lh(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&nA.call(n)==Jre},Qre=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,eoe=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,toe=e=>Qre(e)||eoe(e),LE=e=>e,noe=()=>{},Bg=(...e)=>(...t)=>{e.forEach(function(n){n?.(...t)})},rA=(e,t)=>{try{return e()}catch(n){return n instanceof Error&&Error.captureStackTrace?.(n,rA),t?.()}},{floor:oA,abs:Hg,round:bv,min:roe,max:ooe,pow:ioe,sign:soe}=Math,B0=e=>Number.isNaN(e),ca=e=>B0(e)?0:e,iA=(e,t)=>(e%t+t)%t,aoe=(e,t)=>(e%t+t)%t,loe=(e,t,n)=>e===0?n:t[e-1],coe=(e,t,n)=>e===t.length-1?n:t[e+1],uoe=(e,t)=>ca(e)>=t,doe=(e,t)=>ca(e)<=t,sA=(e,t,n)=>{const r=ca(e),o=t==null||r>=t,i=n==null||r<=n;return o&&i},poe=(e,t,n)=>bv((ca(e)-t)/n)*n+t,pn=(e,t,n)=>roe(ooe(ca(e),t),n),yv=(e,t,n)=>(ca(e)-t)/(n-t),gw=(e,t,n,r)=>pn(poe(e*(n-t)+t,t,r),t,n),VE=(e,t)=>{let n=e,r=t.toString(),o=r.indexOf("."),i=o>=0?r.length-o:0;if(i>0){let s=ioe(10,i);n=bv(n*s)/s}return n},Ld=(e,t)=>typeof t=="number"?oA(e*t+.5)/t:bv(e),gp=(e,t,n,r)=>{const o=t!=null?Number(t):0,i=Number(n),s=(e-o)%r;let a=Hg(s)*2>=r?e+soe(s)*(r-Hg(s)):e-s;if(a=VE(a,r),!B0(o)&&a<o)a=o;else if(!B0(i)&&a>i){const l=oA((i-o)/r),c=o+l*r;a=l<=0||c<o?i:c}return VE(a,r)},ud=(e,t,n)=>e[t]===n?e:[...e.slice(0,t),n,...e.slice(t+1)];function aA(e,t){const n=loe(e,t.values,t.min),r=coe(e,t.values,t.max);let o=t.values.slice();return function(s){let a=gp(s,n,r,t.step);return o=ud(o,e,s),o[e]=a,o}}function foe(e,t){const n=t.values[e]+t.step;return aA(e,t)(n)}function hoe(e,t){const n=t.values[e]-t.step;return aA(e,t)(n)}var goe=(e,t)=>{let n=e.findIndex(i=>t-i<0);if(n===0)return n;if(n===-1)return e.length-1;let r=e[n-1],o=e[n];return Hg(r-t)<Hg(o-t)?n-1:n},lA=(e,t,n,r)=>e.map((o,i)=>({min:i===0?t:e[i-1]+r,max:i===e.length-1?n:e[i+1]-r,value:o})),H0=(e,t)=>{const[n,r]=e,[o,i]=t;return s=>n===r||o===i?o:o+(i-o)/(r-n)*(s-n)},_t=(e,t=0,n=10)=>{const r=Math.pow(n,t);return bv(e*r)/r},FE=e=>{if(!Number.isFinite(e))return 0;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n+=1;return n},cA=(e,t,n)=>{let r=t==="+"?e+n:e-n;if(e%1!==0||n%1!==0){const o=10**Math.max(FE(e),FE(n));e=Math.round(e*o),n=Math.round(n*o),r=t==="+"?e+n:e-n,r/=o}return r},moe=(e,t)=>cA(ca(e),"+",t),voe=(e,t)=>cA(ca(e),"-",t),BE=e=>e!=null?`${e}px`:void 0;function mw(e){if(!Zre(e)||e===void 0)return e;const t=Reflect.ownKeys(e).filter(r=>typeof r=="string"),n={};for(const r of t){const o=e[r];o!==void 0&&(n[r]=mw(o))}return n}function boe(e,t){const n={};for(const r of t){const o=e[r];o!==void 0&&(n[r]=o)}return n}function zg(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}function yoe(e,t){if(e==null)throw new Error(t())}var HE=e=>Math.max(0,Math.min(1,e)),xoe=(e,t)=>e.map((n,r)=>e[(Math.max(t,0)+r)%e.length]),uA=()=>{},xv=e=>typeof e=="object"&&e!==null,woe=2147483647,Y=e=>e?"":void 0,mp=e=>e?"true":void 0,_oe=1,koe=9,Coe=11,En=e=>xv(e)&&e.nodeType===_oe&&typeof e.nodeName=="string",vw=e=>xv(e)&&e.nodeType===koe,Eoe=e=>xv(e)&&e===e.window,dA=e=>En(e)?e.localName||"":"#document";function Ooe(e){return["html","body","#document"].includes(dA(e))}var Ioe=e=>xv(e)&&e.nodeType!==void 0,vp=e=>Ioe(e)&&e.nodeType===Coe&&"host"in e,Toe=e=>En(e)&&e.localName==="input",Soe=e=>!!e?.matches("a[href]"),Poe=e=>En(e)?e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0:!1;function Ba(e){if(!e)return!1;const t=e.getRootNode();return Tc(t)===e}var $oe=/(textarea|select)/;function bw(e){if(e==null||!En(e))return!1;try{return Toe(e)&&e.selectionStart!=null||$oe.test(e.localName)||e.isContentEditable||e.getAttribute("contenteditable")==="true"||e.getAttribute("contenteditable")===""}catch{return!1}}function Ds(e,t){if(!e||!t||!En(e)||!En(t))return!1;const n=t.getRootNode?.();if(e===t||e.contains(t))return!0;if(n&&vp(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function ci(e){return vw(e)?e:Eoe(e)?e.document:e?.ownerDocument??document}function Roe(e){return ci(e).documentElement}function pr(e){return vp(e)?pr(e.host):vw(e)?e.defaultView??window:En(e)?e.ownerDocument?.defaultView??window:window}function Tc(e){let t=e.activeElement;for(;t?.shadowRoot;){const n=t.shadowRoot.activeElement;if(!n||n===t)break;t=n}return t}function Aoe(e){if(dA(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vp(e)&&e.host||Roe(e);return vp(t)?t.host:t}var Ub=new WeakMap;function jc(e){return Ub.has(e)||Ub.set(e,pr(e).getComputedStyle(e)),Ub.get(e)}var wv=()=>typeof document<"u";function Noe(){return navigator.userAgentData?.platform??navigator.platform}function Moe(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(({brand:t,version:n})=>`${t}/${n}`).join(" "):navigator.userAgent}var yw=e=>wv()&&e.test(Noe()),Doe=e=>wv()&&e.test(Moe()),Loe=e=>wv()&&e.test(navigator.vendor),zE=()=>wv()&&!!navigator.maxTouchPoints,Voe=()=>yw(/^iPhone/i),Foe=()=>yw(/^iPad/i)||kv()&&navigator.maxTouchPoints>1,_v=()=>Voe()||Foe(),Boe=()=>kv()||_v(),kv=()=>yw(/^Mac/i),Cv=()=>Boe()&&Loe(/apple/i),Hoe=()=>Doe(/Firefox/i);function zoe(e){return e.composedPath?.()??e.nativeEvent?.composedPath?.()}function Yn(e){return zoe(e)?.[0]??e.target}function UE(e){const t=e.currentTarget;if(!t||!t.matches("a[href], button[type='submit'], input[type='submit']"))return!1;const r=e.button===1,o=joe(e);return r||o}function jE(e){const t=e.currentTarget;if(!t)return!1;const n=t.localName;return e.altKey?n==="a"||n==="button"&&t.type==="submit"||n==="input"&&t.type==="submit":!1}function Uoe(e){return Koe(e).isComposing||e.keyCode===229}function joe(e){return kv()?e.metaKey:e.ctrlKey}function Goe(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}var Ls=e=>e.button===0,pA=e=>e.button===2||kv()&&e.ctrlKey&&e.button===0,Gc=e=>e.ctrlKey||e.altKey||e.metaKey,Woe=e=>"touches"in e&&e.touches.length>0,qoe={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},GE={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function Wc(e,t={}){const{dir:n="ltr",orientation:r="horizontal"}=t;let o=e.key;return o=qoe[o]??o,n==="rtl"&&r==="horizontal"&&o in GE&&(o=GE[o]),o}function Koe(e){return e.nativeEvent??e}var Yoe=new Set(["PageUp","PageDown"]),Xoe=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);function Ug(e){return e.ctrlKey||e.metaKey?.1:Yoe.has(e.key)||e.shiftKey&&Xoe.has(e.key)?10:1}function jo(e,t="client"){const n=Woe(e)?e.touches[0]||e.changedTouches[0]:e;return{x:n[`${t}X`],y:n[`${t}Y`]}}var Ft=(e,t,n,r)=>{const o=typeof e=="function"?e():e;return o?.addEventListener(t,n,r),()=>{o?.removeEventListener(t,n,r)}};function Joe(e,t){const{type:n="HTMLInputElement",property:r="value"}=t,o=pr(e)[n].prototype;return Object.getOwnPropertyDescriptor(o,r)??{}}function Zoe(e){if(e.localName==="input")return"HTMLInputElement";if(e.localName==="textarea")return"HTMLTextAreaElement";if(e.localName==="select")return"HTMLSelectElement"}function rf(e,t,n="value"){if(!e)return;const r=Zoe(e);r&&Joe(e,{type:r,property:n}).set?.call(e,t),e.setAttribute(n,t)}function fA(e,t){const{value:n,bubbles:r=!0}=t;if(!e)return;const o=pr(e);e instanceof o.HTMLInputElement&&(rf(e,`${n}`),e.dispatchEvent(new o.Event("input",{bubbles:r})))}function Qoe(e){return eie(e)?e.form:e.closest("form")}function eie(e){return e.matches("textarea, input, select, button")}function tie(e,t){if(!e)return;const n=Qoe(e),r=o=>{o.defaultPrevented||t()};return n?.addEventListener("reset",r,{passive:!0}),()=>n?.removeEventListener("reset",r)}function nie(e,t){const n=e?.closest("fieldset");if(!n)return;t(n.disabled);const r=pr(n),o=new r.MutationObserver(()=>t(n.disabled));return o.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>o.disconnect()}function xw(e,t){if(!e)return;const{onFieldsetDisabledChange:n,onFormReset:r}=t,o=[tie(e,r),nie(e,n)];return()=>o.forEach(i=>i?.())}var hA=e=>En(e)&&e.tagName==="IFRAME",rie=e=>!Number.isNaN(parseInt(e.getAttribute("tabindex")||"0",10)),oie=e=>parseInt(e.getAttribute("tabindex")||"0",10)<0,ww="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",gA=(e,t=!1)=>{if(!e)return[];const n=Array.from(e.querySelectorAll(ww));(t==!0||t=="if-empty"&&n.length===0)&&En(e)&&Vs(e)&&n.unshift(e);const o=n.filter(Vs);return o.forEach((i,s)=>{if(hA(i)&&i.contentDocument){const a=i.contentDocument.body;o.splice(s,1,...gA(a))}}),o};function Vs(e){return!e||e.closest("[inert]")?!1:e.matches(ww)&&Poe(e)}function of(e,t){if(!e)return[];const n=Array.from(e.querySelectorAll(ww)),r=n.filter(ks);return t&&ks(e)&&r.unshift(e),r.forEach((o,i)=>{if(hA(o)&&o.contentDocument){const s=o.contentDocument.body,a=of(s);r.splice(i,1,...a)}}),!r.length&&t?n:r}function ks(e){return e!=null&&e.tabIndex>0?!0:Vs(e)&&!oie(e)}function mA(e,t){const n=of(e,t),r=n[0]||null,o=n[n.length-1]||null;return[r,o]}function iie(e,t){const n=of(e),r=e?.ownerDocument||document,o=t??Tc(r);if(!o)return null;const i=n.indexOf(o);return n[i+1]||null}function ju(e){return e.tabIndex<0&&(/^(audio|video|details)$/.test(e.localName)||bw(e))&&!rie(e)?0:e.tabIndex}function jg(e){const{root:t,getInitialEl:n,filter:r,enabled:o=!0}=e;if(!o)return;let i=null;if(i||(i=typeof n=="function"?n():n),i||(i=t?.querySelector("[data-autofocus],[autofocus]")),!i){const s=of(t);i=r?s.filter(r)[0]:s[0]}return i||t||void 0}function sie(e){const t=e.currentTarget;if(!t)return!1;const[n,r]=mA(t);return!(Ba(n)&&e.shiftKey||Ba(r)&&!e.shiftKey||!n&&!r)}function _w(e){const t=new Set;function n(r){const o=globalThis.requestAnimationFrame(r);t.add(()=>globalThis.cancelAnimationFrame(o))}return n(()=>n(e)),function(){t.forEach(o=>o())}}function tt(e){let t;const n=globalThis.requestAnimationFrame(()=>{t=e()});return()=>{globalThis.cancelAnimationFrame(n),t?.()}}function aie(e,t,n){const r=tt(()=>{e.removeEventListener(t,o,!0),n()}),o=()=>{r(),n()};return e.addEventListener(t,o,{once:!0,capture:!0}),r}function lie(e,t){if(!e)return;const{attributes:n,callback:r}=t,o=e.ownerDocument.defaultView||window,i=new o.MutationObserver(s=>{for(const a of s)a.type==="attributes"&&a.attributeName&&n.includes(a.attributeName)&&r(a)});return i.observe(e,{attributes:!0,attributeFilter:n}),()=>i.disconnect()}function vA(e,t){const{defer:n}=t,r=n?tt:i=>i(),o=[];return o.push(r(()=>{const i=typeof e=="function"?e():e;o.push(lie(i,t))})),()=>{o.forEach(i=>i?.())}}function cie(e){const t=()=>{const n=pr(e);e.dispatchEvent(new n.MouseEvent("click"))};Hoe()?aie(e,"keyup",t):queueMicrotask(t)}function z0(e){const t=Aoe(e);return Ooe(t)?ci(t).body:En(t)&&bA(t)?t:z0(t)}var uie=/auto|scroll|overlay|hidden|clip/,die=new Set(["inline","contents"]);function bA(e){const t=pr(e),{overflow:n,overflowX:r,overflowY:o,display:i}=t.getComputedStyle(e);return uie.test(n+o+r)&&!die.has(i)}function pie(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function fie(e,t){const{rootEl:n,...r}=t||{};!e||!n||!bA(n)||!pie(n)||e.scrollIntoView(r)}function kw(e,t){const{left:n,top:r,width:o,height:i}=t.getBoundingClientRect(),s={x:e.x-n,y:e.y-r},a={x:HE(s.x/o),y:HE(s.y/i)};function l(c={}){const{dir:u="ltr",orientation:p="horizontal",inverted:h}=c,f=typeof h=="object"?h.x:h,g=typeof h=="object"?h.y:h;return p==="horizontal"?u==="rtl"||f?1-a.x:a.x:g?1-a.y:a.y}return{offset:s,percent:a,getPercentValue:l}}function hie(e,t){const n=e.body,r="pointerLockElement"in e||"mozPointerLockElement"in e,o=()=>!!e.pointerLockElement;function i(){}function s(l){o(),console.error("PointerLock error occurred:",l),e.exitPointerLock()}if(!r)return;try{n.requestPointerLock()}catch{}const a=[Ft(e,"pointerlockchange",i,!1),Ft(e,"pointerlockerror",s,!1)];return()=>{a.forEach(l=>l()),e.exitPointerLock()}}var hc="default",U0="",Vh=new WeakMap;function gie(e={}){const{target:t,doc:n}=e,r=n??document,o=r.documentElement;return _v()?(hc==="default"&&(U0=o.style.webkitUserSelect,o.style.webkitUserSelect="none"),hc="disabled"):t&&(Vh.set(t,t.style.userSelect),t.style.userSelect="none"),()=>mie({target:t,doc:r})}function mie(e={}){const{target:t,doc:n}=e,o=(n??document).documentElement;if(_v()){if(hc!=="disabled")return;hc="restoring",setTimeout(()=>{_w(()=>{hc==="restoring"&&(o.style.webkitUserSelect==="none"&&(o.style.webkitUserSelect=U0||""),U0="",hc="default")})},300)}else if(t&&Vh.has(t)){const i=Vh.get(t);t.style.userSelect==="none"&&(t.style.userSelect=i??""),t.getAttribute("style")===""&&t.removeAttribute("style"),Vh.delete(t)}}function yA(e={}){const{defer:t,target:n,...r}=e,o=t?tt:s=>s(),i=[];return i.push(o(()=>{const s=typeof n=="function"?n():n;i.push(gie({...r,target:s}))})),()=>{i.forEach(s=>s?.())}}function xA(e,t){const{onPointerMove:n,onPointerUp:r}=t,o=a=>{const l=jo(a),c=Math.sqrt(l.x**2+l.y**2),u=a.pointerType==="touch"?10:5;if(!(c<u)){if(a.pointerType==="mouse"&&a.button===0){i(a);return}n({point:l,event:a})}},i=a=>{const l=jo(a);r({point:l,event:a})},s=[Ft(e,"pointermove",o,!1),Ft(e,"pointerup",i,!1),Ft(e,"pointercancel",i,!1),Ft(e,"contextmenu",i,!1),yA({doc:e})];return()=>{s.forEach(a=>a())}}function vie(e,t={}){const{triggerElement:n,onFocus:r,onFocusEnter:o}=t,i=e?.ownerDocument||document,s=i.body;function a(l){if(l.key!=="Tab")return;let c=null;const[u,p]=mA(e,!0),h=iie(s,n),f=!u&&!p;l.shiftKey&&Ba(h)?(o?.(),c=p):l.shiftKey&&(Ba(u)||f)?c=n:!l.shiftKey&&Ba(n)?(o?.(),c=u):!l.shiftKey&&(Ba(p)||f)&&(c=h),c&&(l.preventDefault(),typeof r=="function"?r(c):c.focus())}return Ft(i,"keydown",a,!0)}function bie(e,t){const{defer:n,triggerElement:r,...o}=t,i=n?tt:a=>a(),s=[];return s.push(i(()=>{const a=typeof e=="function"?e():e,l=typeof r=="function"?r():r;s.push(vie(a,{triggerElement:l,...o}))})),()=>{s.forEach(a=>a?.())}}function bp(e,t){return Array.from(e?.querySelectorAll(t)??[])}function yie(e,t){return e?.querySelector(t)??null}var Cw=e=>e.id;function xie(e,t,n=Cw){return e.find(r=>n(r)===t)}function Ew(e,t,n=Cw){const r=xie(e,t,n);return r?e.indexOf(r):-1}function wie(e,t,n=!0){let r=Ew(e,t);return r=n?(r+1)%e.length:Math.min(r+1,e.length-1),e[r]}function _ie(e,t,n=!0){let r=Ew(e,t);return r===-1?n?e[e.length-1]:null:(r=n?(r-1+e.length)%e.length:Math.max(0,r-1),e[r])}function kie(e,t){const{onEntry:n,measure:r,box:o="border-box"}=t,i=(Array.isArray(e)?e:[e]).filter(En),s=pr(i[0]),a=c=>{const u=i.map(p=>r(p));n({rects:u,entries:c})};a([]);const l=new s.ResizeObserver(a);return i.forEach(c=>l.observe(c,{box:o})),()=>l.disconnect()}var Cie=e=>e.split("").map(t=>{const n=t.charCodeAt(0);return n>0&&n<128?t:n>=128&&n<=255?`/x${n.toString(16)}`.replace("/","\\"):""}).join("").trim(),Eie=e=>Cie(e.dataset?.valuetext??e.textContent??""),Oie=(e,t)=>e.trim().toLowerCase().startsWith(t.toLowerCase());function Iie(e,t,n,r=Cw){const o=n?Ew(e,n,r):-1;let i=n?xoe(e,o):e;return t.length===1&&(i=i.filter(a=>r(a)!==n)),i.find(a=>Oie(Eie(a),t))}function yp(e,t){if(!e)return uA;const n=Object.keys(t).reduce((r,o)=>(r[o]=e.style.getPropertyValue(o),r),{});return Object.assign(e.style,t),()=>{Object.assign(e.style,n),e.style.length===0&&e.removeAttribute("style")}}function Tie(e,t,n){if(!e)return uA;const r=e.style.getPropertyValue(t);return e.style.setProperty(t,n),()=>{e.style.setProperty(t,r),e.style.length===0&&e.removeAttribute("style")}}function Sie(e,t){const{state:n,activeId:r,key:o,timeout:i=350,itemToId:s}=t,a=n.keysSoFar+o,c=a.length>1&&Array.from(a).every(g=>g===a[0])?a[0]:a;let u=e.slice();const p=Iie(u,c,r,s);function h(){clearTimeout(n.timer),n.timer=-1}function f(g){n.keysSoFar=g,h(),g!==""&&(n.timer=+setTimeout(()=>{f(""),h()},i))}return f(a),p}var wA=Object.assign(Sie,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:Pie});function Pie(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}var $ie={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"};function Rie(e,t,n){const{signal:r}=t;return[new Promise((s,a)=>{const l=setTimeout(()=>{a(new Error(`Timeout of ${n}ms exceeded`))},n);r.addEventListener("abort",()=>{clearTimeout(l),a(new Error("Promise aborted"))}),e.then(c=>{r.aborted||(clearTimeout(l),s(c))}).catch(c=>{r.aborted||(clearTimeout(l),a(c))})}),()=>t.abort()]}function Aie(e,t){const{timeout:n,rootNode:r}=t,o=pr(r),i=ci(r),s=new o.AbortController;return Rie(new Promise(a=>{const l=e();if(l){a(l);return}const c=new o.MutationObserver(()=>{const u=e();u&&u.isConnected&&(c.disconnect(),a(u))});c.observe(i.body,{childList:!0,subtree:!0})}),s,n)}var Nie=(...e)=>e.map(t=>t?.trim?.()).filter(Boolean).join(" "),Mie=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,WE=e=>{const t={};let n;for(;n=Mie.exec(e);)t[n[1]]=n[2];return t},Die=(e,t)=>{if(Dh(e)){if(Dh(t))return`${e};${t}`;e=WE(e)}else Dh(t)&&(t=WE(t));return Object.assign({},e??{},t??{})};function bu(...e){let t={};for(let n of e){if(!n)continue;for(let o in t){if(o.startsWith("on")&&typeof t[o]=="function"&&typeof n[o]=="function"){t[o]=Bg(n[o],t[o]);continue}if(o==="className"||o==="class"){t[o]=Nie(t[o],n[o]);continue}if(o==="style"){t[o]=Die(t[o],n[o]);continue}t[o]=n[o]!==void 0?n[o]:t[o]}for(let o in n)t[o]===void 0&&(t[o]=n[o]);const r=Object.getOwnPropertySymbols(n);for(let o of r)t[o]=n[o]}return t}function j0(e,t,n){let r=[],o;return i=>{const s=e(i);return(s.length!==r.length||s.some((l,c)=>!vu(r[c],l)))&&(r=s,o=t(s,i)),o}}function Ev(){return{and:(...e)=>function(n){return e.every(r=>n.guard(r))},or:(...e)=>function(n){return e.some(r=>n.guard(r))},not:e=>function(n){return!n.guard(e)}}}function Lie(){return{guards:Ev(),createMachine:e=>e,choose:e=>function({choose:n}){return n(e)?.actions}}}var nc=(e=>(e.NotStarted="Not Started",e.Started="Started",e.Stopped="Stopped",e))(nc||{}),jb="__init__";function Vie(e){const t=()=>e.getRootNode?.()??document,n=()=>ci(t());return{...e,getRootNode:t,getDoc:n,getWin:()=>n().defaultView??window,getActiveElement:()=>Tc(t()),isActiveElement:Ba,getById:s=>t().getElementById(s)}}function Fie(e){return new Proxy({},{get(t,n){return n==="style"?r=>e({style:r}).style:e}})}var en=()=>e=>Array.from(new Set(e));function Bie(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}var qE={htmlFor:"for",className:"class",onDoubleClick:"onDblclick",onChange:"onInput",onFocus:"onFocusin",onBlur:"onFocusout",defaultValue:"value",defaultChecked:"checked"},Hie="viewBox,className,preserveAspectRatio,fillRule,clipPath,clipRule,strokeWidth,strokeLinecap,strokeLinejoin,strokeDasharray,strokeDashoffset,strokeMiterlimit".split(",");function zie(e){return e in qE?qE[e]:e.startsWith("on")?`on${Bie(e.substr(2))}`:Hie.includes(e)?e:e.toLowerCase()}var ua=Fie(e=>{const t={};for(const n in e){const r=e[n];n==="children"?typeof r=="string"&&(t.innerHTML=r):t[zie(n)]=e[n]}return t});function Gg(e){const t=e().defaultValue??e().value,n=e().isEqual??Object.is,r=co(t),o=A(()=>e().value!==void 0),i=co(o.value?e().value:r.value);return{initial:t,ref:i,get(){return o.value?e().value:r.value},set(s){const a=o.value?e().value:r.value,l=fc(s)?s(a):s;e().debug&&console.log(`[bindable > ${e().debug}] setValue`,{next:l,prev:a}),o.value||(r.value=l),n(l,a)||e().onChange?.(l,a)},invoke(s,a){e().onChange?.(s,a)},hash(s){return e().hash?.(s)??String(s)}}}Gg.cleanup=e=>{Sr(()=>e())};Gg.ref=e=>{let t=e;return{get:()=>t,set:n=>{t=n}}};function Uie(e){const t={current:e};return{get(n){return t.current[n]},set(n,r){t.current[n]=r}}}var jie=(e,t)=>{st(()=>[...e.map(n=>n())],(n,r)=>{let o=!1;for(let i=0;i<n.length;i++)if(!vu(r[i],pe(n[i]))){o=!0;break}o&&t()})};function Ji(e,t={}){const n=A(()=>{const{id:C,ids:x,getRootNode:I}=pe(t);return Vie({id:C,ids:x,getRootNode:I})}),r=(...C)=>{e.debug&&console.log(...C)},o=A(()=>e.props?.({props:mw(pe(t)),get scope(){return n.value}})??pe(t)),i=Gie(o),s=e.context?.({prop:i,bindable:Gg,get scope(){return n.value},flush:KE,getContext(){return a},getComputed(){return v},getRefs(){return g},getEvent(){return h()}}),a={get(C){return s[C]?.get()},set(C,x){s[C]?.set(x)},initial(C){return s[C]?.initial},hash(C){const x=s[C]?.get();return s[C]?.hash(x)}};let l=new Map,c=null,u={current:null},p={current:{type:""}};const h=()=>({...p.current,current(){return p.current},previous(){return u.current}}),f=()=>({..._,matches(...C){const x=_.get();return C.includes(x)},hasTag(C){const x=_.get();return!!e.states[x]?.tags?.includes(C)}}),g=Uie(e.refs?.({prop:i,context:a})??{}),m=()=>({state:f(),context:a,event:h(),prop:i,send:N,action:b,guard:w,track:jie,refs:g,computed:v,flush:KE,get scope(){return n.value},choose:k}),b=C=>{const x=fc(C)?C(m()):C;if(!x)return;const I=x.map(R=>{const M=e.implementations?.actions?.[R];return M||zg(`[zag-js] No implementation found for action "${JSON.stringify(R)}"`),M});for(const R of I)R?.(m())},w=C=>fc(C)?C(m()):e.implementations?.guards?.[C](m()),E=C=>{const x=fc(C)?C(m()):C;if(!x)return;const I=x.map(M=>{const B=e.implementations?.effects?.[M];return B||zg(`[zag-js] No implementation found for effect "${JSON.stringify(M)}"`),B}),R=[];for(const M of I){const B=M?.(m());B&&R.push(B)}return()=>R.forEach(M=>M?.())},k=C=>Hre(C).find(x=>{let I=!x.guard;return Dh(x.guard)?I=!!w(x.guard):fc(x.guard)&&(I=x.guard(m())),I}),v=C=>{yoe(e.computed,()=>"[zag-js] No computed object found on machine");const x=e.computed[C];return x({context:a,event:h(),prop:i,refs:g,get scope(){return n.value},computed:v})},_=Gg(()=>({defaultValue:e.initialState({prop:i}),onChange(C,x){x&&(l.get(x)?.(),l.delete(x)),x&&b(e.states[x]?.exit),b(c?.actions);const I=E(e.states[C]?.effects);if(I&&l.set(C,I),x===jb){b(e.entry);const R=E(e.effects);R&&l.set(jb,R)}b(e.states[C]?.entry)}}));let T=nc.NotStarted;Je(()=>{const C=T===nc.Started;T=nc.Started,r(C?"rehydrating...":"initializing..."),_.invoke(_.initial,jb)}),on(()=>{T=nc.Stopped,r("unmounting...");const C=l.values();for(const x of C)x?.();l=new Map,b(e.exit)});const N=C=>{if(T!==nc.Started)return;u.current=p.current,p.current=C;let x=_.get();const I=e.states[x].on?.[C.type]??e.on?.[C.type],R=k(I);if(!R)return;c=R;const M=R.target??x;r("transition",C.type,R.target||x,`(${R.actions})`);const B=M!==x;B?_.set(M):R.reenter&&!B?_.invoke(x,x):b(R.actions)};return e.watch?.(m()),{state:f(),send:N,context:a,prop:i,get scope(){return n.value},refs:g,computed:v,event:h(),getStatus:()=>T}}function Gie(e){return function(n){return e.value[n]}}var KE=e=>{Nn().then(()=>{e()})};const Wie=P({name:"Dynamic",inheritAttrs:!1,setup(e,{attrs:t,slots:n}){return()=>{if(!n.default)return null;const r=_A(n.default()),[o,...i]=r;if(Object.keys(t).length>0){delete o.props?.ref;const s=bu(t,o.props??{}),a=Ir(o,s);for(const l in s)l.startsWith("on")&&(a.props||={},a.props[l]=s[l]);return r.length===1?a:[a,...i]}return r}}});function _A(e){return e?e.flatMap(t=>t.type===ge?_A(t.children):[t]):[]}const qie="br, hr, img, input, area, textarea".split(", "),Kie=e=>typeof e=="string"&&qie.includes(e),Gb=e=>P({name:"Polymorphic",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1}},setup(t,{attrs:n,slots:r}){return t.asChild?()=>uo(Wie,n,r):()=>uo(e,n,Kie(e)?void 0:r.default?.())}});function Yie(){const e=new Map;return new Proxy(Gb,{apply(n,r,o){return Gb(o[0])},get(n,r){return e.has(r)||e.set(r,Gb(r)),e.get(r)}})}const te=Yie(),Tt=e=>{const t=Symbol(e);return[o=>tu(t,o),o=>dt(t,o),t]},[kA,ln]=Tt("MenuContext");function Ow(e){const t=pe(e);return t?.$el??t}const Xie=e=>Object.prototype.hasOwnProperty.call(e,"nodeName")&&typeof e.nodeName=="string";function ee(){const e=zt(),t=Q(),n=A(()=>["#text","#comment"].includes(t.value?.$el.nodeName)?t.value?.$el.nextElementSibling:Ow(t)),r=Object.assign({},e.exposed),o={};for(const s in e.props)Object.defineProperty(o,s,{enumerable:!0,configurable:!0,get:()=>e.props[s]});if(Object.keys(r).length>0)for(const s in r)Object.defineProperty(o,s,{enumerable:!0,configurable:!0,get:()=>r[s]});Object.defineProperty(o,"$el",{enumerable:!0,configurable:!0,get:()=>e.vnode.el}),e.exposed=o;function i(s){t.value=s,!(Xie(s)||!s)&&(Object.defineProperty(o,"$el",{enumerable:!0,configurable:!0,get:()=>s.$el}),e.exposed=o)}return{forwardRef:i,currentRef:t,currentElement:n}}const Jie=P({__name:"menu-arrow-tip",props:{asChild:{type:Boolean}},setup(e){const t=ln();return ee(),(n,r)=>(y(),$(d(te).div,F(d(t).getArrowTipProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Zie=P({__name:"menu-arrow",props:{asChild:{type:Boolean}},setup(e){const t=ln();return ee(),(n,r)=>(y(),$(d(te).div,F(d(t).getArrowProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),[Iw,Qie]=Tt("MenuItemContext"),[Ov,CA]=Tt("MenuItemPropsContext"),ese=P({__name:"menu-checkbox-item",props:Ze({checked:{type:Boolean},value:{},disabled:{type:Boolean},valueText:{},closeOnSelect:{type:Boolean},asChild:{type:Boolean}},{checked:void 0,disabled:void 0,closeOnSelect:void 0}),emits:["update:checked"],setup(e,{emit:t}){const n=e,r=t,o=ln(),i=A(()=>({...n,type:"checkbox",onCheckedChange:a=>r("update:checked",a)})),s=A(()=>o.value.getOptionItemState(i.value));return Iw(s),Ov(i),ee(),(a,l)=>(y(),$(d(te).div,F(d(o).getOptionItemProps(i.value),{"as-child":a.asChild}),{default:O(()=>[L(a.$slots,"default")]),_:3},16,["as-child"]))}}),[sf,Iv]=Tt("PresenceContext"),tse=P({__name:"menu-content",props:{asChild:{type:Boolean}},setup(e){const t=ln(),n=Iv(),r=A(()=>bu(t.value.getContentProps(),n.value.presenceProps));return ee(),(o,i)=>d(n).unmounted?Z("",!0):(y(),$(d(te).div,F({key:0},r.value,{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),nse=P({__name:"menu-context-trigger",props:{asChild:{type:Boolean}},setup(e){const t=ln();return ee(),(n,r)=>(y(),$(d(te).button,F(d(t).getContextTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),rse=P({__name:"menu-context",setup(e){const t=ln();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),ose=P({__name:"menu-indicator",props:{asChild:{type:Boolean}},setup(e){const t=ln();return ee(),(n,r)=>(y(),$(d(te).div,F(d(t).getIndicatorProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),ise=P({__name:"menu-item-context",setup(e){const t=Qie();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),[EA,OA]=Tt("MenuItemGroupContext"),sse=P({__name:"menu-item-group-label",props:{asChild:{type:Boolean}},setup(e){const t=ln(),n=OA();return ee(),(r,o)=>(y(),$(d(te).div,F(d(t).getItemGroupLabelProps({htmlFor:d(n).id}),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),ase=P({__name:"menu-item-group",props:{id:{},asChild:{type:Boolean}},setup(e){const t=e,n=ln(),r=nt(),o=t.id??r,i=A(()=>({id:o}));return EA(i),ee(),(s,a)=>(y(),$(d(te).div,F(d(n).getItemGroupProps(i.value),{"as-child":s.asChild}),{default:O(()=>[L(s.$slots,"default")]),_:3},16,["as-child"]))}}),lse=P({__name:"menu-item-indicator",props:{asChild:{type:Boolean}},setup(e){const t=ln(),n=CA();return ee(),(r,o)=>(y(),$(d(te).div,F(d(t).getItemIndicatorProps(d(n)),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),cse=P({__name:"menu-item-text",props:{asChild:{type:Boolean}},setup(e){const t=ln(),n=CA();return ee(),(r,o)=>(y(),$(d(te).div,F(d(t).getItemTextProps(d(n)),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),use=P({__name:"menu-item",props:Ze({value:{},disabled:{type:Boolean},valueText:{},closeOnSelect:{type:Boolean},asChild:{type:Boolean}},{disabled:void 0,closeOnSelect:void 0}),emits:["select"],setup(e,{emit:t}){const n=e,r=t,o=ln(),i=A(()=>o.value.getItemState(n));return Ov(A(()=>n)),Iw(i),Je(()=>{const s=o.value.addItemListener({id:i.value.id,onSelect:()=>r("select")});on(()=>s?.())}),ee(),(s,a)=>(y(),$(d(te).div,F(d(o).getItemProps(n),{"as-child":s.asChild}),{default:O(()=>[L(s.$slots,"default")]),_:3},16,["as-child"]))}});function dse(e,t){const{state:n,send:r,context:o}=e,i=n.matches("mounted","unmountSuspended");return{skip:!o.get("initial"),present:i,setNode(s){s&&r({type:"NODE.SET",node:s})},unmount(){r({type:"UNMOUNT"})}}}var pse={props({props:e}){return{...e,present:!!e.present}},initialState({prop:e}){return e("present")?"mounted":"unmounted"},refs(){return{node:null,styles:null}},context({bindable:e}){return{unmountAnimationName:e(()=>({defaultValue:null})),prevAnimationName:e(()=>({defaultValue:null})),present:e(()=>({defaultValue:!1})),initial:e(()=>({sync:!0,defaultValue:!1}))}},exit:["clearInitial","cleanupNode"],watch({track:e,prop:t,send:n}){e([()=>t("present")],()=>{n({type:"PRESENCE.CHANGED"})})},on:{"NODE.SET":{actions:["setupNode"]},"PRESENCE.CHANGED":{actions:["setInitial","syncPresence"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]},"UNMOUNT.SUSPEND":{target:"unmountSuspended"}}},unmountSuspended:{effects:["trackAnimationEvents"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]}}},unmounted:{on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}},implementations:{actions:{setInitial:({context:e})=>{e.get("initial")||queueMicrotask(()=>{e.set("initial",!0)})},clearInitial:({context:e})=>{e.set("initial",!1)},invokeOnExitComplete:({prop:e})=>{e("onExitComplete")?.()},setupNode:({refs:e,event:t})=>{e.get("node")!==t.node&&(e.set("node",t.node),e.set("styles",jc(t.node)))},cleanupNode:({refs:e})=>{e.set("node",null),e.set("styles",null)},syncPresence:({context:e,refs:t,send:n,prop:r})=>{const o=r("present");if(o)return n({type:"MOUNT",src:"presence.changed"});const i=t.get("node");if(!o&&i?.ownerDocument.visibilityState==="hidden")return n({type:"UNMOUNT",src:"visibilitychange"});tt(()=>{const s=Xf(t.get("styles"));e.set("unmountAnimationName",s),s==="none"||s===e.get("prevAnimationName")||t.get("styles")?.display==="none"||t.get("styles")?.animationDuration==="0s"?n({type:"UNMOUNT",src:"presence.changed"}):n({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName:({context:e,refs:t})=>{tt(()=>{e.set("prevAnimationName",Xf(t.get("styles")))})},clearPrevAnimationName:({context:e})=>{e.set("prevAnimationName",null)}},effects:{trackAnimationEvents:({context:e,refs:t,send:n})=>{const r=t.get("node");if(!r)return;const o=a=>{(a.composedPath?.()?.[0]??a.target)===r&&e.set("prevAnimationName",Xf(t.get("styles")))},i=a=>{const l=Xf(t.get("styles"));Yn(a)===r&&l===e.get("unmountAnimationName")&&n({type:"UNMOUNT",src:"animationend"})};r.addEventListener("animationstart",o),r.addEventListener("animationcancel",i),r.addEventListener("animationend",i);const s=yp(r,{animationFillMode:"forwards"});return()=>{r.removeEventListener("animationstart",o),r.removeEventListener("animationcancel",i),r.removeEventListener("animationend",i),_w(()=>s())}}}}};function Xf(e){return e?.animationName||"none"}en()(["onExitComplete","present","immediate"]);const af=(e,t)=>{const n=Q(!1),r=Q(null),o=A(()=>({present:pe(e).present,onExitComplete:()=>t?.("exitComplete")})),i=Ji(pse,o),s=A(()=>dse(i));return st(()=>s.value.present,()=>{s.value.present&&(n.value=!0)}),st(r,()=>{if(r.value){const a=r.value.$el?r.value.$el:r.value;a&&s.value.setNode(a)}}),A(()=>{const a=pe(e);return{present:s.value.present,unmounted:!s.value.present&&!n.value&&a.lazyMount||a?.unmountOnExit&&!s.value?.present&&n.value,presenceProps:{ref:r,hidden:!s.value.present,"data-state":s.value.skip&&a.skipAnimationOnMount?void 0:a?.present?"open":"closed"}}})},[ui,yu]=Tt("RenderStrategyProps"),fse=P({__name:"menu-positioner",props:{asChild:{type:Boolean}},setup(e){const t=ln(),n=yu(),r=af(A(()=>({...n.value,present:t.value.open})));return sf(r),ee(),(o,i)=>d(r).unmounted?Z("",!0):(y(),$(d(te).div,F({key:0},d(t).getPositionerProps(),{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),hse=P({__name:"menu-radio-item-group",props:{id:{},modelValue:{},asChild:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t,o=ln(),i=nt(),s=n.id??i,a=A(()=>({id:s,value:n.modelValue,onValueChange:l=>r("update:modelValue",l.value)}));return EA(a),ee(),(l,c)=>(y(),$(d(te).div,F(d(o).getItemGroupProps(a.value),{"as-child":l.asChild}),{default:O(()=>[L(l.$slots,"default")]),_:3},16,["as-child"]))}}),gse=P({__name:"menu-radio-item",props:Ze({value:{},disabled:{type:Boolean},valueText:{},closeOnSelect:{type:Boolean},asChild:{type:Boolean}},{disabled:void 0,closeOnSelect:void 0}),setup(e){const t=e,n=ln(),r=OA(),o=A(()=>({...t,checked:r.value.value===t.value,type:"radio",onCheckedChange:()=>r.value.onValueChange?.({value:t.value})})),i=A(()=>n.value.getOptionItemState(o.value));return Iw(i),Ov(o),ee(),(s,a)=>(y(),$(d(te).div,F(d(n).getOptionItemProps(o.value),{"as-child":s.asChild}),{default:O(()=>[L(s.$slots,"default")]),_:3},16,["as-child"]))}}),[IA,TA]=Tt("MenuMachineContext"),[SA,mse]=Tt("MenuTriggerItemContext"),vse=P({__name:"menu-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,{value:{machine:n,api:r}}=t,o=ln(),i=TA();return Je(()=>{i&&(o.value.setChild(n),r.value.setParent(i))}),SA(A(()=>o.value.getTriggerItemProps(r.value))),IA(n),kA(r),ui(A(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),ee(),(s,a)=>L(s.$slots,"default")}});var _r=(e,t=[])=>({parts:(...n)=>{if(bse(t))return _r(e,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>_r(e,[...t,...n]),omit:(...n)=>_r(e,t.filter(r=>!n.includes(r))),rename:n=>_r(n,t),keys:()=>t,build:()=>[...new Set(t)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${Hl(e)}"][data-part="${Hl(r)}"]`,`& [data-scope="${Hl(e)}"][data-part="${Hl(r)}"]`].join(", "),attrs:{"data-scope":Hl(e),"data-part":Hl(r)}}}),{})}),Hl=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),bse=e=>e.length===0;const yse=["top","right","bottom","left"],Zs=Math.min,yr=Math.max,Wg=Math.round,Jf=Math.floor,Xo=e=>({x:e,y:e}),xse={left:"right",right:"left",bottom:"top",top:"bottom"},wse={start:"end",end:"start"};function G0(e,t,n){return yr(e,Zs(t,n))}function ji(e,t){return typeof e=="function"?e(t):e}function Gi(e){return e.split("-")[0]}function xu(e){return e.split("-")[1]}function Tw(e){return e==="x"?"y":"x"}function Sw(e){return e==="y"?"height":"width"}const _se=new Set(["top","bottom"]);function Go(e){return _se.has(Gi(e))?"y":"x"}function Pw(e){return Tw(Go(e))}function kse(e,t,n){n===void 0&&(n=!1);const r=xu(e),o=Pw(e),i=Sw(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=qg(s)),[s,qg(s)]}function Cse(e){const t=qg(e);return[W0(e),t,W0(t)]}function W0(e){return e.replace(/start|end/g,t=>wse[t])}const YE=["left","right"],XE=["right","left"],Ese=["top","bottom"],Ose=["bottom","top"];function Ise(e,t,n){switch(e){case"top":case"bottom":return n?t?XE:YE:t?YE:XE;case"left":case"right":return t?Ese:Ose;default:return[]}}function Tse(e,t,n,r){const o=xu(e);let i=Ise(Gi(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(W0)))),i}function qg(e){return e.replace(/left|right|bottom|top/g,t=>xse[t])}function Sse(e){return{top:0,right:0,bottom:0,left:0,...e}}function PA(e){return typeof e!="number"?Sse(e):{top:e,right:e,bottom:e,left:e}}function Kg(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function JE(e,t,n){let{reference:r,floating:o}=e;const i=Go(t),s=Pw(t),a=Sw(s),l=Gi(t),c=i==="y",u=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,h=r[a]/2-o[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-o.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:p};break;case"left":f={x:r.x-o.width,y:p};break;default:f={x:r.x,y:r.y}}switch(xu(t)){case"start":f[s]-=h*(n&&c?-1:1);break;case"end":f[s]+=h*(n&&c?-1:1);break}return f}const Pse=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:p}=JE(c,r,l),h=r,f={},g=0;for(let m=0;m<a.length;m++){const{name:b,fn:w}=a[m],{x:E,y:k,data:v,reset:_}=await w({x:u,y:p,initialPlacement:r,placement:h,strategy:o,middlewareData:f,rects:c,platform:s,elements:{reference:e,floating:t}});u=E??u,p=k??p,f={...f,[b]:{...f[b],...v}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(c=_.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):_.rects),{x:u,y:p}=JE(c,h,l)),m=-1)}return{x:u,y:p,placement:h,strategy:o,middlewareData:f}};async function xp(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:p="floating",altBoundary:h=!1,padding:f=0}=ji(t,e),g=PA(f),b=a[h?p==="floating"?"reference":"floating":p],w=Kg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),E=p==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),v=await(i.isElement==null?void 0:i.isElement(k))?await(i.getScale==null?void 0:i.getScale(k))||{x:1,y:1}:{x:1,y:1},_=Kg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:k,strategy:l}):E);return{top:(w.top-_.top+g.top)/v.y,bottom:(_.bottom-w.bottom+g.bottom)/v.y,left:(w.left-_.left+g.left)/v.x,right:(_.right-w.right+g.right)/v.x}}const $se=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=ji(e,t)||{};if(c==null)return{};const p=PA(u),h={x:n,y:r},f=Pw(o),g=Sw(f),m=await s.getDimensions(c),b=f==="y",w=b?"top":"left",E=b?"bottom":"right",k=b?"clientHeight":"clientWidth",v=i.reference[g]+i.reference[f]-h[f]-i.floating[g],_=h[f]-i.reference[f],T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let N=T?T[k]:0;(!N||!await(s.isElement==null?void 0:s.isElement(T)))&&(N=a.floating[k]||i.floating[g]);const C=v/2-_/2,x=N/2-m[g]/2-1,I=Zs(p[w],x),R=Zs(p[E],x),M=I,B=N-m[g]-R,z=N/2-m[g]/2+C,J=G0(M,z,B),q=!l.arrow&&xu(o)!=null&&z!==J&&i.reference[g]/2-(z<M?I:R)-m[g]/2<0,K=q?z<M?z-M:z-B:0;return{[f]:h[f]+K,data:{[f]:J,centerOffset:z-J-K,...q&&{alignmentOffset:K}},reset:q}}}),Rse=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...b}=ji(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=Gi(o),E=Go(a),k=Gi(a)===a,v=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=h||(k||!m?[qg(a)]:Cse(a)),T=g!=="none";!h&&T&&_.push(...Tse(a,m,g,v));const N=[a,..._],C=await xp(t,b),x=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&x.push(C[w]),p){const z=kse(o,s,v);x.push(C[z[0]],C[z[1]])}if(I=[...I,{placement:o,overflows:x}],!x.every(z=>z<=0)){var R,M;const z=(((R=i.flip)==null?void 0:R.index)||0)+1,J=N[z];if(J&&(!(p==="alignment"?E!==Go(J):!1)||I.every(X=>Go(X.placement)===E?X.overflows[0]>0:!0)))return{data:{index:z,overflows:I},reset:{placement:J}};let q=(M=I.filter(K=>K.overflows[0]<=0).sort((K,X)=>K.overflows[1]-X.overflows[1])[0])==null?void 0:M.placement;if(!q)switch(f){case"bestFit":{var B;const K=(B=I.filter(X=>{if(T){const de=Go(X.placement);return de===E||de==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(de=>de>0).reduce((de,Ue)=>de+Ue,0)]).sort((X,de)=>X[1]-de[1])[0])==null?void 0:B[0];K&&(q=K);break}case"initialPlacement":q=a;break}if(o!==q)return{reset:{placement:q}}}return{}}}};function ZE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function QE(e){return yse.some(t=>e[t]>=0)}const Ase=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=ji(e,t);switch(r){case"referenceHidden":{const i=await xp(t,{...o,elementContext:"reference"}),s=ZE(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:QE(s)}}}case"escaped":{const i=await xp(t,{...o,altBoundary:!0}),s=ZE(i,n.floating);return{data:{escapedOffsets:s,escaped:QE(s)}}}default:return{}}}}},$A=new Set(["left","top"]);async function Nse(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Gi(n),a=xu(n),l=Go(n)==="y",c=$A.has(s)?-1:1,u=i&&l?-1:1,p=ji(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:g}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof g=="number"&&(f=a==="end"?g*-1:g),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const Mse=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:a}=t,l=await Nse(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:s}}}}},Dse=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:b=>{let{x:w,y:E}=b;return{x:w,y:E}}},...l}=ji(e,t),c={x:n,y:r},u=await xp(t,l),p=Go(Gi(o)),h=Tw(p);let f=c[h],g=c[p];if(i){const b=h==="y"?"top":"left",w=h==="y"?"bottom":"right",E=f+u[b],k=f-u[w];f=G0(E,f,k)}if(s){const b=p==="y"?"top":"left",w=p==="y"?"bottom":"right",E=g+u[b],k=g-u[w];g=G0(E,g,k)}const m=a.fn({...t,[h]:f,[p]:g});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:i,[p]:s}}}}}},Lse=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=ji(e,t),u={x:n,y:r},p=Go(o),h=Tw(p);let f=u[h],g=u[p];const m=ji(a,t),b=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const k=h==="y"?"height":"width",v=i.reference[h]-i.floating[k]+b.mainAxis,_=i.reference[h]+i.reference[k]-b.mainAxis;f<v?f=v:f>_&&(f=_)}if(c){var w,E;const k=h==="y"?"width":"height",v=$A.has(Gi(o)),_=i.reference[p]-i.floating[k]+(v&&((w=s.offset)==null?void 0:w[p])||0)+(v?0:b.crossAxis),T=i.reference[p]+i.reference[k]+(v?0:((E=s.offset)==null?void 0:E[p])||0)-(v?b.crossAxis:0);g<_?g=_:g>T&&(g=T)}return{[h]:f,[p]:g}}}},Vse=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:s,elements:a}=t,{apply:l=()=>{},...c}=ji(e,t),u=await xp(t,c),p=Gi(o),h=xu(o),f=Go(o)==="y",{width:g,height:m}=i.floating;let b,w;p==="top"||p==="bottom"?(b=p,w=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(w=p,b=h==="end"?"top":"bottom");const E=m-u.top-u.bottom,k=g-u.left-u.right,v=Zs(m-u[b],E),_=Zs(g-u[w],k),T=!t.middlewareData.shift;let N=v,C=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=k),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=E),T&&!h){const I=yr(u.left,0),R=yr(u.right,0),M=yr(u.top,0),B=yr(u.bottom,0);f?C=g-2*(I!==0||R!==0?I+R:yr(u.left,u.right)):N=m-2*(M!==0||B!==0?M+B:yr(u.top,u.bottom))}await l({...t,availableWidth:C,availableHeight:N});const x=await s.getDimensions(a.floating);return g!==x.width||m!==x.height?{reset:{rects:!0}}:{}}}};function Tv(){return typeof window<"u"}function wu(e){return RA(e)?(e.nodeName||"").toLowerCase():"#document"}function Er(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function di(e){var t;return(t=(RA(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function RA(e){return Tv()?e instanceof Node||e instanceof Er(e).Node:!1}function vo(e){return Tv()?e instanceof Element||e instanceof Er(e).Element:!1}function ni(e){return Tv()?e instanceof HTMLElement||e instanceof Er(e).HTMLElement:!1}function eO(e){return!Tv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Er(e).ShadowRoot}const Fse=new Set(["inline","contents"]);function lf(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=bo(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Fse.has(o)}const Bse=new Set(["table","td","th"]);function Hse(e){return Bse.has(wu(e))}const zse=[":popover-open",":modal"];function Sv(e){return zse.some(t=>{try{return e.matches(t)}catch{return!1}})}const Use=["transform","translate","scale","rotate","perspective"],jse=["transform","translate","scale","rotate","perspective","filter"],Gse=["paint","layout","strict","content"];function $w(e){const t=Rw(),n=vo(e)?bo(e):e;return Use.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||jse.some(r=>(n.willChange||"").includes(r))||Gse.some(r=>(n.contain||"").includes(r))}function Wse(e){let t=Qs(e);for(;ni(t)&&!qc(t);){if($w(t))return t;if(Sv(t))return null;t=Qs(t)}return null}function Rw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const qse=new Set(["html","body","#document"]);function qc(e){return qse.has(wu(e))}function bo(e){return Er(e).getComputedStyle(e)}function Pv(e){return vo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Qs(e){if(wu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||eO(e)&&e.host||di(e);return eO(t)?t.host:t}function AA(e){const t=Qs(e);return qc(t)?e.ownerDocument?e.ownerDocument.body:e.body:ni(t)&&lf(t)?t:AA(t)}function wp(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=AA(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=Er(o);if(i){const a=q0(s);return t.concat(s,s.visualViewport||[],lf(o)?o:[],a&&n?wp(a):[])}return t.concat(o,wp(o,[],n))}function q0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function NA(e){const t=bo(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=ni(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=Wg(n)!==i||Wg(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function Aw(e){return vo(e)?e:e.contextElement}function Sc(e){const t=Aw(e);if(!ni(t))return Xo(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=NA(t);let s=(i?Wg(n.width):n.width)/r,a=(i?Wg(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Kse=Xo(0);function MA(e){const t=Er(e);return!Rw()||!t.visualViewport?Kse:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Yse(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Er(e)?!1:t}function sl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Aw(e);let s=Xo(1);t&&(r?vo(r)&&(s=Sc(r)):s=Sc(e));const a=Yse(i,n,r)?MA(i):Xo(0);let l=(o.left+a.x)/s.x,c=(o.top+a.y)/s.y,u=o.width/s.x,p=o.height/s.y;if(i){const h=Er(i),f=r&&vo(r)?Er(r):r;let g=h,m=q0(g);for(;m&&r&&f!==g;){const b=Sc(m),w=m.getBoundingClientRect(),E=bo(m),k=w.left+(m.clientLeft+parseFloat(E.paddingLeft))*b.x,v=w.top+(m.clientTop+parseFloat(E.paddingTop))*b.y;l*=b.x,c*=b.y,u*=b.x,p*=b.y,l+=k,c+=v,g=Er(m),m=q0(g)}}return Kg({width:u,height:p,x:l,y:c})}function $v(e,t){const n=Pv(e).scrollLeft;return t?t.left+n:sl(di(e)).left+n}function DA(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-$v(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function Xse(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=di(r),a=t?Sv(t.floating):!1;if(r===s||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Xo(1);const u=Xo(0),p=ni(r);if((p||!p&&!i)&&((wu(r)!=="body"||lf(s))&&(l=Pv(r)),ni(r))){const f=sl(r);c=Sc(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const h=s&&!p&&!i?DA(s,l):Xo(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function Jse(e){return Array.from(e.getClientRects())}function Zse(e){const t=di(e),n=Pv(e),r=e.ownerDocument.body,o=yr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=yr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+$v(e);const a=-n.scrollTop;return bo(r).direction==="rtl"&&(s+=yr(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}const tO=25;function Qse(e,t){const n=Er(e),r=di(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;const u=Rw();(!u||u&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}const c=$v(r);if(c<=0){const u=r.ownerDocument,p=u.body,h=getComputedStyle(p),f=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(r.clientWidth-p.clientWidth-f);g<=tO&&(i-=g)}else c<=tO&&(i+=c);return{width:i,height:s,x:a,y:l}}const eae=new Set(["absolute","fixed"]);function tae(e,t){const n=sl(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=ni(e)?Sc(e):Xo(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,l=o*i.x,c=r*i.y;return{width:s,height:a,x:l,y:c}}function nO(e,t,n){let r;if(t==="viewport")r=Qse(e,n);else if(t==="document")r=Zse(di(e));else if(vo(t))r=tae(t,n);else{const o=MA(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Kg(r)}function LA(e,t){const n=Qs(e);return n===t||!vo(n)||qc(n)?!1:bo(n).position==="fixed"||LA(n,t)}function nae(e,t){const n=t.get(e);if(n)return n;let r=wp(e,[],!1).filter(a=>vo(a)&&wu(a)!=="body"),o=null;const i=bo(e).position==="fixed";let s=i?Qs(e):e;for(;vo(s)&&!qc(s);){const a=bo(s),l=$w(s);!l&&a.position==="fixed"&&(o=null),(i?!l&&!o:!l&&a.position==="static"&&!!o&&eae.has(o.position)||lf(s)&&!l&&LA(e,s))?r=r.filter(u=>u!==s):o=a,s=Qs(s)}return t.set(e,r),r}function rae(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?Sv(t)?[]:nae(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const p=nO(t,u,o);return c.top=yr(p.top,c.top),c.right=Zs(p.right,c.right),c.bottom=Zs(p.bottom,c.bottom),c.left=yr(p.left,c.left),c},nO(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function oae(e){const{width:t,height:n}=NA(e);return{width:t,height:n}}function iae(e,t,n){const r=ni(t),o=di(t),i=n==="fixed",s=sl(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=Xo(0);function c(){l.x=$v(o)}if(r||!r&&!i)if((wu(t)!=="body"||lf(o))&&(a=Pv(t)),r){const f=sl(t,!0,i,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else o&&c();i&&!r&&o&&c();const u=o&&!r&&!i?DA(o,a):Xo(0),p=s.left+a.scrollLeft-l.x-u.x,h=s.top+a.scrollTop-l.y-u.y;return{x:p,y:h,width:s.width,height:s.height}}function Wb(e){return bo(e).position==="static"}function rO(e,t){if(!ni(e)||bo(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return di(e)===n&&(n=n.ownerDocument.body),n}function VA(e,t){const n=Er(e);if(Sv(e))return n;if(!ni(e)){let o=Qs(e);for(;o&&!qc(o);){if(vo(o)&&!Wb(o))return o;o=Qs(o)}return n}let r=rO(e,t);for(;r&&Hse(r)&&Wb(r);)r=rO(r,t);return r&&qc(r)&&Wb(r)&&!$w(r)?n:r||Wse(e)||n}const sae=async function(e){const t=this.getOffsetParent||VA,n=this.getDimensions,r=await n(e.floating);return{reference:iae(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function aae(e){return bo(e).direction==="rtl"}const lae={convertOffsetParentRelativeRectToViewportRelativeRect:Xse,getDocumentElement:di,getClippingRect:rae,getOffsetParent:VA,getElementRects:sae,getClientRects:Jse,getDimensions:oae,getScale:Sc,isElement:vo,isRTL:aae};function FA(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function cae(e,t){let n=null,r;const o=di(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=e.getBoundingClientRect(),{left:u,top:p,width:h,height:f}=c;if(a||t(),!h||!f)return;const g=Jf(p),m=Jf(o.clientWidth-(u+h)),b=Jf(o.clientHeight-(p+f)),w=Jf(u),k={rootMargin:-g+"px "+-m+"px "+-b+"px "+-w+"px",threshold:yr(0,Zs(1,l))||1};let v=!0;function _(T){const N=T[0].intersectionRatio;if(N!==l){if(!v)return s();N?s(!1,N):r=setTimeout(()=>{s(!1,1e-7)},1e3)}N===1&&!FA(c,e.getBoundingClientRect())&&s(),v=!1}try{n=new IntersectionObserver(_,{...k,root:o.ownerDocument})}catch{n=new IntersectionObserver(_,k)}n.observe(e)}return s(!0),i}function uae(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Aw(e),u=o||i?[...c?wp(c):[],...wp(t)]:[];u.forEach(w=>{o&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const p=c&&a?cae(c,n):null;let h=-1,f=null;s&&(f=new ResizeObserver(w=>{let[E]=w;E&&E.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var k;(k=f)==null||k.observe(t)})),n()}),c&&!l&&f.observe(c),f.observe(t));let g,m=l?sl(e):null;l&&b();function b(){const w=sl(e);m&&!FA(m,w)&&n(),m=w,g=requestAnimationFrame(b)}return n(),()=>{var w;u.forEach(E=>{o&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),p?.(),(w=f)==null||w.disconnect(),f=null,l&&cancelAnimationFrame(g)}}const dae=Mse,pae=Dse,fae=Rse,hae=Vse,gae=Ase,mae=$se,vae=Lse,bae=(e,t,n)=>{const r=new Map,o={platform:lae,...n},i={...o.platform,_c:r};return Pse(e,t,{...o,platform:i})};function oO(e=0,t=0,n=0,r=0){if(typeof DOMRect=="function")return new DOMRect(e,t,n,r);const o={x:e,y:t,width:n,height:r,top:t,right:e+n,bottom:t+r,left:e};return{...o,toJSON:()=>o}}function yae(e){if(!e)return oO();const{x:t,y:n,width:r,height:o}=e;return oO(t,n,r,o)}function xae(e,t){return{contextElement:En(e)?e:void 0,getBoundingClientRect:()=>{const n=e,r=t?.(n);return r||!n?yae(r):n.getBoundingClientRect()}}}var Gu=e=>({variable:e,reference:`var(${e})`}),yi={arrowSize:Gu("--arrow-size"),arrowSizeHalf:Gu("--arrow-size-half"),arrowBg:Gu("--arrow-background"),transformOrigin:Gu("--transform-origin"),arrowOffset:Gu("--arrow-offset")},wae=e=>e==="top"||e==="bottom"?"y":"x";function _ae(e,t){return{name:"transformOrigin",fn(n){const{elements:r,middlewareData:o,placement:i,rects:s,y:a}=n,l=i.split("-")[0],c=wae(l),u=o.arrow?.x||0,p=o.arrow?.y||0,h=t?.clientWidth||0,f=t?.clientHeight||0,g=u+h/2,m=p+f/2,b=Math.abs(o.shift?.y||0),w=s.reference.height/2,E=f/2,k=e.offset?.mainAxis??e.gutter,v=typeof k=="number"?k+E:k??E,_=b>v,T={top:`${g}px calc(100% + ${v}px)`,bottom:`${g}px ${-v}px`,left:`calc(100% + ${v}px) ${m}px`,right:`${-v}px ${m}px`}[l],N=`${g}px ${s.reference.y+w-a}px`,C=!!e.overlap&&c==="y"&&_;return r.floating.style.setProperty(yi.transformOrigin.variable,C?N:T),{data:{transformOrigin:C?N:T}}}}}var kae={name:"rects",fn({rects:e}){return{data:e}}},Cae=e=>{if(e)return{name:"shiftArrow",fn({placement:t,middlewareData:n}){if(!n.arrow)return{};const{x:r,y:o}=n.arrow,i=t.split("-")[0];return Object.assign(e.style,{left:r!=null?`${r}px`:"",top:o!=null?`${o}px`:"",[i]:`calc(100% + ${yi.arrowOffset.reference})`}),{}}}};function Eae(e){const[t,n]=e.split("-");return{side:t,align:n,hasAlign:n!=null}}function Oae(e){return e.split("-")[0]}var Iae={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function iO(e,t){const n=e.devicePixelRatio||1;return Math.round(t*n)/n}function Nw(e){return typeof e=="function"?e():e==="clipping-ancestors"?"clippingAncestors":e}function Tae(e,t,n){const r=e||t.createElement("div");return mae({element:r,padding:n.arrowPadding})}function Sae(e,t){if(!Yre(t.offset??t.gutter))return dae(({placement:n})=>{const r=(e?.clientHeight||0)/2,o=t.offset?.mainAxis??t.gutter,i=typeof o=="number"?o+r:o??r,{hasAlign:s}=Eae(n),a=s?void 0:t.shift,l=t.offset?.crossAxis??a;return mw({crossAxis:l,mainAxis:i,alignmentAxis:t.shift})})}function Pae(e){if(!e.flip)return;const t=Nw(e.boundary);return fae({...t?{boundary:t}:void 0,padding:e.overflowPadding,fallbackPlacements:e.flip===!0?void 0:e.flip})}function $ae(e){if(!e.slide&&!e.overlap)return;const t=Nw(e.boundary);return pae({...t?{boundary:t}:void 0,mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:vae()})}function Rae(e){return hae({padding:e.overflowPadding,apply({elements:t,rects:n,availableHeight:r,availableWidth:o}){const i=t.floating,s=Math.round(n.reference.width),a=Math.round(n.reference.height);o=Math.floor(o),r=Math.floor(r),i.style.setProperty("--reference-width",`${s}px`),i.style.setProperty("--reference-height",`${a}px`),i.style.setProperty("--available-width",`${o}px`),i.style.setProperty("--available-height",`${r}px`)}})}function Aae(e){if(e.hideWhenDetached)return gae({strategy:"referenceHidden",boundary:Nw(e.boundary)??"clippingAncestors"})}function Nae(e){return e?e===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:e:{}}function Mae(e,t,n={}){const r=xae(e,n.getAnchorRect);if(!t||!r)return;const o=Object.assign({},Iae,n),i=t.querySelector("[data-part=arrow]"),s=[Sae(i,o),Pae(o),$ae(o),Tae(i,t.ownerDocument,o),Cae(i),_ae({gutter:o.gutter,offset:o.offset,overlap:o.overlap},i),Rae(o),Aae(o),kae],{placement:a,strategy:l,onComplete:c,onPositioned:u}=o,p=async()=>{if(!r||!t)return;const m=await bae(r,t,{placement:a,middleware:s,strategy:l});c?.(m),u?.({placed:!0});const b=pr(t),w=iO(b,m.x),E=iO(b,m.y);t.style.setProperty("--x",`${w}px`),t.style.setProperty("--y",`${E}px`),o.hideWhenDetached&&(m.middlewareData.hide?.referenceHidden?(t.style.setProperty("visibility","hidden"),t.style.setProperty("pointer-events","none")):(t.style.removeProperty("visibility"),t.style.removeProperty("pointer-events")));const k=t.firstElementChild;if(k){const v=jc(k);t.style.setProperty("--z-index",v.zIndex)}},h=async()=>{n.updatePosition?(await n.updatePosition({updatePosition:p,floatingElement:t}),u?.({placed:!0})):await p()},f=Nae(o.listeners),g=o.listeners?uae(r,t,h,f):noe;return h(),()=>{g?.(),u?.({placed:!1})}}function _p(e,t,n={}){const{defer:r,...o}=n,i=r?tt:a=>a(),s=[];return s.push(i(()=>{const a=typeof e=="function"?e():e,l=typeof t=="function"?t():t;s.push(Mae(a,l,o))})),()=>{s.forEach(a=>a?.())}}var Dae={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Mw(e={}){const{placement:t,sameWidth:n,fitViewport:r,strategy:o="absolute"}=e;return{arrow:{position:"absolute",width:yi.arrowSize.reference,height:yi.arrowSize.reference,[yi.arrowSizeHalf.variable]:`calc(${yi.arrowSize.reference} / 2)`,[yi.arrowOffset.variable]:`calc(${yi.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:t?Dae[t.split("-")[0]]:void 0,background:yi.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:o,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:r?"var(--available-width)":void 0,maxHeight:r?"var(--available-height)":void 0,pointerEvents:t?void 0:"none",top:"0px",left:"0px",transform:t?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}function Lae(e){const t={each(n){for(let r=0;r<e.frames?.length;r+=1){const o=e.frames[r];o&&n(o)}},addEventListener(n,r,o){return t.each(i=>{try{i.document.addEventListener(n,r,o)}catch{}}),()=>{try{t.removeEventListener(n,r,o)}catch{}}},removeEventListener(n,r,o){t.each(i=>{try{i.document.removeEventListener(n,r,o)}catch{}})}};return t}function Vae(e){const t=e.frameElement!=null?e.parent:null;return{addEventListener:(n,r,o)=>{try{t?.addEventListener(n,r,o)}catch{}return()=>{try{t?.removeEventListener(n,r,o)}catch{}}},removeEventListener:(n,r,o)=>{try{t?.removeEventListener(n,r,o)}catch{}}}}var sO="pointerdown.outside",aO="focus.outside";function Fae(e){for(const t of e)if(En(t)&&Vs(t))return!0;return!1}var BA=e=>"clientY"in e;function Bae(e,t){if(!BA(t)||!e)return!1;const n=e.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=t.clientY&&t.clientY<=n.top+n.height&&n.left<=t.clientX&&t.clientX<=n.left+n.width}function Hae(e,t){return e.y<=t.y&&t.y<=e.y+e.height&&e.x<=t.x&&t.x<=e.x+e.width}function lO(e,t){if(!t||!BA(e))return!1;const n=t.scrollHeight>t.clientHeight,r=n&&e.clientX>t.offsetLeft+t.clientWidth,o=t.scrollWidth>t.clientWidth,i=o&&e.clientY>t.offsetTop+t.clientHeight,s={x:t.offsetLeft,y:t.offsetTop,width:t.clientWidth+(n?16:0),height:t.clientHeight+(o?16:0)},a={x:e.clientX,y:e.clientY};return Hae(s,a)?r||i:!1}function zae(e,t){const{exclude:n,onFocusOutside:r,onPointerDownOutside:o,onInteractOutside:i,defer:s}=t;if(!e)return;const a=ci(e),l=pr(e),c=Lae(l),u=Vae(l);function p(E,k){if(!En(k)||!k.isConnected||Ds(e,k)||Bae(e,E))return!1;const v=a.querySelector(`[aria-controls="${e.id}"]`);if(v){const T=z0(v);if(lO(E,T))return!1}const _=z0(e);return lO(E,_)?!1:!n?.(k)}const h=new Set,f=vp(e?.getRootNode());function g(E){function k(v){const _=s&&!zE()?tt:C=>C(),T=v??E,N=T?.composedPath?.()??[T?.target];_(()=>{const C=f?N[0]:Yn(E);if(!(!e||!p(E,C))){if(o||i){const x=Bg(o,i);e.addEventListener(sO,x,{once:!0})}cO(e,sO,{bubbles:!1,cancelable:!0,detail:{originalEvent:T,contextmenu:pA(T),focusable:Fae(N),target:C}})}})}E.pointerType==="touch"?(h.forEach(v=>v()),h.add(Ft(a,"click",k,{once:!0})),h.add(u.addEventListener("click",k,{once:!0})),h.add(c.addEventListener("click",k,{once:!0}))):k()}const m=new Set,b=setTimeout(()=>{m.add(Ft(a,"pointerdown",g,!0)),m.add(u.addEventListener("pointerdown",g,!0)),m.add(c.addEventListener("pointerdown",g,!0))},0);function w(E){(s?tt:v=>v())(()=>{const v=Yn(E);if(!(!e||!p(E,v))){if(r||i){const _=Bg(r,i);e.addEventListener(aO,_,{once:!0})}cO(e,aO,{bubbles:!1,cancelable:!0,detail:{originalEvent:E,contextmenu:!1,focusable:Vs(v),target:v}})}})}return zE()||(m.add(Ft(a,"focusin",w,!0)),m.add(u.addEventListener("focusin",w,!0)),m.add(c.addEventListener("focusin",w,!0))),()=>{clearTimeout(b),h.forEach(E=>E()),m.forEach(E=>E())}}function Uae(e,t){const{defer:n}=t,r=n?tt:i=>i(),o=[];return o.push(r(()=>{const i=typeof e=="function"?e():e;o.push(zae(i,t))})),()=>{o.forEach(i=>i?.())}}function cO(e,t,n){const r=e.ownerDocument.defaultView||window,o=new r.CustomEvent(t,n);return e.dispatchEvent(o)}function jae(e,t){const n=r=>{r.key==="Escape"&&(r.isComposing||t?.(r))};return Ft(ci(e),"keydown",n,{capture:!0})}var uO="layer:request-dismiss",Vr={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(e=>e.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(e){const t=this.indexOf(e),n=this.topMostPointerBlockingLayer()?this.indexOf(this.topMostPointerBlockingLayer()?.node):-1;return t<n},isTopMost(e){return this.layers[this.count()-1]?.node===e},getNestedLayers(e){return Array.from(this.layers).slice(this.indexOf(e)+1)},getLayersByType(e){return this.layers.filter(t=>t.type===e)},getNestedLayersByType(e,t){const n=this.indexOf(e);return n===-1?[]:this.layers.slice(n+1).filter(r=>r.type===t)},getParentLayerOfType(e,t){const n=this.indexOf(e);if(!(n<=0))return this.layers.slice(0,n).reverse().find(r=>r.type===t)},countNestedLayersOfType(e,t){return this.getNestedLayersByType(e,t).length},isInNestedLayer(e,t){return this.getNestedLayers(e).some(n=>Ds(n.node,t))},isInBranch(e){return Array.from(this.branches).some(t=>Ds(t,e))},add(e){this.layers.push(e),this.syncLayers()},addBranch(e){this.branches.push(e)},remove(e){const t=this.indexOf(e);t<0||(t<this.count()-1&&this.getNestedLayers(e).forEach(r=>Vr.dismiss(r.node,e)),this.layers.splice(t,1),this.syncLayers())},removeBranch(e){const t=this.branches.indexOf(e);t>=0&&this.branches.splice(t,1)},syncLayers(){this.layers.forEach((e,t)=>{e.node.style.setProperty("--layer-index",`${t}`),e.node.removeAttribute("data-nested"),e.node.removeAttribute("data-has-nested"),this.getParentLayerOfType(e.node,e.type)&&e.node.setAttribute("data-nested",e.type);const r=this.countNestedLayersOfType(e.node,e.type);r>0&&e.node.setAttribute("data-has-nested",e.type),e.node.style.setProperty("--nested-layer-count",`${r}`)})},indexOf(e){return this.layers.findIndex(t=>t.node===e)},dismiss(e,t){const n=this.indexOf(e);if(n===-1)return;const r=this.layers[n];Wae(e,uO,o=>{r.requestDismiss?.(o),o.defaultPrevented||r?.dismiss()}),Gae(e,uO,{originalLayer:e,targetLayer:t,originalIndex:n,targetIndex:t?this.indexOf(t):-1}),this.syncLayers()},clear(){this.remove(this.layers[0].node)}};function Gae(e,t,n){const r=e.ownerDocument.defaultView||window,o=new r.CustomEvent(t,{cancelable:!0,bubbles:!0,detail:n});return e.dispatchEvent(o)}function Wae(e,t,n){e.addEventListener(t,n,{once:!0})}var dO;function pO(){Vr.layers.forEach(({node:e})=>{e.style.pointerEvents=Vr.isBelowPointerBlockingLayer(e)?"none":"auto"})}function qae(e){e.style.pointerEvents=""}function Kae(e,t){const n=ci(e),r=[];return Vr.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(dO=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),t?.forEach(o=>{const[i,s]=Aie(()=>{const a=o();return En(a)?a:null},{timeout:1e3});i.then(a=>r.push(yp(a,{pointerEvents:"auto"}))),r.push(s)}),()=>{Vr.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=dO,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),r.forEach(o=>o()))}}function Yae(e,t){const{warnOnMissingNode:n=!0}=t;if(n&&!e){zg("[@zag-js/dismissable] node is `null` or `undefined`");return}if(!e)return;const{onDismiss:r,onRequestDismiss:o,pointerBlocking:i,exclude:s,debug:a,type:l="dialog"}=t,c={dismiss:r,node:e,type:l,pointerBlocking:i,requestDismiss:o};Vr.add(c),pO();function u(m){const b=Yn(m.detail.originalEvent);Vr.isBelowPointerBlockingLayer(e)||Vr.isInBranch(b)||(t.onPointerDownOutside?.(m),t.onInteractOutside?.(m),!m.defaultPrevented&&(a&&console.log("onPointerDownOutside:",m.detail.originalEvent),r?.()))}function p(m){const b=Yn(m.detail.originalEvent);Vr.isInBranch(b)||(t.onFocusOutside?.(m),t.onInteractOutside?.(m),!m.defaultPrevented&&(a&&console.log("onFocusOutside:",m.detail.originalEvent),r?.()))}function h(m){Vr.isTopMost(e)&&(t.onEscapeKeyDown?.(m),!m.defaultPrevented&&r&&(m.preventDefault(),r()))}function f(m){if(!e)return!1;const b=typeof s=="function"?s():s,w=Array.isArray(b)?b:[b],E=t.persistentElements?.map(k=>k()).filter(En);return E&&w.push(...E),w.some(k=>Ds(k,m))||Vr.isInNestedLayer(e,m)}const g=[i?Kae(e,t.persistentElements):void 0,jae(e,h),Uae(e,{exclude:f,onFocusOutside:p,onPointerDownOutside:u,defer:t.defer})];return()=>{Vr.remove(e),pO(),qae(e),g.forEach(m=>m?.())}}function Rv(e,t){const{defer:n}=t,r=n?tt:i=>i(),o=[];return o.push(r(()=>{const i=fc(e)?e():e;o.push(Yae(i,t))})),()=>{o.forEach(i=>i?.())}}var dd=(e,t)=>({x:e,y:t});function Xae(e){const{x:t,y:n,width:r,height:o}=e,i=t+r/2,s=n+o/2;return{x:t,y:n,width:r,height:o,minX:t,minY:n,maxX:t+r,maxY:n+o,midX:i,midY:s,center:dd(i,s)}}function Jae(e){const t=dd(e.minX,e.minY),n=dd(e.maxX,e.minY),r=dd(e.maxX,e.maxY),o=dd(e.minX,e.maxY);return{top:t,right:n,bottom:r,left:o}}function Zae(e,t){const n=Xae(e),{top:r,right:o,left:i,bottom:s}=Jae(n),[a]=t.split("-");return{top:[i,r,o,s],right:[r,o,s,i],bottom:[r,i,s,o],left:[o,r,i,s]}[a]}function Qae(e,t){const{x:n,y:r}=t;let o=!1;for(let i=0,s=e.length-1;i<e.length;s=i++){const a=e[i].x,l=e[i].y,c=e[s].x,u=e[s].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(o=!o)}return o}var ele=_r("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem"),jn=ele.build(),Yg=e=>e.ids?.trigger??`menu:${e.id}:trigger`,HA=e=>e.ids?.contextTrigger??`menu:${e.id}:ctx-trigger`,Vd=e=>e.ids?.content??`menu:${e.id}:content`,tle=e=>e.ids?.arrow??`menu:${e.id}:arrow`,zA=e=>e.ids?.positioner??`menu:${e.id}:popper`,nle=(e,t)=>e.ids?.group?.(t)??`menu:${e.id}:group:${t}`,kp=(e,t)=>`${e.id}/${t}`,$a=e=>e?.dataset.value??null,fO=(e,t)=>e.ids?.groupLabel?.(t)??`menu:${e.id}:group-label:${t}`,hs=e=>e.getById(Vd(e)),hO=e=>e.getById(zA(e)),Zf=e=>e.getById(Yg(e)),rle=(e,t)=>t?e.getById(kp(e,t)):null,qb=e=>e.getById(HA(e)),cf=e=>{const n=`[role^="menuitem"][data-ownedby=${CSS.escape(Vd(e))}]:not([data-disabled])`;return bp(hs(e),n)},ole=e=>fw(cf(e)),ile=e=>hw(cf(e)),Dw=(e,t)=>t?e.id===t||e.dataset.value===t:!1,sle=(e,t)=>{const n=cf(e),r=n.findIndex(o=>Dw(o,t.value));return jre(n,r,{loop:t.loop??t.loopFocus})},ale=(e,t)=>{const n=cf(e),r=n.findIndex(o=>Dw(o,t.value));return Wre(n,r,{loop:t.loop??t.loopFocus})},lle=(e,t)=>{const n=cf(e),r=n.find(o=>Dw(o,t.value));return wA(n,{state:t.typeaheadState,key:t.key,activeId:r?.id??null})},Qf=e=>En(e)&&(e.dataset.disabled===""||e.hasAttribute("disabled")),cle=e=>!!e?.getAttribute("role")?.startsWith("menuitem")&&!!e?.hasAttribute("aria-controls"),K0="menu:select";function ule(e,t){if(!e)return;const n=pr(e),r=new n.CustomEvent(K0,{detail:{value:t}});e.dispatchEvent(r)}function dle(e,t){const{context:n,send:r,state:o,computed:i,prop:s,scope:a}=e,l=o.hasTag("open"),c=n.get("isSubmenu"),u=i("isTypingAhead"),p=s("composite"),h=n.get("currentPlacement"),f=n.get("anchorPoint"),g=n.get("highlightedValue"),m=Mw({...s("positioning"),placement:f?"bottom":h});function b(v){return{id:kp(a,v.value),disabled:!!v.disabled,highlighted:g===v.value}}function w(v){const _=v.valueText??v.value;return{...v,id:v.value,valueText:_}}function E(v){return{...b(w(v)),checked:!!v.checked}}function k(v){const{closeOnSelect:_,valueText:T,value:N}=v,C=b(v),x=kp(a,N);return t.element({...jn.item.attrs,id:x,role:"menuitem","aria-disabled":mp(C.disabled),"data-disabled":Y(C.disabled),"data-ownedby":Vd(a),"data-highlighted":Y(C.highlighted),"data-value":N,"data-valuetext":T,onDragStart(I){I.currentTarget.matches("a[href]")&&I.preventDefault()},onPointerMove(I){if(C.disabled||I.pointerType!=="mouse")return;const R=I.currentTarget;C.highlighted||r({type:"ITEM_POINTERMOVE",id:x,target:R,closeOnSelect:_})},onPointerLeave(I){if(C.disabled||I.pointerType!=="mouse"||!e.event.previous()?.type.includes("POINTER"))return;const M=I.currentTarget;r({type:"ITEM_POINTERLEAVE",id:x,target:M,closeOnSelect:_})},onPointerDown(I){if(C.disabled)return;const R=I.currentTarget;r({type:"ITEM_POINTERDOWN",target:R,id:x,closeOnSelect:_})},onClick(I){if(jE(I)||UE(I)||C.disabled)return;const R=I.currentTarget;r({type:"ITEM_CLICK",target:R,id:x,closeOnSelect:_})}})}return{highlightedValue:g,open:l,setOpen(v){o.hasTag("open")!==v&&r({type:v?"OPEN":"CLOSE"})},setHighlightedValue(v){r({type:"HIGHLIGHTED.SET",value:v})},setParent(v){r({type:"PARENT.SET",value:v,id:v.prop("id")})},setChild(v){r({type:"CHILD.SET",value:v,id:v.prop("id")})},reposition(v={}){r({type:"POSITIONING.SET",options:v})},addItemListener(v){const _=a.getById(v.id);if(!_)return;const T=()=>v.onSelect?.();return _.addEventListener(K0,T),()=>_.removeEventListener(K0,T)},getContextTriggerProps(){return t.element({...jn.contextTrigger.attrs,dir:s("dir"),id:HA(a),"data-state":l?"open":"closed",onPointerDown(v){if(v.pointerType==="mouse")return;const _=jo(v);r({type:"CONTEXT_MENU_START",point:_})},onPointerCancel(v){v.pointerType!=="mouse"&&r({type:"CONTEXT_MENU_CANCEL"})},onPointerMove(v){v.pointerType!=="mouse"&&r({type:"CONTEXT_MENU_CANCEL"})},onPointerUp(v){v.pointerType!=="mouse"&&r({type:"CONTEXT_MENU_CANCEL"})},onContextMenu(v){const _=jo(v);r({type:"CONTEXT_MENU",point:_}),v.preventDefault()},style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"}})},getTriggerItemProps(v){const _=v.getTriggerProps();return bu(k({value:_.id}),_)},getTriggerProps(){return t.button({...c?jn.triggerItem.attrs:jn.trigger.attrs,"data-placement":n.get("currentPlacement"),type:"button",dir:s("dir"),id:Yg(a),"data-uid":s("id"),"aria-haspopup":p?"menu":"dialog","aria-controls":Vd(a),"aria-expanded":l||void 0,"data-state":l?"open":"closed",onPointerMove(v){if(v.pointerType!=="mouse"||Qf(v.currentTarget)||!c)return;const T=jo(v);r({type:"TRIGGER_POINTERMOVE",target:v.currentTarget,point:T})},onPointerLeave(v){if(Qf(v.currentTarget)||v.pointerType!=="mouse"||!c)return;const _=jo(v);r({type:"TRIGGER_POINTERLEAVE",target:v.currentTarget,point:_})},onPointerDown(v){Qf(v.currentTarget)||pA(v)||v.preventDefault()},onClick(v){v.defaultPrevented||Qf(v.currentTarget)||r({type:"TRIGGER_CLICK",target:v.currentTarget})},onBlur(){r({type:"TRIGGER_BLUR"})},onFocus(){r({type:"TRIGGER_FOCUS"})},onKeyDown(v){if(v.defaultPrevented)return;const _={ArrowDown(){r({type:"ARROW_DOWN"})},ArrowUp(){r({type:"ARROW_UP"})},Enter(){r({type:"ARROW_DOWN",src:"enter"})},Space(){r({type:"ARROW_DOWN",src:"space"})}},T=Wc(v,{orientation:"vertical",dir:s("dir")}),N=_[T];N&&(v.preventDefault(),N(v))}})},getIndicatorProps(){return t.element({...jn.indicator.attrs,dir:s("dir"),"data-state":l?"open":"closed"})},getPositionerProps(){return t.element({...jn.positioner.attrs,dir:s("dir"),id:zA(a),style:m.floating})},getArrowProps(){return t.element({id:tle(a),...jn.arrow.attrs,dir:s("dir"),style:m.arrow})},getArrowTipProps(){return t.element({...jn.arrowTip.attrs,dir:s("dir"),style:m.arrowTip})},getContentProps(){return t.element({...jn.content.attrs,id:Vd(a),"aria-label":s("aria-label"),hidden:!l,"data-state":l?"open":"closed",role:p?"menu":"dialog",tabIndex:0,dir:s("dir"),"aria-activedescendant":i("highlightedId")||void 0,"aria-labelledby":Yg(a),"data-placement":h,onPointerEnter(v){v.pointerType==="mouse"&&r({type:"MENU_POINTERENTER"})},onKeyDown(v){if(v.defaultPrevented||!Ds(v.currentTarget,Yn(v)))return;const _=Yn(v);if(!(_?.closest("[role=menu]")===v.currentTarget||_===v.currentTarget))return;if(v.key==="Tab"&&!sie(v)){v.preventDefault();return}const N={ArrowDown(){r({type:"ARROW_DOWN"})},ArrowUp(){r({type:"ARROW_UP"})},ArrowLeft(){r({type:"ARROW_LEFT"})},ArrowRight(){r({type:"ARROW_RIGHT"})},Enter(){r({type:"ENTER"})},Space(I){u?r({type:"TYPEAHEAD",key:I.key}):N.Enter?.(I)},Home(){r({type:"HOME"})},End(){r({type:"END"})}},C=Wc(v,{dir:s("dir")}),x=N[C];if(x){x(v),v.stopPropagation(),v.preventDefault();return}s("typeahead")&&Goe(v)&&(Gc(v)||bw(_)||(r({type:"TYPEAHEAD",key:v.key}),v.preventDefault()))}})},getSeparatorProps(){return t.element({...jn.separator.attrs,role:"separator",dir:s("dir"),"aria-orientation":"horizontal"})},getItemState:b,getItemProps:k,getOptionItemState:E,getOptionItemProps(v){const{type:_,disabled:T,closeOnSelect:N}=v,C=w(v),x=E(v);return{...k(C),...t.element({"data-type":_,...jn.item.attrs,dir:s("dir"),"data-value":C.value,role:`menuitem${_}`,"aria-checked":!!x.checked,"data-state":x.checked?"checked":"unchecked",onClick(I){if(T||jE(I)||UE(I))return;const R=I.currentTarget;r({type:"ITEM_CLICK",target:R,option:C,closeOnSelect:N})}})}},getItemIndicatorProps(v){const _=E(LE(v)),T=_.checked?"checked":"unchecked";return t.element({...jn.itemIndicator.attrs,dir:s("dir"),"data-disabled":Y(_.disabled),"data-highlighted":Y(_.highlighted),"data-state":Lh(v,"checked")?T:void 0,hidden:Lh(v,"checked")?!_.checked:void 0})},getItemTextProps(v){const _=E(LE(v)),T=_.checked?"checked":"unchecked";return t.element({...jn.itemText.attrs,dir:s("dir"),"data-disabled":Y(_.disabled),"data-highlighted":Y(_.highlighted),"data-state":Lh(v,"checked")?T:void 0})},getItemGroupLabelProps(v){return t.element({...jn.itemGroupLabel.attrs,id:fO(a,v.htmlFor),dir:s("dir")})},getItemGroupProps(v){return t.element({id:nle(a,v.id),...jn.itemGroup.attrs,dir:s("dir"),"aria-labelledby":fO(a,v.id),role:"group"})}}}var{not:Ar,and:zl,or:ple}=Ev(),fle={props({props:e}){return{closeOnSelect:!0,typeahead:!0,composite:!0,loopFocus:!1,navigate(t){cie(t.node)},...e,positioning:{placement:"bottom-start",gutter:8,...e.positioning}}},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"idle"},context({bindable:e,prop:t}){return{suspendPointer:e(()=>({defaultValue:!1})),highlightedValue:e(()=>({defaultValue:t("defaultHighlightedValue")||null,value:t("highlightedValue"),onChange(n){t("onHighlightChange")?.({highlightedValue:n})}})),lastHighlightedValue:e(()=>({defaultValue:null})),currentPlacement:e(()=>({defaultValue:void 0})),intentPolygon:e(()=>({defaultValue:null})),anchorPoint:e(()=>({defaultValue:null,hash(n){return`x: ${n?.x}, y: ${n?.y}`}})),isSubmenu:e(()=>({defaultValue:!1}))}},refs(){return{parent:null,children:{},typeaheadState:{...wA.defaultOptions},positioningOverride:{}}},computed:{isRtl:({prop:e})=>e("dir")==="rtl",isTypingAhead:({refs:e})=>e.get("typeaheadState").keysSoFar!=="",highlightedId:({context:e,scope:t,refs:n})=>gle(n.get("children"),e.get("highlightedValue"),t)},watch({track:e,action:t,context:n,prop:r}){e([()=>n.get("isSubmenu")],()=>{t(["setSubmenuPlacement"])}),e([()=>n.hash("anchorPoint")],()=>{n.get("anchorPoint")&&t(["reposition"])}),e([()=>r("open")],()=>{t(["toggleVisibility"])})},on:{"PARENT.SET":{actions:["setParentMenu"]},"CHILD.SET":{actions:["setChildMenu"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],OPEN_AUTOFOCUS:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"HIGHLIGHTED.RESTORE":{actions:["restoreHighlightedItem"]},"HIGHLIGHTED.SET":{actions:["setHighlightedItem"]}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},CONTEXT_MENU_START:{target:"opening:contextmenu",actions:["setAnchorPoint"]},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TRIGGER_FOCUS:{guard:Ar("isSubmenu"),target:"closed"},TRIGGER_POINTERMOVE:{guard:"isSubmenu",target:"opening"}}},"opening:contextmenu":{tags:["closed"],effects:["waitForLongPress"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},CONTEXT_MENU_CANCEL:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"LONG_PRESS.OPEN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},opening:{tags:["closed"],effects:["waitForOpenDelay"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},BLUR:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TRIGGER_POINTERLEAVE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"DELAY.OPEN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},closing:{tags:["open"],effects:["trackPointerMove","trackInteractOutside","waitForCloseDelay"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]},MENU_POINTERENTER:{target:"open",actions:["clearIntentPolygon"]},POINTER_MOVED_AWAY_FROM_SUBMENU:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]}],"DELAY.CLOSE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem","invokeOnClose"]}]}},closed:{tags:["closed"],entry:["clearHighlightedItem","focusTrigger","resumePointer","clearAnchorPoint"],on:{"CONTROLLED.OPEN":[{guard:ple("isOpenAutoFocusEvent","isArrowDownEvent"),target:"open",actions:["highlightFirstItem"]},{guard:"isArrowUpEvent",target:"open",actions:["highlightLastItem"]},{target:"open"}],CONTEXT_MENU_START:{target:"opening:contextmenu",actions:["setAnchorPoint"]},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",target:"opening"},TRIGGER_BLUR:{target:"idle"},ARROW_DOWN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],ARROW_UP:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightLastItem","invokeOnOpen"]}]}},open:{tags:["open"],effects:["trackInteractOutside","trackPositioning","scrollToHighlightedItem"],entry:["focusMenu","resumePointer"],on:{"CONTROLLED.CLOSE":[{target:"closed",guard:"isArrowLeftEvent",actions:["focusParentMenu"]},{target:"closed"}],TRIGGER_CLICK:[{guard:zl(Ar("isTriggerItem"),"isOpenControlled"),actions:["invokeOnClose"]},{guard:Ar("isTriggerItem"),target:"closed",actions:["invokeOnClose"]}],CONTEXT_MENU:{actions:["setAnchorPoint","focusMenu"]},ARROW_UP:{actions:["highlightPrevItem","focusMenu"]},ARROW_DOWN:{actions:["highlightNextItem","focusMenu"]},ARROW_LEFT:[{guard:zl("isSubmenu","isOpenControlled"),actions:["invokeOnClose"]},{guard:"isSubmenu",target:"closed",actions:["focusParentMenu","invokeOnClose"]}],HOME:{actions:["highlightFirstItem","focusMenu"]},END:{actions:["highlightLastItem","focusMenu"]},ARROW_RIGHT:{guard:"isTriggerItemHighlighted",actions:["openSubmenu"]},ENTER:[{guard:"isTriggerItemHighlighted",actions:["openSubmenu"]},{actions:["clickHighlightedItem"]}],ITEM_POINTERMOVE:[{guard:Ar("isPointerSuspended"),actions:["setHighlightedItem","focusMenu"]},{actions:["setLastHighlightedItem"]}],ITEM_POINTERLEAVE:{guard:zl(Ar("isPointerSuspended"),Ar("isTriggerItem")),actions:["clearHighlightedItem"]},ITEM_CLICK:[{guard:zl(Ar("isTriggerItemHighlighted"),Ar("isHighlightedItemEditable"),"closeOnSelect","isOpenControlled"),actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:zl(Ar("isTriggerItemHighlighted"),Ar("isHighlightedItemEditable"),"closeOnSelect"),target:"closed",actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:zl(Ar("isTriggerItemHighlighted"),Ar("isHighlightedItemEditable")),actions:["invokeOnSelect","setOptionState"]},{actions:["setHighlightedItem"]}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",actions:["setIntentPolygon"]},TRIGGER_POINTERLEAVE:{target:"closing"},ITEM_POINTERDOWN:{actions:["setHighlightedItem"]},TYPEAHEAD:{actions:["highlightMatchedItem"]},FOCUS_MENU:{actions:["focusMenu"]},"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{closeOnSelect:({prop:e,event:t})=>!!(t?.closeOnSelect??e("closeOnSelect")),isTriggerItem:({event:e})=>cle(e.target),isTriggerItemHighlighted:({event:e,scope:t,computed:n})=>!!(e.target??t.getById(n("highlightedId")))?.hasAttribute("aria-controls"),isSubmenu:({context:e})=>e.get("isSubmenu"),isPointerSuspended:({context:e})=>e.get("suspendPointer"),isHighlightedItemEditable:({scope:e,computed:t})=>bw(e.getById(t("highlightedId"))),isOpenControlled:({prop:e})=>e("open")!==void 0,isArrowLeftEvent:({event:e})=>e.previousEvent?.type==="ARROW_LEFT",isArrowUpEvent:({event:e})=>e.previousEvent?.type==="ARROW_UP",isArrowDownEvent:({event:e})=>e.previousEvent?.type==="ARROW_DOWN",isOpenAutoFocusEvent:({event:e})=>e.previousEvent?.type==="OPEN_AUTOFOCUS"},effects:{waitForOpenDelay({send:e}){const t=setTimeout(()=>{e({type:"DELAY.OPEN"})},100);return()=>clearTimeout(t)},waitForCloseDelay({send:e}){const t=setTimeout(()=>{e({type:"DELAY.CLOSE"})},300);return()=>clearTimeout(t)},waitForLongPress({send:e}){const t=setTimeout(()=>{e({type:"LONG_PRESS.OPEN"})},700);return()=>clearTimeout(t)},trackPositioning({context:e,prop:t,scope:n,refs:r}){if(qb(n))return;const o={...t("positioning"),...r.get("positioningOverride")};e.set("currentPlacement",o.placement);const i=()=>hO(n);return _p(Zf(n),i,{...o,defer:!0,onComplete(s){e.set("currentPlacement",s.placement)}})},trackInteractOutside({refs:e,scope:t,prop:n,context:r,send:o}){const i=()=>hs(t);let s=!0;return Rv(i,{type:"menu",defer:!0,exclude:[Zf(t)],onInteractOutside:n("onInteractOutside"),onRequestDismiss:n("onRequestDismiss"),onFocusOutside(a){n("onFocusOutside")?.(a);const l=Yn(a.detail.originalEvent);if(Ds(qb(t),l)){a.preventDefault();return}},onEscapeKeyDown(a){n("onEscapeKeyDown")?.(a),r.get("isSubmenu")&&a.preventDefault(),gO({parent:e.get("parent")})},onPointerDownOutside(a){n("onPointerDownOutside")?.(a);const l=Yn(a.detail.originalEvent);if(Ds(qb(t),l)&&a.detail.contextmenu){a.preventDefault();return}s=!a.detail.focusable},onDismiss(){o({type:"CLOSE",src:"interact-outside",restoreFocus:s})}})},trackPointerMove({context:e,scope:t,send:n,refs:r,flush:o}){const i=r.get("parent");o(()=>{i.context.set("suspendPointer",!0)});const s=t.getDoc();return Ft(s,"pointermove",a=>{hle(e.get("intentPolygon"),{x:a.clientX,y:a.clientY})||(n({type:"POINTER_MOVED_AWAY_FROM_SUBMENU"}),i.context.set("suspendPointer",!1))})},scrollToHighlightedItem({event:e,scope:t,computed:n}){const r=()=>{if(e.current().type.startsWith("ITEM_POINTER"))return;const i=t.getById(n("highlightedId")),s=hs(t);fie(i,{rootEl:s,block:"nearest"})};return tt(()=>r()),vA(()=>hs(t),{defer:!0,attributes:["aria-activedescendant"],callback:r})}},actions:{setAnchorPoint({context:e,event:t}){e.set("anchorPoint",n=>vu(n,t.point)?n:t.point)},setSubmenuPlacement({context:e,computed:t,refs:n}){if(!e.get("isSubmenu"))return;const r=t("isRtl")?"left-start":"right-start";n.set("positioningOverride",{placement:r,gutter:0})},reposition({context:e,scope:t,prop:n,event:r,refs:o}){const i=()=>hO(t),s=e.get("anchorPoint"),a=s?()=>({width:0,height:0,...s}):void 0,l={...n("positioning"),...o.get("positioningOverride")};_p(Zf(t),i,{...l,defer:!0,getAnchorRect:a,...r.options??{},listeners:!1,onComplete(c){e.set("currentPlacement",c.placement)}})},setOptionState({event:e}){if(!e.option)return;const{checked:t,onCheckedChange:n,type:r}=e.option;r==="radio"?n?.(!0):r==="checkbox"&&n?.(!t)},clickHighlightedItem({scope:e,computed:t,prop:n,context:r}){const o=e.getById(t("highlightedId"));if(!o||o.dataset.disabled)return;const i=r.get("highlightedValue");Soe(o)?n("navigate")?.({value:i,node:o,href:o.href}):queueMicrotask(()=>o.click())},setIntentPolygon({context:e,scope:t,event:n}){const r=hs(t),o=e.get("currentPlacement");if(!r||!o)return;const i=r.getBoundingClientRect(),s=Zae(i,o);if(!s)return;const l=Oae(o)==="right"?-5:5;e.set("intentPolygon",[{...n.point,x:n.point.x+l},...s])},clearIntentPolygon({context:e}){e.set("intentPolygon",null)},clearAnchorPoint({context:e}){e.set("anchorPoint",null)},resumePointer({refs:e,flush:t}){const n=e.get("parent");n&&t(()=>{n.context.set("suspendPointer",!1)})},setHighlightedItem({context:e,event:t}){const n=t.value||$a(t.target);e.set("highlightedValue",n)},clearHighlightedItem({context:e}){e.set("highlightedValue",null)},focusMenu({scope:e}){tt(()=>{const t=hs(e);jg({root:t,enabled:!Ds(t,e.getActiveElement()),filter(r){return!r.role?.startsWith("menuitem")}})?.focus({preventScroll:!0})})},highlightFirstItem({context:e,scope:t}){(hs(t)?queueMicrotask:tt)(()=>{const r=ole(t);r&&e.set("highlightedValue",$a(r))})},highlightLastItem({context:e,scope:t}){(hs(t)?queueMicrotask:tt)(()=>{const r=ile(t);r&&e.set("highlightedValue",$a(r))})},highlightNextItem({context:e,scope:t,event:n,prop:r}){const o=sle(t,{loop:n.loop,value:e.get("highlightedValue"),loopFocus:r("loopFocus")});e.set("highlightedValue",$a(o))},highlightPrevItem({context:e,scope:t,event:n,prop:r}){const o=ale(t,{loop:n.loop,value:e.get("highlightedValue"),loopFocus:r("loopFocus")});e.set("highlightedValue",$a(o))},invokeOnSelect({context:e,prop:t,scope:n}){const r=e.get("highlightedValue");if(r==null)return;const o=rle(n,r);ule(o,r),t("onSelect")?.({value:r})},focusTrigger({scope:e,context:t,event:n}){t.get("isSubmenu")||t.get("anchorPoint")||n.restoreFocus===!1||queueMicrotask(()=>Zf(e)?.focus({preventScroll:!0}))},highlightMatchedItem({scope:e,context:t,event:n,refs:r}){const o=lle(e,{key:n.key,value:t.get("highlightedValue"),typeaheadState:r.get("typeaheadState")});o&&t.set("highlightedValue",$a(o))},setParentMenu({refs:e,event:t,context:n}){e.set("parent",t.value),n.set("isSubmenu",!0)},setChildMenu({refs:e,event:t}){const n=e.get("children");n[t.id]=t.value,e.set("children",n)},closeRootMenu({refs:e}){gO({parent:e.get("parent")})},openSubmenu({refs:e,scope:t,computed:n}){const o=t.getById(n("highlightedId"))?.getAttribute("data-uid"),i=e.get("children");(o?i[o]:null)?.send({type:"OPEN_AUTOFOCUS"})},focusParentMenu({refs:e}){e.get("parent")?.send({type:"FOCUS_MENU"})},setLastHighlightedItem({context:e,event:t}){e.set("lastHighlightedValue",$a(t.target))},restoreHighlightedItem({context:e}){e.get("lastHighlightedValue")&&(e.set("highlightedValue",e.get("lastHighlightedValue")),e.set("lastHighlightedValue",null))},restoreParentHighlightedItem({refs:e}){e.get("parent")?.send({type:"HIGHLIGHTED.RESTORE"})},invokeOnOpen({prop:e}){e("onOpenChange")?.({open:!0})},invokeOnClose({prop:e}){e("onOpenChange")?.({open:!1})},toggleVisibility({prop:e,event:t,send:n}){n({type:e("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:t})}}}};function gO(e){let t=e.parent;for(;t&&t.context.get("isSubmenu");)t=t.refs.get("parent");t?.send({type:"CLOSE"})}function hle(e,t){return e?Qae(e,t):!1}function gle(e,t,n){const r=Object.keys(e).length>0;if(!t)return null;if(!r)return kp(n,t);for(const o in e){const i=e[o],s=Yg(i.scope);if(s===t)return s}return kp(n,t)}en()(["anchorPoint","aria-label","closeOnSelect","composite","defaultHighlightedValue","defaultOpen","dir","getRootNode","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","onSelect","open","positioning","typeahead"]);en()(["closeOnSelect","disabled","value","valueText"]);en()(["htmlFor"]);en()(["id"]);en()(["checked","closeOnSelect","disabled","onCheckedChange","type","value","valueText"]);const[TCe,Zi]=Tt("EnvironmentContext"),Qi=A(()=>({getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window})),es=A(()=>({dir:"ltr",locale:"en-US"})),[SCe,ts]=Tt("LocaleContext"),da=e=>{const t={};for(const[n,r]of Object.entries(e))r!==void 0&&(t[n]=r);return t},mle=(e={},t)=>{const n=nt(),r=Zi(Qi),o=ts(es),i=A(()=>{const l=pe(e);return{id:n,dir:o.value.dir,getRootNode:r?.value.getRootNode,...da(l),onOpenChange:c=>{t?.("openChange",c),t?.("update:open",c.open),l.onOpenChange?.(c)},onEscapeKeyDown:c=>{t?.("escapeKeyDown",c),l.onEscapeKeyDown?.(c)},onFocusOutside:c=>{t?.("focusOutside",c),l.onFocusOutside?.(c)},onHighlightChange:c=>{t?.("highlightChange",c),t?.("update:highlightedValue",c.highlightedValue),l.onHighlightChange?.(c)},onInteractOutside:c=>{t?.("interactOutside",c),l.onInteractOutside?.(c)},onPointerDownOutside:c=>{t?.("pointerDownOutside",c),l.onPointerDownOutside?.(c)},onSelect:c=>{t?.("select",c),l.onSelect?.(c)}}}),s=Ji(fle,i);return{api:A(()=>dle(s,ua)),machine:s}},vle=P({__name:"menu-root",props:Ze({anchorPoint:{},"aria-label":{},closeOnSelect:{type:Boolean},composite:{type:Boolean},defaultHighlightedValue:{},defaultOpen:{type:Boolean},highlightedValue:{},id:{},ids:{},loopFocus:{type:Boolean},navigate:{type:Function},open:{type:Boolean},positioning:{},typeahead:{type:Boolean},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{closeOnSelect:void 0,composite:void 0,defaultOpen:void 0,loopFocus:void 0,open:void 0,typeahead:void 0}),emits:["escapeKeyDown","focusOutside","highlightChange","interactOutside","openChange","pointerDownOutside","requestDismiss","select","update:open","update:highlightedValue"],setup(e,{emit:t}){const n=e,r=t,{api:o,machine:i}=mle(n,r),s=ln(),a=TA();return Je(()=>{a&&(s.value.setChild(i),o.value.setParent(a))}),SA(A(()=>s.value.getTriggerItemProps(o.value))),IA(i),kA(o),ui(A(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),ee(),(l,c)=>L(l.$slots,"default")}}),ble=P({__name:"menu-separator",props:{asChild:{type:Boolean}},setup(e){const t=ln();return ee(),(n,r)=>(y(),$(d(te).hr,F(d(t).getSeparatorProps(),{"as-child":n.asChild}),null,16,["as-child"]))}}),yle=P({__name:"menu-trigger-item",props:{asChild:{type:Boolean}},setup(e){const t=mse();return Ov(A(()=>({value:t.value?.["data-value"]}))),ee(),(n,r)=>(y(),$(d(te).div,F(d(t),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),xle=P({__name:"menu-trigger",props:{asChild:{type:Boolean}},setup(e){const t=ln();return ee(),(n,r)=>(y(),$(d(te).button,F(d(t).getTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Ge=Object.freeze(Object.defineProperty({__proto__:null,Arrow:Zie,ArrowTip:Jie,CheckboxItem:ese,Content:tse,Context:rse,ContextTrigger:nse,Indicator:ose,Item:use,ItemContext:ise,ItemGroup:ase,ItemGroupLabel:sse,ItemIndicator:lse,ItemText:cse,Positioner:fse,RadioItem:gse,RadioItemGroup:hse,Root:vle,RootProvider:vse,Separator:ble,Trigger:xle,TriggerItem:yle},Symbol.toStringTag,{value:"Module"})),wle=P({__name:"LocaleSelector",props:at({channel:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,{t:n}=Et(),r=window.editorConfig.channels||[],o=rt(e,"modelValue"),i=A(()=>{let l=r.find(c=>c.code===t.channel);return l||(l=r[0]),l.locales}),s=A(()=>i.value.find(l=>l.code===o.value)?.name);Nm(()=>{o.value||(o.value=i.value[0].code)}),st(()=>t.channel,l=>{i.value.find(u=>u.code===o.value)||(o.value=i.value[0].code)});function a({value:l}){o.value=l}return(l,c)=>{const u=Bre,p=mu;return d(i)&&d(i).length>1?(y(),$(d(Ge).Root,{key:0,positioning:{gutter:4},onSelect:a},{default:O(()=>[S(d(Ge).Trigger,{asChild:"",class:"min-w-32 py-2 appearance-none rounded-lg cursor-pointer inline-flex gap-3 outline-none relative select-none items-center justify-center hover:bg-gray-200"},{default:O(()=>[S(d(Vt),null,{default:O(()=>[S(u,{class:"inline w-4"}),re(" "+j(d(s))+" ",1),S(d(Ge).Indicator,null,{default:O(()=>[S(p,{class:"inline w-4"})]),_:1})]),_:1})]),_:1}),S(d(Ge).Positioner,{class:"w-56"},{default:O(()=>[S(d(Ge).Content,{class:"pointer-events-none border shadow flex gap-1 p-1 flex-col outline-none rounded bg-white data-[state=open]:animate-fade-in"},{default:O(()=>[S(d(Ge).ItemGroup,{class:"flex flex-col"},{default:O(()=>[S(d(Ge).ItemGroupLabel,{class:"px-2.5 mb-1 text-zinc-700"},{default:O(()=>[re(j(d(n)("Locales")),1)]),_:1}),(y(!0),V(ge,null,Ie(d(i),h=>(y(),$(d(Ge).Item,{key:h.code,value:h.code,class:"rounded cursor-pointer flex items-center h-9 px-3 gap-3 hover:bg-zinc-100"},{default:O(()=>[re(j(h.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})):Z("",!0)}}}),_le={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function kle(e,t){return y(),V("svg",_le,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3 3 0 0 0 3.75-.615A3 3 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a3 3 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015q.062.07.128.136a3 3 0 0 0 3.622.478m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75"},null,-1)])])}const Cle=fe({name:"heroicons-building-storefront",render:kle}),Ele=P({__name:"ChannelSelector",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const{t}=Et(),{channels:n}=Dt(),r=rt(e,"modelValue"),o=A(()=>n.value.find(s=>s.code===r.value)?.name);function i({value:s}){r.value=s}return(s,a)=>{const l=Cle,c=mu;return d(n).length>1?(y(),$(d(Ge).Root,{key:0,positioning:{gutter:4},onSelect:i},{default:O(()=>[S(d(Ge).Trigger,{asChild:""},{default:O(()=>[S(d(Vt),null,{default:O(()=>[S(l,{class:"inline w-4"}),re(" "+j(d(o))+" ",1),S(d(Ge).Indicator,null,{default:O(()=>[S(c,{class:"inline w-4"})]),_:1})]),_:1})]),_:1}),S(d(Ge).Positioner,{class:"w-56"},{default:O(()=>[S(d(Ge).Content,{class:"pointer-events-none border shadow flex gap-1 p-1 flex-col outline-none rounded bg-white data-[state=open]:animate-fade-in"},{default:O(()=>[S(d(Ge).ItemGroup,{class:"flex flex-col"},{default:O(()=>[S(d(Ge).ItemGroupLabel,{class:"px-2.5 mb-1 text-zinc-700"},{default:O(()=>[re(j(d(t)("Channels")),1)]),_:1}),(y(!0),V(ge,null,Ie(d(n),u=>(y(),$(d(Ge).Item,{key:u.code,value:u.code,class:"rounded cursor-pointer flex items-center h-9 px-3 gap-3 hover:bg-zinc-100"},{default:O(()=>[re(j(u.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})):Z("",!0)}}});function Ole(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fh={exports:{}};var Ile=Fh.exports,mO;function Tle(){return mO||(mO=1,(function(e,t){(function(n,r){e.exports=r()})(Ile,function(){var n={};n.version="0.2.0";var r=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};n.configure=function(g){var m,b;for(m in g)b=g[m],b!==void 0&&g.hasOwnProperty(m)&&(r[m]=b);return this},n.status=null,n.set=function(g){var m=n.isStarted();g=o(g,r.minimum,1),n.status=g===1?null:g;var b=n.render(!m),w=b.querySelector(r.barSelector),E=r.speed,k=r.easing;return b.offsetWidth,a(function(v){r.positionUsing===""&&(r.positionUsing=n.getPositioningCSS()),l(w,s(g,E,k)),g===1?(l(b,{transition:"none",opacity:1}),b.offsetWidth,setTimeout(function(){l(b,{transition:"all "+E+"ms linear",opacity:0}),setTimeout(function(){n.remove(),v()},E)},E)):setTimeout(v,E)}),this},n.isStarted=function(){return typeof n.status=="number"},n.start=function(){n.status||n.set(0);var g=function(){setTimeout(function(){n.status&&(n.trickle(),g())},r.trickleSpeed)};return r.trickle&&g(),this},n.done=function(g){return!g&&!n.status?this:n.inc(.3+.5*Math.random()).set(1)},n.inc=function(g){var m=n.status;return m?(typeof g!="number"&&(g=(1-m)*o(Math.random()*m,.1,.95)),m=o(m+g,0,.994),n.set(m)):n.start()},n.trickle=function(){return n.inc(Math.random()*r.trickleRate)},(function(){var g=0,m=0;n.promise=function(b){return!b||b.state()==="resolved"?this:(m===0&&n.start(),g++,m++,b.always(function(){m--,m===0?(g=0,n.done()):n.set((g-m)/g)}),this)}})(),n.render=function(g){if(n.isRendered())return document.getElementById("nprogress");u(document.documentElement,"nprogress-busy");var m=document.createElement("div");m.id="nprogress",m.innerHTML=r.template;var b=m.querySelector(r.barSelector),w=g?"-100":i(n.status||0),E=document.querySelector(r.parent),k;return l(b,{transition:"all 0 linear",transform:"translate3d("+w+"%,0,0)"}),r.showSpinner||(k=m.querySelector(r.spinnerSelector),k&&f(k)),E!=document.body&&u(E,"nprogress-custom-parent"),E.appendChild(m),m},n.remove=function(){p(document.documentElement,"nprogress-busy"),p(document.querySelector(r.parent),"nprogress-custom-parent");var g=document.getElementById("nprogress");g&&f(g)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var g=document.body.style,m="WebkitTransform"in g?"Webkit":"MozTransform"in g?"Moz":"msTransform"in g?"ms":"OTransform"in g?"O":"";return m+"Perspective"in g?"translate3d":m+"Transform"in g?"translate":"margin"};function o(g,m,b){return g<m?m:g>b?b:g}function i(g){return(-1+g)*100}function s(g,m,b){var w;return r.positionUsing==="translate3d"?w={transform:"translate3d("+i(g)+"%,0,0)"}:r.positionUsing==="translate"?w={transform:"translate("+i(g)+"%,0)"}:w={"margin-left":i(g)+"%"},w.transition="all "+m+"ms "+b,w}var a=(function(){var g=[];function m(){var b=g.shift();b&&b(m)}return function(b){g.push(b),g.length==1&&m()}})(),l=(function(){var g=["Webkit","O","Moz","ms"],m={};function b(v){return v.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(_,T){return T.toUpperCase()})}function w(v){var _=document.body.style;if(v in _)return v;for(var T=g.length,N=v.charAt(0).toUpperCase()+v.slice(1),C;T--;)if(C=g[T]+N,C in _)return C;return v}function E(v){return v=b(v),m[v]||(m[v]=w(v))}function k(v,_,T){_=E(_),v.style[_]=T}return function(v,_){var T=arguments,N,C;if(T.length==2)for(N in _)C=_[N],C!==void 0&&_.hasOwnProperty(N)&&k(v,N,C);else k(v,T[1],T[2])}})();function c(g,m){var b=typeof g=="string"?g:h(g);return b.indexOf(" "+m+" ")>=0}function u(g,m){var b=h(g),w=b+m;c(b,m)||(g.className=w.substring(1))}function p(g,m){var b=h(g),w;c(g,m)&&(w=b.replace(" "+m+" "," "),g.className=w.substring(1,w.length-1))}function h(g){return(" "+(g.className||"")+" ").replace(/\s+/gi," ")}function f(g){g&&g.parentNode&&g.parentNode.removeChild(g)}return n})})(Fh)),Fh.exports}var Sle=Tle();const Kc=Ole(Sle);function UA(e,t){const n=new URL(window.location.href);n.searchParams.set(e,t),window.history.replaceState({},"",n.toString())}function jA(e){return new URL(window.location.href).searchParams.get(e)}function Lw(e){const t=new URL(window.location.href);t.searchParams.delete(e),window.history.replaceState({},"",t.toString())}function kl(){return dt(S_)}const Ple=["innerHTML"],$le=["innerHTML"],Rle=["innerHTML"],Ale=P({__name:"TemplateSelector",setup(e){const t=kl(),{currentTemplate:n,templates:r,theme:o,channel:i,locale:s,state:a}=Dt();function l({value:c}){const u=r.value.find(p=>p.template===c);if(u&&t){a.pageData?.template!==c&&(a.pageData&&(a.pageData.template=c),t.engine.setPage({regions:[],blocks:{}})),UA("template",c),Lw("block"),Kc.start();const p=new URL(u.previewUrl);p.searchParams.set("_designMode",o.value.code),p.searchParams.set("channel",i.value),p.searchParams.set("locale",s.value),t.preview.loadUrl(p.href)}}return(c,u)=>{const p=mu;return y(),$(d(Ge).Root,{onSelect:l,positioning:{gutter:4,strategy:"fixed",placement:"bottom"}},{default:O(()=>[S(d(Ge).Trigger,{asChild:""},{default:O(()=>[S(d(Vt),null,{default:O(()=>[d(n)?(y(),V(ge,{key:0},[D("span",{innerHTML:d(n).icon},null,8,Ple),re(" "+j(d(n).label),1)],64)):d(r).length>0?(y(),V(ge,{key:1},[D("span",{innerHTML:d(r)[0].icon},null,8,$le),re(" "+j(d(r)[0].label),1)],64)):(y(),V(ge,{key:2},[re(" Select Template ")],64)),S(d(Ge).Indicator,null,{default:O(()=>[S(p,{class:"inline w-4"})]),_:1})]),_:1})]),_:1}),S(d(Ge).Positioner,{class:"w-64"},{default:O(()=>[S(d(Ge).Content,{class:"pointer-events-none border shadow flex gap-1 p-1 flex-col outline-none rounded bg-white data-[state=open]:animate-fade-in"},{default:O(()=>[(y(!0),V(ge,null,Ie(d(r),h=>(y(),V(ge,{key:h.template},[h.template==="__separator__"?(y(),$(d(Ge).Separator,{key:0})):(y(),$(d(Ge).Item,{key:1,value:h.template,class:"rounded cursor-pointer flex items-center h-9 px-3 gap-3 hover:bg-gray-200"},{default:O(()=>[D("span",{innerHTML:h.icon},null,8,Rle),re(" "+j(h.label),1)]),_:2},1032,["value"]))],64))),128))]),_:1})]),_:1})]),_:1})}}}),Nle={class:"flex-1 flex justify-start items-center gap-2"},Mle=P({__name:"HeaderTools",setup(e){const t=kl(),{channel:n,locale:r,state:o}=Dt();function i(l){o.channel=l;const u=window.editorConfig.channels.find(p=>p.code===l);u&&!u.locales.find(p=>p.code===o.locale)&&(o.locale=u.default_locale),a()}function s(l){o.locale=l,a()}function a(){const l=new URL(t.preview.getFrame().src);l.searchParams.set("channel",o.channel),l.searchParams.set("locale",o.locale),t.preview.loadUrl(l.href)}return(l,c)=>{const u=Ale,p=Ele,h=wle;return y(),V("div",Nle,[S(u),S(p,{"model-value":d(n),"onUpdate:modelValue":i},null,8,["model-value"]),S(h,{channel:d(n),"model-value":d(r),"onUpdate:modelValue":s},null,8,["channel","model-value"])])}}}),[GA,uf]=Tt("AccordionContext"),Dle=P({__name:"accordion-context",setup(e){const t=uf();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),[WA,df]=Tt("CollapsibleContext"),Lle=P({__name:"collapsible-content",props:{asChild:{type:Boolean}},setup(e){const t=df();return ee(),(n,r)=>d(t).unmounted?Z("",!0):(y(),$(d(te).div,F({key:0},d(t).getContentProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Vle=P({__name:"collapsible-context",setup(e){const t=df();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),Fle=P({__name:"collapsible-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=A(()=>t.value);return WA(n),ee(),(r,o)=>(y(),$(d(te).div,F(n.value.getRootProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}});var Ble=_r("collapsible").parts("root","trigger","content","indicator"),eh=Ble.build(),Hle=e=>e.ids?.root??`collapsible:${e.id}`,Y0=e=>e.ids?.content??`collapsible:${e.id}:content`,zle=e=>e.ids?.trigger??`collapsible:${e.id}:trigger`,th=e=>e.getById(Y0(e));function Ule(e,t){const{state:n,send:r,context:o,scope:i,prop:s}=e,a=n.matches("open")||n.matches("closing"),l=n.matches("open"),{width:c,height:u}=o.get("size"),p=!!s("disabled"),h=!o.get("initial")&&l,f="ltr";return{disabled:p,visible:a,open:l,measureSize(){r({type:"size.measure"})},setOpen(g){n.matches("open")!==g&&r({type:g?"open":"close"})},getRootProps(){return t.element({...eh.root.attrs,"data-state":l?"open":"closed",dir:f,id:Hle(i)})},getContentProps(){return t.element({...eh.content.attrs,"data-collapsible":"","data-state":h?void 0:l?"open":"closed",id:Y0(i),"data-disabled":Y(p),hidden:!a,style:{"--height":u!=null?`${u}px`:void 0,"--width":c!=null?`${c}px`:void 0}})},getTriggerProps(){return t.element({...eh.trigger.attrs,id:zle(i),dir:f,type:"button","data-state":l?"open":"closed","data-disabled":Y(p),"aria-controls":Y0(i),"aria-expanded":a||!1,onClick(g){g.defaultPrevented||p||r({type:l?"close":"open"})}})},getIndicatorProps(){return t.element({...eh.indicator.attrs,dir:f,"data-state":l?"open":"closed","data-disabled":Y(p)})}}}var jle={initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{size:e(()=>({defaultValue:{height:0,width:0},sync:!0})),initial:e(()=>({defaultValue:!1}))}},refs(){return{cleanup:void 0,stylesRef:void 0}},watch({track:e,prop:t,action:n}){e([()=>t("open")],()=>{n(["setInitial","computeSize","toggleVisibility"])})},exit:["clearInitial","cleanupNode"],states:{closed:{on:{"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","computeSize","invokeOnOpen"]}]}},closing:{effects:["trackExitAnimation"],on:{"controlled.close":{target:"closed"},"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","invokeOnOpen"]}],close:[{guard:"isOpenControlled",actions:["invokeOnExitComplete"]},{target:"closed",actions:["setInitial","computeSize","invokeOnExitComplete"]}],"animation.end":{target:"closed",actions:["invokeOnExitComplete","clearInitial"]}}},open:{effects:["trackEnterAnimation"],on:{"controlled.close":{target:"closing"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closing",actions:["setInitial","computeSize","invokeOnClose"]}],"size.measure":{actions:["measureSize"]},"animation.end":{actions:["clearInitial"]}}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackEnterAnimation:({send:e,scope:t})=>{let n;const r=tt(()=>{const o=th(t);if(!o)return;const i=jc(o).animationName;if(!i||i==="none"){e({type:"animation.end"});return}const a=l=>{Yn(l)===o&&e({type:"animation.end"})};o.addEventListener("animationend",a),n=()=>{o.removeEventListener("animationend",a)}});return()=>{r(),n?.()}},trackExitAnimation:({send:e,scope:t})=>{let n;const r=tt(()=>{const o=th(t);if(!o)return;const i=jc(o).animationName;if(!i||i==="none"){e({type:"animation.end"});return}const a=c=>{Yn(c)===o&&e({type:"animation.end"})};o.addEventListener("animationend",a);const l=yp(o,{animationFillMode:"forwards"});n=()=>{o.removeEventListener("animationend",a),_w(()=>l())}});return()=>{r(),n?.()}}},actions:{setInitial:({context:e,flush:t})=>{t(()=>{e.set("initial",!0)})},clearInitial:({context:e})=>{e.set("initial",!1)},cleanupNode:({refs:e})=>{e.set("stylesRef",null)},measureSize:({context:e,scope:t})=>{const n=th(t);if(!n)return;const{height:r,width:o}=n.getBoundingClientRect();e.set("size",{height:r,width:o})},computeSize:({refs:e,scope:t,context:n})=>{e.get("cleanup")?.();const r=tt(()=>{const o=th(t);if(!o)return;const i=o.hidden;o.style.animationName="none",o.style.animationDuration="0s",o.hidden=!1;const s=o.getBoundingClientRect();n.set("size",{height:s.height,width:s.width}),n.get("initial")&&(o.style.animationName="",o.style.animationDuration=""),o.hidden=i});e.set("cleanup",r)},invokeOnOpen:({prop:e})=>{e("onOpenChange")?.({open:!0})},invokeOnClose:({prop:e})=>{e("onOpenChange")?.({open:!1})},invokeOnExitComplete:({prop:e})=>{e("onExitComplete")?.()},toggleVisibility:({prop:e,send:t})=>{t({type:e("open")?"controlled.open":"controlled.close"})}}}};en()(["dir","disabled","getRootNode","id","ids","onExitComplete","onOpenChange","defaultOpen","open"]);const Gle=(e={},t)=>{const n=nt(),r=Zi(Qi),o=ts(es),i=A(()=>{const c=pe(e);return{id:n,dir:o.value.dir,getRootNode:r?.value.getRootNode,...da(c),onExitComplete:()=>{t?.("exitComplete"),c.onExitComplete?.()},onOpenChange:u=>{t?.("openChange",u),t?.("update:open",u.open),c.onOpenChange?.(u)}}}),s=Ji(jle,i),a=A(()=>Ule(s,ua)),l=Q(!1);return st(()=>a.value.visible,()=>{a.value.visible&&(l.value=!0)}),A(()=>{const c=pe(e);return{...a.value,unmounted:!a.value.visible&&!l.value&&c.lazyMount||c.unmountOnExit&&!a.value.visible&&l.value}})},Wle=P({__name:"collapsible-root",props:Ze({defaultOpen:{type:Boolean},disabled:{type:Boolean},id:{},ids:{},lazyMount:{type:Boolean},open:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{defaultOpen:void 0,disabled:void 0,lazyMount:void 0,open:void 0,unmountOnExit:void 0}),emits:["exitComplete","openChange","update:open"],setup(e,{emit:t}){const o=Gle(e,t);return WA(o),ee(),(i,s)=>(y(),$(d(te).div,F(d(o).getRootProps(),{"as-child":i.asChild}),{default:O(()=>[L(i.$slots,"default")]),_:3},16,["as-child"]))}}),qle=P({__name:"collapsible-trigger",props:{asChild:{type:Boolean}},setup(e){const t=df();return ee(),(n,r)=>(y(),$(d(te).button,F(d(t).getTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Kle=P({__name:"collapsible-indicator",props:{asChild:{type:Boolean}},setup(e){const t=df();return ee(),(n,r)=>(y(),$(d(te).div,F(d(t).getIndicatorProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),qA=Object.freeze(Object.defineProperty({__proto__:null,Content:Lle,Context:Vle,Indicator:Kle,Root:Wle,RootProvider:Fle,Trigger:qle},Symbol.toStringTag,{value:"Module"}));var Yle=Object.defineProperty,Xle=(e,t,n)=>t in e?Yle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vw=(e,t,n)=>Xle(e,t+"",n),Jle=(e,t,n)=>{const r=`linear-gradient(to ${e[+!t]}, transparent, #000)`;return{areaStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(${n},0,0),rgb(${n},255,0))`},areaGradientStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(${n},0,255),rgb(${n},255,255))`,WebkitMaskImage:r,maskImage:r}}},Zle=(e,t,n)=>{const r=`linear-gradient(to ${e[+!t]}, transparent, #000)`;return{areaStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(0,${n},0),rgb(255,${n},0))`},areaGradientStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(0,${n},255),rgb(255,${n},255))`,WebkitMaskImage:r,maskImage:r}}},Qle=(e,t,n)=>{const r=`linear-gradient(to ${e[+!t]}, transparent, #000)`;return{areaStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(0,0,${n}),rgb(255,0,${n}))`},areaGradientStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(0,255,${n}),rgb(255,255,${n}))`,WebkitMaskImage:r,maskImage:r}}},ece=(e,t,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[Number(t)]}, hsla(0,0%,0%,1) 0%, hsla(0,0%,0%,0) 50%, hsla(0,0%,100%,0) 50%, hsla(0,0%,100%,1) 100%)`,`linear-gradient(to ${e[+!t]},hsl(0,0%,50%),hsla(0,0%,50%,0))`,`hsl(${n}, 100%, 50%)`].join(",")}}),tce=(e,t,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[+!t]}, hsla(0,0%,0%,${n}) 0%, hsla(0,0%,0%,0) 50%, hsla(0,0%,100%,0) 50%, hsla(0,0%,100%,${n}) 100%)`,`linear-gradient(to ${e[Number(t)]},hsla(0,100%,50%,${n}),hsla(60,100%,50%,${n}),hsla(120,100%,50%,${n}),hsla(180,100%,50%,${n}),hsla(240,100%,50%,${n}),hsla(300,100%,50%,${n}),hsla(359,100%,50%,${n}))`,"hsl(0, 0%, 50%)"].join(",")}}),nce=(e,t,n)=>({areaStyles:{},areaGradientStyles:{backgroundImage:[`linear-gradient(to ${e[+!t]},hsl(0,0%,${n}%),hsla(0,0%,${n}%,0))`,`linear-gradient(to ${e[Number(t)]},hsl(0,100%,${n}%),hsl(60,100%,${n}%),hsl(120,100%,${n}%),hsl(180,100%,${n}%),hsl(240,100%,${n}%),hsl(300,100%,${n}%),hsl(360,100%,${n}%))`].join(",")}}),rce=(e,t,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[Number(t)]},hsl(0,0%,0%),hsla(0,0%,0%,0))`,`linear-gradient(to ${e[+!t]},hsl(0,0%,100%),hsla(0,0%,100%,0))`,`hsl(${n}, 100%, 50%)`].join(",")}}),oce=(e,t,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[+!t]},hsla(0,0%,0%,${n}),hsla(0,0%,0%,0))`,`linear-gradient(to ${e[Number(t)]},hsla(0,100%,50%,${n}),hsla(60,100%,50%,${n}),hsla(120,100%,50%,${n}),hsla(180,100%,50%,${n}),hsla(240,100%,50%,${n}),hsla(300,100%,50%,${n}),hsla(359,100%,50%,${n}))`,`linear-gradient(to ${e[+!t]},hsl(0,0%,0%),hsl(0,0%,100%))`].join(",")}}),ice=(e,t,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[+!t]},hsla(0,0%,100%,${n}),hsla(0,0%,100%,0))`,`linear-gradient(to ${e[Number(t)]},hsla(0,100%,50%,${n}),hsla(60,100%,50%,${n}),hsla(120,100%,50%,${n}),hsla(180,100%,50%,${n}),hsla(240,100%,50%,${n}),hsla(300,100%,50%,${n}),hsla(359,100%,50%,${n}))`,"#000"].join(",")}});function vO(e,t){const{xChannel:n,yChannel:r,dir:o="ltr"}=t,{zChannel:i}=e.getColorAxes({xChannel:n,yChannel:r}),s=e.getChannelValue(i),{minValue:a,maxValue:l}=e.getChannelRange(i),c=["top",o==="rtl"?"left":"right"];let u=!1,p={areaStyles:{},areaGradientStyles:{}},h=(s-a)/(l-a),f=e.getFormat()==="hsla";switch(i){case"red":{u=n==="green",p=Jle(c,u,s);break}case"green":{u=n==="red",p=Zle(c,u,s);break}case"blue":{u=n==="red",p=Qle(c,u,s);break}case"hue":{u=n!=="saturation",f?p=ece(c,u,s):p=rce(c,u,s);break}case"saturation":{u=n==="hue",f?p=tce(c,u,h):p=oce(c,u,h);break}case"brightness":{u=n==="hue",p=ice(c,u,h);break}case"lightness":{u=n==="hue",p=nce(c,u,s);break}}return p}var sce=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(e[n]!==t[n])return!1;return!0},Fw=class{toHexInt(){return this.toFormat("rgba").toHexInt()}getChannelValue(e){if(e in this)return this[e];throw new Error("Unsupported color channel: "+e)}getChannelValuePercent(e,t){const n=t??this.getChannelValue(e),{minValue:r,maxValue:o}=this.getChannelRange(e);return yv(n,r,o)}getChannelPercentValue(e,t){const{minValue:n,maxValue:r,step:o}=this.getChannelRange(e),i=gw(t,n,r,o);return gp(i,n,r,o)}withChannelValue(e,t){const{minValue:n,maxValue:r}=this.getChannelRange(e);if(e in this){let o=this.clone();return o[e]=pn(t,n,r),o}throw new Error("Unsupported color channel: "+e)}getColorAxes(e){let{xChannel:t,yChannel:n}=e,r=t||this.getChannels().find(s=>s!==n),o=n||this.getChannels().find(s=>s!==r),i=this.getChannels().find(s=>s!==r&&s!==o);return{xChannel:r,yChannel:o,zChannel:i}}incrementChannel(e,t){const{minValue:n,maxValue:r,step:o}=this.getChannelRange(e),i=gp(pn(this.getChannelValue(e)+t,n,r),n,r,o);return this.withChannelValue(e,i)}decrementChannel(e,t){return this.incrementChannel(e,-t)}isEqual(e){return sce(this.toJSON(),e.toJSON())&&this.getChannelValue("alpha")===e.getChannelValue("alpha")}},ace=/^#[\da-f]+$/i,lce=/^rgba?\((.*)\)$/,cce=/[^#]/gi,KA=class Bh extends Fw{constructor(t,n,r,o){super(),this.red=t,this.green=n,this.blue=r,this.alpha=o}static parse(t){let n=[];if(ace.test(t)&&[4,5,7,9].includes(t.length)){const o=(t.length<6?t.replace(cce,"$&$&"):t).slice(1).split("");for(;o.length>0;)n.push(parseInt(o.splice(0,2).join(""),16));n[3]=n[3]!==void 0?n[3]/255:void 0}const r=t.match(lce);return r?.[1]&&(n=r[1].split(",").map(o=>Number(o.trim())).map((o,i)=>pn(o,0,i<3?255:1))),n.length<3?void 0:new Bh(n[0],n[1],n[2],n[3]??1)}toString(t){switch(t){case"hex":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")).toUpperCase();case"hexa":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")+Math.round(this.alpha*255).toString(16).padStart(2,"0")).toUpperCase();case"rgb":return`rgb(${this.red}, ${this.green}, ${this.blue})`;case"css":case"rgba":return`rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"hsb":return this.toHSB().toString("hsb");default:return this.toFormat(t).toString(t)}}toFormat(t){switch(t){case"rgba":return this;case"hsba":return this.toHSB();case"hsla":return this.toHSL();default:throw new Error("Unsupported color conversion: rgb -> "+t)}}toHexInt(){return this.red<<16|this.green<<8|this.blue}toHSB(){const t=this.red/255,n=this.green/255,r=this.blue/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=i-o,a=i===0?0:s/i;let l=0;if(s!==0){switch(i){case t:l=(n-r)/s+(n<r?6:0);break;case n:l=(r-t)/s+2;break;case r:l=(t-n)/s+4;break}l/=6}return new zw(_t(l*360,2),_t(a*100,2),_t(i*100,2),_t(this.alpha,2))}toHSL(){const t=this.red/255,n=this.green/255,r=this.blue/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=(i+o)/2,a=i-o;let l=-1,c=-1;if(a===0)l=c=0;else{switch(c=a/(s<.5?i+o:2-i-o),i){case t:l=(n-r)/a+(n<r?6:0);break;case n:l=(r-t)/a+2;break;case r:l=(t-n)/a+4;break}l/=6}return new Hw(_t(l*360,2),_t(c*100,2),_t(s*100,2),_t(this.alpha,2))}clone(){return new Bh(this.red,this.green,this.blue,this.alpha)}getChannelFormatOptions(t){switch(t){case"red":case"green":case"blue":return{style:"decimal"};case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+t)}}formatChannelValue(t,n){let r=this.getChannelFormatOptions(t),o=this.getChannelValue(t);return new Intl.NumberFormat(n,r).format(o)}getChannelRange(t){switch(t){case"red":case"green":case"blue":return{minValue:0,maxValue:255,step:1,pageSize:17};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+t)}}toJSON(){return{r:this.red,g:this.green,b:this.blue,a:this.alpha}}getFormat(){return"rgba"}getChannels(){return Bh.colorChannels}};Vw(KA,"colorChannels",["red","green","blue"]);var Bw=KA,uce=/hsl\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsla\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,YA=class Hh extends Fw{constructor(t,n,r,o){super(),this.hue=t,this.saturation=n,this.lightness=r,this.alpha=o}static parse(t){let n;if(n=t.match(uce)){const[r,o,i,s]=(n[1]??n[2]).split(",").map(a=>Number(a.trim().replace("%","")));return new Hh(iA(r,360),pn(o,0,100),pn(i,0,100),pn(s??1,0,1))}}toString(t){switch(t){case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsl":return`hsl(${this.hue}, ${_t(this.saturation,2)}%, ${_t(this.lightness,2)}%)`;case"css":case"hsla":return`hsla(${this.hue}, ${_t(this.saturation,2)}%, ${_t(this.lightness,2)}%, ${this.alpha})`;case"hsb":return this.toHSB().toString("hsb");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(t).toString(t)}}toFormat(t){switch(t){case"hsla":return this;case"hsba":return this.toHSB();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsl -> "+t)}}toHSB(){let t=this.saturation/100,n=this.lightness/100,r=n+t*Math.min(n,1-n);return t=r===0?0:2*(1-n/r),new zw(_t(this.hue,2),_t(t*100,2),_t(r*100,2),_t(this.alpha,2))}toRGB(){let t=this.hue,n=this.saturation/100,r=this.lightness/100,o=n*Math.min(r,1-r),i=(s,a=(s+t/30)%12)=>r-o*Math.max(Math.min(a-3,9-a,1),-1);return new Bw(Math.round(i(0)*255),Math.round(i(8)*255),Math.round(i(4)*255),_t(this.alpha,2))}clone(){return new Hh(this.hue,this.saturation,this.lightness,this.alpha)}getChannelFormatOptions(t){switch(t){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"lightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+t)}}formatChannelValue(t,n){let r=this.getChannelFormatOptions(t),o=this.getChannelValue(t);return(t==="saturation"||t==="lightness")&&(o/=100),new Intl.NumberFormat(n,r).format(o)}getChannelRange(t){switch(t){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"lightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+t)}}toJSON(){return{h:this.hue,s:this.saturation,l:this.lightness,a:this.alpha}}getFormat(){return"hsla"}getChannels(){return Hh.colorChannels}};Vw(YA,"colorChannels",["hue","saturation","lightness"]);var Hw=YA,dce=/hsb\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsba\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,XA=class zh extends Fw{constructor(t,n,r,o){super(),this.hue=t,this.saturation=n,this.brightness=r,this.alpha=o}static parse(t){let n;if(n=t.match(dce)){const[r,o,i,s]=(n[1]??n[2]).split(",").map(a=>Number(a.trim().replace("%","")));return new zh(iA(r,360),pn(o,0,100),pn(i,0,100),pn(s??1,0,1))}}toString(t){switch(t){case"css":return this.toHSL().toString("css");case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsb":return`hsb(${this.hue}, ${_t(this.saturation,2)}%, ${_t(this.brightness,2)}%)`;case"hsba":return`hsba(${this.hue}, ${_t(this.saturation,2)}%, ${_t(this.brightness,2)}%, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(t).toString(t)}}toFormat(t){switch(t){case"hsba":return this;case"hsla":return this.toHSL();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsb -> "+t)}}toHSL(){let t=this.saturation/100,n=this.brightness/100,r=n*(1-t/2);return t=r===0||r===1?0:(n-r)/Math.min(r,1-r),new Hw(_t(this.hue,2),_t(t*100,2),_t(r*100,2),_t(this.alpha,2))}toRGB(){let t=this.hue,n=this.saturation/100,r=this.brightness/100,o=(i,s=(i+t/60)%6)=>r-n*r*Math.max(Math.min(s,4-s,1),0);return new Bw(Math.round(o(5)*255),Math.round(o(3)*255),Math.round(o(1)*255),_t(this.alpha,2))}clone(){return new zh(this.hue,this.saturation,this.brightness,this.alpha)}getChannelFormatOptions(t){switch(t){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"brightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+t)}}formatChannelValue(t,n){let r=this.getChannelFormatOptions(t),o=this.getChannelValue(t);return(t==="saturation"||t==="brightness")&&(o/=100),new Intl.NumberFormat(n,r).format(o)}getChannelRange(t){switch(t){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"brightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+t)}}toJSON(){return{h:this.hue,s:this.saturation,b:this.brightness,a:this.alpha}}getFormat(){return"hsba"}getChannels(){return zh.colorChannels}};Vw(XA,"colorChannels",["hue","saturation","brightness"]);var zw=XA,pce="aliceblue:f0f8ff,antiquewhite:faebd7,aqua:00ffff,aquamarine:7fffd4,azure:f0ffff,beige:f5f5dc,bisque:ffe4c4,black:000000,blanchedalmond:ffebcd,blue:0000ff,blueviolet:8a2be2,brown:a52a2a,burlywood:deb887,cadetblue:5f9ea0,chartreuse:7fff00,chocolate:d2691e,coral:ff7f50,cornflowerblue:6495ed,cornsilk:fff8dc,crimson:dc143c,cyan:00ffff,darkblue:00008b,darkcyan:008b8b,darkgoldenrod:b8860b,darkgray:a9a9a9,darkgreen:006400,darkkhaki:bdb76b,darkmagenta:8b008b,darkolivegreen:556b2f,darkorange:ff8c00,darkorchid:9932cc,darkred:8b0000,darksalmon:e9967a,darkseagreen:8fbc8f,darkslateblue:483d8b,darkslategray:2f4f4f,darkturquoise:00ced1,darkviolet:9400d3,deeppink:ff1493,deepskyblue:00bfff,dimgray:696969,dodgerblue:1e90ff,firebrick:b22222,floralwhite:fffaf0,forestgreen:228b22,fuchsia:ff00ff,gainsboro:dcdcdc,ghostwhite:f8f8ff,gold:ffd700,goldenrod:daa520,gray:808080,green:008000,greenyellow:adff2f,honeydew:f0fff0,hotpink:ff69b4,indianred:cd5c5c,indigo:4b0082,ivory:fffff0,khaki:f0e68c,lavender:e6e6fa,lavenderblush:fff0f5,lawngreen:7cfc00,lemonchiffon:fffacd,lightblue:add8e6,lightcoral:f08080,lightcyan:e0ffff,lightgoldenrodyellow:fafad2,lightgrey:d3d3d3,lightgreen:90ee90,lightpink:ffb6c1,lightsalmon:ffa07a,lightseagreen:20b2aa,lightskyblue:87cefa,lightslategray:778899,lightsteelblue:b0c4de,lightyellow:ffffe0,lime:00ff00,limegreen:32cd32,linen:faf0e6,magenta:ff00ff,maroon:800000,mediumaquamarine:66cdaa,mediumblue:0000cd,mediumorchid:ba55d3,mediumpurple:9370d8,mediumseagreen:3cb371,mediumslateblue:7b68ee,mediumspringgreen:00fa9a,mediumturquoise:48d1cc,mediumvioletred:c71585,midnightblue:191970,mintcream:f5fffa,mistyrose:ffe4e1,moccasin:ffe4b5,navajowhite:ffdead,navy:000080,oldlace:fdf5e6,olive:808000,olivedrab:6b8e23,orange:ffa500,orangered:ff4500,orchid:da70d6,palegoldenrod:eee8aa,palegreen:98fb98,paleturquoise:afeeee,palevioletred:d87093,papayawhip:ffefd5,peachpuff:ffdab9,peru:cd853f,pink:ffc0cb,plum:dda0dd,powderblue:b0e0e6,purple:800080,rebeccapurple:663399,red:ff0000,rosybrown:bc8f8f,royalblue:4169e1,saddlebrown:8b4513,salmon:fa8072,sandybrown:f4a460,seagreen:2e8b57,seashell:fff5ee,sienna:a0522d,silver:c0c0c0,skyblue:87ceeb,slateblue:6a5acd,slategray:708090,snow:fffafa,springgreen:00ff7f,steelblue:4682b4,tan:d2b48c,teal:008080,thistle:d8bfd8,tomato:ff6347,turquoise:40e0d0,violet:ee82ee,wheat:f5deb3,white:ffffff,whitesmoke:f5f5f5,yellow:ffff00,yellowgreen:9acd32",fce=e=>{const t=new Map,n=e.split(",");for(let r=0;r<n.length;r++){const[o,i]=n[r].split(":");t.set(o,`#${i}`),o.includes("gray")&&t.set(o.replace("gray","grey"),`#${i}`)}return t},bO=fce(pce),ea=e=>{if(bO.has(e))return ea(bO.get(e));const t=Bw.parse(e)||zw.parse(e)||Hw.parse(e);if(!t){const n=new Error("Invalid color value: "+e);throw Error.captureStackTrace?.(n,ea),n}return t},yO=e=>typeof e=="string"?ea(e):e,JA=_r("color-picker",["root","label","control","trigger","positioner","content","area","areaThumb","valueText","areaBackground","channelSlider","channelSliderLabel","channelSliderTrack","channelSliderThumb","channelSliderValueText","channelInput","transparencyGrid","swatchGroup","swatchTrigger","swatchIndicator","swatch","eyeDropperTrigger","formatTrigger","formatSelect"]),Pt=JA.build(),hce=e=>e.ids?.root??`color-picker:${e.id}`,xO=e=>e.ids?.label??`color-picker:${e.id}:label`,X0=e=>e.ids?.hiddenInput??`color-picker:${e.id}:hidden-input`,ZA=e=>e.ids?.control??`color-picker:${e.id}:control`,QA=e=>e.ids?.trigger??`color-picker:${e.id}:trigger`,J0=e=>e.ids?.content??`color-picker:${e.id}:content`,eN=e=>e.ids?.positioner??`color-picker:${e.id}:positioner`,gce=e=>e.ids?.formatSelect??`color-picker:${e.id}:format-select`,tN=e=>e.ids?.area??`color-picker:${e.id}:area`,mce=e=>e.ids?.areaGradient??`color-picker:${e.id}:area-gradient`,nN=e=>e.ids?.areaThumb??`color-picker:${e.id}:area-thumb`,rN=(e,t)=>e.ids?.channelSliderTrack?.(t)??`color-picker:${e.id}:slider-track:${t}`,Z0=(e,t)=>e.ids?.channelSliderThumb?.(t)??`color-picker:${e.id}:slider-thumb:${t}`,Uh=e=>e.getById(J0(e)),vce=e=>e.getById(nN(e)),bce=(e,t)=>e.getById(Z0(e,t)),yce=e=>e.getById(gce(e)),wO=e=>e.getById(X0(e)),xce=e=>e.getById(tN(e)),wce=(e,t,n)=>{const r=xce(e);if(!r)return;const{getPercentValue:o}=kw(t,r);return{x:o({dir:n,orientation:"horizontal"}),y:o({orientation:"vertical"})}},oN=e=>e.getById(ZA(e)),Kb=e=>e.getById(QA(e)),_ce=e=>e.getById(eN(e)),kce=(e,t)=>e.getById(rN(e,t)),Cce=(e,t,n,r)=>{const o=kce(e,n);if(!o)return;const{getPercentValue:i}=kw(t,o);return{x:i({dir:r,orientation:"horizontal"}),y:i({orientation:"vertical"})}},Ece=e=>[...bp(Uh(e),"input[data-channel]"),...bp(oN(e),"input[data-channel]")];function Oce(e,t){switch(t){case"hue":return ea(`hsl(${e.getChannelValue("hue")}, 100%, 50%)`);case"lightness":case"brightness":case"saturation":case"red":case"green":case"blue":return e.withChannelValue("alpha",1);case"alpha":return e;default:throw new Error("Unknown color channel: "+t)}}function Q0(e,t){if(t==null)return"";if(t==="hex")return e.toString("hex");if(t==="css")return e.toString("css");if(t in e)return e.getChannelValue(t).toString();const n=e.getFormat()==="hsla";switch(t){case"hue":return n?e.toFormat("hsla").getChannelValue("hue").toString():e.toFormat("hsba").getChannelValue("hue").toString();case"saturation":return n?e.toFormat("hsla").getChannelValue("saturation").toString():e.toFormat("hsba").getChannelValue("saturation").toString();case"lightness":return e.toFormat("hsla").getChannelValue("lightness").toString();case"brightness":return e.toFormat("hsba").getChannelValue("brightness").toString();case"red":case"green":case"blue":return e.toFormat("rgba").getChannelValue(t).toString();default:return e.getChannelValue(t).toString()}}function Ice(e,t){switch(t){case"hex":const n=ea("#000000"),r=ea("#FFFFFF");return{minValue:n.toHexInt(),maxValue:r.toHexInt(),pageSize:10,step:1};case"css":return;case"hue":case"saturation":case"lightness":return e.toFormat("hsla").getChannelRange(t);case"brightness":return e.toFormat("hsba").getChannelRange(t);case"red":case"green":case"blue":return e.toFormat("rgba").getChannelRange(t);default:return e.getChannelRange(t)}}function Tce(e,t){return e==="vertical"?"top":t==="ltr"?"right":"left"}var Sce=e=>{const{channel:t,value:n,dir:r,orientation:o}=e,i=Tce(o,r),{minValue:s,maxValue:a}=n.getChannelRange(t);switch(t){case"hue":return`linear-gradient(to ${i}, rgb(255, 0, 0) 0%, rgb(255, 255, 0) 17%, rgb(0, 255, 0) 33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 67%, rgb(255, 0, 255) 83%, rgb(255, 0, 0) 100%)`;case"lightness":{let l=n.withChannelValue(t,s).toString("css"),c=n.withChannelValue(t,(a-s)/2).toString("css"),u=n.withChannelValue(t,a).toString("css");return`linear-gradient(to ${i}, ${l}, ${c}, ${u})`}case"saturation":case"brightness":case"red":case"green":case"blue":case"alpha":{let l=n.withChannelValue(t,s).toString("css"),c=n.withChannelValue(t,a).toString("css");return`linear-gradient(to ${i}, ${l}, ${c})`}default:throw new Error("Unknown color channel: "+t)}};function Pce(e,t){const{context:n,send:r,prop:o,computed:i,state:s,scope:a}=e,l=n.get("value"),c=n.get("format"),u=i("areaValue"),p=i("valueAsString"),h=i("disabled"),f=!!o("readOnly"),g=!!o("invalid"),m=!!o("required"),b=i("interactive"),w=s.hasTag("dragging"),E=s.hasTag("open"),k=s.hasTag("focused"),v=C=>{const x=u.getChannels();return{xChannel:C.xChannel??x[1],yChannel:C.yChannel??x[2]}},_=n.get("currentPlacement"),T=Mw({...o("positioning"),placement:_});function N(C){const x=yO(C.value).toFormat(n.get("format"));return{value:x,valueAsString:x.toString("hex"),checked:x.isEqual(l),disabled:C.disabled||!b}}return{dragging:w,open:E,valueAsString:p,value:l,inline:!!o("inline"),setOpen(C){o("inline")||s.hasTag("open")===C||r({type:C?"OPEN":"CLOSE"})},setValue(C){r({type:"VALUE.SET",value:yO(C),src:"set-color"})},getChannelValue(C){return Q0(l,C)},getChannelValueText(C,x){return l.formatChannelValue(C,x)},setChannelValue(C,x){const I=l.withChannelValue(C,x);r({type:"VALUE.SET",value:I,src:"set-channel"})},format:n.get("format"),setFormat(C){const x=l.toFormat(C);r({type:"VALUE.SET",value:x,src:"set-format"})},alpha:l.getChannelValue("alpha"),setAlpha(C){const x=l.withChannelValue("alpha",C);r({type:"VALUE.SET",value:x,src:"set-alpha"})},getRootProps(){return t.element({...Pt.root.attrs,dir:o("dir"),id:hce(a),"data-disabled":Y(h),"data-readonly":Y(f),"data-invalid":Y(g),style:{"--value":l.toString("css")}})},getLabelProps(){return t.element({...Pt.label.attrs,dir:o("dir"),id:xO(a),htmlFor:X0(a),"data-disabled":Y(h),"data-readonly":Y(f),"data-invalid":Y(g),"data-required":Y(m),"data-focus":Y(k),onClick(C){C.preventDefault(),yie(oN(a),"[data-channel=hex]")?.focus({preventScroll:!0})}})},getControlProps(){return t.element({...Pt.control.attrs,id:ZA(a),dir:o("dir"),"data-disabled":Y(h),"data-readonly":Y(f),"data-invalid":Y(g),"data-state":E?"open":"closed","data-focus":Y(k)})},getTriggerProps(){return t.button({...Pt.trigger.attrs,id:QA(a),dir:o("dir"),disabled:h,"aria-label":`select color. current color is ${p}`,"aria-controls":J0(a),"aria-labelledby":xO(a),"data-disabled":Y(h),"data-readonly":Y(f),"data-invalid":Y(g),"data-placement":_,"aria-expanded":Y(E),"data-state":E?"open":"closed","data-focus":Y(k),type:"button",onClick(){b&&r({type:"TRIGGER.CLICK"})},onBlur(){b&&r({type:"TRIGGER.BLUR"})},style:{position:"relative"}})},getPositionerProps(){return t.element({...Pt.positioner.attrs,id:eN(a),dir:o("dir"),style:T.floating})},getContentProps(){return t.element({...Pt.content.attrs,id:J0(a),dir:o("dir"),tabIndex:-1,"data-placement":_,"data-state":E?"open":"closed",hidden:!E})},getValueTextProps(){return t.element({...Pt.valueText.attrs,dir:o("dir"),"data-disabled":Y(h),"data-focus":Y(k)})},getAreaProps(C={}){const{xChannel:x,yChannel:I}=v(C),{areaStyles:R}=vO(u,{xChannel:x,yChannel:I,dir:o("dir")});return t.element({...Pt.area.attrs,id:tN(a),role:"group","data-invalid":Y(g),"data-disabled":Y(h),"data-readonly":Y(f),onPointerDown(M){if(!b||!Ls(M)||Gc(M))return;const B=jo(M);r({type:"AREA.POINTER_DOWN",point:B,channel:{xChannel:x,yChannel:I},id:"area"}),M.preventDefault()},style:{position:"relative",touchAction:"none",forcedColorAdjust:"none",...R}})},getAreaBackgroundProps(C={}){const{xChannel:x,yChannel:I}=v(C),{areaGradientStyles:R}=vO(u,{xChannel:x,yChannel:I,dir:o("dir")});return t.element({...Pt.areaBackground.attrs,id:mce(a),"data-invalid":Y(g),"data-disabled":Y(h),"data-readonly":Y(f),style:{position:"relative",touchAction:"none",forcedColorAdjust:"none",...R}})},getAreaThumbProps(C={}){const{xChannel:x,yChannel:I}=v(C),R={xChannel:x,yChannel:I},M=u.getChannelValuePercent(x),B=1-u.getChannelValuePercent(I),J=o("dir")==="rtl"?1-M:M,q=u.getChannelValue(x),K=u.getChannelValue(I),X=u.withChannelValue("alpha",1).toString("css");return t.element({...Pt.areaThumb.attrs,id:nN(a),dir:o("dir"),tabIndex:h?void 0:0,"data-disabled":Y(h),"data-invalid":Y(g),"data-readonly":Y(f),role:"slider","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":q,"aria-label":`${x} and ${I}`,"aria-roledescription":"2d slider","aria-valuetext":`${x} ${q}, ${I} ${K}`,style:{position:"absolute",left:`${J*100}%`,top:`${B*100}%`,transform:"translate(-50%, -50%)",touchAction:"none",forcedColorAdjust:"none","--color":X,background:X},onFocus(){b&&r({type:"AREA.FOCUS",id:"area",channel:R})},onKeyDown(de){if(de.defaultPrevented||!b)return;const Ue=Ug(de),Ve={ArrowUp(){r({type:"AREA.ARROW_UP",channel:R,step:Ue})},ArrowDown(){r({type:"AREA.ARROW_DOWN",channel:R,step:Ue})},ArrowLeft(){r({type:"AREA.ARROW_LEFT",channel:R,step:Ue})},ArrowRight(){r({type:"AREA.ARROW_RIGHT",channel:R,step:Ue})},PageUp(){r({type:"AREA.PAGE_UP",channel:R,step:Ue})},PageDown(){r({type:"AREA.PAGE_DOWN",channel:R,step:Ue})},Escape(Qe){Qe.stopPropagation()}}[Wc(de,{dir:o("dir")})];Ve&&(Ve(de),de.preventDefault())}})},getTransparencyGridProps(C={}){const{size:x="12px"}=C;return t.element({...Pt.transparencyGrid.attrs,style:{"--size":x,width:"100%",height:"100%",position:"absolute",backgroundColor:"#fff",backgroundImage:"conic-gradient(#eeeeee 0 25%, transparent 0 50%, #eeeeee 0 75%, transparent 0)",backgroundSize:"var(--size) var(--size)",inset:"0px",zIndex:"auto",pointerEvents:"none"}})},getChannelSliderProps(C){const{orientation:x="horizontal",channel:I,format:R}=C;return t.element({...Pt.channelSlider.attrs,"data-channel":I,"data-orientation":x,role:"presentation",onPointerDown(M){if(!b||!Ls(M)||Gc(M))return;const B=jo(M);r({type:"CHANNEL_SLIDER.POINTER_DOWN",channel:I,format:R,point:B,id:I,orientation:x}),M.preventDefault()},style:{position:"relative",touchAction:"none"}})},getChannelSliderTrackProps(C){const{orientation:x="horizontal",channel:I,format:R}=C,M=R?l.toFormat(R):u;return t.element({...Pt.channelSliderTrack.attrs,id:rN(a,I),role:"group","data-channel":I,"data-orientation":x,style:{position:"relative",forcedColorAdjust:"none",backgroundImage:Sce({orientation:x,channel:I,dir:o("dir"),value:M})}})},getChannelSliderLabelProps(C){const{channel:x}=C;return t.element({...Pt.channelSliderLabel.attrs,"data-channel":x,onClick(I){if(!b)return;I.preventDefault();const R=Z0(a,x);a.getById(R)?.focus({preventScroll:!0})},style:{userSelect:"none",WebkitUserSelect:"none"}})},getChannelSliderValueTextProps(C){return t.element({...Pt.channelSliderValueText.attrs,"data-channel":C.channel})},getChannelSliderThumbProps(C){const{orientation:x="horizontal",channel:I,format:R}=C,M=R?l.toFormat(R):u,B=M.getChannelRange(I),z=M.getChannelValue(I),J=(z-B.minValue)/(B.maxValue-B.minValue),q=o("dir")==="rtl",K=x==="horizontal"&&q?1-J:J,X=x==="horizontal"?{left:`${K*100}%`,top:"50%"}:{top:`${J*100}%`,left:"50%"};return t.element({...Pt.channelSliderThumb.attrs,id:Z0(a,I),role:"slider","aria-label":I,tabIndex:h?void 0:0,"data-channel":I,"data-disabled":Y(h),"data-orientation":x,"aria-disabled":Y(h),"aria-orientation":x,"aria-valuemax":B.maxValue,"aria-valuemin":B.minValue,"aria-valuenow":z,"aria-valuetext":`${I} ${z}`,style:{forcedColorAdjust:"none",position:"absolute",background:Oce(u,I).toString("css"),...X},onFocus(){b&&r({type:"CHANNEL_SLIDER.FOCUS",channel:I})},onKeyDown(de){if(de.defaultPrevented||!b)return;const Ue=Ug(de)*B.step,Ve={ArrowUp(){r({type:"CHANNEL_SLIDER.ARROW_UP",channel:I,step:Ue})},ArrowDown(){r({type:"CHANNEL_SLIDER.ARROW_DOWN",channel:I,step:Ue})},ArrowLeft(){r({type:"CHANNEL_SLIDER.ARROW_LEFT",channel:I,step:Ue})},ArrowRight(){r({type:"CHANNEL_SLIDER.ARROW_RIGHT",channel:I,step:Ue})},PageUp(){r({type:"CHANNEL_SLIDER.PAGE_UP",channel:I})},PageDown(){r({type:"CHANNEL_SLIDER.PAGE_DOWN",channel:I})},Home(){r({type:"CHANNEL_SLIDER.HOME",channel:I})},End(){r({type:"CHANNEL_SLIDER.END",channel:I})},Escape(Qe){Qe.stopPropagation()}}[Wc(de,{dir:o("dir")})];Ve&&(Ve(de),de.preventDefault())}})},getChannelInputProps(C){const{channel:x}=C,I=x==="hex"||x==="css",R=Ice(l,x);return t.input({...Pt.channelInput.attrs,dir:o("dir"),type:I?"text":"number","data-channel":x,"aria-label":x,spellCheck:!1,autoComplete:"off",disabled:h,"data-disabled":Y(h),"data-invalid":Y(g),"data-readonly":Y(f),readOnly:f,defaultValue:Q0(l,x),min:R?.minValue,max:R?.maxValue,step:R?.step,onBeforeInput(M){if(I||!b)return;M.currentTarget.value.match(/[^0-9.]/g)&&M.preventDefault()},onFocus(M){b&&(r({type:"CHANNEL_INPUT.FOCUS",channel:x}),M.currentTarget.select())},onBlur(M){if(!b)return;const B=I?M.currentTarget.value:M.currentTarget.valueAsNumber;r({type:"CHANNEL_INPUT.BLUR",channel:x,value:B,isTextField:I})},onKeyDown(M){if(!M.defaultPrevented&&b&&M.key==="Enter"){const B=I?M.currentTarget.value:M.currentTarget.valueAsNumber;r({type:"CHANNEL_INPUT.CHANGE",channel:x,value:B,isTextField:I}),M.preventDefault()}},style:{appearance:"none",WebkitAppearance:"none",MozAppearance:"textfield"}})},getHiddenInputProps(){return t.input({type:"text",disabled:h,name:o("name"),tabIndex:-1,readOnly:f,required:m,id:X0(a),style:$ie,defaultValue:p})},getEyeDropperTriggerProps(){return t.button({...Pt.eyeDropperTrigger.attrs,type:"button",dir:o("dir"),disabled:h,"data-disabled":Y(h),"data-invalid":Y(g),"data-readonly":Y(f),"aria-label":"Pick a color from the screen",onClick(){b&&r({type:"EYEDROPPER.CLICK"})}})},getSwatchGroupProps(){return t.element({...Pt.swatchGroup.attrs,role:"group"})},getSwatchTriggerState:N,getSwatchTriggerProps(C){const x=N(C);return t.button({...Pt.swatchTrigger.attrs,disabled:x.disabled,dir:o("dir"),type:"button","aria-label":`select ${x.valueAsString} as the color`,"data-state":x.checked?"checked":"unchecked","data-value":x.valueAsString,"data-disabled":Y(x.disabled),onClick(){x.disabled||r({type:"SWATCH_TRIGGER.CLICK",value:x.value})},style:{"--color":x.valueAsString,position:"relative"}})},getSwatchIndicatorProps(C){const x=N(C);return t.element({...Pt.swatchIndicator.attrs,dir:o("dir"),hidden:!x.checked})},getSwatchProps(C){const{respectAlpha:x=!0}=C,I=N(C),R=I.value.toString(x?"css":"hex");return t.element({...Pt.swatch.attrs,dir:o("dir"),"data-state":I.checked?"checked":"unchecked","data-value":I.valueAsString,style:{"--color":R,position:"relative",background:R}})},getFormatTriggerProps(){return t.button({...Pt.formatTrigger.attrs,dir:o("dir"),type:"button","aria-label":`change color format to ${_O(c)}`,onClick(C){if(C.currentTarget.disabled)return;const x=_O(c);r({type:"FORMAT.SET",format:x,src:"format-trigger"})}})},getFormatSelectProps(){return t.select({...Pt.formatSelect.attrs,"aria-label":"change color format",dir:o("dir"),defaultValue:o("format"),disabled:h,onChange(C){const x=Rce(C.currentTarget.value);r({type:"FORMAT.SET",format:x,src:"format-select"})}})}}}var jh=["hsba","hsla","rgba"],$ce=new RegExp(`^(${jh.join("|")})$`);function _O(e){const t=jh.indexOf(e);return jh[t+1]??jh[0]}function Rce(e){if($ce.test(e))return e;throw new Error(`Unsupported color format: ${e}`)}var Fd=e=>ea(e),Ace=/^[0-9a-fA-F]{3,8}$/;function Nce(e){return Ace.test(e)}function Mce(e){return e.startsWith("#")?e:Nce(e)?`#${e}`:e}var{and:Dce}=Ev(),Lce={props({props:e}){return{dir:"ltr",defaultValue:Fd("#000000"),defaultFormat:"rgba",openAutoFocus:!0,...e,positioning:{placement:"bottom",...e.positioning}}},initialState({prop:e}){return e("open")||e("defaultOpen")||e("inline")?"open":"idle"},context({prop:e,bindable:t,getContext:n}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual(r,o){return r.toString("css")===o?.toString("css")},hash(r){return r.toString("css")},onChange(r){const o=n(),i=r.toString(o.get("format"));e("onValueChange")?.({value:r,valueAsString:i})}})),format:t(()=>({defaultValue:e("defaultFormat"),value:e("format"),onChange(r){e("onFormatChange")?.({format:r})}})),activeId:t(()=>({defaultValue:null})),activeChannel:t(()=>({defaultValue:null})),activeOrientation:t(()=>({defaultValue:null})),fieldsetDisabled:t(()=>({defaultValue:!1})),restoreFocus:t(()=>({defaultValue:!0})),currentPlacement:t(()=>({defaultValue:void 0}))}},computed:{rtl:({prop:e})=>e("dir")==="rtl",disabled:({prop:e,context:t})=>!!e("disabled")||t.get("fieldsetDisabled"),interactive:({prop:e})=>!(e("disabled")||e("readOnly")),valueAsString:({context:e})=>e.get("value").toString(e.get("format")),areaValue:({context:e})=>{const t=e.get("format").startsWith("hsl")?"hsla":"hsba";return e.get("value").toFormat(t)}},effects:["trackFormControl"],watch({prop:e,context:t,action:n,track:r}){r([()=>t.hash("value")],()=>{n(["syncInputElements","dispatchChangeEvent"])}),r([()=>t.get("format")],()=>{n(["syncFormatSelectElement"])}),r([()=>e("open")],()=>{n(["toggleVisibility"])})},on:{"VALUE.SET":{actions:["setValue"]},"FORMAT.SET":{actions:["setFormat"]},"CHANNEL_INPUT.CHANGE":{actions:["setChannelColorFromInput"]},"EYEDROPPER.CLICK":{actions:["openEyeDropper"]},"SWATCH_TRIGGER.CLICK":{actions:["setValue"]}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"CHANNEL_INPUT.FOCUS":{target:"focused",actions:["setActiveChannel"]}}},focused:{tags:["closed","focused"],on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"CHANNEL_INPUT.FOCUS":{actions:["setActiveChannel"]},"CHANNEL_INPUT.BLUR":{target:"idle",actions:["setChannelColorFromInput"]},"TRIGGER.BLUR":{target:"idle"}}},open:{tags:["open"],effects:["trackPositioning","trackDismissableElement"],on:{"CONTROLLED.CLOSE":[{guard:"shouldRestoreFocus",target:"focused",actions:["setReturnFocus"]},{target:"idle"}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"AREA.POINTER_DOWN":{target:"open:dragging",actions:["setActiveChannel","setAreaColorFromPoint","focusAreaThumb"]},"AREA.FOCUS":{actions:["setActiveChannel"]},"CHANNEL_SLIDER.POINTER_DOWN":{target:"open:dragging",actions:["setActiveChannel","setChannelColorFromPoint","focusChannelThumb"]},"CHANNEL_SLIDER.FOCUS":{actions:["setActiveChannel"]},"AREA.ARROW_LEFT":{actions:["decrementAreaXChannel"]},"AREA.ARROW_RIGHT":{actions:["incrementAreaXChannel"]},"AREA.ARROW_UP":{actions:["incrementAreaYChannel"]},"AREA.ARROW_DOWN":{actions:["decrementAreaYChannel"]},"AREA.PAGE_UP":{actions:["incrementAreaXChannel"]},"AREA.PAGE_DOWN":{actions:["decrementAreaXChannel"]},"CHANNEL_SLIDER.ARROW_LEFT":{actions:["decrementChannel"]},"CHANNEL_SLIDER.ARROW_RIGHT":{actions:["incrementChannel"]},"CHANNEL_SLIDER.ARROW_UP":{actions:["incrementChannel"]},"CHANNEL_SLIDER.ARROW_DOWN":{actions:["decrementChannel"]},"CHANNEL_SLIDER.PAGE_UP":{actions:["incrementChannel"]},"CHANNEL_SLIDER.PAGE_DOWN":{actions:["decrementChannel"]},"CHANNEL_SLIDER.HOME":{actions:["setChannelToMin"]},"CHANNEL_SLIDER.END":{actions:["setChannelToMax"]},"CHANNEL_INPUT.BLUR":{actions:["setChannelColorFromInput"]},INTERACT_OUTSIDE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["invokeOnClose","setReturnFocus"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"SWATCH_TRIGGER.CLICK":[{guard:Dce("isOpenControlled","closeOnSelect"),actions:["setValue","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["setValue","invokeOnClose","setReturnFocus"]},{actions:["setValue"]}]}},"open:dragging":{tags:["open"],exit:["clearActiveChannel"],effects:["trackPointerMove","disableTextSelection","trackPositioning","trackDismissableElement"],on:{"CONTROLLED.CLOSE":[{guard:"shouldRestoreFocus",target:"focused",actions:["setReturnFocus"]},{target:"idle"}],"AREA.POINTER_MOVE":{actions:["setAreaColorFromPoint","focusAreaThumb"]},"AREA.POINTER_UP":{target:"open",actions:["invokeOnChangeEnd"]},"CHANNEL_SLIDER.POINTER_MOVE":{actions:["setChannelColorFromPoint","focusChannelThumb"]},"CHANNEL_SLIDER.POINTER_UP":{target:"open",actions:["invokeOnChangeEnd"]},INTERACT_OUTSIDE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["invokeOnClose","setReturnFocus"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}]}}},implementations:{guards:{closeOnSelect:({prop:e})=>!!e("closeOnSelect"),isOpenControlled:({prop:e})=>e("open")!=null||!!e("inline"),shouldRestoreFocus:({context:e})=>!!e.get("restoreFocus")},effects:{trackPositioning({context:e,prop:t,scope:n}){if(t("inline"))return;e.get("currentPlacement")||e.set("currentPlacement",t("positioning")?.placement);const r=Kb(n);return _p(r,()=>_ce(n),{...t("positioning"),defer:!0,onComplete(i){e.set("currentPlacement",i.placement)}})},trackDismissableElement({context:e,scope:t,prop:n,send:r}){return n("inline")?void 0:Rv(()=>Uh(t),{type:"popover",exclude:Kb(t),defer:!0,onInteractOutside(i){n("onInteractOutside")?.(i),!i.defaultPrevented&&e.set("restoreFocus",!(i.detail.focusable||i.detail.contextmenu))},onPointerDownOutside:n("onPointerDownOutside"),onFocusOutside:n("onFocusOutside"),onDismiss(){r({type:"INTERACT_OUTSIDE"})}})},trackFormControl({context:e,scope:t,send:n}){const r=wO(t);return xw(r,{onFieldsetDisabledChange(o){e.set("fieldsetDisabled",o)},onFormReset(){n({type:"VALUE.SET",value:e.initial("value"),src:"form.reset"})}})},trackPointerMove({context:e,scope:t,event:n,send:r}){return xA(t.getDoc(),{onPointerMove({point:o}){const i=e.get("activeId")==="area"?"AREA.POINTER_MOVE":"CHANNEL_SLIDER.POINTER_MOVE";r({type:i,point:o,format:n.format})},onPointerUp(){const o=e.get("activeId")==="area"?"AREA.POINTER_UP":"CHANNEL_SLIDER.POINTER_UP";r({type:o})}})},disableTextSelection({scope:e}){return yA({doc:e.getDoc(),target:Uh(e)})}},actions:{openEyeDropper({scope:e,context:t}){const n=e.getWin();if(!("EyeDropper"in n))return;new n.EyeDropper().open().then(({sRGBHex:i})=>{const s=t.get("value").getFormat(),a=ea(i).toFormat(s);t.set("value",a)}).catch(()=>{})},setActiveChannel({context:e,event:t}){e.set("activeId",t.id),t.channel&&e.set("activeChannel",t.channel),t.orientation&&e.set("activeOrientation",t.orientation)},clearActiveChannel({context:e}){e.set("activeChannel",null),e.set("activeId",null),e.set("activeOrientation",null)},setAreaColorFromPoint({context:e,event:t,computed:n,scope:r,prop:o}){const i=t.format?e.get("value").toFormat(t.format):n("areaValue"),{xChannel:s,yChannel:a}=t.channel||e.get("activeChannel"),l=wce(r,t.point,o("dir"));if(!l)return;const c=i.getChannelPercentValue(s,l.x),u=i.getChannelPercentValue(a,1-l.y),p=i.withChannelValue(s,c).withChannelValue(a,u);e.set("value",p)},setChannelColorFromPoint({context:e,event:t,computed:n,scope:r,prop:o}){const i=t.channel||e.get("activeId"),s=t.format?e.get("value").toFormat(t.format):n("areaValue"),a=Cce(r,t.point,i,o("dir"));if(!a)return;const c=(e.get("activeOrientation")||"horizontal")==="horizontal"?a.x:a.y,u=s.getChannelPercentValue(i,c),p=s.withChannelValue(i,u);e.set("value",p)},setValue({context:e,event:t}){e.set("value",t.value)},setFormat({context:e,event:t}){e.set("format",t.format)},dispatchChangeEvent({scope:e,computed:t}){fA(wO(e),{value:t("valueAsString")})},syncInputElements({context:e,scope:t}){kO(t,e.get("value"))},invokeOnChangeEnd({context:e,prop:t,computed:n}){t("onValueChangeEnd")?.({value:e.get("value"),valueAsString:n("valueAsString")})},setChannelColorFromInput({context:e,event:t,scope:n,prop:r}){const{channel:o,isTextField:i,value:s}=t,a=e.get("value").getChannelValue("alpha");let l;if(o==="alpha"){let c=parseFloat(s);c=Number.isNaN(c)?a:c,l=e.get("value").withChannelValue("alpha",c)}else if(i)l=rA(()=>{const c=o==="hex"?Mce(s):s;return Fd(c).withChannelValue("alpha",a)},()=>e.get("value"));else{const c=e.get("value").toFormat(e.get("format")),u=Number.isNaN(s)?c.getChannelValue(o):s;l=c.withChannelValue(o,u)}kO(n,e.get("value"),l),e.set("value",l),r("onValueChangeEnd")?.({value:l,valueAsString:l.toString(e.get("format"))})},incrementChannel({context:e,event:t}){const n=e.get("value").incrementChannel(t.channel,t.step);e.set("value",n)},decrementChannel({context:e,event:t}){const n=e.get("value").decrementChannel(t.channel,t.step);e.set("value",n)},incrementAreaXChannel({context:e,event:t,computed:n}){const{xChannel:r}=t.channel,o=n("areaValue").incrementChannel(r,t.step);e.set("value",o)},decrementAreaXChannel({context:e,event:t,computed:n}){const{xChannel:r}=t.channel,o=n("areaValue").decrementChannel(r,t.step);e.set("value",o)},incrementAreaYChannel({context:e,event:t,computed:n}){const{yChannel:r}=t.channel,o=n("areaValue").incrementChannel(r,t.step);e.set("value",o)},decrementAreaYChannel({context:e,event:t,computed:n}){const{yChannel:r}=t.channel,o=n("areaValue").decrementChannel(r,t.step);e.set("value",o)},setChannelToMax({context:e,event:t}){const n=e.get("value"),r=n.getChannelRange(t.channel),o=n.withChannelValue(t.channel,r.maxValue);e.set("value",o)},setChannelToMin({context:e,event:t}){const n=e.get("value"),r=n.getChannelRange(t.channel),o=n.withChannelValue(t.channel,r.minValue);e.set("value",o)},focusAreaThumb({scope:e}){tt(()=>{vce(e)?.focus({preventScroll:!0})})},focusChannelThumb({event:e,scope:t}){tt(()=>{bce(t,e.channel)?.focus({preventScroll:!0})})},setInitialFocus({prop:e,scope:t}){e("openAutoFocus")&&tt(()=>{jg({root:Uh(t),getInitialEl:e("initialFocusEl")})?.focus({preventScroll:!0})})},setReturnFocus({scope:e}){tt(()=>{Kb(e)?.focus({preventScroll:!0})})},syncFormatSelectElement({context:e,scope:t}){Vce(t,e.get("format"))},invokeOnOpen({prop:e}){e("inline")||e("onOpenChange")?.({open:!0})},invokeOnClose({prop:e}){e("inline")||e("onOpenChange")?.({open:!1})},toggleVisibility({prop:e,event:t,send:n}){n({type:e("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:t})}}}};function kO(e,t,n){const r=Ece(e);tt(()=>{r.forEach(o=>{const i=o.dataset.channel;rf(o,Q0(n||t,i))})})}function Vce(e,t){const n=yce(e);n&&tt(()=>rf(n,t))}en()(["closeOnSelect","dir","disabled","format","defaultFormat","getRootNode","id","ids","initialFocusEl","inline","name","positioning","onFocusOutside","onFormatChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","onValueChangeEnd","defaultOpen","open","positioning","required","readOnly","value","defaultValue","invalid","openAutoFocus"]);en()(["xChannel","yChannel"]);en()(["channel","orientation"]);en()(["value","disabled"]);en()(["value","respectAlpha"]);en()(["size"]);const Fce=()=>(e,t)=>t.reduce((n,r)=>{const[o,i]=n,s=r;return i[s]!==void 0&&(o[s]=i[s]),delete i[s],[o,i]},[{},{...e}]),[Bce,Uw]=Tt("AccordionItemPropsContext"),Hce=P({__name:"accordion-item-content",props:{asChild:{type:Boolean}},setup(e){const t=Fce(),n=uf(),r=Uw(),o=A(()=>{const i=n.value.getItemContentProps(r),[,s]=t(i,["hidden","data-state"]);return s});return ee(),(i,s)=>(y(),$(d(qA).Content,F(o.value,{"as-child":i.asChild}),{default:O(()=>[L(i.$slots,"default")]),_:3},16,["as-child"]))}}),[zce,Uce]=Tt("AccordionItemContext"),jce=P({__name:"accordion-item-context",setup(e){const t=Uce();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),Gce=P({__name:"accordion-item-indicator",props:{asChild:{type:Boolean}},setup(e){const t=uf(),n=Uw();return ee(),(r,o)=>(y(),$(d(te).div,F(d(t).getItemIndicatorProps(d(n)),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),Wce=P({__name:"accordion-item-trigger",props:{asChild:{type:Boolean}},setup(e){const t=uf(),n=Uw(),r=df(),o=A(()=>{const{"aria-controls":i,...s}=t.value.getItemTriggerProps(n);return{...s,...r.value.unmounted?{}:{"aria-controls":i}}});return ee(),(i,s)=>(y(),$(d(te).button,F(o.value,{"as-child":i.asChild}),{default:O(()=>[L(i.$slots,"default")]),_:3},16,["as-child"]))}}),qce=P({__name:"accordion-item",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=uf(),n=e,r=A(()=>t.value.getItemState(n)),o=yu(),i=A(()=>t.value.getItemContentProps(n));return zce(r),Bce(n),ee(),(s,a)=>(y(),$(d(qA).Root,F(d(t).getItemProps(n),{open:r.value.expanded,"lazy-mount":d(o).lazyMount,"unmount-on-exit":d(o).unmountOnExit,ids:{content:i.value.id}}),{default:O(()=>[L(s.$slots,"default")]),_:3},16,["open","lazy-mount","unmount-on-exit","ids"]))}}),Kce=P({__name:"accordion-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=A(()=>t.value);return GA(n),ui(A(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),ee(),(r,o)=>(y(),$(d(te).div,F(n.value.getRootProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}});var Yce=_r("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator"),Wu=Yce.build(),Xg=e=>e.ids?.root??`accordion:${e.id}`,Xce=(e,t)=>e.ids?.item?.(t)??`accordion:${e.id}:item:${t}`,CO=(e,t)=>e.ids?.itemContent?.(t)??`accordion:${e.id}:content:${t}`,Jg=(e,t)=>e.ids?.itemTrigger?.(t)??`accordion:${e.id}:trigger:${t}`,Jce=e=>e.getById(Xg(e)),Av=e=>{const n=`[aria-controls][data-ownedby='${CSS.escape(Xg(e))}']:not([disabled])`;return bp(Jce(e),n)},Zce=e=>fw(Av(e)),Qce=e=>hw(Av(e)),eue=(e,t)=>wie(Av(e),Jg(e,t)),tue=(e,t)=>_ie(Av(e),Jg(e,t));function nue(e,t){const{send:n,context:r,prop:o,scope:i,computed:s}=e,a=r.get("focusedValue"),l=r.get("value"),c=o("multiple");function u(h){let f=h;!c&&f.length>1&&(f=[f[0]]),n({type:"VALUE.SET",value:f})}function p(h){return{expanded:l.includes(h.value),focused:a===h.value,disabled:!!(h.disabled??o("disabled"))}}return{focusedValue:a,value:l,setValue:u,getItemState:p,getRootProps(){return t.element({...Wu.root.attrs,dir:o("dir"),id:Xg(i),"data-orientation":o("orientation")})},getItemProps(h){const f=p(h);return t.element({...Wu.item.attrs,dir:o("dir"),id:Xce(i,h.value),"data-state":f.expanded?"open":"closed","data-focus":Y(f.focused),"data-disabled":Y(f.disabled),"data-orientation":o("orientation")})},getItemContentProps(h){const f=p(h);return t.element({...Wu.itemContent.attrs,dir:o("dir"),role:"region",id:CO(i,h.value),"aria-labelledby":Jg(i,h.value),hidden:!f.expanded,"data-state":f.expanded?"open":"closed","data-disabled":Y(f.disabled),"data-focus":Y(f.focused),"data-orientation":o("orientation")})},getItemIndicatorProps(h){const f=p(h);return t.element({...Wu.itemIndicator.attrs,dir:o("dir"),"aria-hidden":!0,"data-state":f.expanded?"open":"closed","data-disabled":Y(f.disabled),"data-focus":Y(f.focused),"data-orientation":o("orientation")})},getItemTriggerProps(h){const{value:f}=h,g=p(h);return t.button({...Wu.itemTrigger.attrs,type:"button",dir:o("dir"),id:Jg(i,f),"aria-controls":CO(i,f),"aria-expanded":g.expanded,disabled:g.disabled,"data-orientation":o("orientation"),"aria-disabled":g.disabled,"data-state":g.expanded?"open":"closed","data-ownedby":Xg(i),onFocus(){g.disabled||n({type:"TRIGGER.FOCUS",value:f})},onBlur(){g.disabled||n({type:"TRIGGER.BLUR"})},onClick(m){g.disabled||(Cv()&&m.currentTarget.focus(),n({type:"TRIGGER.CLICK",value:f}))},onKeyDown(m){if(m.defaultPrevented||g.disabled)return;const b={ArrowDown(){s("isHorizontal")||n({type:"GOTO.NEXT",value:f})},ArrowUp(){s("isHorizontal")||n({type:"GOTO.PREV",value:f})},ArrowRight(){s("isHorizontal")&&n({type:"GOTO.NEXT",value:f})},ArrowLeft(){s("isHorizontal")&&n({type:"GOTO.PREV",value:f})},Home(){n({type:"GOTO.FIRST",value:f})},End(){n({type:"GOTO.LAST",value:f})}},w=Wc(m,{dir:o("dir"),orientation:o("orientation")}),E=b[w];E&&(E(m),m.preventDefault())}})}}}var{and:rue,not:oue}=Ev(),iue={props({props:e}){return{collapsible:!1,multiple:!1,orientation:"vertical",defaultValue:[],...e}},initialState(){return"idle"},context({prop:e,bindable:t}){return{focusedValue:t(()=>({defaultValue:null,sync:!0,onChange(n){e("onFocusChange")?.({value:n})}})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){e("onValueChange")?.({value:n})}}))}},computed:{isHorizontal:({prop:e})=>e("orientation")==="horizontal"},on:{"VALUE.SET":{actions:["setValue"]}},states:{idle:{on:{"TRIGGER.FOCUS":{target:"focused",actions:["setFocusedValue"]}}},focused:{on:{"GOTO.NEXT":{actions:["focusNextTrigger"]},"GOTO.PREV":{actions:["focusPrevTrigger"]},"TRIGGER.CLICK":[{guard:rue("isExpanded","canToggle"),actions:["collapse"]},{guard:oue("isExpanded"),actions:["expand"]}],"GOTO.FIRST":{actions:["focusFirstTrigger"]},"GOTO.LAST":{actions:["focusLastTrigger"]},"TRIGGER.BLUR":{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{canToggle:({prop:e})=>!!e("collapsible")||!!e("multiple"),isExpanded:({context:e,event:t})=>e.get("value").includes(t.value)},actions:{collapse({context:e,prop:t,event:n}){const r=t("multiple")?Ure(e.get("value"),n.value):[];e.set("value",r)},expand({context:e,prop:t,event:n}){const r=t("multiple")?zre(e.get("value"),n.value):[n.value];e.set("value",r)},focusFirstTrigger({scope:e}){Zce(e)?.focus()},focusLastTrigger({scope:e}){Qce(e)?.focus()},focusNextTrigger({context:e,scope:t}){const n=e.get("focusedValue");if(!n)return;eue(t,n)?.focus()},focusPrevTrigger({context:e,scope:t}){const n=e.get("focusedValue");if(!n)return;tue(t,n)?.focus()},setFocusedValue({context:e,event:t}){e.set("focusedValue",t.value)},clearFocusedValue({context:e}){e.set("focusedValue",null)},setValue({context:e,event:t}){e.set("value",t.value)},coarseValue({context:e,prop:t}){!t("multiple")&&e.get("value").length>1&&(zg("The value of accordion should be a single value when multiple is false."),e.set("value",[e.get("value")[0]]))}}}};en()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value","defaultValue"]);en()(["value","disabled"]);const sue=(e={},t)=>{const n=nt(),r=Zi(Qi),o=ts(es),i=A(()=>{const a=pe(e);return{id:n,dir:o.value.dir,getRootNode:r?.value.getRootNode,onFocusChange:l=>t?.("focusChange",l),value:a.modelValue,...da(a),onValueChange:l=>{t?.("valueChange",l),t?.("update:modelValue",l.value),a?.onValueChange?.(l)}}}),s=Ji(iue,i);return A(()=>nue(s,ua))},aue=P({__name:"accordion-root",props:Ze({collapsible:{type:Boolean},defaultValue:{},disabled:{type:Boolean},id:{},ids:{},modelValue:{},multiple:{type:Boolean},orientation:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{collapsible:void 0,disabled:void 0,multiple:void 0}),emits:["focusChange","valueChange","update:modelValue"],setup(e,{emit:t}){const n=e,o=sue(n,t);return GA(o),ui(A(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),ee(),(i,s)=>(y(),$(d(te).div,F(d(o).getRootProps(),{"as-child":i.asChild}),{default:O(()=>[L(i.$slots,"default")]),_:3},16,["as-child"]))}}),qu=Object.freeze(Object.defineProperty({__proto__:null,Context:Dle,Item:qce,ItemContent:Hce,ItemContext:jce,ItemIndicator:Gce,ItemTrigger:Wce,Root:aue,RootProvider:Kce},Symbol.toStringTag,{value:"Module"})),lue=P({__name:"presence",props:Ze({immediate:{type:Boolean},lazyMount:{type:Boolean},present:{type:Boolean},skipAnimationOnMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{immediate:void 0,lazyMount:void 0,present:void 0,skipAnimationOnMount:void 0,unmountOnExit:void 0}),emits:["exitComplete"],setup(e,{emit:t}){const o=af(e,t);return sf(o),ee(),(i,s)=>d(o).unmounted?Z("",!0):(y(),$(d(te).div,F({key:0},d(o).presenceProps,{"as-child":i.asChild,"data-scope":"presence","data-part":"root"}),{default:O(()=>[L(i.$slots,"default")]),_:3},16,["as-child"]))}});var cue=Object.defineProperty,uue=(e,t,n)=>t in e?cue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nt=(e,t,n)=>uue(e,typeof t!="symbol"?t+"":t,n),EO={activateTrap(e,t){if(e.length>0){const r=e[e.length-1];r!==t&&r.pause()}const n=e.indexOf(t);n===-1||e.splice(n,1),e.push(t)},deactivateTrap(e,t){const n=e.indexOf(t);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},due=[],pue=class{constructor(e,t){Nt(this,"trapStack"),Nt(this,"config"),Nt(this,"doc"),Nt(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),Nt(this,"listenerCleanups",[]),Nt(this,"handleFocus",r=>{const o=Yn(r),i=this.findContainerIndex(o,r)>=0;if(i||vw(o))i&&(this.state.mostRecentlyFocusedNode=o);else{r.stopImmediatePropagation();let s,a=!0;if(this.state.mostRecentlyFocusedNode)if(ju(this.state.mostRecentlyFocusedNode)>0){const l=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:c}=this.state.containerGroups[l];if(c.length>0){const u=c.findIndex(p=>p===this.state.mostRecentlyFocusedNode);u>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?u+1<c.length&&(s=c[u+1],a=!1):u-1>=0&&(s=c[u-1],a=!1))}}else this.state.containerGroups.some(l=>l.tabbableNodes.some(c=>ju(c)>0))||(a=!1);else a=!1;a&&(s=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),s?this.tryFocus(s):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),Nt(this,"handlePointerDown",r=>{const o=Yn(r);if(!(this.findContainerIndex(o,r)>=0)){if(Yu(this.config.clickOutsideDeactivates,r)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}Yu(this.config.allowOutsideClick,r)||r.preventDefault()}}),Nt(this,"handleClick",r=>{const o=Yn(r);this.findContainerIndex(o,r)>=0||Yu(this.config.clickOutsideDeactivates,r)||Yu(this.config.allowOutsideClick,r)||(r.preventDefault(),r.stopImmediatePropagation())}),Nt(this,"handleTabKey",r=>{if(this.config.isKeyForward(r)||this.config.isKeyBackward(r)){this.state.recentNavEvent=r;const o=this.config.isKeyBackward(r),i=this.findNextNavNode({event:r,isBackward:o});if(!i)return;Ku(r)&&r.preventDefault(),this.tryFocus(i)}}),Nt(this,"handleEscapeKey",r=>{fue(r)&&Yu(this.config.escapeDeactivates,r)!==!1&&(r.preventDefault(),this.deactivate())}),Nt(this,"_mutationObserver"),Nt(this,"setupMutationObserver",()=>{const r=this.doc.defaultView||window;this._mutationObserver=new r.MutationObserver(o=>{o.some(s=>Array.from(s.removedNodes).some(l=>l===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode())})}),Nt(this,"updateObservedNodes",()=>{this._mutationObserver?.disconnect(),this.state.active&&!this.state.paused&&this.state.containers.map(r=>{this._mutationObserver?.observe(r,{subtree:!0,childList:!0})})}),Nt(this,"getInitialFocusNode",()=>{let r=this.getNodeForOption("initialFocus",{hasFallback:!0});if(r===!1)return!1;if(r===void 0||r&&!Vs(r)){const o=Tc(this.doc);if(o&&this.findContainerIndex(o)>=0)r=o;else{const i=this.state.tabbableGroups[0];r=i&&i.firstTabbableNode||this.getNodeForOption("fallbackFocus")}}else r===null&&(r=this.getNodeForOption("fallbackFocus"));if(!r)throw new Error("Your focus-trap needs to have at least one focusable element");return r.isConnected||(r=this.getNodeForOption("fallbackFocus")),r}),Nt(this,"tryFocus",r=>{if(r!==!1&&r!==Tc(this.doc)){if(!r||!r.focus){this.tryFocus(this.getInitialFocusNode());return}r.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=r,hue(r)&&r.select()}}),Nt(this,"deactivate",r=>{if(!this.state.active)return this;const o={onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus,...r};clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),EO.deactivateTrap(this.trapStack,this);const i=this.getOption(o,"onDeactivate"),s=this.getOption(o,"onPostDeactivate"),a=this.getOption(o,"checkCanReturnFocus"),l=this.getOption(o,"returnFocus","returnFocusOnDeactivate");i?.();const c=()=>{OO(()=>{if(l){const u=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(u)}s?.()})};if(l&&a){const u=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return a(u).then(c,c),this}return c(),this}),Nt(this,"pause",r=>{if(this.state.paused||!this.state.active)return this;const o=this.getOption(r,"onPause"),i=this.getOption(r,"onPostPause");return this.state.paused=!0,o?.(),this.removeListeners(),this.updateObservedNodes(),i?.(),this}),Nt(this,"unpause",r=>{if(!this.state.paused||!this.state.active)return this;const o=this.getOption(r,"onUnpause"),i=this.getOption(r,"onPostUnpause");return this.state.paused=!1,o?.(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),i?.(),this}),Nt(this,"updateContainerElements",r=>(this.state.containers=Array.isArray(r)?r.filter(Boolean):[r].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),Nt(this,"getReturnFocusNode",r=>{const o=this.getNodeForOption("setReturnFocus",{params:[r]});return o||(o===!1?!1:r)}),Nt(this,"getOption",(r,o,i)=>r&&r[o]!==void 0?r[o]:this.config[i||o]),Nt(this,"getNodeForOption",(r,{hasFallback:o=!1,params:i=[]}={})=>{let s=this.config[r];if(typeof s=="function"&&(s=s(...i)),s===!0&&(s=void 0),!s){if(s===void 0||s===!1)return s;throw new Error(`\`${r}\` was specified but was not a node, or did not return a node`)}let a=s;if(typeof s=="string"){try{a=this.doc.querySelector(s)}catch(l){throw new Error(`\`${r}\` appears to be an invalid selector; error="${l.message}"`)}if(!a&&!o)throw new Error(`\`${r}\` as selector refers to no known node`)}return a}),Nt(this,"findNextNavNode",r=>{const{event:o,isBackward:i=!1}=r,s=r.target||Yn(o);this.updateTabbableNodes();let a=null;if(this.state.tabbableGroups.length>0){const l=this.findContainerIndex(s,o),c=l>=0?this.state.containerGroups[l]:void 0;if(l<0)i?a=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:a=this.state.tabbableGroups[0].firstTabbableNode;else if(i){let u=this.state.tabbableGroups.findIndex(({firstTabbableNode:p})=>s===p);if(u<0&&(c?.container===s||Vs(s)&&!ks(s)&&!c?.nextTabbableNode(s,!1))&&(u=l),u>=0){const p=u===0?this.state.tabbableGroups.length-1:u-1,h=this.state.tabbableGroups[p];a=ju(s)>=0?h.lastTabbableNode:h.lastDomTabbableNode}else Ku(o)||(a=c?.nextTabbableNode(s,!1))}else{let u=this.state.tabbableGroups.findIndex(({lastTabbableNode:p})=>s===p);if(u<0&&(c?.container===s||Vs(s)&&!ks(s)&&!c?.nextTabbableNode(s))&&(u=l),u>=0){const p=u===this.state.tabbableGroups.length-1?0:u+1,h=this.state.tabbableGroups[p];a=ju(s)>=0?h.firstTabbableNode:h.firstDomTabbableNode}else Ku(o)||(a=c?.nextTabbableNode(s))}}else a=this.getNodeForOption("fallbackFocus");return a}),this.trapStack=t.trapStack||due;const n={returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward(r){return Ku(r)&&!r.shiftKey},isKeyBackward(r){return Ku(r)&&r.shiftKey},...t};this.doc=n.document||ci(Array.isArray(e)?e[0]:e),this.config=n,this.updateContainerElements(e),this.setupMutationObserver()}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(e,t){const n=typeof t?.composedPath=="function"?t.composedPath():void 0;return this.state.containerGroups.findIndex(({container:r,tabbableNodes:o})=>r.contains(e)||n?.includes(r)||o.find(i=>i===e))}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(e=>{const t=of(e),n=gA(e),r=t.length>0?t[0]:void 0,o=t.length>0?t[t.length-1]:void 0,i=n.find(c=>ks(c)),s=n.slice().reverse().find(c=>ks(c)),a=!!t.find(c=>ju(c)>0);function l(c,u=!0){const p=t.indexOf(c);return p<0?u?n.slice(n.indexOf(c)+1).find(h=>ks(h)):n.slice(0,n.indexOf(c)).reverse().find(h=>ks(h)):t[p+(u?1:-1)]}return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:a,firstTabbableNode:r,lastTabbableNode:o,firstDomTabbableNode:i,lastDomTabbableNode:s,nextTabbableNode:l}}),this.state.tabbableGroups=this.state.containerGroups.filter(e=>e.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(e=>e.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return EO.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?OO(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(Ft(this.doc,"focusin",this.handleFocus,!0),Ft(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),Ft(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),Ft(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),Ft(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),Ft(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(e=>e()),this.listenerCleanups=[],this}activate(e){if(this.state.active)return this;const t=this.getOption(e,"onActivate"),n=this.getOption(e,"onPostActivate"),r=this.getOption(e,"checkCanFocusTrap");r||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=Tc(this.doc),t?.();const o=()=>{r&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),n?.()};return r?(r(this.state.containers.concat()).then(o,o),this):(o(),this)}},Ku=e=>e.key==="Tab",Yu=(e,...t)=>typeof e=="function"?e(...t):e,fue=e=>!e.isComposing&&e.key==="Escape",OO=e=>setTimeout(e,0),hue=e=>e.localName==="input"&&"select"in e&&typeof e.select=="function";function iN(e,t={}){let n;const r=tt(()=>{const o=typeof e=="function"?e():e;if(o){n=new pue(o,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:o,...t,document:ci(o)});try{n.activate()}catch{}}});return function(){n?.deactivate(),r()}}var Yb="data-scroll-lock";function gue(e){const t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function sN(e){const t=e??document,n=t.defaultView??window,{documentElement:r,body:o}=t;if(o.hasAttribute(Yb))return;const s=n.innerWidth-r.clientWidth;o.setAttribute(Yb,"");const a=()=>Tie(r,"--scrollbar-width",`${s}px`),l=gue(r),c=()=>yp(o,{overflow:"hidden",[l]:`${s}px`}),u=()=>{const{scrollX:h,scrollY:f,visualViewport:g}=n,m=g?.offsetLeft??0,b=g?.offsetTop??0,w=yp(o,{position:"fixed",overflow:"hidden",top:`${-(f-Math.floor(b))}px`,left:`${-(h-Math.floor(m))}px`,right:"0",[l]:`${s}px`});return()=>{w?.(),n.scrollTo({left:h,top:f,behavior:"instant"})}},p=[a(),_v()?u():c()];return()=>{p.forEach(h=>h?.()),o.removeAttribute(Yb)}}var Ul=new WeakMap,nh=new WeakMap,rh={},Xb=0,aN=e=>e&&(e.host||aN(e.parentNode)),mue=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=aN(n);return r&&e.contains(r)?r:(console.error("[zag-js > ariaHidden] target",n,"in not contained inside",e,". Doing nothing"),null)}).filter(n=>!!n),vue=new Set(["script","output","status","next-route-announcer"]),bue=e=>vue.has(e.localName)||e.role==="status"||e.hasAttribute("aria-live")?!0:e.matches("[data-live-announcer]"),yue=(e,t)=>{const{parentNode:n,markerName:r,controlAttribute:o}=t,i=mue(n,Array.isArray(e)?e:[e]);rh[r]||(rh[r]=new WeakMap);const s=rh[r],a=[],l=new Set,c=new Set(i),u=h=>{!h||l.has(h)||(l.add(h),u(h.parentNode))};i.forEach(u);const p=h=>{!h||c.has(h)||Array.prototype.forEach.call(h.children,f=>{if(l.has(f))p(f);else try{if(bue(f))return;const m=f.getAttribute(o)==="true",b=(Ul.get(f)||0)+1,w=(s.get(f)||0)+1;Ul.set(f,b),s.set(f,w),a.push(f),b===1&&m&&nh.set(f,!0),w===1&&f.setAttribute(r,""),m||f.setAttribute(o,"true")}catch(g){console.error("[zag-js > ariaHidden] cannot operate on ",f,g)}})};return p(n),l.clear(),Xb++,()=>{a.forEach(h=>{const f=Ul.get(h)-1,g=s.get(h)-1;Ul.set(h,f),s.set(h,g),f||(nh.has(h)||h.removeAttribute(o),nh.delete(h)),g||h.removeAttribute(r)}),Xb--,Xb||(Ul=new WeakMap,Ul=new WeakMap,nh=new WeakMap,rh={})}},xue=e=>(Array.isArray(e)?e[0]:e).ownerDocument.body,wue=(e,t=xue(e),n="data-aria-hidden")=>{if(t)return yue(e,{parentNode:t,markerName:n,controlAttribute:"aria-hidden"})},_ue=e=>{const t=requestAnimationFrame(()=>e());return()=>cancelAnimationFrame(t)};function lN(e,t={}){const{defer:n=!0}=t,r=n?_ue:i=>i(),o=[];return o.push(r(()=>{const s=(typeof e=="function"?e():e).filter(Boolean);s.length!==0&&o.push(wue(s))})),()=>{o.forEach(i=>i?.())}}const[cN,Yr]=Tt("FieldContext"),[kue,uN]=Tt("ColorPickerAreaPropsContext"),[dN,Ot]=Tt("ColorPickerContext"),Cue=P({__name:"color-picker-area-background",props:{asChild:{type:Boolean}},setup(e){const t=Ot(),n=uN();return ee(),(r,o)=>(y(),$(d(te).div,F(d(t).getAreaBackgroundProps(d(n)),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),Eue=P({__name:"color-picker-area-thumb",props:{asChild:{type:Boolean}},setup(e){const t=Ot(),n=uN();return ee(),(r,o)=>(y(),$(d(te).div,F(d(t).getAreaThumbProps(d(n)),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),Oue=P({__name:"color-picker-area",props:{xChannel:{},yChannel:{},asChild:{type:Boolean}},setup(e){const t=e,n=Ot();return kue(t),ee(),(r,o)=>(y(),$(d(te).div,F(d(n).getAreaProps(t),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),Iue=P({__name:"color-picker-channel-input",props:{channel:{},orientation:{},asChild:{type:Boolean}},setup(e){const t=e,n=Ot();return ee(),(r,o)=>(y(),$(d(te).input,F(d(n).getChannelInputProps(t),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),[Tue,Nv]=Tt("ColorPickerChannelPropsContext"),Sue=P({__name:"color-picker-channel-slider-label",props:{asChild:{type:Boolean}},setup(e){const t=Ot(),n=Nv();return ee(),(r,o)=>(y(),$(d(te).label,F(d(t).getChannelSliderLabelProps(d(n)),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),[Pue,jw]=Tt("ColorPickerFormatProps"),$ue=P({__name:"color-picker-channel-slider-thumb",props:{asChild:{type:Boolean}},setup(e){const t=Ot(),n=jw(),r=Nv(),o=A(()=>({...r,...n}));return ee(),(i,s)=>(y(),$(d(te).div,F(d(t).getChannelSliderThumbProps(o.value),{"as-child":i.asChild}),{default:O(()=>[L(i.$slots,"default")]),_:3},16,["as-child"]))}}),Rue=P({__name:"color-picker-channel-slider-track",props:{asChild:{type:Boolean}},setup(e){const t=Ot(),n=jw(),r=Nv(),o=A(()=>({...r,...n}));return ee(),(i,s)=>(y(),$(d(te).div,F(d(t).getChannelSliderTrackProps(o.value),{"as-child":i.asChild}),{default:O(()=>[L(i.$slots,"default")]),_:3},16,["as-child"]))}}),Aue=P({__name:"color-picker-channel-slider-value-text",props:{asChild:{type:Boolean}},setup(e){const t=Ot(),n=Nv(),r=xo(),o=ts(es);return ee(),(i,s)=>(y(),$(d(te).span,F(d(t).getChannelSliderValueTextProps(d(n)),{"as-child":i.asChild}),{default:O(()=>[L(i.$slots,"default",{},()=>[re(j(r.default?.()||d(t).getChannelValueText(d(n).channel,d(o).locale)),1)])]),_:3},16,["as-child"]))}}),Nue=P({__name:"color-picker-channel-slider",props:{channel:{},orientation:{},asChild:{type:Boolean}},setup(e){const t=e,n=Ot(),r=jw(),o=A(()=>({...t,...r}));return Tue(t),ee(),(i,s)=>(y(),$(d(te).div,F(d(n).getChannelSliderProps(o.value),{"as-child":i.asChild}),{default:O(()=>[L(i.$slots,"default")]),_:3},16,["as-child"]))}}),Mue=P({__name:"color-picker-content",props:{immediate:{type:Boolean},lazyMount:{type:Boolean},present:{type:Boolean},skipAnimationOnMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=Ot(),n=Iv(),r=A(()=>bu(t.value.getContentProps(),n.value.presenceProps));return ee(),(o,i)=>d(n).unmounted?Z("",!0):(y(),$(d(te).div,F({key:0},r.value,{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),Due=P({__name:"color-picker-context",setup(e){const t=Ot();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),Lue=P({__name:"color-picker-control",props:{asChild:{type:Boolean}},setup(e){const t=Ot();return ee(),(n,r)=>(y(),$(d(te).div,F(d(t).getControlProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Vue=P({__name:"color-picker-eye-dropper-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Ot();return ee(),(n,r)=>(y(),$(d(te).button,F(d(t).getEyeDropperTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Fue=P({__name:"color-picker-format-select",props:{asChild:{type:Boolean}},setup(e){const t=Ot();return ee(),(n,r)=>(y(),$(d(te).select,Be(Fe(d(t).getFormatSelectProps())),{default:O(()=>[(y(),V(ge,null,Ie(["rgba","hsla","hsba"],o=>S(d(te).option,{key:o,value:o},{default:O(()=>[re(j(o),1)]),_:2},1032,["value"])),64))]),_:1},16))}}),Bue=P({__name:"color-picker-format-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Ot();return ee(),(n,r)=>(y(),$(d(te).button,F(d(t).getFormatTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Hue=P({__name:"color-picker-hidden-input",props:{asChild:{type:Boolean}},setup(e){const t=Ot(),n=Yr();return ee(),(r,o)=>(y(),$(d(te).input,F({"aria-describedby":d(n)?.ariaDescribedby},d(t).getHiddenInputProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["aria-describedby","as-child"]))}}),zue=P({__name:"color-picker-label",props:{asChild:{type:Boolean}},setup(e){const t=Ot();return ee(),(n,r)=>(y(),$(d(te).label,F(d(t).getLabelProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Uue=P({__name:"color-picker-positioner",props:{asChild:{type:Boolean}},setup(e){const t=Ot(),n=yu(),r=af(A(()=>({...n.value,present:t.value.open})));return sf(r),ee(),(o,i)=>d(r).unmounted?Z("",!0):(y(),$(d(te).div,F({key:0},d(t).getPositionerProps(),{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),jue=P({__name:"color-picker-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=A(()=>t.value);return dN(n),ui(A(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),ee(),(r,o)=>(y(),$(d(te).div,F(n.value.getRootProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),Gue=(e={},t)=>{const n=nt(),r=Zi(Qi),o=ts(es),i=Yr(),s=A(()=>{const l=pe(e);return{id:n,ids:{label:i?.value.ids.label,input:i?.value.ids.control},disabled:i?.value.disabled,invalid:i?.value.invalid,readOnly:i?.value.readOnly,required:i?.value.required,dir:o.value.dir,value:l.modelValue,getRootNode:r?.value.getRootNode,...da(l),onOpenChange(c){t?.("openChange",c),t?.("update:open",c.open),l.onOpenChange?.(c)},onValueChange(c){t?.("valueChange",c),t?.("update:modelValue",c.value),l.onValueChange?.(c)},onFocusOutside:c=>{t?.("focusOutside",c),l.onFocusOutside?.(c)},onFormatChange:c=>{t?.("formatChange",c),t?.("update:format",c.format),l.onFormatChange?.(c)},onInteractOutside:c=>{t?.("interactOutside",c),l.onInteractOutside?.(c)},onPointerDownOutside:c=>{t?.("pointerDownOutside",c),l.onPointerDownOutside?.(c)},onValueChangeEnd:c=>{t?.("valueChangeEnd",c),l.onValueChangeEnd?.(c)}}}),a=Ji(Lce,s);return A(()=>Pce(a,ua))},Wue=P({__name:"color-picker-root",props:Ze({closeOnSelect:{type:Boolean},defaultFormat:{},defaultOpen:{type:Boolean},defaultValue:{},disabled:{type:Boolean},format:{},id:{},ids:{},initialFocusEl:{type:Function},invalid:{type:Boolean},modelValue:{},name:{},open:{type:Boolean},openAutoFocus:{type:Boolean},positioning:{},readOnly:{type:Boolean},required:{type:Boolean},inline:{type:Boolean},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{closeOnSelect:void 0,defaultOpen:void 0,disabled:void 0,invalid:void 0,open:void 0,openAutoFocus:void 0,readOnly:void 0,required:void 0,inline:void 0}),emits:["focusOutside","formatChange","interactOutside","openChange","pointerDownOutside","valueChange","valueChangeEnd","update:modelValue","update:open","update:format"],setup(e,{emit:t}){const n=e,o=Gue(n,t);return dN(o),ui(A(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),ee(),(i,s)=>(y(),$(d(te).div,F(d(o).getRootProps(),{"as-child":i.asChild}),{default:O(()=>[L(i.$slots,"default")]),_:3},16,["as-child"]))}}),pN=JA.extendWith("view"),que=P({__name:"color-picker-swatch-group",props:{asChild:{type:Boolean}},setup(e){return ee(),(t,n)=>(y(),$(d(te).div,F(d(pN).build().swatchGroup.attrs,{"as-child":t.asChild}),{default:O(()=>[L(t.$slots,"default")]),_:3},16,["as-child"]))}}),[fN,Kue]=Tt("ColorPickerSwatchPropsContext"),Yue=P({__name:"color-picker-swatch-indicator",props:{asChild:{type:Boolean}},setup(e){const t=Ot(),n=Kue();return ee(),(r,o)=>(y(),$(d(te).div,F(d(t).getSwatchIndicatorProps(d(n)),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),Xue=P({__name:"color-picker-swatch-trigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=Ot();return ee(),(r,o)=>(y(),$(d(te).button,F(d(n).getSwatchTriggerProps(t),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),Jue=P({__name:"color-picker-swatch",props:{value:{},respectAlpha:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=Ot();return fN(t),ee(),(r,o)=>(y(),$(d(te).div,F(d(n).getSwatchProps(t),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),Zue=P({__name:"color-picker-transparency-grid",props:{size:{},asChild:{type:Boolean}},setup(e){const t=e,n=Ot();return ee(),(r,o)=>(y(),$(d(te).div,F(d(n).getTransparencyGridProps(t),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),Que=P({__name:"color-picker-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Ot();return ee(),(n,r)=>(y(),$(d(te).button,F(d(t).getTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),ede=P({__name:"color-picker-value-swatch",props:{respectAlpha:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=Ot(),r=A(()=>({value:n.value.value,respectAlpha:t.respectAlpha}));return fN(r.value),ee(),(o,i)=>(y(),$(d(te).div,F(d(n).getSwatchProps(r.value),{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),tde=P({__name:"color-picker-value-text",props:{format:{},asChild:{type:Boolean}},setup(e){const t=e,n=Ot(),r=xo();ee();const o=A(()=>t.format?n.value.value.toString(t.format):n.value.valueAsString);return(i,s)=>(y(),$(d(te).span,F(d(n).getValueTextProps(),{"as-child":i.asChild}),{default:O(()=>[L(i.$slots,"default",{},()=>[re(j(r.default?.()||o.value),1)])]),_:3},16,["as-child"]))}}),nde=P({__name:"color-picker-view",props:{format:{},asChild:{type:Boolean}},setup(e){const t=e,n=Ot();return Pue(t),ee(),(r,o)=>d(n).format===r.format?(y(),$(d(te).div,F({key:0},d(pN).build().view.attrs,{"data-format":r.format,"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["data-format","as-child"])):Z("",!0)}}),lt=Object.freeze(Object.defineProperty({__proto__:null,Area:Oue,AreaBackground:Cue,AreaThumb:Eue,ChannelInput:Iue,ChannelSlider:Nue,ChannelSliderLabel:Sue,ChannelSliderThumb:$ue,ChannelSliderTrack:Rue,ChannelSliderValueText:Aue,Content:Mue,Context:Due,Control:Lue,EyeDropperTrigger:Vue,FormatSelect:Fue,FormatTrigger:Bue,HiddenInput:Hue,Label:zue,Positioner:Uue,Root:Wue,RootProvider:jue,Swatch:Jue,SwatchGroup:que,SwatchIndicator:Yue,SwatchTrigger:Xue,TransparencyGrid:Zue,Trigger:Que,ValueSwatch:ede,ValueText:tde,View:nde},Symbol.toStringTag,{value:"Module"})),[hN,pa]=Tt("DialogContext"),rde=P({__name:"dialog-backdrop",props:{asChild:{type:Boolean}},setup(e){const t=pa(),n=yu();return ee(),(r,o)=>(y(),$(d(lue),F(d(t).getBackdropProps(),{present:d(t).open,"lazy-mount":d(n).lazyMount,"unmount-on-exit":d(n).unmountOnExit}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["present","lazy-mount","unmount-on-exit"]))}}),ode=P({__name:"dialog-close-trigger",props:{asChild:{type:Boolean}},setup(e){const t=pa();return ee(),(n,r)=>(y(),$(d(te).button,F(d(t).getCloseTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),ide=P({__name:"dialog-content",props:{asChild:{type:Boolean}},setup(e){const t=pa(),n=Iv(),r=A(()=>bu(t.value.getContentProps(),n.value.presenceProps));return ee(),(o,i)=>d(n).unmounted?Z("",!0):(y(),$(d(te).div,F({key:0},r.value,{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),sde=P({__name:"dialog-context",setup(e){const t=pa();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),ade=P({__name:"dialog-description",props:{asChild:{type:Boolean}},setup(e){const t=pa();return ee(),(n,r)=>(y(),$(d(te).div,F(d(t).getDescriptionProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),lde=P({__name:"dialog-positioner",props:{asChild:{type:Boolean}},setup(e){const t=pa(),n=yu(),r=af(A(()=>({...n.value,present:t.value.open})));return sf(r),ee(),(o,i)=>d(r).unmounted?Z("",!0):(y(),$(d(te).div,F({key:0},d(t).getPositionerProps(),{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),cde=P({__name:"dialog-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},setup(e){const t=e,n=A(()=>t.value);return hN(n),ui(A(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),ee(),(r,o)=>L(r.$slots,"default")}});var ude=_r("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger"),Ra=ude.build(),gN=e=>e.ids?.positioner??`dialog:${e.id}:positioner`,mN=e=>e.ids?.backdrop??`dialog:${e.id}:backdrop`,e1=e=>e.ids?.content??`dialog:${e.id}:content`,vN=e=>e.ids?.trigger??`dialog:${e.id}:trigger`,t1=e=>e.ids?.title??`dialog:${e.id}:title`,n1=e=>e.ids?.description??`dialog:${e.id}:description`,bN=e=>e.ids?.closeTrigger??`dialog:${e.id}:close`,oh=e=>e.getById(e1(e)),dde=e=>e.getById(gN(e)),pde=e=>e.getById(mN(e)),fde=e=>e.getById(vN(e)),hde=e=>e.getById(t1(e)),gde=e=>e.getById(n1(e)),mde=e=>e.getById(bN(e));function vde(e,t){const{state:n,send:r,context:o,prop:i,scope:s}=e,a=i("aria-label"),l=n.matches("open");return{open:l,setOpen(c){n.matches("open")!==c&&r({type:c?"OPEN":"CLOSE"})},getTriggerProps(){return t.button({...Ra.trigger.attrs,dir:i("dir"),id:vN(s),"aria-haspopup":"dialog",type:"button","aria-expanded":l,"data-state":l?"open":"closed","aria-controls":e1(s),onClick(c){c.defaultPrevented||r({type:"TOGGLE"})}})},getBackdropProps(){return t.element({...Ra.backdrop.attrs,dir:i("dir"),hidden:!l,id:mN(s),"data-state":l?"open":"closed"})},getPositionerProps(){return t.element({...Ra.positioner.attrs,dir:i("dir"),id:gN(s),style:{pointerEvents:l?void 0:"none"}})},getContentProps(){const c=o.get("rendered");return t.element({...Ra.content.attrs,dir:i("dir"),role:i("role"),hidden:!l,id:e1(s),tabIndex:-1,"data-state":l?"open":"closed","aria-modal":!0,"aria-label":a||void 0,"aria-labelledby":a||!c.title?void 0:t1(s),"aria-describedby":c.description?n1(s):void 0})},getTitleProps(){return t.element({...Ra.title.attrs,dir:i("dir"),id:t1(s)})},getDescriptionProps(){return t.element({...Ra.description.attrs,dir:i("dir"),id:n1(s)})},getCloseTriggerProps(){return t.button({...Ra.closeTrigger.attrs,dir:i("dir"),id:bN(s),type:"button",onClick(c){c.defaultPrevented||(c.stopPropagation(),r({type:"CLOSE"}))}})}}}var bde={props({props:e,scope:t}){const n=e.role==="alertdialog",r=n?()=>mde(t):void 0,o=typeof e.modal=="boolean"?e.modal:!0;return{role:"dialog",modal:o,trapFocus:o,preventScroll:o,closeOnInteractOutside:!n,closeOnEscape:!0,restoreFocus:!0,initialFocusEl:r,...e}},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{rendered:e(()=>({defaultValue:{title:!0,description:!0}}))}},watch({track:e,action:t,prop:n}){e([()=>n("open")],()=>{t(["toggleVisibility"])})},states:{open:{entry:["checkRenderedElements","syncZIndex"],effects:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackDismissableElement({scope:e,send:t,prop:n}){return Rv(()=>oh(e),{type:"dialog",defer:!0,pointerBlocking:n("modal"),exclude:[fde(e)],onInteractOutside(o){n("onInteractOutside")?.(o),n("closeOnInteractOutside")||o.preventDefault()},persistentElements:n("persistentElements"),onFocusOutside:n("onFocusOutside"),onPointerDownOutside:n("onPointerDownOutside"),onRequestDismiss:n("onRequestDismiss"),onEscapeKeyDown(o){n("onEscapeKeyDown")?.(o),n("closeOnEscape")||o.preventDefault()},onDismiss(){t({type:"CLOSE",src:"interact-outside"})}})},preventScroll({scope:e,prop:t}){if(t("preventScroll"))return sN(e.getDoc())},trapFocus({scope:e,prop:t}){return t("trapFocus")?iN(()=>oh(e),{preventScroll:!0,returnFocusOnDeactivate:!!t("restoreFocus"),initialFocus:t("initialFocusEl"),setReturnFocus:r=>t("finalFocusEl")?.()??r}):void 0},hideContentBelow({scope:e,prop:t}){return t("modal")?lN(()=>[oh(e)],{defer:!0}):void 0}},actions:{checkRenderedElements({context:e,scope:t}){tt(()=>{e.set("rendered",{title:!!hde(t),description:!!gde(t)})})},syncZIndex({scope:e}){tt(()=>{const t=oh(e);if(!t)return;const n=jc(t);[dde(e),pde(e)].forEach(o=>{o?.style.setProperty("--z-index",n.zIndex),o?.style.setProperty("--layer-index",n.getPropertyValue("--layer-index"))})})},invokeOnClose({prop:e}){e("onOpenChange")?.({open:!1})},invokeOnOpen({prop:e}){e("onOpenChange")?.({open:!0})},toggleVisibility({prop:e,send:t,event:n}){t({type:e("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})}}}};en()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","defaultOpen","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]);const yde=(e={},t)=>{const n=nt(),r=Zi(Qi),o=ts(es),i=A(()=>{const a=pe(e);return{id:n,dir:o.value.dir,getRootNode:r?.value.getRootNode,...da(e),onOpenChange:l=>{t?.("openChange",l),t?.("update:open",l.open),a.onOpenChange?.(l)},onEscapeKeyDown:l=>{t?.("escapeKeyDown",l),a.onEscapeKeyDown?.(l)},onFocusOutside:l=>{t?.("focusOutside",l),a.onFocusOutside?.(l)},onInteractOutside:l=>{t?.("interactOutside",l),a.onInteractOutside?.(l)},onPointerDownOutside:l=>{t?.("pointerDownOutside",l),a.onPointerDownOutside?.(l)},onRequestDismiss:l=>{t?.("requestDismiss",l),a.onRequestDismiss?.(l)}}}),s=Ji(bde,i);return A(()=>vde(s,ua))},xde=P({__name:"dialog-root",props:Ze({"aria-label":{},closeOnEscape:{type:Boolean},closeOnInteractOutside:{type:Boolean},defaultOpen:{type:Boolean},finalFocusEl:{type:Function},id:{},ids:{},initialFocusEl:{type:Function},modal:{type:Boolean},open:{type:Boolean},persistentElements:{},preventScroll:{type:Boolean},restoreFocus:{type:Boolean},role:{},trapFocus:{type:Boolean},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},{closeOnEscape:void 0,closeOnInteractOutside:void 0,defaultOpen:void 0,modal:void 0,open:void 0,preventScroll:void 0,restoreFocus:void 0,trapFocus:void 0}),emits:["escapeKeyDown","focusOutside","interactOutside","openChange","pointerDownOutside","requestDismiss","update:open"],setup(e,{emit:t}){const n=e,o=yde(n,t);return hN(o),ui(A(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),ee(),(i,s)=>L(i.$slots,"default")}}),wde=P({__name:"dialog-title",props:{asChild:{type:Boolean}},setup(e){const t=pa();return ee(),(n,r)=>(y(),$(d(te).h2,F(d(t).getTitleProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),_de=P({__name:"dialog-trigger",props:{asChild:{type:Boolean}},setup(e){const t=pa();return ee(),(n,r)=>(y(),$(d(te).button,F(d(t).getTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),mt=Object.freeze(Object.defineProperty({__proto__:null,Backdrop:rde,CloseTrigger:ode,Content:ide,Context:sde,Description:ade,Positioner:lde,Root:xde,RootProvider:cde,Title:wde,Trigger:_de},Symbol.toStringTag,{value:"Module"})),kde=P({__name:"field-context",setup(e){const t=Yr();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),Cde=P({__name:"field-error-text",props:{asChild:{type:Boolean}},setup(e){const t=Yr();return ee(),(n,r)=>d(t).invalid?(y(),$(d(te).span,F({key:0},d(t).getErrorTextProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"])):Z("",!0)}}),Ede=P({__name:"field-helper-text",props:{asChild:{type:Boolean}},setup(e){const t=Yr();return ee(),(n,r)=>(y(),$(d(te).span,F(d(t).getHelperTextProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Ode=P({__name:"field-input",props:{modelValue:{},asChild:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=Yr(),r=t;return ee(),(o,i)=>(y(),$(d(te).input,F(d(n).getInputProps(),{"as-child":o.asChild,value:o.modelValue,onInput:i[0]||(i[0]=s=>r("update:modelValue",s.target.value))}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child","value"]))}}),Ide=P({__name:"field-label",props:{asChild:{type:Boolean}},setup(e){const t=Yr();return ee(),(n,r)=>(y(),$(d(te).label,F(d(t).getLabelProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Tde=P({__name:"field-required-indicator",props:{asChild:{type:Boolean}},setup(e){const t=Yr();return ee(),(n,r)=>d(t).required?(y(),$(d(te).span,F({key:0},d(t).getRequiredIndicatorProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default",{},()=>[r[0]||(r[0]=re("*",-1))])]),_:3},16,["as-child"])):L(n.$slots,"fallback",{key:1})}}),Sde=P({__name:"field-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=A(()=>t.value);return cN(n),ee(),(r,o)=>(y(),$(d(te).div,F(n.value.getRootProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),Pde=_r("field").parts("root","errorText","helperText","input","label","select","textarea","requiredIndicator"),cs=Pde.build(),$de=(e={})=>{const t=Zi(Qi),n=Tr({hasErrorText:!1,hasHelperText:!1}),r=nt(),o=A(()=>pe(e).id??r),i=Q(null),s=A(()=>pe(e).ids?.control??`field::${o.value}`),a=A(()=>pe(e).ids?.errorText??`field::${o.value}::error-text`),l=A(()=>pe(e).ids?.helperText??`field::${o.value}::helper-text`),c=A(()=>pe(e).ids?.label??`field::${o.value}::label`);Je(()=>{const v=Ow(i);if(!v)return;const _=()=>{const C=t.value.getRootNode();n.hasErrorText=!!C.getElementById(a.value),n.hasHelperText=!!C.getElementById(l.value)};_();const T=t.value.getWindow(),N=new T.MutationObserver(_);N.observe(v,{childList:!0,subtree:!0}),on(()=>{N.disconnect()})});const u=()=>{const v=pe(e);return{...cs.root.attrs,id:s.value,role:"group","data-disabled":Y(v.disabled),"data-invalid":Y(v.invalid),"data-readonly":Y(v.readOnly)}},p=()=>{const v=pe(e);return{...cs.label.attrs,id:c.value,"data-disabled":Y(v.disabled),"data-invalid":Y(v.invalid),"data-readonly":Y(v.readOnly),"data-required":Y(v.required),htmlFor:o.value}},h=A(()=>{const v=pe(e),_=[];return n.hasErrorText&&v.invalid&&_.push(a.value),n.hasHelperText&&_.push(l.value),_}),f=()=>{const v=pe(e);return{"aria-describedby":h.value.join(" ")||void 0,"aria-invalid":mp(v.invalid),"data-invalid":Y(v.invalid),"data-required":Y(v.required),"data-readonly":Y(v.readOnly),id:o.value,required:v.required,disabled:v.disabled,readOnly:v.readOnly}},g=()=>({...f(),...cs.input.attrs}),m=()=>({...f(),...cs.textarea.attrs}),b=()=>({...f(),...cs.select.attrs}),w=()=>{const v=pe(e);return{id:l.value,...cs.helperText.attrs,"data-disabled":Y(v.disabled)}},E=()=>({id:a.value,...cs.errorText.attrs,"aria-live":"polite"}),k=()=>({"aria-hidden":!0,...cs.requiredIndicator.attrs});return A(()=>{const v=pe(e);return{ariaDescribedby:h.value.join(" ")||void 0,ids:{control:o.value,label:c.value,errorText:a.value,helperText:l.value},refs:{rootRef:i},disabled:v.disabled,invalid:v.invalid,readOnly:v.readOnly,required:v.required,getLabelProps:p,getRootProps:u,getInputProps:g,getTextareaProps:m,getSelectProps:b,getHelperTextProps:w,getErrorTextProps:E,getRequiredIndicatorProps:k}})},Rde=P({__name:"field-root",props:Ze({disabled:{type:Boolean},id:{},ids:{},invalid:{type:Boolean},readOnly:{type:Boolean},required:{type:Boolean},asChild:{type:Boolean}},{disabled:void 0,invalid:void 0,readOnly:void 0,required:void 0}),setup(e){const n=$de(e);return cN(n),ee(),(r,o)=>(y(),$(d(te).div,F(d(n).getRootProps(),{ref:d(n).refs.rootRef,"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),Ade=P({__name:"field-select",props:{modelValue:{},asChild:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=Yr(),r=t;return ee(),(o,i)=>(y(),$(d(te).select,F(d(n).getSelectProps(),{value:o.modelValue,onChange:i[0]||(i[0]=s=>r("update:modelValue",s.target.value)),"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["value","as-child"]))}});var Nde=e=>{if(!e)return;const t=jc(e),n=pr(e),r=ci(e),o=()=>{requestAnimationFrame(()=>{e.style.height="auto";let c;t.boxSizing==="content-box"?c=e.scrollHeight-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):c=e.scrollHeight+parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),t.maxHeight!=="none"&&c>parseFloat(t.maxHeight)?(t.overflowY==="hidden"&&(e.style.overflowY="scroll"),c=parseFloat(t.maxHeight)):t.overflowY!=="hidden"&&(e.style.overflowY="hidden"),e.style.height=`${c}px`})};e.addEventListener("input",o),e.form?.addEventListener("reset",o);const i=Object.getPrototypeOf(e),s=Object.getOwnPropertyDescriptor(i,"value");Object.defineProperty(e,"value",{...s,set(){s?.set?.apply(this,arguments),o()}});const a=new n.ResizeObserver(()=>{requestAnimationFrame(()=>o())});a.observe(e);const l=new n.MutationObserver(()=>o());return l.observe(e,{attributes:!0,attributeFilter:["rows","placeholder"]}),r.fonts?.addEventListener("loadingdone",o),()=>{e.removeEventListener("input",o),e.form?.removeEventListener("reset",o),r.fonts?.removeEventListener("loadingdone",o),a.disconnect(),l.disconnect()}};const Mde=P({__name:"field-textarea",props:{modelValue:{},autoresize:{type:Boolean},asChild:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=Yr(),o=t,i=Q();return Je(()=>{const s=Ow(i);if(!s||!n.autoresize)return;const a=Nde(s);on(()=>a?.())}),ee(),(s,a)=>(y(),$(d(te).textarea,F({ref_key:"textareaRef",ref:i},d(r).getTextareaProps(),{value:s.modelValue,onInput:a[0]||(a[0]=l=>o("update:modelValue",l.target.value)),style:n.autoresize?{resize:"none",overflow:"hidden"}:void 0,"as-child":s.asChild}),{default:O(()=>[L(s.$slots,"default")]),_:3},16,["value","style","as-child"]))}}),Zg=Object.freeze(Object.defineProperty({__proto__:null,Context:kde,ErrorText:Cde,HelperText:Ede,Input:Ode,Label:Ide,RequiredIndicator:Tde,Root:Rde,RootProvider:Sde,Select:Ade,Textarea:Mde},Symbol.toStringTag,{value:"Module"})),[yN,fa]=Tt("NumberInputContext"),Dde=P({__name:"number-input-context",setup(e){const t=fa();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),Lde=P({__name:"number-input-control",props:{asChild:{type:Boolean}},setup(e){const t=fa();return ee(),(n,r)=>(y(),$(d(te).div,F(d(t).getControlProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Vde=P({__name:"number-input-decrement-trigger",props:{asChild:{type:Boolean}},setup(e){const t=fa();return ee(),(n,r)=>(y(),$(d(te).button,F(d(t).getDecrementTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Fde=P({__name:"number-input-increment-trigger",props:{asChild:{type:Boolean}},setup(e){const t=fa();return ee(),(n,r)=>(y(),$(d(te).button,F(d(t).getIncrementTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Bde=P({__name:"number-input-input",props:{asChild:{type:Boolean}},setup(e){const t=fa(),n=Yr();return ee(),(r,o)=>(y(),$(d(te).input,F({"aria-describedby":d(n)?.ariaDescribedby},d(t).getInputProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["aria-describedby","as-child"]))}}),Hde=P({__name:"number-input-label",props:{asChild:{type:Boolean}},setup(e){const t=fa();return ee(),(n,r)=>(y(),$(d(te).label,F(d(t).getLabelProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),zde=P({__name:"number-input-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=A(()=>t.value);return yN(n),ee(),(r,o)=>(y(),$(d(te).div,F(n.value.getRootProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}});let Jb=new Map,r1=!1;try{r1=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let Qg=!1;try{Qg=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const xN={degree:{narrow:{default:"","ja-JP":" ","zh-TW":"","sl-SI":" "}}};class Ude{format(t){let n="";if(!r1&&this.options.signDisplay!=null?n=Gde(this.numberFormatter,this.options.signDisplay,t):n=this.numberFormatter.format(t),this.options.style==="unit"&&!Qg){var r;let{unit:o,unitDisplay:i="short",locale:s}=this.resolvedOptions();if(!o)return n;let a=(r=xN[o])===null||r===void 0?void 0:r[i];n+=a[s]||a.default}return n}formatToParts(t){return this.numberFormatter.formatToParts(t)}formatRange(t,n){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(t,n);if(n<t)throw new RangeError("End date must be >= start date");return`${this.format(t)}  ${this.format(n)}`}formatRangeToParts(t,n){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(t,n);if(n<t)throw new RangeError("End date must be >= start date");let r=this.numberFormatter.formatToParts(t),o=this.numberFormatter.formatToParts(n);return[...r.map(i=>({...i,source:"startRange"})),{type:"literal",value:"  ",source:"shared"},...o.map(i=>({...i,source:"endRange"}))]}resolvedOptions(){let t=this.numberFormatter.resolvedOptions();return!r1&&this.options.signDisplay!=null&&(t={...t,signDisplay:this.options.signDisplay}),!Qg&&this.options.style==="unit"&&(t={...t,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),t}constructor(t,n={}){this.numberFormatter=jde(t,n),this.options=n}}function jde(e,t={}){let{numberingSystem:n}=t;if(n&&e.includes("-nu-")&&(e.includes("-u-")||(e+="-u-"),e+=`-nu-${n}`),t.style==="unit"&&!Qg){var r;let{unit:s,unitDisplay:a="short"}=t;if(!s)throw new Error('unit option must be provided with style: "unit"');if(!(!((r=xN[s])===null||r===void 0)&&r[a]))throw new Error(`Unsupported unit ${s} with unitDisplay = ${a}`);t={...t,style:"decimal"}}let o=e+(t?Object.entries(t).sort((s,a)=>s[0]<a[0]?-1:1).join():"");if(Jb.has(o))return Jb.get(o);let i=new Intl.NumberFormat(e,t);return Jb.set(o,i),i}function Gde(e,t,n){if(t==="auto")return e.format(n);if(t==="never")return e.format(Math.abs(n));{let r=!1;if(t==="always"?r=n>0||Object.is(n,0):t==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):r=n>0),r){let o=e.format(-n),i=e.format(n),s=o.replace(i,"").replace(/\u200e|\u061C/,"");return[...s].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),o.replace(i,"!!!").replace(s,"+").replace("!!!",i)}else return e.format(n)}}const Wde=new RegExp("^.*\\(.*\\).*$"),qde=["latn","arab","hanidec","deva","beng","fullwide"];class wN{parse(t){return Zb(this.locale,this.options,t).parse(t)}isValidPartialNumber(t,n,r){return Zb(this.locale,this.options,t).isValidPartialNumber(t,n,r)}getNumberingSystem(t){return Zb(this.locale,this.options,t).options.numberingSystem}constructor(t,n={}){this.locale=t,this.options=n}}const IO=new Map;function Zb(e,t,n){let r=TO(e,t);if(!e.includes("-nu-")&&!r.isValidPartialNumber(n)){for(let o of qde)if(o!==r.options.numberingSystem){let i=TO(e+(e.includes("-u-")?"-nu-":"-u-nu-")+o,t);if(i.isValidPartialNumber(n))return i}}return r}function TO(e,t){let n=e+(t?Object.entries(t).sort((o,i)=>o[0]<i[0]?-1:1).join():""),r=IO.get(n);return r||(r=new Kde(e,t),IO.set(n,r)),r}class Kde{parse(t){let n=this.sanitize(t);if(this.symbols.group&&(n=jl(n,this.symbols.group,"")),this.symbols.decimal&&(n=n.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(n=n.replace(this.symbols.minusSign,"-")),n=n.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let s=n.indexOf("-");n=n.replace("-",""),n=n.replace("+","");let a=n.indexOf(".");a===-1&&(a=n.length),n=n.replace(".",""),a-2===0?n=`0.${n}`:a-2===-1?n=`0.0${n}`:a-2===-2?n="0.00":n=`${n.slice(0,a-2)}.${n.slice(a-2)}`,s>-1&&(n=`-${n}`)}let r=n?+n:NaN;if(isNaN(r))return NaN;if(this.options.style==="percent"){var o,i;let s={...this.options,style:"decimal",minimumFractionDigits:Math.min(((o=this.options.minimumFractionDigits)!==null&&o!==void 0?o:0)+2,20),maximumFractionDigits:Math.min(((i=this.options.maximumFractionDigits)!==null&&i!==void 0?i:0)+2,20)};return new wN(this.locale,s).parse(new Ude(this.locale,s).format(r))}return this.options.currencySign==="accounting"&&Wde.test(t)&&(r=-1*r),r}sanitize(t){return t=t.replace(this.symbols.literals,""),this.symbols.minusSign&&(t=t.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(t=t.replace(",",this.symbols.decimal),t=t.replace("",this.symbols.decimal)),this.symbols.group&&(t=jl(t,".",this.symbols.group))),this.symbols.group===""&&t.includes("'")&&(t=jl(t,"'",this.symbols.group)),this.options.locale==="fr-FR"&&this.symbols.group&&(t=jl(t," ",this.symbols.group),t=jl(t,/\u00A0/g,this.symbols.group)),t}isValidPartialNumber(t,n=-1/0,r=1/0){return t=this.sanitize(t),this.symbols.minusSign&&t.startsWith(this.symbols.minusSign)&&n<0?t=t.slice(this.symbols.minusSign.length):this.symbols.plusSign&&t.startsWith(this.symbols.plusSign)&&r>0&&(t=t.slice(this.symbols.plusSign.length)),this.symbols.group&&t.startsWith(this.symbols.group)||this.symbols.decimal&&t.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(t=jl(t,this.symbols.group,"")),t=t.replace(this.symbols.numeral,""),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,"")),t.length===0)}constructor(t,n={}){this.locale=t,n.roundingIncrement!==1&&n.roundingIncrement!=null&&(n.maximumFractionDigits==null&&n.minimumFractionDigits==null?(n.maximumFractionDigits=0,n.minimumFractionDigits=0):n.maximumFractionDigits==null?n.maximumFractionDigits=n.minimumFractionDigits:n.minimumFractionDigits==null&&(n.minimumFractionDigits=n.maximumFractionDigits)),this.formatter=new Intl.NumberFormat(t,n),this.options=this.formatter.resolvedOptions(),this.symbols=Xde(t,this.formatter,this.options,n);var r,o;this.options.style==="percent"&&(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)>18||((o=this.options.maximumFractionDigits)!==null&&o!==void 0?o:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const SO=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),Yde=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function Xde(e,t,n,r){var o,i,s,a;let l=new Intl.NumberFormat(e,{...n,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),c=l.formatToParts(-10000.111),u=l.formatToParts(10000.111),p=Yde.map(I=>l.formatToParts(I));var h;let f=(h=(o=c.find(I=>I.type==="minusSign"))===null||o===void 0?void 0:o.value)!==null&&h!==void 0?h:"-",g=(i=u.find(I=>I.type==="plusSign"))===null||i===void 0?void 0:i.value;!g&&(r?.signDisplay==="exceptZero"||r?.signDisplay==="always")&&(g="+");let b=(s=new Intl.NumberFormat(e,{...n,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(I=>I.type==="decimal"))===null||s===void 0?void 0:s.value,w=(a=c.find(I=>I.type==="group"))===null||a===void 0?void 0:a.value,E=c.filter(I=>!SO.has(I.type)).map(I=>PO(I.value)),k=p.flatMap(I=>I.filter(R=>!SO.has(R.type)).map(R=>PO(R.value))),v=[...new Set([...E,...k])].sort((I,R)=>R.length-I.length),_=v.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${v.join("|")}|[\\p{White_Space}]`,"gu"),T=[...new Intl.NumberFormat(n.locale,{useGrouping:!1}).format(9876543210)].reverse(),N=new Map(T.map((I,R)=>[I,R])),C=new RegExp(`[${T.join("")}]`,"g");return{minusSign:f,plusSign:g,decimal:b,group:w,literals:_,numeral:C,index:I=>String(N.get(I))}}function jl(e,t,n){return e.replaceAll?e.replaceAll(t,n):e.split(t).join(n)}function PO(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var Jde=_r("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber"),us=Jde.build(),Zde=e=>e.ids?.root??`number-input:${e.id}`,pd=e=>e.ids?.input??`number-input:${e.id}:input`,_N=e=>e.ids?.incrementTrigger??`number-input:${e.id}:inc`,kN=e=>e.ids?.decrementTrigger??`number-input:${e.id}:dec`,Qde=e=>e.ids?.scrubber??`number-input:${e.id}:scrubber`,CN=e=>`number-input:${e.id}:cursor`,epe=e=>e.ids?.label??`number-input:${e.id}:label`,fd=e=>e.getById(pd(e)),tpe=e=>e.getById(_N(e)),npe=e=>e.getById(kN(e)),EN=e=>e.getDoc().getElementById(CN(e)),rpe=(e,t)=>{let n=null;return t==="increment"&&(n=tpe(e)),t==="decrement"&&(n=npe(e)),n},ope=(e,t)=>{if(!Cv())return ape(e,t),()=>{EN(e)?.remove()}},ipe=e=>{const t=e.getDoc(),n=t.documentElement,r=t.body;return r.style.pointerEvents="none",n.style.userSelect="none",n.style.cursor="ew-resize",()=>{r.style.pointerEvents="",n.style.userSelect="",n.style.cursor="",n.style.length||n.removeAttribute("style"),r.style.length||r.removeAttribute("style")}},spe=(e,t)=>{const{point:n,isRtl:r,event:o}=t,i=e.getWin(),s=Ld(o.movementX,i.devicePixelRatio),a=Ld(o.movementY,i.devicePixelRatio);let l=s>0?"increment":s<0?"decrement":null;r&&l==="increment"&&(l="decrement"),r&&l==="decrement"&&(l="increment");const c={x:n.x+s,y:n.y+a},u=i.innerWidth,p=Ld(7.5,i.devicePixelRatio);return c.x=aoe(c.x+p,u)-p,{hint:l,point:c}},ape=(e,t)=>{const n=e.getDoc(),r=n.createElement("div");r.className="scrubber--cursor",r.id=CN(e),Object.assign(r.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:woe,transform:t?`translate3d(${t.x}px, ${t.y}px, 0px)`:void 0,willChange:"transform"}),r.innerHTML=`
      <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
        <g transform="translate(2 3)">
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
        </g>
      </svg>`,n.body.appendChild(r)};function lpe(e,t){if(!(!e||!t.isActiveElement(e)))try{const{selectionStart:n,selectionEnd:r,value:o}=e;return n==null||r==null?void 0:{start:n,end:r,value:o}}catch{return}}function cpe(e,t,n){if(!(!e||!n.isActiveElement(e))){if(!t){const r=e.value.length;e.setSelectionRange(r,r);return}try{const r=e.value,{start:o,end:i,value:s}=t;if(r===s){e.setSelectionRange(o,i);return}const a=$O(s,r,o),l=o===i?a:$O(s,r,i),c=Math.max(0,Math.min(a,r.length)),u=Math.max(c,Math.min(l,r.length));e.setSelectionRange(c,u)}catch{const r=e.value.length;e.setSelectionRange(r,r)}}}function $O(e,t,n){const r=e.slice(0,n),o=e.slice(n);let i=0;const s=Math.min(r.length,t.length);for(let c=0;c<s&&r[c]===t[c];c++)i=c+1;let a=0;const l=Math.min(o.length,t.length-i);for(let c=0;c<l;c++){const u=o.length-1-c,p=t.length-1-c;if(o[u]===t[p])a=c+1;else break}if(i>=r.length)return i;if(a>=o.length)return t.length-a;if(i>0)return i;if(a>0)return t.length-a;if(e.length>0){const c=n/e.length;return Math.round(c*t.length)}return t.length}function upe(e,t){const{state:n,send:r,prop:o,scope:i,computed:s}=e,a=n.hasTag("focus"),l=s("isDisabled"),c=!!o("readOnly"),u=!!o("required"),p=n.matches("scrubbing"),h=s("isValueEmpty"),f=s("isOutOfRange")||!!o("invalid"),g=l||!s("canIncrement")||c,m=l||!s("canDecrement")||c,b=o("translations");return{focused:a,invalid:f,empty:h,value:s("formattedValue"),valueAsNumber:s("valueAsNumber"),setValue(w){r({type:"VALUE.SET",value:w})},clearValue(){r({type:"VALUE.CLEAR"})},increment(){r({type:"VALUE.INCREMENT"})},decrement(){r({type:"VALUE.DECREMENT"})},setToMax(){r({type:"VALUE.SET",value:o("max")})},setToMin(){r({type:"VALUE.SET",value:o("min")})},focus(){fd(i)?.focus()},getRootProps(){return t.element({id:Zde(i),...us.root.attrs,dir:o("dir"),"data-disabled":Y(l),"data-focus":Y(a),"data-invalid":Y(f),"data-scrubbing":Y(p)})},getLabelProps(){return t.label({...us.label.attrs,dir:o("dir"),"data-disabled":Y(l),"data-focus":Y(a),"data-invalid":Y(f),"data-required":Y(u),"data-scrubbing":Y(p),id:epe(i),htmlFor:pd(i)})},getControlProps(){return t.element({...us.control.attrs,dir:o("dir"),role:"group","aria-disabled":l,"data-focus":Y(a),"data-disabled":Y(l),"data-invalid":Y(f),"data-scrubbing":Y(p),"aria-invalid":mp(f)})},getValueTextProps(){return t.element({...us.valueText.attrs,dir:o("dir"),"data-disabled":Y(l),"data-invalid":Y(f),"data-focus":Y(a),"data-scrubbing":Y(p)})},getInputProps(){return t.input({...us.input.attrs,dir:o("dir"),name:o("name"),form:o("form"),id:pd(i),role:"spinbutton",defaultValue:s("formattedValue"),pattern:o("formatOptions")?void 0:o("pattern"),inputMode:o("inputMode"),"aria-invalid":mp(f),"data-invalid":Y(f),disabled:l,"data-disabled":Y(l),readOnly:c,required:o("required"),autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text","aria-roledescription":"numberfield","aria-valuemin":o("min"),"aria-valuemax":o("max"),"aria-valuenow":Number.isNaN(s("valueAsNumber"))?void 0:s("valueAsNumber"),"aria-valuetext":s("valueText"),"data-scrubbing":Y(p),onFocus(){r({type:"INPUT.FOCUS"})},onBlur(){r({type:"INPUT.BLUR"})},onInput(w){const E=lpe(w.currentTarget,i);r({type:"INPUT.CHANGE",target:w.currentTarget,hint:"set",selection:E})},onBeforeInput(w){try{const{selectionStart:E,selectionEnd:k,value:v}=w.currentTarget,_=v.slice(0,E)+(w.data??"")+v.slice(k);s("parser").isValidPartialNumber(_)||w.preventDefault()}catch{}},onKeyDown(w){if(w.defaultPrevented||c||Uoe(w))return;const E=Ug(w)*o("step"),v={ArrowUp(){r({type:"INPUT.ARROW_UP",step:E}),w.preventDefault()},ArrowDown(){r({type:"INPUT.ARROW_DOWN",step:E}),w.preventDefault()},Home(){Gc(w)||(r({type:"INPUT.HOME"}),w.preventDefault())},End(){Gc(w)||(r({type:"INPUT.END"}),w.preventDefault())},Enter(){r({type:"INPUT.ENTER"})}}[w.key];v?.(w)}})},getDecrementTriggerProps(){return t.button({...us.decrementTrigger.attrs,dir:o("dir"),id:kN(i),disabled:m,"data-disabled":Y(m),"aria-label":b.decrementLabel,type:"button",tabIndex:-1,"aria-controls":pd(i),"data-scrubbing":Y(p),onPointerDown(w){m||Ls(w)&&(r({type:"TRIGGER.PRESS_DOWN",hint:"decrement",pointerType:w.pointerType}),w.pointerType==="mouse"&&w.preventDefault(),w.pointerType==="touch"&&w.currentTarget?.focus({preventScroll:!0}))},onPointerUp(w){r({type:"TRIGGER.PRESS_UP",hint:"decrement",pointerType:w.pointerType})},onPointerLeave(){m||r({type:"TRIGGER.PRESS_UP",hint:"decrement"})}})},getIncrementTriggerProps(){return t.button({...us.incrementTrigger.attrs,dir:o("dir"),id:_N(i),disabled:g,"data-disabled":Y(g),"aria-label":b.incrementLabel,type:"button",tabIndex:-1,"aria-controls":pd(i),"data-scrubbing":Y(p),onPointerDown(w){g||!Ls(w)||(r({type:"TRIGGER.PRESS_DOWN",hint:"increment",pointerType:w.pointerType}),w.pointerType==="mouse"&&w.preventDefault(),w.pointerType==="touch"&&w.currentTarget?.focus({preventScroll:!0}))},onPointerUp(w){r({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:w.pointerType})},onPointerLeave(w){r({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:w.pointerType})}})},getScrubberProps(){return t.element({...us.scrubber.attrs,dir:o("dir"),"data-disabled":Y(l),id:Qde(i),role:"presentation","data-scrubbing":Y(p),onMouseDown(w){if(l||!Ls(w))return;const E=jo(w),v=pr(w.currentTarget).devicePixelRatio;E.x=E.x-Ld(7.5,v),E.y=E.y-Ld(7.5,v),r({type:"SCRUBBER.PRESS_DOWN",point:E}),w.preventDefault()},style:{cursor:l?void 0:"ew-resize"}})}}}var dpe=(e,t={})=>new Intl.NumberFormat(e,t),ppe=(e,t={})=>new wN(e,t),Qb=(e,t)=>{const{prop:n,computed:r}=t;return n("formatOptions")?e===""?Number.NaN:r("parser").parse(e):parseFloat(e)},Aa=(e,t)=>{const{prop:n,computed:r}=t;return Number.isNaN(e)?"":n("formatOptions")?r("formatter").format(e):e.toString()},fpe=(e,t)=>{let n=e!==void 0&&!Number.isNaN(e)?e:1;return t?.style==="percent"&&(e===void 0||Number.isNaN(e))&&(n=.01),n},{choose:hpe,guards:gpe,createMachine:mpe}=Lie(),{not:RO,and:AO}=gpe,vpe=mpe({props({props:e}){const t=fpe(e.step,e.formatOptions);return{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!e.allowOverflow,allowOverflow:!1,inputMode:"decimal",pattern:"-?[0-9]*(.[0-9]+)?",defaultValue:"",step:t,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,spinOnPress:!0,...e,translations:{incrementLabel:"increment value",decrementLabel:"decrease value",...e.translations}}},initialState(){return"idle"},context({prop:e,bindable:t,getComputed:n}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(r){const o=n(),i=Qb(r,{computed:o,prop:e});e("onValueChange")?.({value:r,valueAsNumber:i})}})),hint:t(()=>({defaultValue:null})),scrubberCursorPoint:t(()=>({defaultValue:null,hash(r){return r?`x:${r.x}, y:${r.y}`:""}})),fieldsetDisabled:t(()=>({defaultValue:!1}))}},computed:{isRtl:({prop:e})=>e("dir")==="rtl",valueAsNumber:({context:e,computed:t,prop:n})=>Qb(e.get("value"),{computed:t,prop:n}),formattedValue:({computed:e,prop:t})=>Aa(e("valueAsNumber"),{computed:e,prop:t}),isAtMin:({computed:e,prop:t})=>doe(e("valueAsNumber"),t("min")),isAtMax:({computed:e,prop:t})=>uoe(e("valueAsNumber"),t("max")),isOutOfRange:({computed:e,prop:t})=>!sA(e("valueAsNumber"),t("min"),t("max")),isValueEmpty:({context:e})=>e.get("value")==="",isDisabled:({prop:e,context:t})=>!!e("disabled")||t.get("fieldsetDisabled"),canIncrement:({prop:e,computed:t})=>e("allowOverflow")||!t("isAtMax"),canDecrement:({prop:e,computed:t})=>e("allowOverflow")||!t("isAtMin"),valueText:({prop:e,context:t})=>e("translations").valueText?.(t.get("value")),formatter:j0(({prop:e})=>[e("locale"),e("formatOptions")],([e,t])=>dpe(e,t)),parser:j0(({prop:e})=>[e("locale"),e("formatOptions")],([e,t])=>ppe(e,t))},watch({track:e,action:t,context:n,computed:r,prop:o}){e([()=>n.get("value"),()=>o("locale")],()=>{t(["syncInputElement"])}),e([()=>r("isOutOfRange")],()=>{t(["invokeOnInvalid"])}),e([()=>n.hash("scrubberCursorPoint")],()=>{t(["setVirtualCursorPosition"])})},effects:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:["focus"],effects:["attachWheelListener"],on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:["increment"]},"INPUT.ARROW_DOWN":{actions:["decrement"]},"INPUT.HOME":{actions:["decrementToMin"]},"INPUT.END":{actions:["incrementToMax"]},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:AO("clampValueOnBlur",RO("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur"]},{guard:RO("isInRange"),target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnInvalid"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur"]}}},"before:spin":{tags:["focus"],effects:["trackButtonDisabled","waitForChangeDelay"],entry:hpe([{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}]),on:{CHANGE_DELAY:{target:"spinning",guard:AO("isInRange","spinOnPress")},"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:["clearHint"]},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:["focus"],effects:["trackButtonDisabled","spinValue"],on:{SPIN:[{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}],"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:["focus"],effects:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}},implementations:{guards:{clampValueOnBlur:({prop:e})=>e("clampValueOnBlur"),spinOnPress:({prop:e})=>!!e("spinOnPress"),isInRange:({computed:e})=>!e("isOutOfRange"),isDecrementHint:({context:e,event:t})=>(t.hint??e.get("hint"))==="decrement",isIncrementHint:({context:e,event:t})=>(t.hint??e.get("hint"))==="increment",isTouchPointer:({event:e})=>e.pointerType==="touch"},effects:{waitForChangeDelay({send:e}){const t=setTimeout(()=>{e({type:"CHANGE_DELAY"})},300);return()=>clearTimeout(t)},spinValue({send:e}){const t=setInterval(()=>{e({type:"SPIN"})},50);return()=>clearInterval(t)},trackFormControl({context:e,scope:t}){const n=fd(t);return xw(n,{onFieldsetDisabledChange(r){e.set("fieldsetDisabled",r)},onFormReset(){e.set("value",e.initial("value"))}})},setupVirtualCursor({context:e,scope:t}){const n=e.get("scrubberCursorPoint");return ope(t,n)},preventTextSelection({scope:e}){return ipe(e)},trackButtonDisabled({context:e,scope:t,send:n}){const r=e.get("hint"),o=rpe(t,r);return vA(o,{attributes:["disabled"],callback(){n({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener({scope:e,send:t,prop:n}){const r=fd(e);if(!r||!e.isActiveElement(r)||!n("allowMouseWheel"))return;function o(i){i.preventDefault();const s=Math.sign(i.deltaY)*-1;s===1?t({type:"VALUE.INCREMENT"}):s===-1&&t({type:"VALUE.DECREMENT"})}return Ft(r,"wheel",o,{passive:!1})},activatePointerLock({scope:e}){if(!Cv())return hie(e.getDoc())},trackMousemove({scope:e,send:t,context:n,computed:r}){const o=e.getDoc();function i(a){const l=n.get("scrubberCursorPoint"),c=r("isRtl"),u=spe(e,{point:l,isRtl:c,event:a});u.hint&&t({type:"SCRUBBER.POINTER_MOVE",hint:u.hint,point:u.point})}function s(){t({type:"SCRUBBER.POINTER_UP"})}return Bg(Ft(o,"mousemove",i,!1),Ft(o,"mouseup",s,!1))}},actions:{focusInput({scope:e,prop:t}){if(!t("focusInputOnChange"))return;const n=fd(e);e.isActiveElement(n)||tt(()=>n?.focus({preventScroll:!0}))},increment({context:e,event:t,prop:n,computed:r}){let o=moe(r("valueAsNumber"),t.step??n("step"));n("allowOverflow")||(o=pn(o,n("min"),n("max"))),e.set("value",Aa(o,{computed:r,prop:n}))},decrement({context:e,event:t,prop:n,computed:r}){let o=voe(r("valueAsNumber"),t.step??n("step"));n("allowOverflow")||(o=pn(o,n("min"),n("max"))),e.set("value",Aa(o,{computed:r,prop:n}))},setClampedValue({context:e,prop:t,computed:n}){const r=pn(n("valueAsNumber"),t("min"),t("max"));e.set("value",Aa(r,{computed:n,prop:t}))},setRawValue({context:e,event:t,prop:n,computed:r}){let o=Qb(t.value,{computed:r,prop:n});n("allowOverflow")||(o=pn(o,n("min"),n("max"))),e.set("value",Aa(o,{computed:r,prop:n}))},setValue({context:e,event:t}){const n=t.target?.value??t.value;e.set("value",n)},clearValue({context:e}){e.set("value","")},incrementToMax({context:e,prop:t,computed:n}){const r=Aa(t("max"),{computed:n,prop:t});e.set("value",r)},decrementToMin({context:e,prop:t,computed:n}){const r=Aa(t("min"),{computed:n,prop:t});e.set("value",r)},setHint({context:e,event:t}){e.set("hint",t.hint)},clearHint({context:e}){e.set("hint",null)},invokeOnFocus({computed:e,prop:t}){t("onFocusChange")?.({focused:!0,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},invokeOnBlur({computed:e,prop:t}){t("onFocusChange")?.({focused:!1,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},invokeOnInvalid({computed:e,prop:t,event:n}){if(n.type==="INPUT.CHANGE")return;const r=e("valueAsNumber")>t("max")?"rangeOverflow":"rangeUnderflow";t("onValueInvalid")?.({reason:r,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},syncInputElement({context:e,event:t,computed:n,scope:r}){const o=t.type.endsWith("CHANGE")?e.get("value"):n("formattedValue"),i=fd(r),s=t.selection;tt(()=>{rf(i,o),cpe(i,s,r)})},setFormattedValue({context:e,computed:t}){e.set("value",t("formattedValue"))},setCursorPoint({context:e,event:t}){e.set("scrubberCursorPoint",t.point)},clearCursorPoint({context:e}){e.set("scrubberCursorPoint",null)},setVirtualCursorPosition({context:e,scope:t}){const n=EN(t),r=e.get("scrubberCursorPoint");!n||!r||(n.style.transform=`translate3d(${r.x}px, ${r.y}px, 0px)`)}}}});en()(["allowMouseWheel","allowOverflow","clampValueOnBlur","dir","disabled","focusInputOnChange","form","formatOptions","getRootNode","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","required","readOnly","spinOnPress","step","translations","value","defaultValue"]);const bpe=(e={},t)=>{const n=nt(),r=Zi(Qi),o=ts(es),i=Yr(),s=A(()=>{const l=pe(e);return{id:n,ids:{label:i?.value.ids.label,input:i?.value.ids.control},disabled:i?.value.disabled,readOnly:i?.value.readOnly,required:i?.value.required,invalid:i?.value.invalid,dir:o.value.dir,locale:o.value.locale,value:l.modelValue,getRootNode:r?.value.getRootNode,...da(l),onValueChange:c=>{t?.("valueChange",c),t?.("update:modelValue",c.value),l.onValueChange?.(c)},onFocusChange:c=>{t?.("focusChange",c),l.onFocusChange?.(c)},onValueInvalid:c=>{t?.("valueInvalid",c),l.onValueInvalid?.(c)}}}),a=Ji(vpe,s);return A(()=>upe(a,ua))},ype=P({__name:"number-input-root",props:Ze({allowMouseWheel:{type:Boolean},allowOverflow:{type:Boolean},clampValueOnBlur:{type:Boolean},defaultValue:{},disabled:{type:Boolean},focusInputOnChange:{type:Boolean},form:{},formatOptions:{},id:{},ids:{},inputMode:{},invalid:{type:Boolean},locale:{},max:{},min:{},modelValue:{},name:{},pattern:{},readOnly:{type:Boolean},required:{type:Boolean},spinOnPress:{type:Boolean},step:{},translations:{},asChild:{type:Boolean}},{allowMouseWheel:void 0,allowOverflow:void 0,clampValueOnBlur:void 0,disabled:void 0,focusInputOnChange:void 0,invalid:void 0,readOnly:void 0,required:void 0,spinOnPress:void 0}),emits:["focusChange","valueChange","valueInvalid","update:modelValue"],setup(e,{emit:t}){const o=bpe(e,t);return yN(o),ee(),(i,s)=>(y(),$(d(te).div,F(d(o).getRootProps(),{"as-child":i.asChild}),{default:O(()=>[L(i.$slots,"default")]),_:3},16,["as-child"]))}}),xpe=P({__name:"number-input-scrubber",props:{asChild:{type:Boolean}},setup(e){const t=fa();return ee(),(n,r)=>(y(),$(d(te).div,F(d(t).getScrubberProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),wpe=P({__name:"number-input-value-text",props:{asChild:{type:Boolean}},setup(e){const t=fa();return ee(),(n,r)=>(y(),$(d(te).span,F(d(t).getValueTextProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Xu=Object.freeze(Object.defineProperty({__proto__:null,Context:Dde,Control:Lde,DecrementTrigger:Vde,IncrementTrigger:Fde,Input:Bde,Label:Hde,Root:ype,RootProvider:zde,Scrubber:xpe,ValueText:wpe},Symbol.toStringTag,{value:"Module"})),[ON,Io]=Tt("PopoverContext"),_pe=P({__name:"popover-anchor",props:{asChild:{type:Boolean}},setup(e){const t=Io();return ee(),(n,r)=>(y(),$(d(te).div,F(d(t).getAnchorProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),kpe=P({__name:"popover-arrow-tip",props:{asChild:{type:Boolean}},setup(e){const t=Io();return ee(),(n,r)=>(y(),$(d(te).div,F(d(t).getArrowTipProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Cpe=P({__name:"popover-arrow",props:{asChild:{type:Boolean}},setup(e){const t=Io();return ee(),(n,r)=>(y(),$(d(te).div,F(d(t).getArrowProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Epe=P({__name:"popover-close-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Io();return ee(),(n,r)=>(y(),$(d(te).button,F(d(t).getCloseTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Ope=P({__name:"popover-content",props:{asChild:{type:Boolean}},setup(e){const t=Io(),n=Iv(),r=A(()=>bu(t.value.getContentProps(),n.value.presenceProps));return ee(),(o,i)=>d(n).unmounted?Z("",!0):(y(),$(d(te).div,F({key:0},r.value,{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),Ipe=P({__name:"popover-context",setup(e){const t=Io();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),Tpe=P({__name:"popover-description",props:{asChild:{type:Boolean}},setup(e){const t=Io();return ee(),(n,r)=>(y(),$(d(te).div,F(d(t).getDescriptionProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Spe=P({__name:"popover-indicator",props:{asChild:{type:Boolean}},setup(e){const t=Io();return ee(),(n,r)=>(y(),$(d(te).div,F(d(t).getIndicatorProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Ppe=P({__name:"popover-positioner",props:{asChild:{type:Boolean}},setup(e){const t=Io(),n=yu(),r=af(A(()=>({...n.value,present:t.value.open})));return sf(r),ee(),(o,i)=>d(r).unmounted?Z("",!0):(y(),$(d(te).div,F({key:0},d(t).getPositionerProps(),{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default")]),_:3},16,["as-child"]))}}),$pe=P({__name:"popover-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},setup(e){const t=e,n=A(()=>t.value);return ON(n),ui(A(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),ee(),(r,o)=>L(r.$slots,"default")}});var Rpe=_r("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger"),Do=Rpe.build(),IN=e=>e.ids?.anchor??`popover:${e.id}:anchor`,TN=e=>e.ids?.trigger??`popover:${e.id}:trigger`,o1=e=>e.ids?.content??`popover:${e.id}:content`,SN=e=>e.ids?.positioner??`popover:${e.id}:popper`,Ape=e=>e.ids?.arrow??`popover:${e.id}:arrow`,i1=e=>e.ids?.title??`popover:${e.id}:title`,s1=e=>e.ids?.description??`popover:${e.id}:desc`,Npe=e=>e.ids?.closeTrigger??`popover:${e.id}:close`,NO=e=>e.getById(IN(e)),Gl=e=>e.getById(TN(e)),Wl=e=>e.getById(o1(e)),MO=e=>e.getById(SN(e)),Mpe=e=>e.getById(i1(e)),Dpe=e=>e.getById(s1(e));function Lpe(e,t){const{state:n,context:r,send:o,computed:i,prop:s,scope:a}=e,l=n.matches("open"),c=r.get("currentPlacement"),u=i("currentPortalled"),p=r.get("renderedElements"),h=Mw({...s("positioning"),placement:c});return{portalled:u,open:l,setOpen(f){n.matches("open")!==f&&o({type:f?"OPEN":"CLOSE"})},reposition(f={}){o({type:"POSITIONING.SET",options:f})},getArrowProps(){return t.element({id:Ape(a),...Do.arrow.attrs,dir:s("dir"),style:h.arrow})},getArrowTipProps(){return t.element({...Do.arrowTip.attrs,dir:s("dir"),style:h.arrowTip})},getAnchorProps(){return t.element({...Do.anchor.attrs,dir:s("dir"),id:IN(a)})},getTriggerProps(){return t.button({...Do.trigger.attrs,dir:s("dir"),type:"button","data-placement":c,id:TN(a),"aria-haspopup":"dialog","aria-expanded":l,"data-state":l?"open":"closed","aria-controls":o1(a),onPointerDown(f){Ls(f)&&Cv()&&f.currentTarget.focus()},onClick(f){f.defaultPrevented||o({type:"TOGGLE"})},onBlur(f){o({type:"TRIGGER_BLUR",target:f.relatedTarget})}})},getIndicatorProps(){return t.element({...Do.indicator.attrs,dir:s("dir"),"data-state":l?"open":"closed"})},getPositionerProps(){return t.element({id:SN(a),...Do.positioner.attrs,dir:s("dir"),style:h.floating})},getContentProps(){return t.element({...Do.content.attrs,dir:s("dir"),id:o1(a),tabIndex:-1,role:"dialog",hidden:!l,"data-state":l?"open":"closed","data-expanded":Y(l),"aria-labelledby":p.title?i1(a):void 0,"aria-describedby":p.description?s1(a):void 0,"data-placement":c})},getTitleProps(){return t.element({...Do.title.attrs,id:i1(a),dir:s("dir")})},getDescriptionProps(){return t.element({...Do.description.attrs,id:s1(a),dir:s("dir")})},getCloseTriggerProps(){return t.button({...Do.closeTrigger.attrs,dir:s("dir"),id:Npe(a),type:"button","aria-label":"close",onClick(f){f.defaultPrevented||(f.stopPropagation(),o({type:"CLOSE"}))}})}}}var Vpe={props({props:e}){return{closeOnInteractOutside:!0,closeOnEscape:!0,autoFocus:!0,modal:!1,portalled:!0,...e,positioning:{placement:"bottom",...e.positioning}}},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{currentPlacement:e(()=>({defaultValue:void 0})),renderedElements:e(()=>({defaultValue:{title:!0,description:!0}}))}},computed:{currentPortalled:({prop:e})=>!!e("modal")||!!e("portalled")},watch({track:e,prop:t,action:n}){e([()=>t("open")],()=>{n(["toggleVisibility"])})},entry:["checkRenderedElements"],states:{closed:{on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}]}},open:{effects:["trapFocus","preventScroll","hideContentBelow","trackPositioning","trackDismissableElement","proxyTabFocus"],on:{"CONTROLLED.CLOSE":{target:"closed",actions:["setFinalFocus"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","setFinalFocus"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackPositioning({context:e,prop:t,scope:n}){e.set("currentPlacement",t("positioning").placement);const r=NO(n)??Gl(n);return _p(r,()=>MO(n),{...t("positioning"),defer:!0,onComplete(i){e.set("currentPlacement",i.placement)}})},trackDismissableElement({send:e,prop:t,scope:n}){const r=()=>Wl(n);let o=!0;return Rv(r,{type:"popover",pointerBlocking:t("modal"),exclude:Gl(n),defer:!0,onEscapeKeyDown(i){t("onEscapeKeyDown")?.(i),!t("closeOnEscape")&&i.preventDefault()},onInteractOutside(i){t("onInteractOutside")?.(i),!i.defaultPrevented&&(o=!(i.detail.focusable||i.detail.contextmenu),t("closeOnInteractOutside")||i.preventDefault())},onPointerDownOutside:t("onPointerDownOutside"),onFocusOutside:t("onFocusOutside"),persistentElements:t("persistentElements"),onRequestDismiss:t("onRequestDismiss"),onDismiss(){e({type:"CLOSE",src:"interact-outside",restoreFocus:o})}})},proxyTabFocus({prop:e,scope:t}){return e("modal")||!e("portalled")?void 0:bie(()=>Wl(t),{triggerElement:Gl(t),defer:!0,onFocus(r){r.focus({preventScroll:!0})}})},hideContentBelow({prop:e,scope:t}){return e("modal")?lN(()=>[Wl(t),Gl(t)],{defer:!0}):void 0},preventScroll({prop:e,scope:t}){if(e("modal"))return sN(t.getDoc())},trapFocus({prop:e,scope:t}){return e("modal")?iN(()=>Wl(t),{initialFocus:()=>jg({root:Wl(t),getInitialEl:e("initialFocusEl"),enabled:e("autoFocus")})}):void 0}},actions:{reposition({event:e,prop:t,scope:n,context:r}){const o=NO(n)??Gl(n);_p(o,()=>MO(n),{...t("positioning"),...e.options,defer:!0,listeners:!1,onComplete(s){r.set("currentPlacement",s.placement)}})},checkRenderedElements({context:e,scope:t}){tt(()=>{Object.assign(e.get("renderedElements"),{title:!!Mpe(t),description:!!Dpe(t)})})},setInitialFocus({prop:e,scope:t}){e("modal")||tt(()=>{jg({root:Wl(t),getInitialEl:e("initialFocusEl"),enabled:e("autoFocus")})?.focus({preventScroll:!0})})},setFinalFocus({event:e,scope:t}){const n=e.restoreFocus??e.previousEvent?.restoreFocus;n!=null&&!n||tt(()=>{Gl(t)?.focus({preventScroll:!0})})},invokeOnOpen({prop:e,flush:t}){t(()=>{e("onOpenChange")?.({open:!0})})},invokeOnClose({prop:e,flush:t}){t(()=>{e("onOpenChange")?.({open:!1})})},toggleVisibility({event:e,send:t,prop:n}){t({type:n("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:e})}}}};en()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","defaultOpen","open","persistentElements","portalled","positioning"]);const Fpe=(e={},t)=>{const n=nt(),r=Zi(Qi),o=ts(es),i=A(()=>{const a=pe(e);return{id:n,dir:o.value.dir,getRootNode:r?.value.getRootNode,...da(a),onOpenChange:l=>{t?.("openChange",l),t?.("update:open",l.open),a.onOpenChange?.(l)},onEscapeKeyDown:l=>{t?.("escapeKeyDown",l),a.onEscapeKeyDown?.(l)},onFocusOutside:l=>{t?.("focusOutside",l),a.onFocusOutside?.(l)},onInteractOutside:l=>{t?.("interactOutside",l),a.onInteractOutside?.(l)},onPointerDownOutside:l=>{t?.("pointerDownOutside",l),a.onPointerDownOutside?.(l)}}}),s=Ji(Vpe,i);return A(()=>Lpe(s,ua))},Bpe=P({__name:"popover-root",props:Ze({autoFocus:{type:Boolean},closeOnEscape:{type:Boolean},closeOnInteractOutside:{type:Boolean},defaultOpen:{type:Boolean},id:{},ids:{},initialFocusEl:{type:Function},modal:{type:Boolean},open:{type:Boolean},persistentElements:{},portalled:{type:Boolean},positioning:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},{autoFocus:void 0,closeOnEscape:void 0,closeOnInteractOutside:void 0,defaultOpen:void 0,modal:void 0,open:void 0,portalled:void 0}),emits:["escapeKeyDown","focusOutside","interactOutside","openChange","pointerDownOutside","requestDismiss","update:open"],setup(e,{emit:t}){const n=e,o=Fpe(n,t);return ON(o),ui(A(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),ee(),(i,s)=>L(i.$slots,"default")}}),Hpe=P({__name:"popover-title",props:{asChild:{type:Boolean}},setup(e){const t=Io();return ee(),(n,r)=>(y(),$(d(te).div,F(d(t).getTitleProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),zpe=P({__name:"popover-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Io();return ee(),(n,r)=>(y(),$(d(te).button,F(d(t).getTriggerProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Xe=Object.freeze(Object.defineProperty({__proto__:null,Anchor:_pe,Arrow:Cpe,ArrowTip:kpe,CloseTrigger:Epe,Content:Ope,Context:Ipe,Description:Tpe,Indicator:Spe,Positioner:Ppe,Root:Bpe,RootProvider:$pe,Title:Hpe,Trigger:zpe},Symbol.toStringTag,{value:"Module"})),[PN,To]=Tt("SliderContext"),Upe=P({__name:"slider-context",setup(e){const t=To();return(n,r)=>L(n.$slots,"default",Be(Fe(d(t))))}}),jpe=P({__name:"slider-control",props:{asChild:{type:Boolean}},setup(e){const t=To();return ee(),(n,r)=>(y(),$(d(te).div,F(d(t).getControlProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),[Gpe,$N]=Tt("SliderThumbPropsContext"),Wpe=P({__name:"slider-dragging-indicator",props:{asChild:{type:Boolean}},setup(e){const t=To(),n=$N(),r=xo();return ee(),(o,i)=>(y(),$(d(te).span,F(d(t).getDraggingIndicatorProps(d(n)),{"as-child":o.asChild}),{default:O(()=>[L(o.$slots,"default",{},()=>[re(j(r.default?.()||d(t).getThumbValue(d(n).index)),1)])]),_:3},16,["as-child"]))}}),qpe=P({__name:"slider-hidden-input",props:{asChild:{type:Boolean}},setup(e){const t=To(),n=$N();return ee(),(r,o)=>(y(),$(d(te).input,F(d(t).getHiddenInputProps(d(n)),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),Kpe=P({__name:"slider-label",props:{asChild:{type:Boolean}},setup(e){const t=To();return ee(),(n,r)=>(y(),$(d(te).label,F(d(t).getLabelProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Ype=P({__name:"slider-marker-group",props:{asChild:{type:Boolean}},setup(e){const t=To();return ee(),(n,r)=>(y(),$(d(te).div,F(d(t).getMarkerGroupProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Xpe=P({__name:"slider-marker",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=To();return ee(),(r,o)=>(y(),$(d(te).span,F(d(n).getMarkerProps(t),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),Jpe=P({__name:"slider-range",props:{asChild:{type:Boolean}},setup(e){const t=To();return ee(),(n,r)=>(y(),$(d(te).div,F(d(t).getRangeProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Zpe=P({__name:"slider-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=A(()=>t.value);return PN(n),ee(),(r,o)=>(y(),$(d(te).div,F(n.value.getRootProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}});var Qpe=_r("slider").parts("root","label","thumb","valueText","track","range","control","markerGroup","marker","draggingIndicator"),Lo=Qpe.build(),RN=e=>e.ids?.root??`slider:${e.id}`,AN=(e,t)=>e.ids?.thumb?.(t)??`slider:${e.id}:thumb:${t}`,a1=(e,t)=>e.ids?.hiddenInput?.(t)??`slider:${e.id}:input:${t}`,NN=e=>e.ids?.control??`slider:${e.id}:control`,efe=e=>e.ids?.track??`slider:${e.id}:track`,tfe=e=>e.ids?.range??`slider:${e.id}:range`,DO=e=>e.ids?.label??`slider:${e.id}:label`,nfe=e=>e.ids?.valueText??`slider:${e.id}:value-text`,rfe=(e,t)=>e.ids?.marker?.(t)??`slider:${e.id}:marker:${t}`,ofe=e=>e.getById(RN(e)),ife=(e,t)=>e.getById(AN(e,t)),MN=e=>bp(LN(e),"[role=slider]"),sfe=e=>MN(e)[0],DN=(e,t)=>e.getById(a1(e,t)),LN=e=>e.getById(NN(e)),LO=(e,t)=>{const{prop:n,scope:r}=e,o=LN(r);if(!o)return;const s=kw(t,o).getPercentValue({orientation:n("orientation"),dir:n("dir"),inverted:{y:!0}});return gw(s,n("min"),n("max"),n("step"))},afe=(e,t)=>{t.forEach((n,r)=>{const o=DN(e,r);o&&fA(o,{value:n})})},lfe=e=>({left:e?.offsetLeft??0,top:e?.offsetTop??0,width:e?.offsetWidth??0,height:e?.offsetHeight??0});function cfe(e){const t=e[0],n=e[e.length-1];return[t,n]}function ufe(e){const{prop:t,computed:n}=e,r=n("valuePercent"),[o,i]=cfe(r);if(r.length===1){if(t("origin")==="center"){const s=r[0]<50,a=s?`${r[0]}%`:"50%",l=s?"50%":`${100-r[0]}%`;return{start:a,end:l}}return t("origin")==="end"?{start:`${i}%`,end:"0%"}:{start:"0%",end:`${100-i}%`}}return{start:`${o}%`,end:`${100-i}%`}}function dfe(e){const{computed:t}=e,n=t("isVertical"),r=t("isRtl");return n?{position:"absolute",bottom:"var(--slider-range-start)",top:"var(--slider-range-end)"}:{position:"absolute",[r?"right":"left"]:"var(--slider-range-start)",[r?"left":"right"]:"var(--slider-range-end)"}}function pfe(e,t){const{context:n,prop:r}=e,{height:o=0}=n.get("thumbSize")??{},i=H0([r("min"),r("max")],[-o/2,o/2]);return parseFloat(i(t).toFixed(2))}function ffe(e,t){const{computed:n,context:r,prop:o}=e,{width:i=0}=r.get("thumbSize")??{};if(n("isRtl")){const l=H0([o("max"),o("min")],[-i/2,i/2]);return-1*parseFloat(l(t).toFixed(2))}const a=H0([o("min"),o("max")],[-i/2,i/2]);return parseFloat(a(t).toFixed(2))}function hfe(e,t,n){const{computed:r,prop:o}=e;if(o("thumbAlignment")==="center")return`${t}%`;const i=r("isVertical")?pfe(e,n):ffe(e,n);return`calc(${t}% - ${i}px)`}function VN(e,t){const{prop:n}=e,r=yv(t,n("min"),n("max"))*100;return hfe(e,r,t)}function FN(e){const{computed:t,prop:n}=e;let r="visible";return n("thumbAlignment")==="contain"&&!t("hasMeasuredThumbSize")&&(r="hidden"),r}function VO(e,t){const{computed:n}=e,r=n("isVertical")?"bottom":"insetInlineStart";return{visibility:FN(e),position:"absolute",transform:"var(--slider-thumb-transform)",[r]:`var(--slider-thumb-offset-${t})`}}function gfe(){return{touchAction:"none",userSelect:"none",WebkitUserSelect:"none",position:"relative"}}function mfe(e){const{context:t,computed:n}=e,r=n("isVertical"),o=n("isRtl"),i=ufe(e),s=t.get("thumbSize");return{...t.get("value").reduce((l,c,u)=>{const p=VN(e,c);return{...l,[`--slider-thumb-offset-${u}`]:p}},{}),"--slider-thumb-width":BE(s?.width),"--slider-thumb-height":BE(s?.height),"--slider-thumb-transform":r?"translateY(50%)":o?"translateX(50%)":"translateX(-50%)","--slider-range-start":i.start,"--slider-range-end":i.end}}function vfe(e,t){const{computed:n}=e,r=n("isHorizontal"),o=n("isRtl");return{visibility:FN(e),position:"absolute",pointerEvents:"none",[r?"insetInlineStart":"bottom"]:VN(e,t),translate:"var(--translate-x) var(--translate-y)","--translate-x":r?o?"50%":"-50%":"0%","--translate-y":r?"0%":"50%"}}function bfe(){return{userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none",position:"relative"}}function yfe(e,t){return t.map((n,r)=>l1(e,n,r))}function Fs(e,t){const{context:n,prop:r}=e,o=r("step")*r("minStepsBetweenThumbs");return lA(n.get("value"),r("min"),r("max"),o)[t]}function l1(e,t,n){const{prop:r}=e,o=Fs(e,n),i=gp(t,r("min"),r("max"),r("step"));return pn(i,o.min,o.max)}function xfe(e,t,n){const{context:r,prop:o}=e,i=t??r.get("focusedIndex"),s=Fs(e,i),a=hoe(i,{...s,step:n??o("step"),values:r.get("value")});return a[i]=pn(a[i],s.min,s.max),a}function wfe(e,t,n){const{context:r,prop:o}=e,i=t??r.get("focusedIndex"),s=Fs(e,i),a=foe(i,{...s,step:n??o("step"),values:r.get("value")});return a[i]=pn(a[i],s.min,s.max),a}function _fe(e,t){const{context:n}=e;return goe(n.get("value"),t)}function kfe(e,t){const{state:n,send:r,context:o,prop:i,computed:s,scope:a}=e,l=i("aria-label"),c=i("aria-labelledby"),u=o.get("value"),p=o.get("focusedIndex"),h=n.matches("focus"),f=n.matches("dragging"),g=s("isDisabled"),m=i("invalid"),b=s("isInteractive"),w=i("orientation")==="horizontal",E=i("orientation")==="vertical";function k(_){return yv(_,i("min"),i("max"))}function v(_){return gw(_,i("min"),i("max"),i("step"))}return{value:u,dragging:f,focused:h,setValue(_){r({type:"SET_VALUE",value:_})},getThumbValue(_){return u[_]},setThumbValue(_,T){r({type:"SET_VALUE",index:_,value:T})},getValuePercent:k,getPercentValue:v,getThumbPercent(_){return k(u[_])},setThumbPercent(_,T){const N=v(T);r({type:"SET_VALUE",index:_,value:N})},getThumbMin(_){return Fs(e,_).min},getThumbMax(_){return Fs(e,_).max},increment(_){r({type:"INCREMENT",index:_})},decrement(_){r({type:"DECREMENT",index:_})},focus(){b&&r({type:"FOCUS",index:0})},getLabelProps(){return t.label({...Lo.label.attrs,dir:i("dir"),"data-disabled":Y(g),"data-orientation":i("orientation"),"data-invalid":Y(m),"data-dragging":Y(f),"data-focus":Y(h),id:DO(a),htmlFor:a1(a,0),onClick(_){b&&(_.preventDefault(),sfe(a)?.focus())},style:{userSelect:"none",WebkitUserSelect:"none"}})},getRootProps(){return t.element({...Lo.root.attrs,"data-disabled":Y(g),"data-orientation":i("orientation"),"data-dragging":Y(f),"data-invalid":Y(m),"data-focus":Y(h),id:RN(a),dir:i("dir"),style:mfe(e)})},getValueTextProps(){return t.element({...Lo.valueText.attrs,dir:i("dir"),"data-disabled":Y(g),"data-orientation":i("orientation"),"data-invalid":Y(m),"data-focus":Y(h),id:nfe(a)})},getTrackProps(){return t.element({...Lo.track.attrs,dir:i("dir"),id:efe(a),"data-disabled":Y(g),"data-invalid":Y(m),"data-dragging":Y(f),"data-orientation":i("orientation"),"data-focus":Y(h),style:{position:"relative"}})},getThumbProps(_){const{index:T=0,name:N}=_,C=u[T],x=Fs(e,T),I=i("getAriaValueText")?.({value:C,index:T}),R=Array.isArray(l)?l[T]:l,M=Array.isArray(c)?c[T]:c;return t.element({...Lo.thumb.attrs,dir:i("dir"),"data-index":T,"data-name":N,id:AN(a,T),"data-disabled":Y(g),"data-orientation":i("orientation"),"data-focus":Y(h&&p===T),"data-dragging":Y(f&&p===T),draggable:!1,"aria-disabled":mp(g),"aria-label":R,"aria-labelledby":M??DO(a),"aria-orientation":i("orientation"),"aria-valuemax":x.max,"aria-valuemin":x.min,"aria-valuenow":u[T],"aria-valuetext":I,role:"slider",tabIndex:g?void 0:0,style:VO(e,T),onPointerDown(B){b&&Ls(B)&&(r({type:"THUMB_POINTER_DOWN",index:T}),B.stopPropagation())},onBlur(){b&&r({type:"BLUR"})},onFocus(){b&&r({type:"FOCUS",index:T})},onKeyDown(B){if(B.defaultPrevented||!b)return;const z=Ug(B)*i("step"),J={ArrowUp(){w||r({type:"ARROW_INC",step:z,src:"ArrowUp"})},ArrowDown(){w||r({type:"ARROW_DEC",step:z,src:"ArrowDown"})},ArrowLeft(){E||r({type:"ARROW_DEC",step:z,src:"ArrowLeft"})},ArrowRight(){E||r({type:"ARROW_INC",step:z,src:"ArrowRight"})},PageUp(){r({type:"ARROW_INC",step:z,src:"PageUp"})},PageDown(){r({type:"ARROW_DEC",step:z,src:"PageDown"})},Home(){r({type:"HOME"})},End(){r({type:"END"})}},q=Wc(B,{dir:i("dir"),orientation:i("orientation")}),K=J[q];K&&(K(B),B.preventDefault(),B.stopPropagation())}})},getHiddenInputProps(_){const{index:T=0,name:N}=_;return t.input({name:N??(i("name")?i("name")+(u.length>1?"[]":""):void 0),form:i("form"),type:"text",hidden:!0,defaultValue:u[T],id:a1(a,T)})},getRangeProps(){return t.element({id:tfe(a),...Lo.range.attrs,dir:i("dir"),"data-dragging":Y(f),"data-focus":Y(h),"data-invalid":Y(m),"data-disabled":Y(g),"data-orientation":i("orientation"),style:dfe(e)})},getControlProps(){return t.element({...Lo.control.attrs,dir:i("dir"),id:NN(a),"data-dragging":Y(f),"data-disabled":Y(g),"data-orientation":i("orientation"),"data-invalid":Y(m),"data-focus":Y(h),style:gfe(),onPointerDown(_){if(!b||!Ls(_)||Gc(_))return;const T=jo(_);r({type:"POINTER_DOWN",point:T}),_.preventDefault(),_.stopPropagation()}})},getMarkerGroupProps(){return t.element({...Lo.markerGroup.attrs,role:"presentation",dir:i("dir"),"aria-hidden":!0,"data-orientation":i("orientation"),style:bfe()})},getMarkerProps(_){const T=vfe(e,_.value);let N;return _.value<fw(u)?N="under-value":_.value>hw(u)?N="over-value":N="at-value",t.element({...Lo.marker.attrs,id:rfe(a,_.value),role:"presentation",dir:i("dir"),"data-orientation":i("orientation"),"data-value":_.value,"data-disabled":Y(g),"data-state":N,style:T})},getDraggingIndicatorProps(_){const{index:T=0}=_,N=T===p&&f;return t.element({...Lo.draggingIndicator.attrs,role:"presentation",dir:i("dir"),hidden:!N,"data-orientation":i("orientation"),"data-state":N?"open":"closed",style:VO(e,T)})}}}var Cfe=(e,t)=>e?.width===t?.width&&e?.height===t?.height,FO=(e,t,n,r,o)=>lA(e,t,n,o*r).map(s=>{const a=gp(s.value,s.min,s.max,r),l=pn(a,s.min,s.max);if(!sA(l,t,n))throw new Error("[zag-js/slider] The configured `min`, `max`, `step` or `minStepsBetweenThumbs` values are invalid");return l}),Efe={props({props:e}){const t=e.min??0,n=e.max??100,r=e.step??1,o=e.defaultValue??[t],i=e.minStepsBetweenThumbs??0;return{dir:"ltr",thumbAlignment:"contain",origin:"start",orientation:"horizontal",minStepsBetweenThumbs:i,...e,defaultValue:FO(o,t,n,r,i),value:e.value?FO(e.value,t,n,r,i):void 0,max:n,step:r,min:t}},initialState(){return"idle"},context({prop:e,bindable:t,getContext:n}){return{thumbSize:t(()=>({defaultValue:e("thumbSize")||null})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:vu,hash(r){return r.join(",")},onChange(r){e("onValueChange")?.({value:r})}})),focusedIndex:t(()=>({defaultValue:-1,onChange(r){const o=n();e("onFocusChange")?.({focusedIndex:r,value:o.get("value")})}})),fieldsetDisabled:t(()=>({defaultValue:!1}))}},computed:{isHorizontal:({prop:e})=>e("orientation")==="horizontal",isVertical:({prop:e})=>e("orientation")==="vertical",isRtl:({prop:e})=>e("orientation")==="horizontal"&&e("dir")==="rtl",isDisabled:({context:e,prop:t})=>!!t("disabled")||e.get("fieldsetDisabled"),isInteractive:({prop:e,computed:t})=>!(e("readOnly")||t("isDisabled")),hasMeasuredThumbSize:({context:e})=>e.get("thumbSize")!=null,valuePercent:j0(({context:e,prop:t})=>[e.get("value"),t("min"),t("max")],([e,t,n])=>e.map(r=>100*yv(r,t,n)))},watch({track:e,action:t,context:n}){e([()=>n.hash("value")],()=>{t(["syncInputElements","dispatchChangeEvent"])})},effects:["trackFormControlState","trackThumbSize"],on:{SET_VALUE:[{guard:"hasIndex",actions:["setValueAtIndex"]},{actions:["setValue"]}],INCREMENT:{actions:["incrementThumbAtIndex"]},DECREMENT:{actions:["decrementThumbAtIndex"]}},states:{idle:{on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},FOCUS:{target:"focus",actions:["setFocusedIndex"]},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","focusActiveThumb"]}}},focus:{entry:["focusActiveThumb"],on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","focusActiveThumb"]},ARROW_DEC:{actions:["decrementThumbAtIndex","invokeOnChangeEnd"]},ARROW_INC:{actions:["incrementThumbAtIndex","invokeOnChangeEnd"]},HOME:{actions:["setFocusedThumbToMin","invokeOnChangeEnd"]},END:{actions:["setFocusedThumbToMax","invokeOnChangeEnd"]},BLUR:{target:"idle",actions:["clearFocusedIndex"]}}},dragging:{entry:["focusActiveThumb"],effects:["trackPointerMove"],on:{POINTER_UP:{target:"focus",actions:["invokeOnChangeEnd"]},POINTER_MOVE:{actions:["setPointerValue"]}}}},implementations:{guards:{hasIndex:({event:e})=>e.index!=null},effects:{trackFormControlState({context:e,scope:t}){return xw(ofe(t),{onFieldsetDisabledChange(n){e.set("fieldsetDisabled",n)},onFormReset(){e.set("value",e.initial("value"))}})},trackPointerMove({scope:e,send:t}){return xA(e.getDoc(),{onPointerMove(n){t({type:"POINTER_MOVE",point:n.point})},onPointerUp(){t({type:"POINTER_UP"})}})},trackThumbSize({context:e,scope:t,prop:n}){if(!(n("thumbAlignment")!=="contain"||n("thumbSize")))return kie(MN(t),{box:"border-box",measure(r){return lfe(r)},onEntry({rects:r}){if(r.length===0)return;const o=boe(r[0],["width","height"]);Cfe(e.get("thumbSize"),o)||e.set("thumbSize",o)}})}},actions:{dispatchChangeEvent({context:e,scope:t}){afe(t,e.get("value"))},syncInputElements({context:e,scope:t}){e.get("value").forEach((n,r)=>{const o=DN(t,r);rf(o,n.toString())})},invokeOnChangeEnd({prop:e,context:t}){queueMicrotask(()=>{e("onValueChangeEnd")?.({value:t.get("value")})})},setClosestThumbIndex(e){const{context:t,event:n}=e,r=LO(e,n.point);if(r==null)return;const o=_fe(e,r);t.set("focusedIndex",o)},setFocusedIndex({context:e,event:t}){e.set("focusedIndex",t.index)},clearFocusedIndex({context:e}){e.set("focusedIndex",-1)},setPointerValue(e){queueMicrotask(()=>{const{context:t,event:n}=e,r=LO(e,n.point);if(r==null)return;const o=t.get("focusedIndex"),i=l1(e,r,o);t.set("value",s=>ud(s,o,i))})},focusActiveThumb({scope:e,context:t}){tt(()=>{ife(e,t.get("focusedIndex"))?.focus({preventScroll:!0})})},decrementThumbAtIndex(e){const{context:t,event:n}=e,r=xfe(e,n.index,n.step);t.set("value",r)},incrementThumbAtIndex(e){const{context:t,event:n}=e,r=wfe(e,n.index,n.step);t.set("value",r)},setFocusedThumbToMin(e){const{context:t}=e,n=t.get("focusedIndex"),{min:r}=Fs(e,n);t.set("value",o=>ud(o,n,r))},setFocusedThumbToMax(e){const{context:t}=e,n=t.get("focusedIndex"),{max:r}=Fs(e,n);t.set("value",o=>ud(o,n,r))},setValueAtIndex(e){const{context:t,event:n}=e,r=l1(e,n.value,n.index);t.set("value",o=>ud(o,n.index,r))},setValue(e){const{context:t,event:n}=e,r=yfe(e,n.value);t.set("value",r)}}}};en()(["aria-label","aria-labelledby","dir","disabled","form","getAriaValueText","getRootNode","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value","defaultValue"]);en()(["index","name"]);const Ofe=(e={},t)=>{const n=nt(),r=Zi(Qi),o=ts(es),i=A(()=>{const a=pe(e);return{id:n,dir:o.value.dir,value:a.modelValue,getRootNode:r?.value.getRootNode,...da(a),onFocusChange:l=>{t?.("focusChange",l),a.onFocusChange?.(l)},onValueChangeEnd:l=>{t?.("valueChangeEnd",l),a.onValueChangeEnd?.(l)},onValueChange:l=>{t?.("valueChange",l),t?.("update:modelValue",l.value),a.onValueChange?.(l)}}}),s=Ji(Efe,i);return A(()=>kfe(s,ua))},Ife=P({__name:"slider-root",props:Ze({"aria-label":{},"aria-labelledby":{},defaultValue:{},dir:{},disabled:{type:Boolean},form:{},getAriaValueText:{type:Function},getRootNode:{type:Function},id:{},ids:{},invalid:{type:Boolean},max:{},min:{},minStepsBetweenThumbs:{},modelValue:{},name:{},orientation:{},origin:{},readOnly:{type:Boolean},step:{},thumbAlignment:{},thumbSize:{},asChild:{type:Boolean}},{disabled:void 0,invalid:void 0,readOnly:void 0}),emits:["focusChange","valueChange","valueChangeEnd","update:modelValue"],setup(e,{emit:t}){const o=Ofe(e,t);return PN(o),ee(),(i,s)=>(y(),$(d(te).div,F(d(o).getRootProps(),{"as-child":i.asChild}),{default:O(()=>[L(i.$slots,"default")]),_:3},16,["as-child"]))}}),Tfe=P({__name:"slider-thumb",props:{index:{},name:{},asChild:{type:Boolean}},setup(e){const t=e,n=To();return Gpe(t),ee(),(r,o)=>(y(),$(d(te).div,F(d(n).getThumbProps(t),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default")]),_:3},16,["as-child"]))}}),Sfe=P({__name:"slider-track",props:{asChild:{type:Boolean}},setup(e){const t=To();return ee(),(n,r)=>(y(),$(d(te).div,F(d(t).getTrackProps(),{"as-child":n.asChild}),{default:O(()=>[L(n.$slots,"default")]),_:3},16,["as-child"]))}}),Pfe=P({__name:"slider-value-text",props:{asChild:{type:Boolean}},setup(e){const t=To(),n=xo();return ee(),(r,o)=>(y(),$(d(te).span,F(d(t).getValueTextProps(),{"as-child":r.asChild}),{default:O(()=>[L(r.$slots,"default",{},()=>[re(j(n.default?.()||d(t).value.join(", ")),1)])]),_:3},16,["as-child"]))}}),Nr=Object.freeze(Object.defineProperty({__proto__:null,Context:Upe,Control:jpe,DraggingIndicator:Wpe,HiddenInput:qpe,Label:Kpe,Marker:Xpe,MarkerGroup:Ype,Range:Jpe,Root:Ife,RootProvider:Zpe,Thumb:Tfe,Track:Sfe,ValueText:Pfe},Symbol.toStringTag,{value:"Module"})),$fe={trailing:!0};function BN(e,t=25,n={}){if(n={...$fe,...n},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let r,o,i=[],s,a;const l=(p,h)=>(s=Rfe(e,p,h),s.finally(()=>{if(s=null,n.trailing&&a&&!o){const f=l(p,a);return a=null,f}}),s),c=function(...p){return n.trailing&&(a=p),s||new Promise(h=>{const f=!o&&n.leading;clearTimeout(o),o=setTimeout(()=>{o=null;const g=n.leading?r:l(this,p);a=null;for(const m of i)m(g);i=[]},t),f?(r=l(this,p),h(r)):i.push(h)})},u=p=>{p&&(clearTimeout(p),o=null)};return c.isPending=()=>!!o,c.cancel=()=>{u(o),i=[],a=null},c.flush=()=>{if(u(o),!a||s)return;const p=a;return a=null,l(this,p)},c}async function Rfe(e,t,n){return await e.apply(t,n)}function Afe(){return document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}function ha(){return Nfe()}function ey(e,t={}){const n=Q(null),r=Q(null),o=Q(!1),i=Q(!1),s=Q(null);let a=null;const l=[],c=[],u=[],p=async(w,E=!1)=>{Kc.start(),o.value=!0,i.value=!1,r.value=null,a=new AbortController;try{const k=await e(a.signal,w);if(s.value=k.status,!k.ok)throw new Error(`HTTP error! status: ${k.status}`);const v=t.responseType==="text"?await k.text():await k.json();return n.value=v,l.forEach(_=>_(v)),v}catch(k){const v=k instanceof Error?k:new Error(String(k));if(r.value=v,c.forEach(_=>_(v)),E)throw v;return null}finally{o.value=!1,i.value=!0,Kc.done(),u.forEach(k=>k())}},h=()=>{a&&(a.abort(),a=null)},f=w=>{l.push(w)},g=w=>{c.push(w)},m=w=>{u.push(w)};t.immediate&&p();const b={data:n,error:r,isFetching:o,isFinished:i,statusCode:s,execute:p,abort:h,onSuccess:f,onError:g,onFinish:m,json:()=>(t.responseType="json",b),text:()=>(t.responseType="text",b)};return b}function Nfe(){const e=Afe();return{get(t,n={}){return ey(r=>fetch(pe(t),{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":e,Accept:"application/json"},signal:r}),n)},post(t,n,r={}){return ey((o,i)=>{const s=i!==void 0?i:n;return fetch(pe(t),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":e,Accept:"application/json"},body:s?JSON.stringify(s):void 0,signal:o})},r)},postFormData(t,n,r={}){return ey((o,i)=>{const s=i!==void 0?i:n;return fetch(pe(t),{method:"POST",headers:{"X-CSRF-TOKEN":e},body:s,signal:o})},r)}}}function Mfe(e){const{state:t}=Dt(),{post:n}=ha();return n(window.editorConfig.routes.persistUpdates,{theme:t.theme?.code,channel:window.editorConfig.defaultChannel,locale:window.editorConfig.editorLocale,template:{url:t.pageData?.url||"",name:t.pageData?.template||"index",sources:t.pageData?.sources},updates:e}).text()}function Dfe(e){const{state:t}=Dt(),{post:n}=ha(),r=n(window.editorConfig.routes.persistThemeSettings,{theme:t.theme.code,channel:t.channel||window.editorConfig.defaultChannel,locale:t.locale||window.editorConfig.editorLocale,template:{url:t.pageData?.url||"",name:t.pageData?.template||"index",sources:t.pageData?.sources},updates:e}).text();return r.onError(o=>{console.error("Failed to persist theme settings:",o)}),r}function Lfe(e){const{state:t}=Dt(),{post:n}=ha(),r=n(window.editorConfig.routes.publishTheme,{theme:t.theme.code,channel:t.channel||window.editorConfig.defaultChannel,locale:t.locale||window.editorConfig.editorLocale,template:t.pageData?.template||"index",page:e});return r.onError(o=>{console.error("Failed to publish theme:",o)}),r}function Vfe(){const{state:e}=Dt(),t=Q("/api/categories"),{get:n}=ha(),r=n(t);r.onSuccess(i=>{(i?.data||[]).forEach(a=>{e.categories.set(a.id,a)})}),r.onError(i=>{console.error("Failed to fetch categories:",i)});function o(i={}){const s=new URL("/api/categories",window.location.origin);return s.searchParams.append("channel",i.channel||e.channel),s.searchParams.append("locale",i.locale||e.locale),i.search&&s.searchParams.append("name",i.search),t.value=s.href,r.execute()}return{...r,execute:o}}function Ffe(){const{state:e}=Dt(),t=Q("/api/products"),{get:n}=ha(),r=n(t);r.onSuccess(i=>{(i?.data||[]).forEach(a=>{e.products.set(a.id,a)})}),r.onError(i=>{console.error("Failed to fetch products:",i)});function o(i={}){const s=new URL("/api/products",window.location.origin);return s.searchParams.append("channel",i.channel||e.channel),s.searchParams.append("locale",i.locale||e.locale),i.search&&s.searchParams.append("name",i.search),t.value=s.href,r.execute()}return{...r,execute:o}}function Bfe(){const{state:e}=Dt(),t=Q(window.editorConfig.routes.getCmsPages),{get:n}=ha(),r=n(t);r.onSuccess(i=>{(i||[]).forEach(a=>{e.cmsPages.set(a.id,a)})}),r.onError(i=>{console.error("Failed to fetch CMS pages:",i)});function o(i={}){const s=window.editorConfig.routes.getCmsPages,a=new URL(s,window.location.origin);return a.searchParams.append("channel",i.channel||e.channel),a.searchParams.append("locale",i.locale||e.locale),i.search&&a.searchParams.append("title",i.search),t.value=a.href,r.execute()}return{...r,execute:o}}const Hfe={class:"h-full flex flex-col overflow-y-hidden z-[100]"},zfe={class:"flex-none h-12 flex items-center border-b px-4"},Ufe={class:"flex-1 overflow-y-auto"},jfe={key:0},Gfe={key:0,class:"border-t pt-2 mb-1"},Wfe={class:"text-sm font-medium"},qfe={key:1,class:"p-4 text-sm text-gray-500 text-center"},Kfe=P({__name:"ThemeSettingsPanel",setup(e){const{t}=Et(),{theme:n}=Dt(),r=dt(S_),o=Q({}),i=BN(async()=>{if(!r||Object.keys(o.value).length===0)return;const a={...o.value};o.value={};const l=Dfe(a);l.onSuccess(c=>{c?r.preview.sendMessage("page.refresh",{html:c}):r.preview.reload()}),l.onError(c=>{console.error("Failed to persist theme settings:",c),r.ui.toast({type:"error",title:"Failed to save theme settings"})}),await l.execute()},500),s=(a,l)=>{n.value&&(n.value.settings[a]=l,o.value[a]=l,i())};return(a,l)=>{const c=mu;return y(),V("div",Hfe,[D("div",zfe,[D("h2",null,j(d(t)("Theme Settings")),1)]),D("div",Ufe,[d(n)?.settingsSchema&&d(n).settingsSchema.length>0?(y(),V("div",jfe,[S(d(qu).Root,{value:d(n).settingsSchema[0]?.name,collapsible:""},{default:O(()=>[(y(!0),V(ge,null,Ie(d(n).settingsSchema,u=>(y(),$(d(qu).Item,{key:u.name,value:u.name,class:"border-b"},{default:O(()=>[S(d(qu).ItemTrigger,{class:"w-full bg-white z-10 cursor-pointer px-4 py-3 font-medium text-sm hover:bg-gray-50 flex items-center justify-between text-zinc-700"},{default:O(()=>[D("span",null,j(u.name),1),S(d(qu).ItemIndicator,{class:"text-zinc-400 transition-transform duration-200 data-[state=open]:rotate-180"},{default:O(()=>[S(c,{class:"w-3 h-3"})]),_:1})]),_:2},1024),S(d(qu).ItemContent,{class:"px-4 py-3 space-y-4"},{default:O(()=>[(y(!0),V(ge,null,Ie(u.settings,p=>(y(),V(ge,{key:p.id},[p.type==="header"?(y(),V("div",Gfe,[D("h3",Wfe,j(p.label),1)])):(y(),$(d(ws),{key:1,field:p,"model-value":d(n)?.settings?.[p.id]??p.default,"onUpdate:modelValue":h=>s(p.id,h)},null,8,["field","model-value","onUpdate:modelValue"]))],64))),128))]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])):(y(),V("div",qfe,j(d(t)("No theme settings available")),1))])])}}}),Yfe={class:"h-full flex flex-col overflow-y-hidden"},Xfe={class:"flex-none h-12 flex items-center border-b px-4"},Jfe=P({__name:"MediaPanel",setup(e){const{t}=Et();return(n,r)=>(y(),V("div",Yfe,[D("div",Xfe,[D("h2",null,j(d(t)("Media")),1)]),r[0]||(r[0]=D("div",{class:"flex-1 overflow-y-auto"},null,-1))]))}}),Zfe={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function Qfe(e,t){return y(),V("svg",Zfe,[...t[0]||(t[0]=[D("g",{fill:"currentColor"},[D("path",{d:"M3 2v4.586l7 7L14.586 9l-7-7zM2 2a1 1 0 0 1 1-1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 2 6.586z"}),D("path",{d:"M5.5 5a.5.5 0 1 1 0-1a.5.5 0 0 1 0 1m0 1a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3M1 7.086a1 1 0 0 0 .293.707L8.75 15.25l-.043.043a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 0 7.586V3a1 1 0 0 1 1-1z"})],-1)])])}const Mv=fe({name:"bi-tags",render:Qfe}),ehe=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},the={},nhe={class:"animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"};function rhe(e,t){return y(),V("svg",nhe,[...t[0]||(t[0]=[D("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),D("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])}const Gw=ehe(the,[["render",rhe]]),ohe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function ihe(e,t){return y(),V("svg",ohe,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m21 21l-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607"},null,-1)])])}const pf=fe({name:"heroicons-magnifying-glass",render:ihe});typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const BO=()=>{};function she(e,t){function n(...r){return new Promise((o,i)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(o).catch(i)})}return n}function ahe(e,t={}){let n,r,o=BO;const i=l=>{clearTimeout(l),o(),o=BO};let s;return l=>{const c=pe(e),u=pe(t.maxWait);return n&&i(n),c<=0||u!==void 0&&u<=0?(r&&(i(r),r=void 0),Promise.resolve(l())):new Promise((p,h)=>{o=t.rejectOnCancel?h:p,s=l,u&&!r&&(r=setTimeout(()=>{n&&i(n),r=void 0,p(s())},u)),n=setTimeout(()=>{r&&i(r),r=void 0,p(l())},c)})}}function Ww(e,t=200,n={}){return she(ahe(t,n),e)}const lhe={class:"flex flex-col overflow-y-hidden"},che={key:0,class:"flex items-center mx-2 my-2 px-3 py-1 gap-3 border rounded-lg focus-within:ring-2 focus-within:ring-zinc-700"},uhe=["placeholder"],dhe={class:"flex-1 overflow-y-auto border-t"},phe={key:0,class:"h-20 flex items-center justify-center"},fhe={key:1},hhe=["onClick"],ghe=["src","alt"],mhe={class:"truncate flex-1 w-0"},HN=P({__name:"CategoryListbox",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const{t}=Et(),{channel:n,locale:r,getCategories:o}=Dt(),i=rt(e,"modelValue"),s=Q(""),a=A(()=>{const p=o();if(!s.value)return p;const h=s.value.toLowerCase();return p.filter(f=>f.name.toLowerCase().includes(h))}),{isFetching:l,execute:c}=Vfe(),u=Ww(()=>{c({search:s.value})});return Je(()=>c()),st([n,r],()=>{c()}),(p,h)=>{const f=pf,g=Gw,m=Mv;return y(),V("div",lhe,[d(s)||d(a).length>2?(y(),V("div",che,[S(f,{class:"w-4 h-4"}),yo(D("input",{"onUpdate:modelValue":h[0]||(h[0]=b=>Ce(s)?s.value=b:null),type:"text",class:"focus:outline-none text-zinc-600",placeholder:d(t)("Search category"),onInput:h[1]||(h[1]=(...b)=>d(u)&&d(u)(...b))},null,40,uhe),[[Zo,d(s)]])])):Z("",!0),D("div",dhe,[d(l)?(y(),V("div",phe,[S(g,{class:"h-6 w-6 text-zinc-700"})])):(y(),V("div",fhe,[(y(!0),V(ge,null,Ie(d(a),b=>(y(),V("a",{key:b.id,href:"#",class:Ne(["flex items-center gap-3 px-3 py-2 outline-none hover:bg-neutral-200 text-sm",{"bg-neutral-200":i.value&&i.value.id===b.id}]),onClick:It(w=>i.value=b,["stop","prevent"])},[b.logo?(y(),V("img",{key:0,src:b.logo.small_image_url,alt:b.name,class:"w-5 h-5 object-cover flex-none"},null,8,ghe)):(y(),$(m,{key:1,class:"w-4 h-4 flex-none mr-1 transform rotate-90"})),D("span",mhe,j(b.name),1)],10,hhe))),128))]))])])}}}),vhe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function bhe(e,t){return y(),V("svg",vhe,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M6 18L18 6M6 6l12 12"},null,-1)])])}const So=fe({name:"heroicons-x-mark",render:bhe}),yhe={key:0,class:"text-sm block mb-1 font-medium text-gray-700"},xhe={class:"flex items-center w-full gap-3 cursor-pointer border rounded px-3 h-10 text-sm"},whe=["src","alt"],_he={class:"flex-1 w-0 truncate"},khe={key:1},Che=P({__name:"CategoryPicker",props:at({field:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const{t}=Et(),{getCategory:n}=Dt(),r=rt(e,"modelValue"),o=Q(!1),i=A({get:()=>r.value?n(r.value):null,set:s=>{r.value=s?s.id:null}});return(s,a)=>{const l=Mv,c=So,u=HN;return y(),V("div",null,[e.field.label?(y(),V("label",yhe,j(e.field.label),1)):Z("",!0),S(d(Xe).Root,{open:d(o),"onUpdate:open":a[3]||(a[3]=p=>Ce(o)?o.value=p:null)},{default:O(()=>[S(d(Xe).Trigger,{"as-child":""},{default:O(()=>[D("div",xhe,[d(i)?(y(),V(ge,{key:0},[d(i).logo?(y(),V("img",{key:0,src:d(i).logo.small_image_url,alt:d(i).name,class:"w-5 h-5 object-cover flex-none"},null,8,whe)):(y(),$(l,{key:1,class:"w-4 h-4 flex-none transform rotate-90"})),D("span",_he,j(d(i).name),1),D("button",{class:"flex-none rounded-lg hover:bg-neutral-200 p-1",onClick:a[0]||(a[0]=It(p=>r.value=null,["stop"]))},[S(c)])],64)):(y(),V("span",khe,j(d(t)("Select category")),1))])]),_:1}),S(d(Xe).Positioner,{class:"w-[var(--reference-width)] !z-10"},{default:O(()=>[S(d(Xe).Content,{class:"border bg-white shadow rounded-lg outline-none max-h-80 flex flex-col"},{default:O(()=>[S(d(Xe).Arrow,{style:{"--arrow-size":"0.5rem"},class:"bg-white"},{default:O(()=>[S(d(Xe).ArrowTip,{class:"border-t border-l"})]),_:1}),S(u,{modelValue:d(i),"onUpdate:modelValue":[a[1]||(a[1]=p=>Ce(i)?i.value=p:null),a[2]||(a[2]=p=>o.value=!1)]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["open"])])}}}),Ehe={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function Ohe(e,t){return y(),V("svg",Ehe,[...t[0]||(t[0]=[D("g",{fill:"currentColor"},[D("path",{d:"M6 4.5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0m-1 0a.5.5 0 1 0-1 0a.5.5 0 0 0 1 0"}),D("path",{d:"M2 1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 1 6.586V2a1 1 0 0 1 1-1m0 5.586l7 7L13.586 9l-7-7H2z"})],-1)])])}const zN=fe({name:"bi-tag",render:Ohe}),Ihe={class:"flex flex-col overflow-y-hidden"},The={class:"flex items-center mx-2 my-2 px-3 py-1 gap-3 border rounded-lg focus-within:ring focus-within:ring-zinc-700"},She=["placeholder"],Phe={class:"flex-1 overflow-y-auto border-t"},$he={key:0,class:"h-20 flex items-center justify-center"},Rhe={key:1},Ahe=["onClick"],Nhe=["src","alt"],Mhe={class:"flex-1 w-0 truncate"},UN=P({__name:"ProductListbox",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const{t}=Et(),{channel:n,locale:r,getProducts:o}=Dt(),i=rt(e,"modelValue"),s=Q(""),a=A(()=>{const h=o();if(!s.value)return h;const f=s.value.toLowerCase();return h.filter(g=>g.name.toLowerCase().includes(f))}),{isFetching:l,execute:c}=Ffe(),u=Ww(()=>{c({channel:n.value,locale:r.value,search:s.value})},300),p=()=>{u()};return Je(()=>c({channel:n.value,locale:r.value})),st([n,r],()=>{c({channel:n.value,locale:r.value})}),(h,f)=>{const g=pf,m=Gw,b=zN;return y(),V("div",Ihe,[D("div",The,[S(g,{class:"w-4 h-4 flex-none"}),yo(D("input",{class:"flex-1 w-0 focus:outline-none text-zinc-600 text-sm",placeholder:d(t)("Search product"),"onUpdate:modelValue":f[0]||(f[0]=w=>Ce(s)?s.value=w:null),onInput:p},null,40,She),[[Zo,d(s)]])]),D("div",Phe,[d(l)?(y(),V("div",$he,[S(m,{class:"h-6 w-6 text-zinc-700"})])):(y(),V("div",Rhe,[(y(!0),V(ge,null,Ie(d(a),w=>(y(),V("a",{key:w.id,class:Ne(["cursor-pointer flex items-center gap-3 px-3 py-2 outline-none hover:bg-neutral-200 text-sm",{"bg-neutral-200":i.value&&i.value.id===w.id}]),onClick:It(E=>i.value=w,["stop","prevent"])},[w.base_image?(y(),V("img",{key:0,src:w.base_image.small_image_url,alt:w.name,class:"w-5 h-5 object-cover flex-none"},null,8,Nhe)):(y(),$(b,{key:1,class:"w-4 h-4 flex-none mr-1 transform rotate-90"})),D("span",Mhe,j(w.name),1)],10,Ahe))),128))]))])])}}}),Dhe={key:0,class:"text-sm block mb-1 font-medium text-gray-700"},Lhe={class:"flex items-center w-full gap-3 cursor-pointer border rounded px-3 h-10 text-sm",role:"button"},Vhe=["src","alt"],Fhe={class:"flex-1 w-0 truncate"},Bhe={key:1},Hhe=P({__name:"ProductPicker",props:at({field:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const{t}=Et(),{getProduct:n}=Dt(),r=rt(e,"modelValue"),o=Q(!1),i=A({get:()=>r.value?n(r.value):null,set:s=>{r.value=s?s.id:null}});return(s,a)=>{const l=Mv,c=So;return y(),V("div",null,[e.field.label?(y(),V("label",Dhe,j(e.field.label),1)):Z("",!0),S(d(Xe).Root,{open:d(o),"onUpdate:open":a[3]||(a[3]=u=>Ce(o)?o.value=u:null)},{default:O(()=>[S(d(Xe).Trigger,{"as-child":""},{default:O(()=>[D("div",Lhe,[d(i)?(y(),V(ge,{key:0},[d(i).base_image?(y(),V("img",{key:0,src:d(i).base_image.small_image_url,alt:d(i).name,class:"w-5 h-5 object-cover flex-none"},null,8,Vhe)):(y(),$(l,{key:1,class:"w-4 h-4 flex-none transform rotate-90"})),D("span",Fhe,j(d(i).name),1),D("button",{class:"flex-none rounded-lg hover:bg-neutral-200 p-1",onClick:a[0]||(a[0]=It(u=>r.value=null,["stop"]))},[S(c)])],64)):(y(),V("span",Bhe,j(d(t)("Select product")),1))])]),_:1}),S(d(Xe).Positioner,{class:"w-[var(--reference-width)] !z-10"},{default:O(()=>[S(d(Xe).Content,{class:"border bg-white shadow rounded-lg outline-none max-h-80 flex flex-col"},{default:O(()=>[S(d(Xe).Arrow,{style:{"--arrow-size":"0.5rem"},class:"bg-white"},{default:O(()=>[S(d(Xe).ArrowTip,{class:"border-t border-l"})]),_:1}),S(UN,{modelValue:d(i),"onUpdate:modelValue":[a[1]||(a[1]=u=>Ce(i)?i.value=u:null),a[2]||(a[2]=u=>o.value=!1)]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["open"])])}}}),zhe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Uhe(e,t){return y(),V("svg",zhe,[...t[0]||(t[0]=[D("path",{fill:"currentColor",d:"M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"},null,-1)])])}const qw=fe({name:"mdi-file-document-outline",render:Uhe}),jhe={class:"flex flex-col overflow-y-hidden"},Ghe={class:"flex items-center mx-2 my-2 px-3 py-1 gap-3 border rounded-lg focus-within:ring focus-within:ring-zinc-700"},Whe=["placeholder"],qhe={class:"flex-1 overflow-y-auto border-t"},Khe={key:0,class:"h-20 flex items-center justify-center"},Yhe={key:1},Xhe=["onClick"],Jhe={class:"truncate flex-1 w-0"},jN=P({__name:"CmsPageListbox",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const{t}=Et(),{channel:n,locale:r,getCmsPages:o}=Dt(),i=rt(e,"modelValue"),s=Q(""),a=A(()=>{const h=o();if(!s.value)return h;const f=s.value.toLowerCase();return h.filter(g=>g.page_title.toLowerCase().includes(f))}),{isFetching:l,execute:c}=Bfe(),u=Ww(()=>{c({channel:n.value,locale:r.value,search:s.value})},300),p=()=>{u()};return Je(()=>c({channel:n.value,locale:r.value})),st([n,r],()=>{c({channel:n.value,locale:r.value})}),(h,f)=>{const g=pf,m=Gw,b=qw;return y(),V("div",jhe,[D("div",Ghe,[S(g,{class:"w-4 h-4"}),yo(D("input",{"onUpdate:modelValue":f[0]||(f[0]=w=>Ce(s)?s.value=w:null),type:"text",class:"focus:outline-none text-zinc-600",placeholder:d(t)("Search page"),onInput:p},null,40,Whe),[[Zo,d(s)]])]),D("div",qhe,[d(l)?(y(),V("div",Khe,[S(m,{class:"h-6 w-6 text-zinc-700"})])):(y(),V("div",Yhe,[(y(!0),V(ge,null,Ie(d(a),w=>(y(),V("a",{key:w.url_key,href:"#",class:Ne(["flex items-center gap-3 px-3 py-2 outline-none hover:bg-neutral-200 text-sm",{"bg-neutral-200":i.value&&i.value.url_key===w.url_key}]),onClick:It(E=>i.value=w,["stop","prevent"])},[S(b,{class:"w-4 h-4 flex-none text-zinc-700"}),D("span",Jhe,j(w.page_title),1)],10,Xhe))),128))]))])])}}}),Zhe={key:0,class:"text-sm block mb-1 font-medium text-gray-700"},Qhe={role:"button",class:"flex items-center w-full gap-3 cursor-pointer border rounded px-3 h-10 text-sm"},ege={class:"flex-1 w-0 truncate"},tge={key:1},nge=P({__name:"CmsPagePicker",props:at({field:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const{t}=Et(),{getCmsPage:n}=Dt(),r=rt(e,"modelValue"),o=Q(!1),i=A({get:()=>r.value?n(r.value):null,set:s=>{r.value=s?s.id:null}});return(s,a)=>{const l=qw,c=So,u=jN;return y(),V("div",null,[e.field.label?(y(),V("label",Zhe,j(e.field.label),1)):Z("",!0),S(d(Xe).Root,{open:d(o),"onUpdate:open":a[3]||(a[3]=p=>Ce(o)?o.value=p:null)},{default:O(()=>[S(d(Xe).Trigger,{"as-child":""},{default:O(()=>[D("div",Qhe,[d(i)?(y(),V(ge,{key:0},[S(l,{class:"w-4 h-4 flex-none"}),D("span",ege,j(d(i).page_title),1),D("button",{class:"flex-none rounded-lg hover:bg-neutral-200 p-1",onClick:a[0]||(a[0]=It(p=>r.value=null,["stop"]))},[S(c)])],64)):(y(),V("span",tge,j(d(t)("Select page")),1))])]),_:1}),S(d(Xe).Positioner,{class:"w-[var(--reference-width)] !z-10"},{default:O(()=>[S(d(Xe).Content,{class:"border bg-white shadow rounded-lg outline-none max-h-80 flex flex-col"},{default:O(()=>[S(d(Xe).Arrow,{style:{"--arrow-size":"0.5rem"},class:"bg-white"},{default:O(()=>[S(d(Xe).ArrowTip,{class:"border-t border-l"})]),_:1}),S(u,{modelValue:d(i),"onUpdate:modelValue":[a[1]||(a[1]=p=>Ce(i)?i.value=p:null),a[2]||(a[2]=p=>o.value=!1)]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["open"])])}}}),rge={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function oge(e,t){return y(),V("svg",rge,[...t[0]||(t[0]=[D("path",{fill:"currentColor","fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75s-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12m13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094z","clip-rule":"evenodd"},null,-1)])])}const Kw=fe({name:"heroicons-check-circle-solid",render:oge}),ige={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function sge(e,t){return y(),V("svg",ige,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 1 1-6.219-8.56"},null,-1)])])}const GN=fe({name:"lucide-loader2",render:sge}),age={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function lge(e,t){return y(),V("svg",age,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M8.25 15L12 18.75L15.75 15m-7.5-6L12 5.25L15.75 9"},null,-1)])])}const Yw=fe({name:"heroicons-chevron-up-down",render:lge}),cge={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function uge(e,t){return y(),V("svg",cge,[...t[0]||(t[0]=[D("path",{fill:"currentColor",d:"M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154zm-.8-2L8 6.885L5.554 13zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93M19 18a2 2 0 1 0 0-4a2 2 0 0 0 0 4"},null,-1)])])}const dge=fe({name:"ri-font-size",render:uge}),Ju=Q([]),ih=Q(!1),ty=Q(!1);function Xw(){return{fonts:Ju,isFetching:ih,isFetched:ty,fetchFonts:async()=>{if(ty.value||ih.value)return Ju.value;ih.value=!0;try{const r=await(await fetch("https://fonts.bunny.net/list")).json(),o=[];Object.keys(r).forEach(i=>{const s=r[i];o.push({slug:i,name:s.familyName||i.replace(/-/g," "),weights:s.weights||[400],styles:s.styles||["normal"]})}),Ju.value=o,ty.value=!0}catch(n){console.error("Failed to fetch fonts:",n)}finally{ih.value=!1}return Ju.value},findFont:n=>Ju.value.find(r=>r.slug===n)}}function Dv(e){return e.split(/[-_\s]+/).map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}const pge={class:"text-sm font-medium mb-1 text-gray-700"},fge={class:"flex-1 text-left capitalize line-clamp-1"},hge={class:"flex-none h-12 border-b border-neutral-200 flex gap-3 px-4 items-center justify-between"},gge={class:"flex-1 flex flex-col min-h-0 overflow-y-auto"},mge={class:"p-3"},vge={key:0,class:"flex items-center justify-center py-6"},bge={key:1,class:"divide-y"},yge=["onClick"],xge={class:"flex-none flex items-center gap-3 p-3 justify-end h-12 border-t border-neutral-200"},WN=P({__name:"FontPicker",props:at({field:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const{t}=Et(),n=rt(e,"modelValue",{get(E){return E?typeof E!="string"?E:{slug:E,name:Dv(E),weights:[],styles:[]}:null}}),r=Q(null),o=Q(!1),i=Q(!1),s=Q(""),{fonts:a,isFetching:l}=Xw(),c=A(()=>a.value?s.value?a.value.filter(E=>E.name.toLowerCase().includes(s.value.toLowerCase())).slice(0,20):a.value.slice(0,20):[]),u=Q(new Set),p=new Map;function h(E){n.value=E,o.value=!0}function f(E,k){if(u.value.has(k.slug)||p.has(k.slug))return;const v=new IntersectionObserver(([_])=>{_.isIntersecting&&(g(k),v.disconnect(),p.delete(k.slug))},{threshold:.1});v.observe(E),p.set(k.slug,v)}function g(E){const k=`font-${E.slug}`;if(!document.getElementById(k)){const v=document.createElement("link");v.id=k,v.rel="stylesheet",v.href=m(E),document.head.appendChild(v),u.value.add(E.slug)}}function m(E){return`https://fonts.bunny.net/css?display=fallback&family=${E.slug}`}function b(){o.value=!1,r.value=n.value}function w(){i.value=!1,n.value=r.value,o.value=!1}return(E,k)=>{const v=dge,_=Yw,T=So,N=pf,C=GN,x=Kw;return y(),V("div",null,[D("label",pge,j(e.field.label),1),S(d(mt).Root,{open:d(i),"onUpdate:open":k[1]||(k[1]=I=>Ce(i)?i.value=I:null),modal:!1,"close-on-interact-outside":!1,onOpenChange:b},{default:O(()=>[S(d(mt).Trigger,{class:"flex items-center px-3 h-10 gap-4 border rounded w-full"},{default:O(()=>[S(v,{class:"flex-none w-4 h-4 text-zinc-500"}),D("span",fge,j(n.value?.name),1),S(_,{class:"flex-none w-4 h-4 text-zinc-500"})]),_:1}),S(d(mt).Positioner,{class:"flex absolute z-50 inset-0 w-full h-full items-center justify-center"},{default:O(()=>[S(d(mt).Content,{class:"bg-white shadow flex flex-col w-full h-full overflow-hidden"},{default:O(()=>[D("header",hge,[S(d(mt).Title,null,{default:O(()=>[re(j(d(t)("Font Picker")),1)]),_:1}),D("button",{onClick:w,class:"cursor-pointer rounded-lg p-0.5 text-neutral-700 hover:bg-neutral-300"},[S(T,{class:"w-5 h-5"})])]),D("div",gge,[D("div",mge,[S(d(Zg).Root,{class:"relative"},{default:O(()=>[S(N,{class:"absolute left-3 top-2.5 text-zinc-500"}),S(d(Zg).Input,{modelValue:d(s),"onUpdate:modelValue":k[0]||(k[0]=I=>Ce(s)?s.value=I:null),class:"w-full pr-3 pl-9 h-10 text-gray-500 rounded border border-zinc-300 focus:outline-none focus:ring-2 focus:ring focus:ring-zinc-700 focus:border-transparent",placeholder:"Search"},null,8,["modelValue"])]),_:1})]),d(l)?(y(),V("div",vge,[S(C,{class:"w-6 h-6 animate-spin text-zinc-500"})])):(y(),V("ul",bge,[(y(!0),V(ge,null,Ie(d(c),I=>(y(),V("li",{ref_for:!0,ref:R=>f(R,I),class:Ne(["p-3 first:border-t hover:bg-zinc-100 cursor-pointer capitalize flex justify-between items-center",{"bg-zinc-100":n.value?.slug===I.slug}]),style:Yt({fontFamily:d(u).has(I.slug)?I.name:"inherit"}),onClick:R=>h(I)},[D("span",null,j(I.name),1),n.value?.slug===I.slug?(y(),$(x,{key:0,class:"w-5 h-5 text-zinc-700"})):Z("",!0)],14,yge))),256))]))]),D("footer",xge,[S(d(Vt),{onClick:w},{default:O(()=>[re(j(d(t)("Cancel")),1)]),_:1}),S(d(mt).CloseTrigger,{"as-child":""},{default:O(()=>[S(d(Vt),{variant:"primary",disabled:!d(o)},{default:O(()=>[re(j(d(t)("Select")),1)]),_:1},8,["disabled"])]),_:1})])]),_:1})]),_:1})]),_:1},8,["open"])])}}}),wge={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function _ge(e,t){return y(),V("svg",wge,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"},null,-1)])])}const qN=fe({name:"heroicons-arrow-left",render:_ge}),kge={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Cge(e,t){return y(),V("svg",kge,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"},null,-1)])])}const KN=fe({name:"heroicons-link",render:Cge}),Ege={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Oge(e,t){return y(),V("svg",Ege,[...t[0]||(t[0]=[D("path",{fill:"currentColor","fill-rule":"evenodd",d:"M15.75 2.25H21a.75.75 0 0 1 .75.75v5.25a.75.75 0 0 1-1.5 0V4.81L8.03 17.03a.75.75 0 0 1-1.06-1.06L19.19 3.75h-3.44a.75.75 0 0 1 0-1.5m-10.5 4.5a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h10.5a1.5 1.5 0 0 0 1.5-1.5V10.5a.75.75 0 0 1 1.5 0v8.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V8.25a3 3 0 0 1 3-3h8.25a.75.75 0 0 1 0 1.5z","clip-rule":"evenodd"},null,-1)])])}const Ige=fe({name:"heroicons-arrow-top-right-on-square-solid",render:Oge}),Tge={key:0,class:"text-sm block mb-1 font-medium text-gray-700"},Sge={class:"relative flex border px-3 h-10 gap-3 text-sm w-full cursor-pointer rounded outline-0 items-center appearance-none justify-between focus-within:shadow focus-within:ring focus-within:ring-zinc-700"},Pge=["href"],$ge=["value"],Rge=["href"],Age={key:0},Nge={key:1,class:"flex flex-col h-full overflow-hidden"},Mge=P({__name:"LinkPicker",props:at({field:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const{t}=Et(),n=rt(e,"modelValue"),r=Q("link"),o=Q(""),i=Q(""),s=Q(""),a=Q(!1),l=Q(null);Je(()=>{c(n.value)});function c(w){if(!w)return;if(!w.startsWith("visual://")){r.value="link",w.startsWith("/")||(w="/"+w),o.value=w,i.value=w,n.value=w;return}const E=w.match(/^visual:\/\/([^:]+):([^\/]+)\/(.*)?$/);E&&(r.value=E[1],o.value=u(E[3],E[1]==="cms_pages"?"page/":""),i.value=decodeURIComponent(E[2]))}function u(w,E=""){return new URL(E+w,new URL(window.editorConfig.storefrontUrl).origin).href}function p(w){n.value=`visual://categories:${encodeURIComponent(w.name)}/${w.slug}`,r.value="categories",o.value=u(w.slug),i.value=w.name,a.value=!1}function h(w){n.value=`visual://products:${encodeURIComponent(w.name)}/${w.url_key}`,r.value="products",o.value=u(w.url_key),i.value=w.name,a.value=!1}function f(w){n.value=`visual://cms_pages:${encodeURIComponent(w.page_title)}/${w.url_key}`,r.value="cms_pages",o.value=u(w.url_key,"page/"),i.value=w.page_title,a.value=!1}function g(){r.value="link",o.value="",n.value="",i.value=""}function m(w){try{const E=new URL(w.target.value);r.value="link",n.value=E.href,o.value=E.href,i.value=E.href}catch{c(w.target.value)}}function b(w){w&&setTimeout(()=>{l.value?.focus()},0)}return(w,E)=>{const k=Ige,v=Mv,_=zN,T=qw,N=KN,C=So,x=qN,I=HN,R=UN,M=jN;return y(),V("div",null,[e.field.label?(y(),V("label",Tge,j(e.field.label),1)):Z("",!0),S(d(Xe).Root,{open:d(a),"onUpdate:open":E[6]||(E[6]=B=>Ce(a)?a.value=B:null),onOpenChange:b},{default:O(()=>[S(d(Xe).Trigger,{"as-child":""},{default:O(()=>[D("div",Sge,[d(o)?(y(),V("a",{key:0,href:d(o),target:"_blank",class:"absolute right-0 -top-6",onClick:E[0]||(E[0]=It(()=>{},["stop"]))},[S(k,{class:"w-4 h-4"})],8,Pge)):Z("",!0),d(r)==="categories"?(y(),$(v,{key:1,class:"w-4 h-4 flex-none transform rotate-90"})):d(r)==="products"?(y(),$(_,{key:2,class:"w-4 h-4 flex-none transform rotate-90"})):d(r)==="cms_pages"?(y(),$(T,{key:3,class:"w-4 h-4 flex-none"})):(y(),$(N,{key:4,class:"w-4 h-4 flex-none"})),D("input",{ref_key:"inputRef",ref:l,class:"outline-none flex-1 w-0 bg-transparent",value:d(i),onChange:m},null,40,$ge),n.value?(y(),V("button",{key:5,class:"flex-none text-zinc-700 hover:bg-zinc-200 p-1 rounded-lg",onClick:It(g,["prevent"])},[S(C,{class:"w-4 h-4"})])):Z("",!0)])]),_:1}),d(o)?(y(),V("a",{key:0,href:d(o),target:"_blank",class:"absolute right-0 -top-6"},[S(k,{class:"w-4 h-4"})],8,Rge)):Z("",!0),S(d(Xe).Positioner,{class:"w-[var(--reference-width)] !z-10"},{default:O(()=>[S(d(Xe).Content,{class:"bg-white rounded-lg shadow gap-1 flex flex-col max-h-96 border",onPointerdown:E[5]||(E[5]=It(()=>{},["stop"]))},{default:O(()=>[d(s)?(y(),V("div",Nge,[D("button",{class:"h-9 flex-none bg-zinc-200 flex gap-3 w-full items-center rounded-t-lg text-left px-3",onClick:E[4]||(E[4]=B=>s.value="")},[S(x,{class:"w-4 h-4"}),re(" "+j(d(t)("Back")),1)]),d(s)==="categories"?(y(),$(I,{key:0,class:"h-full flex-1","onUpdate:modelValue":p})):d(s)==="products"?(y(),$(R,{key:1,class:"h-full flex-1","onUpdate:modelValue":h})):d(s)==="cms_pages"?(y(),$(M,{key:2,class:"h-full flex-1","onUpdate:modelValue":f})):Z("",!0)])):(y(),V("div",Age,[D("button",{class:"appearance-none w-full h-9 px-3 flex gap-3 items-center hover:bg-zinc-200",onMousedown:E[1]||(E[1]=It(B=>s.value="categories",["prevent"]))},[S(v,{class:"w-4 h-4 transform rotate-90"}),re(" "+j(d(t)("Categories")),1)],32),D("button",{class:"appearance-none w-full h-9 px-3 flex gap-3 items-center hover:bg-zinc-200",onMousedown:E[2]||(E[2]=It(B=>s.value="products",["prevent"]))},[S(_,{class:"w-4 h-4 transform rotate-90"}),re(" "+j(d(t)("Products")),1)],32),D("button",{class:"appearance-none w-full h-9 px-3 flex gap-3 items-center hover:bg-zinc-200",onMousedown:E[3]||(E[3]=It(B=>s.value="cms_pages",["prevent"]))},[S(T,{class:"w-4 h-4 text-zinc-700"}),re(" "+j(d(t)("Cms Pages")),1)],32)]))]),_:1})]),_:1})]),_:1},8,["open"])])}}}),Dge={class:"px-2 py-1 col-span-3 col-start-2 row-start-1 row-span-3"},Lge={class:"mb-px font-semibold text-xs"},Vge={class:"grid grid-cols-2 gap-2"},Fge=["title"],Jw=P({__name:"ColorSchemePreview",props:{id:null,scheme:null},setup(e){const t=e,n=["primary","secondary","accent","neutral"],r=A(()=>"tokens"in t.scheme&&t.scheme.tokens?t.scheme.tokens:t.scheme);return(o,i)=>(y(),V("div",{class:"border border-zinc-300 rounded grid grid-cols-4 grid-rows-3 overflow-hidden cursor-pointer",style:Yt({backgroundColor:d(r).background,color:d(r)["on-background"]})},[D("div",{title:"Main background",class:"col-start-1 row-start-1",style:Yt({backgroundColor:d(r).background})},null,4),D("div",{class:"col-start-1 row-start-2",style:Yt({backgroundColor:d(r).surface}),title:"Surface color"},null,4),D("div",{class:"col-start-1 row-start-3",style:Yt({backgroundColor:d(r)["surface-alt"]}),title:"Alternative surface color"},null,4),D("div",Dge,[D("div",Lge,j(e.id),1),D("div",Vge,[(y(),V(ge,null,Ie(n,s=>D("div",{key:s,title:s+" color",class:"rounded flex items-center justify-center",style:Yt({backgroundColor:d(r)[s],color:d(r)[`on-${s}`]})},[...i[0]||(i[0]=[D("span",{class:"font-semibold"},"A",-1)])],12,Fge)),64))])])],4))}}),Bge={class:"text-sm font-medium mb-1 text-gray-700"},Hge={key:0},zge={key:0,class:"flex flex-1 gap-3"},Uge={class:"capitalize flex-1 text-left"},jge={key:1},Gge={key:1,class:"text-sm text-red-400"},Wge=P({__name:"ColorSchemePicker",props:at({field:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const{theme:t}=Dt(),n=A(()=>{if(!t.value)return{};const l=t.value.settingsSchema.flatMap(c=>c.settings).find(c=>c.type==="color-scheme-group")?.id;return l?t.value.settings[l]||{}:{}}),r=A(()=>Object.keys(n.value).length>0),o=rt(e,"modelValue"),i=Q(!1),s=A(()=>o.value&&n.value?n.value[o.value]:null);function a(l){o.value=l,i.value=!1}return(l,c)=>{const u=So,p=Yw,h=Kw,f=Jw;return y(),V("div",null,[D("label",Bge,j(e.field.label),1),d(r)?(y(),V("div",Hge,[S(d(Xe).Root,{open:d(i),"onUpdate:open":c[1]||(c[1]=g=>Ce(i)?i.value=g:null)},{default:O(()=>[S(d(Xe).Trigger,{class:"border border-zinc-300 rounded w-full flex justify-between h-10 px-3 items-center"},{default:O(()=>[d(s)?(y(),V("div",zge,[D("div",{class:"w-6 rounded flex-none",style:Yt({backgroundColor:d(s).background,color:d(s)["on-background"]})},"A",4),D("div",Uge,j(o.value),1),D("button",{class:"ml-auto flex-none mr-1 p-1 rounded-lg hover:bg-zinc-100",onClick:c[0]||(c[0]=It(g=>o.value=null,["stop"]))},[S(u,{class:"w-4 h-4"})])])):(y(),V("span",jge,"Select a color scheme")),S(p,{class:"flex-none h-4 w-4"})]),_:1}),S(d(Xe).Positioner,null,{default:O(()=>[S(d(Xe).Content,{class:"border border-zinc-300 rounded shadow-md w-[var(--reference-width)] z-50 bg-white -mt-1 overflow-y-auto max-h-[360px]"},{default:O(()=>[(y(!0),V(ge,null,Ie(d(n),(g,m)=>(y(),V("div",null,[D("div",{class:Ne(["px-3 py-3 hover:bg-zinc-100 relative",{"bg-zinc-100":o.value===String(m)}])},[o.value===String(m)?(y(),$(h,{key:0,class:"w-5 h-5 absolute top-2 right-2 text-green-400"})):Z("",!0),S(f,{scheme:g,id:String(m),onClick:b=>a(String(m))},null,8,["scheme","id","onClick"])],2)]))),256))]),_:1})]),_:1})]),_:1},8,["open"])])):(y(),V("div",Gge," Oops! This theme doesnt have any color schemes to show. "))])}}}),qge={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Kge(e,t){return y(),V("svg",qge,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m15 11.25l1.5 1.5l.75-.75V8.758l2.276-.61a3 3 0 1 0-3.675-3.675l-.61 2.277H12l-.75.75l1.5 1.5M15 11.25l-8.47 8.47c-.34.34-.8.53-1.28.53s-.94.19-1.28.53l-.97.97l-.75-.75l.97-.97c.34-.34.53-.8.53-1.28s.19-.94.53-1.28L12.75 9M15 11.25L12.75 9"},null,-1)])])}const Yge=fe({name:"heroicons-eye-dropper",render:Kge}),Xge={class:"flex gap-2"},Jge={class:"flex flex-col gap-2 w-full"},Zge={key:0},Qge={class:"text-xs font-medium"},eme={class:"text-xs font-medium"},YN=P({__name:"ColorPicker",props:at({usedColors:{default:()=>[]},label:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const{t}=Et(),n=rt(e,"modelValue",{set(a){return a.toString("hexa")},get(a){try{return Fd(a)}catch(l){return console.error("Invalid color value:",a,l),Fd("#000000ff")}}}),r=e,o=A(()=>r.usedColors.map(a=>Fd(a))),i=Q([]);function s({value:a}){n.value=a.toString("hexa"),!o.value.some(l=>l.toHexInt()===a.toHexInt())&&(i.value.some(l=>l.toHexInt()===a.toHexInt())||i.value.unshift(a))}return(a,l)=>{const c=Yge;return y(),$(d(lt).Root,{format:"rgba",class:"flex flex-col gap-1.5","model-value":n.value,onValueChange:l[0]||(l[0]=u=>s(u))},{default:O(()=>[e.label?(y(),$(d(lt).Label,{key:0,class:"font-medium text-sm"},{default:O(()=>[re(j(e.label),1)]),_:1})):Z("",!0),S(d(lt).Control,{class:"flex gap-2"},{default:O(()=>[S(d(lt).Trigger,{class:"appearance-none rounded cursor-pointer inline-flex items-center justify-center outline-none h-10 min-w-10 gap-2 border border-zinc-300"},{default:O(()=>[S(d(lt).TransparencyGrid,{class:"rounded"}),S(d(lt).ValueSwatch,{class:"h-7 w-7 rounded shadow"})]),_:1}),S(d(lt).ChannelInput,{channel:"hex",class:"appearance-none rounded bg-none outline-0 relative w-full border px-3 h-10 min-w-10 focus:ring focus:ring-zinc-700"})]),_:1}),S(d(lt).Positioner,{class:"w-60 !z-20 pl-1"},{default:O(()=>[S(d(lt).Content,{class:"flex flex-col p-4 gap-3 rounded bg-white border shadow-sm data-[state=open]:animate-fade-in data-[state=closed]:animate-fade-out data-[state=closed]:hidden"},{default:O(()=>[S(d(lt).Area,{class:"rounded overflow-hidden h-36 touch-none forced-color-adjust-none"},{default:O(()=>[S(d(lt).AreaBackground,{class:"h-full rounded"}),S(d(lt).AreaThumb,{class:"rounded-full w-2.5 h-2.5 outline-none border-2 border-white"})]),_:1}),D("div",Xge,[S(d(lt).EyeDropperTrigger,{class:"appearance-none rounded cursor-pointer inline-flex outline-none relative select-none items-center justify-center border h-8 min-w-8"},{default:O(()=>[S(c,{class:"w-4 h-4"})]),_:1}),D("div",Jge,[S(d(lt).ChannelSlider,{channel:"hue",class:"rounded w-full"},{default:O(()=>[S(d(lt).ChannelSliderTrack,{class:"h-2.5 rounded"}),S(d(lt).ChannelSliderThumb,{class:"h-2.5 w-2.5 cursor-pointer rounded-full outline-none border-2 border-white -translate-x-1/2 -translate-y-1/2"})]),_:1}),S(d(lt).ChannelSlider,{channel:"alpha",class:"rounded w-full"},{default:O(()=>[S(d(lt).TransparencyGrid),S(d(lt).ChannelSliderTrack,{class:"h-2.5 rounded"}),S(d(lt).ChannelSliderThumb,{class:"h-2.5 w-2.5 cursor-pointer rounded-full outline-none border-2 border-white -translate-x-1/2 -translate-y-1/2"})]),_:1})])]),S(d(lt).View,{format:"rgba",class:"flex gap-3"},{default:O(()=>[S(d(lt).ChannelInput,{channel:"hex",class:"flex-1 border px-3 h-8 w-0 rounded outline-0 focus:ring focus:ring-zinc-700"}),S(d(lt).ChannelInput,{channel:"alpha",class:"flex-none border px-3 h-8 rounded outline-0 focus:ring focus:ring-zinc-700"})]),_:1}),d(i).length>0?(y(),V("div",Zge,[D("p",Qge,j(d(t)("Recently selected")),1),S(d(lt).SwatchGroup,{class:"grid grid-cols-6 gap-2 mt-2"},{default:O(()=>[(y(!0),V(ge,null,Ie(d(i).slice(0,6),u=>(y(),$(d(lt).SwatchTrigger,{value:u,key:u.toHexInt()},{default:O(()=>[S(d(lt).Swatch,{value:u,class:"w-6 h-6 rounded border"},null,8,["value"])]),_:2},1032,["value"]))),128))]),_:1})])):Z("",!0),D("div",null,[D("p",eme,j(d(t)("Currently used")),1),S(d(lt).SwatchGroup,{class:"grid grid-cols-6 gap-2 mt-2"},{default:O(()=>[(y(!0),V(ge,null,Ie(d(o),u=>(y(),$(d(lt).SwatchTrigger,{value:u,key:u.toString("hexa")},{default:O(()=>[S(d(lt).Swatch,{value:u,class:"w-6 h-6 rounded border"},null,8,["value"])]),_:2},1032,["value"]))),128))]),_:1})])]),_:1})]),_:1}),S(d(lt).HiddenInput)]),_:1},8,["model-value"])}}}),tme={class:"mt-4 space-y-4"},nme={class:"capitalize"},rme={class:"text-xs leading-snug italic mt-1"},ome=P({__name:"EditColorScheme",props:at({id:null},{modelValue:{},modelModifiers:{}}),emits:at(["update"],["update:modelValue"]),setup(e,{emit:t}){const n=t,r=rt(e,"modelValue"),o={background:"Main background color. For page background and full-width sections","on-background":"Default text color",primary:"Primary color. For primary buttons, link, CTAs","on-primary":"Text/icons on primary backgrounds",secondary:"Secondary color. For Headings, badges, accents","on-secondary":"Text/icons on secondary backgrounds",accent:"Highlight color. For featured content, banners, badges","on-accent":"Text/icons on accent elements",neutral:"Neutral color","on-neutral":"On neutral color",surface:"Surface color. For components or sections background","on-surface":"Section text, icons","surface-alt":"Alternative surface color. For hover states, dropdowns","on-surface-alt":"Text/icons on alternative surface",danger:"Errors, danger zones","on-danger":"Text/icons on error messages",warning:"Notices, validation warnings","on-warning":"Text/icons on warning backgrounds",success:"Alerts, tags, confirmations","on-success":"Text/icons on success backgrounds",info:"Tooltips, banners, guidance","on-info":"Text/icons on info sections"};function i(s,a){r.value[s]=a,n("update",r.value)}return(s,a)=>{const l=Jw,c=YN;return y(),V("div",null,[S(l,{scheme:r.value,id:e.id},null,8,["scheme","id"]),D("div",tme,[(y(!0),V(ge,null,Ie(r.value,(u,p)=>(y(),V("div",null,[D("label",nme,j(p.replace("-"," ")),1),S(c,{"model-value":u,"onUpdate:modelValue":h=>i(p,h)},null,8,["model-value","onUpdate:modelValue"]),D("p",rme,j(o[p]),1)]))),256))])])}}}),ime={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function sme(e,t){return y(),V("svg",ime,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 4.5v15m7.5-7.5h-15"},null,-1)])])}const XN=fe({name:"heroicons-plus",render:sme}),ame={class:"text-sm font-medium mb-1 text-gray-700"},lme={class:"grid grid-cols-2 gap-2 items-stretch mt-1"},cme={class:"flex-none h-12 border-b border-neutral-200 flex gap-3 px-4 items-center justify-between"},ume={class:"flex-1 flex flex-col min-h-0 overflow-y-auto p-4"},dme=P({__name:"ColorSchemeGroup",props:at({field:null},{modelValue:{},modelModifiers:{}}),emits:at(["update:modelValue"],["update:modelValue"]),setup(e,{emit:t}){const n=rt(e,"modelValue"),r=t,o=Q(null),i=Q(!1),s=A({get(){if(!o.value||!n.value?.[o.value])return null;const u=n.value[o.value];return"tokens"in u?u.tokens:u},set(u){if(!o.value||!u)return;const p=n.value[o.value];"tokens"in p?p.tokens=u:n.value[o.value]=u}});function a(u){o.value=u,i.value=!0}function l(){r("update:modelValue",n.value)}function c(){const u=Object.keys(n.value),p=`scheme-${u.length+1}`;n.value[p]=structuredClone(He(n.value[u[0]])),l(),a(p)}return(u,p)=>{const h=Jw,f=XN,g=So,m=ome;return y(),V("div",null,[D("label",ame,j(e.field.label),1),D("div",lme,[(y(!0),V(ge,null,Ie(n.value,(b,w)=>(y(),$(h,{key:w,id:w,scheme:b,onClick:E=>a(w)},null,8,["id","scheme","onClick"]))),128)),D("button",{class:"flex-col border-2 border-dashed flex items-center justify-center min-h-20 rounded border-blue-400 text-blue-400 cursor-pointer",onClick:c},[S(f,{class:"h-6 w-6"}),p[2]||(p[2]=D("span",null,"Add scheme",-1))])]),S(d(mt).Root,{open:d(i),"onUpdate:open":p[1]||(p[1]=b=>Ce(i)?i.value=b:null),modal:!1,"close-on-interact-outside":!1},{default:O(()=>[S(d(mt).Positioner,{class:"flex fixed z-50 top-14 left-14 bottom-0 w-75 items-center justify-center"},{default:O(()=>[S(d(mt).Content,{class:"bg-white shadow flex flex-col w-full h-full overflow-hidden"},{default:O(()=>[D("header",cme,[S(d(mt).Title,{class:"capitalize"},{default:O(()=>[re("Editing "+j(d(o)?.replace("-"," ")),1)]),_:1}),S(d(mt).CloseTrigger,{class:"cursor-pointer rounded-lg p-0.5 text-neutral-700 hover:bg-neutral-300"},{default:O(()=>[S(g,{class:"w-5 h-5"})]),_:1})]),D("div",ume,[d(o)&&d(s)?(y(),$(m,{key:0,id:d(o),modelValue:d(s),"onUpdate:modelValue":p[0]||(p[0]=b=>Ce(s)?s.value=b:null),onUpdate:l},null,8,["id","modelValue"])):Z("",!0)])]),_:1})]),_:1})]),_:1},8,["open"])])}}}),pme={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function fme(e,t){return y(),V("svg",pme,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9.879 7.519c1.172-1.025 3.071-1.025 4.243 0c1.171 1.025 1.171 2.687 0 3.712q-.308.268-.67.442c-.746.361-1.452.999-1.452 1.827v.75M21 12a9 9 0 1 1-18 0a9 9 0 0 1 18 0m-9 5.25h.008v.008H12z"},null,-1)])])}const hme=fe({name:"heroicons-question-mark-circle",render:fme}),em=Q([]),Zw=Q(new Map),tm=Q(new Set),HO=Q(!1),JN=Q(window.editorConfig.routes.getIcons),{get:gme}=ha(),{isFetching:mme,execute:vme,onSuccess:bme,onError:yme}=gme(JN);bme(e=>{!em.value.length&&e.sets&&(em.value=e.sets),e.currentSet&&(Zw.value.set(e.currentSet,e.icons),tm.value.delete(e.currentSet))});yme(e=>{console.error("Failed to fetch icons:",e)});async function ZN(e){const t=new URL(window.editorConfig.routes.getIcons,window.location.origin);if(e)for(const[n,r]of Object.entries(e))t.searchParams.append(n,r);JN.value=t.href,await vme()}function xme(){HO.value||(HO.value=!0,ZN())}function wme(e){Zw.value.has(e)||tm.value.has(e)||(tm.value.add(e),ZN({set:e}))}function QN(e){return Zw.value.get(e)||[]}function _me(e){return tm.value.has(e)}function e5(e){return em.value.find(t=>e.startsWith(t.prefix))}function kme(e){const t=e5(e);return t&&QN(t.id).find(r=>r.id===e)||null}function Cme(){return xme(),{sets:A(()=>em.value),getIcons:QN,fetchSet:wme,isSetLoading:_me,isFetching:mme,findSetByIconId:e5,findIconById:kme}}const Eme={key:0,class:"text-sm block mb-1 font-medium text-gray-700"},Ome=["innerHTML"],Ime={class:"flex-none h-12 border-b border-neutral-200 flex gap-3 px-4 items-center justify-between"},Tme={class:"flex-1 flex flex-col min-h-0 overflow-y-auto"},Sme={class:"p-3"},Pme=["value"],$me={key:0,class:"flex items-center justify-center py-6"},Rme={key:1,class:"p-3 grid grid-cols-4 gap-3"},Ame=["onClick"],Nme=["innerHTML"],Mme={class:"flex-none flex items-center gap-3 p-3 justify-end h-12 border-t border-neutral-200"},Dme=P({__name:"IconPicker",props:at({field:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const{t}=Et(),n=Q(!1),r=Q(!1),o=rt(e,"modelValue"),i=Q(null),s=Q(""),a=Q("lucide"),l=Q(!1),{sets:c,isFetching:u,getIcons:p,findIconById:h,findSetByIconId:f,fetchSet:g}=Cme(),m=A(()=>{const v=p(a.value);return s.value?v.filter(_=>_.name.toLowerCase().includes(s.value.toLowerCase())):v}),b=A(()=>o.value?h(o.value):null);st(()=>c.value,v=>{if(l.value||v.length===0||!o.value)return;const _=f(o.value);_&&(a.value=_.id,g(_.id)),l.value=!0},{immediate:!0});function w(){g(a.value)}function E(v){o.value=v.id,n.value=!0}function k(){r.value=!1,o.value=i.value,n.value=!1}return(v,_)=>{const T=hme,N=So,C=pf,x=GN;return y(),V("div",null,[e.field.label?(y(),V("label",Eme,j(e.field.label),1)):Z("",!0),S(d(mt).Root,{open:d(r),"onUpdate:open":_[3]||(_[3]=I=>Ce(r)?r.value=I:null),modal:!1,"close-on-interact-outside":!1,onOpenChange:_[4]||(_[4]=I=>{n.value=!1,i.value=o.value})},{default:O(()=>[S(d(mt).Trigger,{class:"flex items-center px-3 py-2.5 gap-4 border rounded relative"},{default:O(()=>[d(b)?(y(),V("span",{key:0,innerHTML:d(b).svg,class:"w-8 h-8 text-zinc-600"},null,8,Ome)):(y(),$(T,{key:1,class:"w-8 h-8 text-zinc-600"})),d(b)?(y(),V("button",{key:2,class:"absolute -top-2 -right-2 bg-zinc-100 rounded-full p-1 hover:bg-zinc-200",onClick:_[0]||(_[0]=It(I=>o.value=null,["stop"]))},[S(N,{class:"w-4 h-4"})])):Z("",!0)]),_:1}),S(d(mt).Positioner,{class:"flex absolute z-50 inset-0 w-full h-full items-center justify-center"},{default:O(()=>[S(d(mt).Content,{class:"bg-white shadow flex flex-col w-full h-full overflow-hidden"},{default:O(()=>[D("header",Ime,[S(d(mt).Title,null,{default:O(()=>[re(j(d(t)("Icon Picker")),1)]),_:1}),D("button",{onClick:k,class:"cursor-pointer rounded-lg p-0.5 text-neutral-700 hover:bg-neutral-300"},[S(N,{class:"w-5 h-5"})])]),D("div",Tme,[D("div",Sme,[yo(D("select",{"onUpdate:modelValue":_[1]||(_[1]=I=>Ce(a)?a.value=I:null),onChange:w,class:"border rounded-t border-b-0 h-10 px-3 w-full focus:outline-none"},[(y(!0),V(ge,null,Ie(d(c),I=>(y(),V("option",{value:I.id},j(I.name),9,Pme))),256))],544),[[sx,d(a)]]),S(d(Zg).Root,{class:"relative"},{default:O(()=>[S(C,{class:"absolute left-3 top-2.5 text-zinc-500"}),S(d(Zg).Input,{modelValue:d(s),"onUpdate:modelValue":_[2]||(_[2]=I=>Ce(s)?s.value=I:null),class:"w-full pr-3 pl-9 h-10 text-surface-500 rounded-b border border-zinc-300 focus:outline-none focus:ring focus:ring-zinc-700",placeholder:"Search"},null,8,["modelValue"])]),_:1})]),d(u)?(y(),V("div",$me,[S(x,{class:"w-6 h-6 animate-spin text-zinc-500"})])):(y(),V("div",Rme,[(y(!0),V(ge,null,Ie(d(m),I=>(y(),V("button",{type:"button",class:Ne(["flex justify-center p-3 border rounded text-zinc-500",{"border-blue-300 bg-blue-50 hover:bg-blue-50":o.value===I.id,"hover:bg-zinc-100":o.value!==I.id}]),onClick:R=>E(I)},[D("span",{innerHTML:I.svg,class:"w-full"},null,8,Nme)],10,Ame))),256))]))]),D("footer",Mme,[S(d(Vt),{onClick:k},{default:O(()=>[re(j(d(t)("Cancel")),1)]),_:1}),S(d(mt).CloseTrigger,{"as-child":""},{default:O(()=>[S(d(Vt),{variant:"primary",disabled:!d(n)},{default:O(()=>[re(j(d(t)("Select")),1)]),_:1},8,["disabled"])]),_:1})])]),_:1})]),_:1})]),_:1},8,["open"])])}}}),Lme={class:"flex items-center mb-4"},Vme={key:0,class:"ms-2 text-sm font-medium text-gray-900"},t5=P({__name:"Checkbox",props:at({label:null},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=rt(e,"modelValue");return(n,r)=>(y(),V("label",Lme,[yo(D("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 focus:ring-2","onUpdate:modelValue":r[0]||(r[0]=o=>t.value=o)},null,512),[[Fp,t.value]]),e.label?(y(),V("span",Vme,j(e.label),1)):Z("",!0)]))}}),Fme={class:"border rounded-lg overflow-hidden p-1 relative bg-white"},Bme=["src"],Hme={class:"absolute bg-black/50 inset-0 flex items-center justify-center"},zme={class:"text-xs text-center truncate overflow-hidden max-w-full"},Ume=P({__name:"ImagePreview",props:{image:null,selected:{type:Boolean}},setup(e){return(t,n)=>{const r=t5;return y(),V("div",{class:Ne(["group flex flex-col items-center justify-center p-3 gap-3 rounded-lg cursor-pointer hover:bg-neutral-100",{"bg-neutral-100":e.selected,"pointer-events-none":e.image.uploading}])},[D("div",Fme,[D("img",{class:Ne(["hover:bg-neutral-200 object-cover w-full aspect-square rounded",{"bg-neutral-200":e.selected}]),src:e.image.url},null,10,Bme),D("div",{class:Ne(["absolute p-2 rounded-md inset-1 group-hover:block group-hover:bg-neutral-900/10",{hidden:!e.selected}])},[S(r,{"model-value":e.selected},null,8,["model-value"])],2),yo(D("div",Hme,[...n[0]||(n[0]=[D("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[D("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),D("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])],512),[[ox,e.image.uploading]])]),D("p",zme,j(e.image.name),1)],2)}}});var hd=(e,t=[])=>({parts:(...n)=>{if(jme(t))return hd(e,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>hd(e,[...t,...n]),omit:(...n)=>hd(e,t.filter(r=>!n.includes(r))),rename:n=>hd(n,t),keys:()=>t,build:()=>[...new Set(t)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${ql(e)}"][data-part="${ql(r)}"]`,`& [data-scope="${ql(e)}"][data-part="${ql(r)}"]`].join(", "),attrs:{"data-scope":ql(e),"data-part":ql(r)}}}),{})}),ql=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),jme=e=>e.length===0,Qw=e=>typeof e=="object"&&e!==null,hn=e=>e?"":void 0,Gme=1,Wme=9,qme=11,c1=e=>Qw(e)&&e.nodeType===Gme&&typeof e.nodeName=="string",Kme=e=>Qw(e)&&e.nodeType===Wme,Yme=e=>Qw(e)&&e.nodeType!==void 0,n5=e=>Yme(e)&&e.nodeType===qme&&"host"in e;function u1(e,t){if(!e||!t||!c1(e)||!c1(t))return!1;const n=t.getRootNode?.();if(e===t||e.contains(t))return!0;if(n&&n5(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function r5(e){return n5(e)?r5(e.host):Kme(e)?e.defaultView??window:c1(e)?e.ownerDocument?.defaultView??window:window}function Xme(e){return e.composedPath?.()??e.nativeEvent?.composedPath?.()}function nm(e){return Xme(e)?.[0]??e.target}var zO=(e,t,n,r)=>{const o=typeof e=="function"?e():e;return o?.addEventListener(t,n,r),()=>{o?.removeEventListener(t,n,r)}};function Jme(e){let t;const n=globalThis.requestAnimationFrame(()=>{t=e()});return()=>{globalThis.cancelAnimationFrame(n),t?.()}}var Zme={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"},Qme=e=>typeof e.getAsEntry=="function"?e.getAsEntry():typeof e.webkitGetAsEntry=="function"?e.webkitGetAsEntry():null,o5=e=>e.isDirectory,d1=e=>e.isFile,p1=(e,t)=>(Object.defineProperty(e,"relativePath",{value:t?`${t}/${e.name}`:e.name}),e),eve=(e,t)=>Promise.all(Array.from(e).filter(n=>n.kind==="file").map(n=>{const r=Qme(n);if(!r)return null;if(o5(r)&&t)return i5(r.createReader(),`${r.name}`);if(d1(r)&&typeof n.getAsFile=="function"){const o=n.getAsFile();return Promise.resolve(o?p1(o,""):null)}if(d1(r))return new Promise(o=>{r.file(i=>{o(p1(i,""))})})}).filter(n=>n)),i5=(e,t="")=>new Promise(n=>{const r=[],o=()=>{e.readEntries(i=>{if(i.length===0){n(Promise.all(r).then(a=>a.flat()));return}const s=i.map(a=>{if(!a)return null;if(o5(a))return i5(a.createReader(),`${t}${a.name}`);if(d1(a))return new Promise(l=>{a.file(c=>{l(p1(c,t))})})}).filter(a=>a);r.push(Promise.all(s)),o()})};o()});function tve(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function nve(e){return/^.*\.[\w]+$/.test(e)}var UO=e=>tve(e)||nve(e);function rve(e){if(e!=null)return typeof e=="string"?e:Array.isArray(e)?e.filter(UO).join(","):Object.entries(e).reduce((t,[n,r])=>[...t,n,...r],[]).filter(UO).join(",")}var sh=(e,t)=>e.name===t.name&&e.size===t.size&&e.type===t.type,Zu=e=>e!=null;function ove(e,t,n){if(Zu(e.size))if(Zu(t)&&Zu(n)){if(e.size>n)return[!1,"FILE_TOO_LARGE"];if(e.size<t)return[!1,"FILE_TOO_SMALL"]}else{if(Zu(t)&&e.size<t)return[!1,"FILE_TOO_SMALL"];if(Zu(n)&&e.size>n)return[!1,"FILE_TOO_LARGE"]}return[!0,null]}var ive="3g2_video/3gpp2[3gp,3gpp_video/3gpp[3mf_model/3mf[7z_application/x-7z-compressed[aac_audio/aac[ac_application/pkix-attr-cert[adp_audio/adpcm[adts_audio/aac[ai_application/postscript[aml_application/automationml-aml+xml[amlx_application/automationml-amlx+zip[amr_audio/amr[apk_application/vnd.android.package-archive[apng_image/apng[appcache,manifest_text/cache-manifest[appinstaller_application/appinstaller[appx_application/appx[appxbundle_application/appxbundle[asc_application/pgp-keys[atom_application/atom+xml[atomcat_application/atomcat+xml[atomdeleted_application/atomdeleted+xml[atomsvc_application/atomsvc+xml[au,snd_audio/basic[avi_video/x-msvideo[avci_image/avci[avcs_image/avcs[avif_image/avif[aw_application/applixware[bdoc_application/bdoc[bin,bpk,buffer,deb,deploy,dist,distz,dll,dmg,dms,dump,elc,exe,img,iso,lrf,mar,msi,msm,msp,pkg,so_application/octet-stream[bmp,dib_image/bmp[btf,btif_image/prs.btif[bz2_application/x-bzip2[c_text/x-c[ccxml_application/ccxml+xml[cdfx_application/cdfx+xml[cdmia_application/cdmi-capability[cdmic_application/cdmi-container[cdmid_application/cdmi-domain[cdmio_application/cdmi-object[cdmiq_application/cdmi-queue[cer_application/pkix-cert[cgm_image/cgm[cjs_application/node[class_application/java-vm[coffee,litcoffee_text/coffeescript[conf,def,in,ini,list,log,text,txt_text/plain[cpp,cxx,cc_text/x-c++src[cpl_application/cpl+xml[cpt_application/mac-compactpro[crl_application/pkix-crl[css_text/css[csv_text/csv[cu_application/cu-seeme[cwl_application/cwl[cww_application/prs.cww[davmount_application/davmount+xml[dbk_application/docbook+xml[doc_application/msword[docx_application/vnd.openxmlformats-officedocument.wordprocessingml.document[dsc_text/prs.lines.tag[dssc_application/dssc+der[dtd_application/xml-dtd[dwd_application/atsc-dwd+xml[ear,jar,war_application/java-archive[ecma_application/ecmascript[emf_image/emf[eml,mime_message/rfc822[emma_application/emma+xml[emotionml_application/emotionml+xml[eot_application/vnd.ms-fontobject[eps,ps_application/postscript[epub_application/epub+zip[exi_application/exi[exp_application/express[exr_image/aces[ez_application/andrew-inset[fdf_application/fdf[fdt_application/fdt+xml[fits_image/fits[flac_audio/flac[flv_video/x-flv[g3_image/g3fax[geojson_application/geo+json[gif_image/gif[glb_model/gltf-binary[gltf_model/gltf+json[gml_application/gml+xml[go_text/x-go[gpx_application/gpx+xml[gz_application/gzip[h_text/x-h[h261_video/h261[h263_video/h263[h264_video/h264[heic_image/heic[heics_image/heic-sequence[heif_image/heif[heifs_image/heif-sequence[htm,html,shtml_text/html[ico_image/x-icon[icns_image/x-icns[ics,ifb_text/calendar[iges,igs_model/iges[ink,inkml_application/inkml+xml[ipa_application/octet-stream[java_text/x-java-source[jp2,jpg2_image/jp2[jpeg,jpe,jpg_image/jpeg[jpf,jpx_image/jpx[jpm,jpgm_image/jpm[jpgv_video/jpeg[jph_image/jph[js,mjs_text/javascript[json_application/json[json5_application/json5[jsonld_application/ld+json[jsx_text/jsx[jxl_image/jxl[jxr_image/jxr[ktx_image/ktx[ktx2_image/ktx2[less_text/less[m1v,m2v,mpe,mpeg,mpg_video/mpeg[m4a_audio/mp4[m4v_video/x-m4v[md,markdown_text/markdown[mid,midi,kar,rmi_audio/midi[mkv_video/x-matroska[mp2,mp2a,mp3,mpga,m3a,m2a_audio/mpeg[mp4,mp4v,mpg4_video/mp4[mp4a_audio/mp4[mp4s,m4p_application/mp4[odp_application/vnd.oasis.opendocument.presentation[oda_application/oda[ods_application/vnd.oasis.opendocument.spreadsheet[odt_application/vnd.oasis.opendocument.text[oga,ogg,opus,spx_audio/ogg[ogv_video/ogg[ogx_application/ogg[otf_font/otf[p12,pfx_application/x-pkcs12[pdf_application/pdf[pem_application/x-pem-file[php_text/x-php[png_image/png[ppt_application/vnd.ms-powerpoint[pptx_application/vnd.openxmlformats-officedocument.presentationml.presentation[pskcxml_application/pskc+xml[psd_image/vnd.adobe.photoshop[py_text/x-python[qt,mov_video/quicktime[rar_application/vnd.rar[rdf_application/rdf+xml[rtf_text/rtf[sass_text/x-sass[scss_text/x-scss[sgm,sgml_text/sgml[sh_application/x-sh[svg,svgz_image/svg+xml[swf_application/x-shockwave-flash[tar_application/x-tar[tif,tiff_image/tiff[toml_application/toml[ts_video/mp2t[tsx_text/tsx[tsv_text/tab-separated-values[ttc_font/collection[ttf_font/ttf[vtt_text/vtt[wasm_application/wasm[wav_audio/wav[weba_audio/webm[webm_video/webm[webmanifest_application/manifest+json[webp_image/webp[wma_audio/x-ms-wma[wmv_video/x-ms-wmv[woff_font/woff[woff2_font/woff2[xls_application/vnd.ms-excel[xlsx_application/vnd.openxmlformats-officedocument.spreadsheetml.sheet[xml_application/xml[xz_application/x-xz[yaml,yml_text/yaml[zip_application/zip",sve=new Map(ive.split("[").flatMap(e=>{const[t,n]=e.split("_");return t.split(",").map(r=>[r,n])}));function ave(e){const t=e.split(".").pop();return t&&sve.get(t)||null}function lve(e,t){if(e&&t){const n=Array.isArray(t)?t:typeof t=="string"?t.split(","):[];if(n.length===0)return!0;const r=e.name||"",o=(e.type||ave(r)||"").toLowerCase(),i=o.replace(/\/.*$/,"");return n.some(s=>{const a=s.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?i===a.replace(/\/.*$/,""):o===a})}return!0}function cve(e,t){const n=e.type==="application/x-moz-file"||lve(e,t);return[n,n?null:"FILE_INVALID_TYPE"]}function uve(e){const t=new Map;return function(r,o){const i=r+(o?Object.entries(o).sort((a,l)=>a[0]<l[0]?-1:1).join():"");if(t.has(i))return t.get(i);let s=new e(r,o);return t.set(i,s),s}}var dve=uve(Intl.NumberFormat);function pve(e,t,n={}){return dve(t,n).format(e)}var fve=["","kilo","mega","giga","tera"],hve=["","kilo","mega","giga","tera","peta"],gve=(e,t="en-US",n={})=>{if(Number.isNaN(e))return"";if(e===0)return"0 B";const{unitSystem:r="decimal",precision:o=3,unit:i="byte",unitDisplay:s="short"}=n,a=r==="binary"?1024:1e3,l=i==="bit"?fve:hve,c=Math.max(0,Math.min(Math.floor(Math.log10(e)/3),l.length-1)),u=parseFloat((e/Math.pow(a,c)).toPrecision(o));return pve(u,t,{style:"unit",unit:l[c]+i,unitDisplay:s})},s5=()=>e=>Array.from(new Set(e));function a5(e){return e.reduce((t,n)=>Array.isArray(n)?t.concat(a5(n)):t.concat(n),[])}var mve=Function.prototype.toString;mve.call(Object);var vve=(...e)=>(...t)=>{e.forEach(function(n){n?.(...t)})};function bve(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}var yve=hd("file-upload").parts("root","dropzone","item","itemDeleteTrigger","itemGroup","itemName","itemPreview","itemPreviewImage","itemSizeText","label","trigger","clearTrigger"),Mr=yve.build(),l5=e=>e.ids?.root??`file:${e.id}`,c5=e=>e.ids?.dropzone??`file:${e.id}:dropzone`,f1=e=>e.ids?.hiddenInput??`file:${e.id}:input`,xve=e=>e.ids?.trigger??`file:${e.id}:trigger`,wve=e=>e.ids?.label??`file:${e.id}:label`,_ve=(e,t)=>e.ids?.item?.(t)??`file:${e.id}:item:${t}`,kve=(e,t)=>e.ids?.itemName?.(t)??`file:${e.id}:item-name:${t}`,Cve=(e,t)=>e.ids?.itemSizeText?.(t)??`file:${e.id}:item-size:${t}`,Eve=(e,t)=>e.ids?.itemPreview?.(t)??`file:${e.id}:item-preview:${t}`,Ove=e=>e.getById(l5(e)),jO=e=>e.getById(f1(e)),Ive=e=>e.getById(c5(e));function GO(e){const t=nm(e);return e.dataTransfer?e.dataTransfer.types.some(n=>n==="Files"||n==="application/x-moz-file"):!!t&&"files"in t}function Tve(e,t,n){const{prop:r,computed:o}=e;return!o("multiple")&&t>1?!1:!o("multiple")&&t+n.length===2?!0:!(t+n.length>r("maxFiles"))}function WO(e,t,n=[],r=[]){const{prop:o,computed:i}=e,s=[],a=[],l={acceptedFiles:n,rejectedFiles:r};return t.forEach(c=>{const[u,p]=cve(c,i("acceptAttr")),[h,f]=ove(c,o("minFileSize"),o("maxFileSize")),g=o("validate")?.(c,l),m=g?g.length===0:!0;if(u&&h&&m)s.push(c);else{const b=[p,f];m||b.push(...g??[]),a.push({file:c,errors:b.filter(Boolean)})}}),Tve(e,s.length,n)||(s.forEach(c=>{a.push({file:c,errors:["TOO_MANY_FILES"]})}),s.splice(0)),{acceptedFiles:s,rejectedFiles:a}}function Sve(e,t){const n=r5(e);try{if("DataTransfer"in n){const r=new n.DataTransfer;t.forEach(o=>{r.items.add(o)}),e.files=r.files}}catch{}}var ds="accepted";function Pve(e,t){const{state:n,send:r,prop:o,computed:i,scope:s,context:a}=e,l=!!o("disabled"),c=!!o("required"),u=o("allowDrop"),p=o("translations"),h=n.matches("dragging"),f=n.matches("focused")&&!l;return{dragging:h,focused:f,disabled:!!l,transforming:a.get("transforming"),openFilePicker(){l||r({type:"OPEN"})},deleteFile(g,m=ds){r({type:"FILE.DELETE",file:g,itemType:m})},acceptedFiles:a.get("acceptedFiles"),rejectedFiles:a.get("rejectedFiles"),setFiles(g){r({type:"FILES.SET",files:g,count:g.length})},clearRejectedFiles(){r({type:"REJECTED_FILES.CLEAR"})},clearFiles(){r({type:"FILES.CLEAR"})},getFileSize(g){return gve(g.size,o("locale"))},createFileUrl(g,m){const b=s.getWin(),w=b.URL.createObjectURL(g);return m(w),()=>b.URL.revokeObjectURL(w)},setClipboardFiles(g){if(l)return!1;const b=Array.from(g?.items??[]).reduce((w,E)=>{if(E.kind!=="file")return w;const k=E.getAsFile();return k?[...w,k]:w},[]);return b.length?(r({type:"FILES.SET",files:b}),!0):!1},getRootProps(){return t.element({...Mr.root.attrs,dir:o("dir"),id:l5(s),"data-disabled":hn(l),"data-dragging":hn(h)})},getDropzoneProps(g={}){return t.element({...Mr.dropzone.attrs,dir:o("dir"),id:c5(s),tabIndex:l||g.disableClick?void 0:0,role:g.disableClick?"application":"button","aria-label":p.dropzone,"aria-disabled":l,"data-invalid":hn(o("invalid")),"data-disabled":hn(l),"data-dragging":hn(h),onKeyDown(m){l||m.defaultPrevented||m.currentTarget===nm(m)&&(g.disableClick||m.key!=="Enter"&&m.key!==" "||r({type:"DROPZONE.CLICK",src:"keydown"}))},onClick(m){l||m.defaultPrevented||g.disableClick||m.currentTarget===nm(m)&&(m.currentTarget.localName==="label"&&m.preventDefault(),r({type:"DROPZONE.CLICK"}))},onDragOver(m){if(l||!u)return;m.preventDefault(),m.stopPropagation();try{m.dataTransfer.dropEffect="copy"}catch{}if(!GO(m))return;const w=m.dataTransfer.items.length;r({type:"DROPZONE.DRAG_OVER",count:w})},onDragLeave(m){l||u&&(u1(m.currentTarget,m.relatedTarget)||r({type:"DROPZONE.DRAG_LEAVE"}))},onDrop(m){if(l)return;u&&(m.preventDefault(),m.stopPropagation());const b=GO(m);l||!b||eve(m.dataTransfer.items,o("directory")).then(w=>{r({type:"DROPZONE.DROP",files:a5(w)})})},onFocus(){l||r({type:"DROPZONE.FOCUS"})},onBlur(){l||r({type:"DROPZONE.BLUR"})}})},getTriggerProps(){return t.button({...Mr.trigger.attrs,dir:o("dir"),id:xve(s),disabled:l,"data-disabled":hn(l),"data-invalid":hn(o("invalid")),type:"button",onClick(g){l||(u1(Ive(s),g.currentTarget)&&g.stopPropagation(),r({type:"OPEN"}))}})},getHiddenInputProps(){return t.input({id:f1(s),tabIndex:-1,disabled:l,type:"file",required:o("required"),capture:o("capture"),name:o("name"),accept:i("acceptAttr"),webkitdirectory:o("directory")?"":void 0,multiple:i("multiple")||o("maxFiles")>1,onClick(g){g.stopPropagation(),g.currentTarget.value=""},onInput(g){if(l)return;const{files:m}=g.currentTarget;r({type:"FILE.SELECT",files:m?Array.from(m):[]})},style:Zme})},getItemGroupProps(g={}){const{type:m=ds}=g;return t.element({...Mr.itemGroup.attrs,dir:o("dir"),"data-disabled":hn(l),"data-type":m})},getItemProps(g){const{file:m,type:b=ds}=g;return t.element({...Mr.item.attrs,dir:o("dir"),id:_ve(s,m.name),"data-disabled":hn(l),"data-type":b})},getItemNameProps(g){const{file:m,type:b=ds}=g;return t.element({...Mr.itemName.attrs,dir:o("dir"),id:kve(s,m.name),"data-disabled":hn(l),"data-type":b})},getItemSizeTextProps(g){const{file:m,type:b=ds}=g;return t.element({...Mr.itemSizeText.attrs,dir:o("dir"),id:Cve(s,m.name),"data-disabled":hn(l),"data-type":b})},getItemPreviewProps(g){const{file:m,type:b=ds}=g;return t.element({...Mr.itemPreview.attrs,dir:o("dir"),id:Eve(s,m.name),"data-disabled":hn(l),"data-type":b})},getItemPreviewImageProps(g){const{file:m,url:b,type:w=ds}=g;if(!m.type.startsWith("image/"))throw new Error("Preview Image is only supported for image files");return t.img({...Mr.itemPreviewImage.attrs,alt:p.itemPreview?.(m),src:b,"data-disabled":hn(l),"data-type":w})},getItemDeleteTriggerProps(g){const{file:m,type:b=ds}=g;return t.button({...Mr.itemDeleteTrigger.attrs,dir:o("dir"),type:"button",disabled:l,"data-disabled":hn(l),"data-type":b,"aria-label":p.deleteFile?.(m),onClick(){l||r({type:"FILE.DELETE",file:m,itemType:b})}})},getLabelProps(){return t.label({...Mr.label.attrs,dir:o("dir"),id:wve(s),htmlFor:f1(s),"data-disabled":hn(l),"data-required":hn(c)})},getClearTriggerProps(){return t.button({...Mr.clearTrigger.attrs,dir:o("dir"),type:"button",disabled:l,hidden:a.get("acceptedFiles").length===0,"data-disabled":hn(l),onClick(g){g.defaultPrevented||l||r({type:"FILES.CLEAR"})}})}}}var $ve={props({props:e}){return{minFileSize:0,maxFileSize:Number.POSITIVE_INFINITY,maxFiles:1,allowDrop:!0,preventDocumentDrop:!0,defaultAcceptedFiles:[],...e,translations:{dropzone:"dropzone",itemPreview:t=>`preview of ${t.name}`,deleteFile:t=>`delete file ${t.name}`,...e.translations}}},initialState(){return"idle"},context({prop:e,bindable:t,getContext:n}){return{acceptedFiles:t(()=>({defaultValue:e("defaultAcceptedFiles"),value:e("acceptedFiles"),isEqual:(r,o)=>r.length===o?.length&&r.every((i,s)=>sh(i,o[s])),hash(r){return r.map(o=>`${o.name}-${o.size}`).join(",")},onChange(r){const o=n();e("onFileAccept")?.({files:r}),e("onFileChange")?.({acceptedFiles:r,rejectedFiles:o.get("rejectedFiles")})}})),rejectedFiles:t(()=>({defaultValue:[],isEqual:(r,o)=>r.length===o?.length&&r.every((i,s)=>sh(i.file,o[s].file)),onChange(r){const o=n();e("onFileReject")?.({files:r}),e("onFileChange")?.({acceptedFiles:o.get("acceptedFiles"),rejectedFiles:r})}})),transforming:t(()=>({defaultValue:!1}))}},computed:{acceptAttr:({prop:e})=>rve(e("accept")),multiple:({prop:e})=>e("maxFiles")>1},watch({track:e,context:t,action:n}){e([()=>t.hash("acceptedFiles")],()=>{n(["syncInputElement"])})},on:{"FILES.SET":{actions:["setFiles"]},"FILE.SELECT":{actions:["setEventFiles"]},"FILE.DELETE":{actions:["removeFile"]},"FILES.CLEAR":{actions:["clearFiles"]},"REJECTED_FILES.CLEAR":{actions:["clearRejectedFiles"]}},effects:["preventDocumentDrop"],states:{idle:{on:{OPEN:{actions:["openFilePicker"]},"DROPZONE.CLICK":{actions:["openFilePicker"]},"DROPZONE.FOCUS":{target:"focused"},"DROPZONE.DRAG_OVER":{target:"dragging"}}},focused:{on:{"DROPZONE.BLUR":{target:"idle"},OPEN:{actions:["openFilePicker"]},"DROPZONE.CLICK":{actions:["openFilePicker"]},"DROPZONE.DRAG_OVER":{target:"dragging"}}},dragging:{on:{"DROPZONE.DROP":{target:"idle",actions:["setEventFiles"]},"DROPZONE.DRAG_LEAVE":{target:"idle"}}}},implementations:{effects:{preventDocumentDrop({prop:e,scope:t}){if(!e("preventDocumentDrop")||!e("allowDrop")||e("disabled"))return;const n=t.getDoc(),r=i=>{i?.preventDefault()},o=i=>{u1(Ove(t),nm(i))||i.preventDefault()};return vve(zO(n,"dragover",r,!1),zO(n,"drop",o,!1))}},actions:{syncInputElement({scope:e,context:t}){queueMicrotask(()=>{const n=jO(e);if(!n)return;Sve(n,t.get("acceptedFiles"));const r=e.getWin();n.dispatchEvent(new r.Event("change",{bubbles:!0}))})},openFilePicker({scope:e}){Jme(()=>{jO(e)?.click()})},setFiles(e){const{computed:t,context:n,event:r}=e,{acceptedFiles:o,rejectedFiles:i}=WO(e,r.files);n.set("acceptedFiles",t("multiple")?o:o.length>0?[o[0]]:[]),n.set("rejectedFiles",i)},setEventFiles(e){const{computed:t,context:n,event:r,prop:o}=e,i=n.get("acceptedFiles"),s=n.get("rejectedFiles"),{acceptedFiles:a,rejectedFiles:l}=WO(e,r.files,i,s),c=p=>{if(t("multiple")){n.set("acceptedFiles",h=>[...h,...p]),n.set("rejectedFiles",l);return}if(p.length){n.set("acceptedFiles",[p[0]]),n.set("rejectedFiles",l);return}l.length&&(n.set("acceptedFiles",n.get("acceptedFiles")),n.set("rejectedFiles",l))},u=o("transformFiles");u?(n.set("transforming",!0),u(a).then(c).catch(p=>{bve(`[zag-js/file-upload] error transforming files
${p}`)}).finally(()=>{n.set("transforming",!1)})):c(a)},removeFile({context:e,event:t}){if(t.itemType==="rejected"){const n=e.get("rejectedFiles").filter(r=>!sh(r.file,t.file));e.set("rejectedFiles",n)}else{const n=e.get("acceptedFiles").filter(r=>!sh(r,t.file));e.set("acceptedFiles",n)}},clearRejectedFiles({context:e}){e.set("rejectedFiles",[])},clearFiles({context:e}){e.set("acceptedFiles",[]),e.set("rejectedFiles",[])}}}};s5()(["accept","acceptedFiles","allowDrop","capture","defaultAcceptedFiles","dir","directory","disabled","getRootNode","id","ids","invalid","locale","maxFiles","maxFileSize","minFileSize","name","onFileAccept","onFileChange","onFileReject","preventDocumentDrop","required","transformFiles","translations","validate"]);s5()(["file","type"]);function Rve(e){return e==null?[]:Array.isArray(e)?e:[e]}var qO=e=>e?.constructor.name==="Array",Ave=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!e_(e[n],t[n]))return!1;return!0},e_=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof e?.isEqual=="function"&&typeof t?.isEqual=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(qO(e)&&qO(t))return Ave(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(t??Object.create(null)),r=n.length;for(let o=0;o<r;o++)if(!Reflect.has(e,n[o]))return!1;for(let o=0;o<r;o++){const i=n[o];if(!e_(e[i],t[i]))return!1}return!0},Nve=e=>e!=null&&typeof e=="object",Mve=e=>typeof e=="string",gd=e=>typeof e=="function",Dve=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Lve=e=>Object.prototype.toString.call(e),u5=Function.prototype.toString,Vve=u5.call(Object),Fve=e=>{if(!Nve(e)||Lve(e)!="[object Object]"||zve(e))return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Dve(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&u5.call(n)==Vve},Bve=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,Hve=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,zve=e=>Bve(e)||Hve(e);function d5(e){if(!Fve(e)||e===void 0)return e;const t=Reflect.ownKeys(e).filter(r=>typeof r=="string"),n={};for(const r of t){const o=e[r];o!==void 0&&(n[r]=d5(o))}return n}function KO(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}function Uve(e,t){if(e==null)throw new Error(t())}var p5=e=>typeof e=="object"&&e!==null,jve=9,Gve=e=>p5(e)&&e.nodeType===jve,Wve=e=>p5(e)&&e===e.window;function qve(e){if(!e)return!1;const t=e.getRootNode();return f5(t)===e}function Kve(e){return Gve(e)?e:Wve(e)?e.document:e?.ownerDocument??document}function f5(e){let t=e.activeElement;for(;t?.shadowRoot;){const n=t.shadowRoot.activeElement;if(!n||n===t)break;t=n}return t}var rc=(e=>(e.NotStarted="Not Started",e.Started="Started",e.Stopped="Stopped",e))(rc||{}),ny="__init__";function Yve(e){const t=()=>e.getRootNode?.()??document,n=()=>Kve(t());return{...e,getRootNode:t,getDoc:n,getWin:()=>n().defaultView??window,getActiveElement:()=>f5(t()),isActiveElement:qve,getById:s=>t().getElementById(s)}}function Xve(e){return new Proxy({},{get(t,n){return n==="style"?r=>e({style:r}).style:e}})}function Jve(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}var YO={htmlFor:"for",className:"class",onDoubleClick:"onDblclick",onChange:"onInput",onFocus:"onFocusin",onBlur:"onFocusout",defaultValue:"value",defaultChecked:"checked"},Zve="viewBox,className,preserveAspectRatio,fillRule,clipPath,clipRule,strokeWidth,strokeLinecap,strokeLinejoin,strokeDasharray,strokeDashoffset,strokeMiterlimit".split(",");function Qve(e){return e in YO?YO[e]:e.startsWith("on")?`on${Jve(e.substr(2))}`:Zve.includes(e)?e:e.toLowerCase()}var ebe=Xve(e=>{const t={};for(const n in e){const r=e[n];n==="children"?typeof r=="string"&&(t.innerHTML=r):t[Qve(n)]=e[n]}return t});function rm(e){const t=e().defaultValue??e().value,n=e().isEqual??Object.is,r=co(t),o=A(()=>e().value!==void 0),i=co(o.value?e().value:r.value);return{initial:t,ref:i,get(){return o.value?e().value:r.value},set(s){const a=o.value?e().value:r.value,l=gd(s)?s(a):s;e().debug&&console.log(`[bindable > ${e().debug}] setValue`,{next:l,prev:a}),o.value||(r.value=l),n(l,a)||e().onChange?.(l,a)},invoke(s,a){e().onChange?.(s,a)},hash(s){return e().hash?.(s)??String(s)}}}rm.cleanup=e=>{Sr(()=>e())};rm.ref=e=>{let t=e;return{get:()=>t,set:n=>{t=n}}};function tbe(e){const t={current:e};return{get(n){return t.current[n]},set(n,r){t.current[n]=r}}}var nbe=(e,t)=>{st(()=>[...e.map(n=>n())],(n,r)=>{let o=!1;for(let i=0;i<n.length;i++)if(!e_(r[i],pe(n[i]))){o=!0;break}o&&t()})};function rbe(e,t={}){const n=A(()=>{const{id:C,ids:x,getRootNode:I}=pe(t);return Yve({id:C,ids:x,getRootNode:I})}),r=(...C)=>{e.debug&&console.log(...C)},o=A(()=>e.props?.({props:d5(pe(t)),get scope(){return n.value}})??pe(t)),i=obe(o),s=e.context?.({prop:i,bindable:rm,get scope(){return n.value},flush:XO,getContext(){return a},getComputed(){return v},getRefs(){return g},getEvent(){return h()}}),a={get(C){return s[C]?.get()},set(C,x){s[C]?.set(x)},initial(C){return s[C]?.initial},hash(C){const x=s[C]?.get();return s[C]?.hash(x)}};let l=new Map,c=null,u={current:null},p={current:{type:""}};const h=()=>({...p.current,current(){return p.current},previous(){return u.current}}),f=()=>({..._,matches(...C){const x=_.get();return C.includes(x)},hasTag(C){const x=_.get();return!!e.states[x]?.tags?.includes(C)}}),g=tbe(e.refs?.({prop:i,context:a})??{}),m=()=>({state:f(),context:a,event:h(),prop:i,send:N,action:b,guard:w,track:nbe,refs:g,computed:v,flush:XO,get scope(){return n.value},choose:k}),b=C=>{const x=gd(C)?C(m()):C;if(!x)return;const I=x.map(R=>{const M=e.implementations?.actions?.[R];return M||KO(`[zag-js] No implementation found for action "${JSON.stringify(R)}"`),M});for(const R of I)R?.(m())},w=C=>gd(C)?C(m()):e.implementations?.guards?.[C](m()),E=C=>{const x=gd(C)?C(m()):C;if(!x)return;const I=x.map(M=>{const B=e.implementations?.effects?.[M];return B||KO(`[zag-js] No implementation found for effect "${JSON.stringify(M)}"`),B}),R=[];for(const M of I){const B=M?.(m());B&&R.push(B)}return()=>R.forEach(M=>M?.())},k=C=>Rve(C).find(x=>{let I=!x.guard;return Mve(x.guard)?I=!!w(x.guard):gd(x.guard)&&(I=x.guard(m())),I}),v=C=>{Uve(e.computed,()=>"[zag-js] No computed object found on machine");const x=e.computed[C];return x({context:a,event:h(),prop:i,refs:g,get scope(){return n.value},computed:v})},_=rm(()=>({defaultValue:e.initialState({prop:i}),onChange(C,x){x&&(l.get(x)?.(),l.delete(x)),x&&b(e.states[x]?.exit),b(c?.actions);const I=E(e.states[C]?.effects);if(I&&l.set(C,I),x===ny){b(e.entry);const R=E(e.effects);R&&l.set(ny,R)}b(e.states[C]?.entry)}}));let T=rc.NotStarted;Je(()=>{const C=T===rc.Started;T=rc.Started,r(C?"rehydrating...":"initializing..."),_.invoke(_.initial,ny)}),on(()=>{T=rc.Stopped,r("unmounting...");const C=l.values();for(const x of C)x?.();l=new Map,b(e.exit)});const N=C=>{if(T!==rc.Started)return;u.current=p.current,p.current=C;let x=_.get();const I=e.states[x].on?.[C.type]??e.on?.[C.type],R=k(I);if(!R)return;c=R;const M=R.target??x;r("transition",C.type,R.target||x,`(${R.actions})`);const B=M!==x;B?_.set(M):R.reenter&&!B?_.invoke(x,x):b(R.actions)};return e.watch?.(m()),{state:f(),send:N,context:a,prop:i,get scope(){return n.value},refs:g,computed:v,event:h(),getStatus:()=>T}}function obe(e){return function(n){return e.value[n]}}var XO=e=>{Nn().then(()=>{e()})};const ibe={key:0,class:"text-sm block mb-1 font-medium text-gray-700"},sbe={key:0,class:"min-h-24 border border-dashed rounded flex flex-col items-center justify-center"},abe={key:1},lbe={class:"rounded-t p-3 bg-zinc-100 relative"},cbe=["src"],ube={class:"rounded-b p-3 bg-zinc-100 border-t border-white"},dbe={class:"flex-none h-12 border-b border-zinc-200 flex gap-3 px-4 items-center justify-between"},pbe={class:"flex-1 flex flex-col gap-3 min-h-0 p-3 overflow-y-auto"},fbe={class:"grid grid-cols-2 gap-3"},hbe={class:"flex-none flex items-center gap-3 p-3 justify-end h-12 border-t border-zinc-200"},gbe=P({__name:"ImagePicker",props:at({field:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=_=>{const T=new RegExp("^(https?:\\/\\/)?((localhost)|((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,})|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return _.startsWith("/")||!!T.test(_)},{t:n}=Et(),{state:r}=Dt(),{get:o,postFormData:i}=ha(),s=kl(),a=rt(e,"modelValue",{set(_){return _?_.path:null},get(_){return _?{path:_,url:t(_)?_:window.editorConfig.imagesBaseUrl+"/"+_,name:_}:null}}),l=Q(!1),c=Q([]),u=Q(),p=rbe($ve,{id:"imagepicker",accept:"image/*",maxFiles:10,onFileAccept(_){if(_.files.length===0)return;c.value=_.files.map(N=>({url:URL.createObjectURL(N),path:N.name,name:N.name,uploading:!0}));const T=new FormData;_.files.forEach(N=>{T.append("image[]",N)}),g(T)}}),h=A(()=>Pve(p,ebe)),f=i(window.editorConfig.routes.uploadImage);f.onSuccess(_=>{r.images=[..._,...r.images],c.value=[],m(r.images[0]),h.value.clearFiles()}),f.onError(_=>{c.value=[],h.value.clearFiles(),s.ui.toast({type:"error",title:n("Failed to upload image"),description:_.message||_.toString()})});async function g(_){f.execute(_)}function m(_){a.value=_}function b(){a.value=u.value,l.value=!1}function w(){l.value=!1}function E(){a.value=null}const{data:k,execute:v}=o(window.editorConfig.routes.listImages);return st(k,_=>{_&&(r.images=_)}),Je(()=>{(!r.images||r.images.length===0)&&v()}),(_,T)=>{const N=So,C=Ume;return y(),V("div",null,[e.field.label?(y(),V("label",ibe,j(e.field.label),1)):Z("",!0),S(d(mt).Root,{open:d(l),"onUpdate:open":T[0]||(T[0]=x=>Ce(l)?l.value=x:null),modal:!1,"close-on-interact-outside":!1,onOpenChange:T[1]||(T[1]=x=>u.value=a.value||void 0)},{default:O(()=>[a.value?(y(),V("div",abe,[D("div",lbe,[D("img",{src:a.value.url,alt:"",class:"object-cover h-32 w-full object-center"},null,8,cbe),D("button",{class:"absolute top-4 right-4 bg-zinc-700/30 text-zinc-200 p-px rounded",onClick:E},[S(N,{class:"w-4 h-4"})])]),D("div",ube,[S(d(mt).Trigger,{class:"text-sm w-full text-center bg-white border rounded py-1"},{default:O(()=>[re(j(d(n)("Change image")),1)]),_:1})])])):(y(),V("div",sbe,[S(d(mt).Trigger,{class:"text-blue-600 text-sm bg-zinc-200 rounded px-2.5 py-1.5 hover:bg-zinc-100 hover:text-blue-800"},{default:O(()=>[re(j(d(n)("Select image")),1)]),_:1})])),S(d(mt).Positioner,{class:"flex absolute inset-0 z-50 h-full w-full items-center justify-center"},{default:O(()=>[S(d(mt).Content,{class:"bg-white shadow flex flex-col w-full h-full overflow-hidden"},{default:O(()=>[D("header",dbe,[S(d(mt).Title,null,{default:O(()=>[re(j(e.field.label||d(n)("Image Picker")),1)]),_:1}),D("button",{onClick:b,class:"cursor-pointer rounded-lg p-0.5 text-zinc-700 hover:bg-zinc-300"},[S(N,{class:"w-5 h-5"})])]),D("section",pbe,[D("div",F(d(h).getRootProps(),{accept:"image/*"}),[D("div",F(d(h).getDropzoneProps(),{class:"flex flex-col gap-3 items-center justify-center h-32 bg-zinc-50/50 border border-zinc-300 border-dashed rounded-lg"}),[D("p",null,j(d(n)("Drop your images here")),1),D("button",F(d(h).getTriggerProps(),{class:"cursor-pointer bg-blue-500 text-white shadow-lg rounded border px-2.5 py-1.5 text-sm"}),j(d(n)("Add images")),17)],16),D("input",Be(Fe(d(h).getHiddenInputProps())),null,16)],16),D("div",fbe,[(y(!0),V(ge,null,Ie(d(c),x=>(y(),$(C,{key:x.path,image:x},null,8,["image"]))),128)),(y(!0),V(ge,null,Ie(d(r).images,x=>(y(),$(C,{key:x.path,image:x,selected:!!a.value&&a.value.path===x.path,onClick:I=>m(x)},null,8,["image","selected","onClick"]))),128))])]),D("footer",hbe,[S(d(Vt),{onClick:b},{default:O(()=>[re(j(d(n)("Cancel")),1)]),_:1}),S(d(Vt),{variant:"primary",onClick:w},{default:O(()=>[re(j(d(n)("Select")),1)]),_:1})])]),_:1})]),_:1})]),_:1},8,["open"])])}}}),mbe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function vbe(e,t){return y(),V("svg",mbe,[...t[0]||(t[0]=[D("path",{fill:"currentColor",d:"M8 4h13v2H8zM5 3v3h1v1H3V6h1V4H3V3zM3 14v-2.5h2V11H3v-1h3v2.5H4v.5h2v1zm2 5.5H3v-1h2V18H3v-1h3v4H3v-1h2zM8 11h13v2H8zm0 7h13v2H8z"},null,-1)])])}const bbe=fe({name:"ri-list-ordered",render:vbe}),ybe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function xbe(e,t){return y(),V("svg",ybe,[...t[0]||(t[0]=[D("path",{fill:"currentColor",d:"M8 4h13v2H8zM4.5 6.5a1.5 1.5 0 1 1 0-3a1.5 1.5 0 0 1 0 3m0 7a1.5 1.5 0 1 1 0-3a1.5 1.5 0 0 1 0 3m0 6.9a1.5 1.5 0 1 1 0-3a1.5 1.5 0 0 1 0 3M8 11h13v2H8zm0 7h13v2H8z"},null,-1)])])}const wbe=fe({name:"ri-list-unordered",render:xbe}),_be={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function kbe(e,t){return y(),V("svg",_be,[...t[0]||(t[0]=[D("path",{fill:"currentColor",d:"M17 11V4h2v17h-2v-8H7v8H5V4h2v7z"},null,-1)])])}const Cbe=fe({name:"ri-heading",render:kbe}),Ebe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Obe(e,t){return y(),V("svg",Ebe,[...t[0]||(t[0]=[D("path",{fill:"currentColor",d:"M8 3v9a4 4 0 0 0 8 0V3h2v9a6 6 0 0 1-12 0V3zM4 20h16v2H4z"},null,-1)])])}const Ibe=fe({name:"ri-underline",render:Obe}),Tbe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Sbe(e,t){return y(),V("svg",Tbe,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M5.248 20.246H9.05m0 0h3.696m-3.696 0l5.893-16.502m0 0h-3.697m3.697 0h3.803"},null,-1)])])}const Pbe=fe({name:"heroicons-italic",render:Sbe}),$be={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Rbe(e,t){return y(),V("svg",$be,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"2",d:"M6.75 3.744h-.753v8.25h7.125a4.125 4.125 0 0 0 0-8.25zm0 0v.38m0 16.122h6.747a4.5 4.5 0 0 0 0-9.001h-7.5v9zm0 0v-.37m0-15.751h6a3.75 3.75 0 1 1 0 7.5h-6m0-7.5v7.5m0 0v8.25m0-8.25h6.375a4.125 4.125 0 0 1 0 8.25H6.75m.747-15.38h4.875a3.375 3.375 0 0 1 0 6.75H7.497zm0 7.5h5.25a3.75 3.75 0 0 1 0 7.5h-5.25z"},null,-1)])])}const Abe=fe({name:"heroicons-bold",render:Rbe});function mn(e){this.content=e}mn.prototype={constructor:mn,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),i=r.content.slice();return o==-1?i.push(n||e,t):(i[o+1]=t,n&&(i[o]=n)),new mn(i)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new mn(n)},addToStart:function(e,t){return new mn([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new mn(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),i=r.find(e);return o.splice(i==-1?o.length:i,0,t,n),new mn(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=mn.from(e),e.size?new mn(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=mn.from(e),e.size?new mn(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=mn.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};mn.from=function(e){if(e instanceof mn)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new mn(t)};function h5(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let o=e.child(r),i=t.child(r);if(o==i){n+=o.nodeSize;continue}if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(let s=0;o.text[s]==i.text[s];s++)n++;return n}if(o.content.size||i.content.size){let s=h5(o.content,i.content,n+1);if(s!=null)return s}n+=o.nodeSize}}function g5(e,t,n,r){for(let o=e.childCount,i=t.childCount;;){if(o==0||i==0)return o==i?null:{a:n,b:r};let s=e.child(--o),a=t.child(--i),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let c=0,u=Math.min(s.text.length,a.text.length);for(;c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let c=g5(s.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class ie{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,o=0,i){for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;if(c>t&&r(l,o+a,i||null,s)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,t-u),Math.min(l.content.size,n-u),r,o+u)}a=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,o){let i="",s=!0;return this.nodesBetween(t,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(t,l)-l,n-l):a.isLeaf?o?typeof o=="function"?o(a):o:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(s?s=!1:i+=r),i+=c},0),i}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,o=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),i=1);i<t.content.length;i++)o.push(t.content[i]);return new ie(o,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],o=0;if(n>t)for(let i=0,s=0;s<n;i++){let a=this.content[i],l=s+a.nodeSize;l>t&&((s<t||l>n)&&(a.isText?a=a.cut(Math.max(0,t-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,t-s-1),Math.min(a.content.size,n-s-1))),r.push(a),o+=a.nodeSize),s=l}return new ie(r,o)}cutByIndex(t,n){return t==n?ie.empty:t==0&&n==this.content.length?this:new ie(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let o=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return o[t]=n,new ie(o,i)}addToStart(t){return new ie([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new ie(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let o=this.content[n];t(o,r,n),r+=o.nodeSize}}findDiffStart(t,n=0){return h5(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return g5(this,t,n,r)}findIndex(t){if(t==0)return ah(0,t);if(t==this.size)return ah(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let o=this.child(n),i=r+o.nodeSize;if(i>=t)return i==t?ah(n+1,i):ah(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return ie.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ie(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return ie.empty;let n,r=0;for(let o=0;o<t.length;o++){let i=t[o];r+=i.nodeSize,o&&i.isText&&t[o-1].sameMarkup(i)?(n||(n=t.slice(0,o)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new ie(n||t,r)}static from(t){if(!t)return ie.empty;if(t instanceof ie)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new ie([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ie.empty=new ie([],0);const ry={index:0,offset:0};function ah(e,t){return ry.index=e,ry.offset=t,ry}function om(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!om(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!om(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let vt=class h1{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let o=0;o<t.length;o++){let i=t[o];if(this.eq(i))return t;if(this.type.excludes(i.type))n||(n=t.slice(0,o));else{if(i.type.excludes(this.type))return t;!r&&i.type.rank>this.type.rank&&(n||(n=t.slice(0,o)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&om(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=r.create(n.attrs);return r.checkAttrs(o.attrs),o}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return h1.none;if(t instanceof h1)return[t];let n=t.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}};vt.none=[];class im extends Error{}class we{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=v5(this.content,t+this.openStart,n);return r&&new we(r,this.openStart,this.openEnd)}removeBetween(t,n){return new we(m5(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return we.empty;let r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new we(ie.fromJSON(t,n.content),r,o)}static maxOpen(t,n=!0){let r=0,o=0;for(let i=t.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=t.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)o++;return new we(t,r,o)}}we.empty=new we(ie.empty,0,0);function m5(e,t,n){let{index:r,offset:o}=e.findIndex(t),i=e.maybeChild(r),{index:s,offset:a}=e.findIndex(n);if(o==t||i.isText){if(a!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(m5(i.content,t-o-1,n-o-1)))}function v5(e,t,n,r){let{index:o,offset:i}=e.findIndex(t),s=e.maybeChild(o);if(i==t||s.isText)return r&&!r.canReplace(o,o,n)?null:e.cut(0,t).append(n).append(e.cut(t));let a=v5(s.content,t-i-1,n,s);return a&&e.replaceChild(o,s.copy(a))}function Nbe(e,t,n){if(n.openStart>e.depth)throw new im("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new im("Inconsistent open depths");return b5(e,t,n,0)}function b5(e,t,n,r){let o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){let s=b5(e,t,n,r+1);return i.copy(i.content.replaceChild(o,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let s=e.parent,a=s.content;return Xa(s,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}else{let{start:s,end:a}=Mbe(n,e);return Xa(i,x5(e,s,a,t,r))}else return Xa(i,sm(e,t,r))}function y5(e,t){if(!t.type.compatibleContent(e.type))throw new im("Cannot join "+t.type.name+" onto "+e.type.name)}function g1(e,t,n){let r=e.node(n);return y5(r,t.node(n)),r}function Ya(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Bd(e,t,n,r){let o=(t||e).node(n),i=0,s=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(Ya(e.nodeAfter,r),i++));for(let a=i;a<s;a++)Ya(o.child(a),r);t&&t.depth==n&&t.textOffset&&Ya(t.nodeBefore,r)}function Xa(e,t){return e.type.checkContent(t),e.copy(t)}function x5(e,t,n,r,o){let i=e.depth>o&&g1(e,t,o+1),s=r.depth>o&&g1(n,r,o+1),a=[];return Bd(null,e,o,a),i&&s&&t.index(o)==n.index(o)?(y5(i,s),Ya(Xa(i,x5(e,t,n,r,o+1)),a)):(i&&Ya(Xa(i,sm(e,t,o+1)),a),Bd(t,n,o,a),s&&Ya(Xa(s,sm(n,r,o+1)),a)),Bd(r,null,o,a),new ie(a)}function sm(e,t,n){let r=[];if(Bd(null,e,n,r),e.depth>n){let o=g1(e,t,n+1);Ya(Xa(o,sm(e,t,n+1)),r)}return Bd(t,null,n,r),new ie(r)}function Mbe(e,t){let n=t.depth-e.openStart,o=t.node(n).copy(e.content);for(let i=n-1;i>=0;i--)o=t.node(i).copy(ie.from(o));return{start:o.resolveNoCache(e.openStart+n),end:o.resolveNoCache(o.content.size-e.openEnd-n)}}class Cp{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=t.child(n);return r?t.child(n).cut(r):o}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1;for(let i=0;i<t;i++)o+=r.child(i).nodeSize;return o}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return vt.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),o=t.maybeChild(n);if(!r){let a=r;r=o,o=a}let i=r.marks;for(var s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!o||!i[s].isInSet(o.marks))&&(i=i[s--].removeFromSet(i));return i}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,o=t.parent.maybeChild(t.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!o||!r[i].isInSet(o.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new am(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],o=0,i=n;for(let s=t;;){let{index:a,offset:l}=s.content.findIndex(i),c=i-l;if(r.push(s,a,o+l),!c||(s=s.child(a),s.isText))break;i=c-1,o+=l+1}return new Cp(n,r,i)}static resolveCached(t,n){let r=JO.get(t);if(r)for(let i=0;i<r.elts.length;i++){let s=r.elts[i];if(s.pos==n)return s}else JO.set(t,r=new Dbe);let o=r.elts[r.i]=Cp.resolve(t,n);return r.i=(r.i+1)%Lbe,o}}class Dbe{constructor(){this.elts=[],this.i=0}}const Lbe=12,JO=new WeakMap;class am{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Vbe=Object.create(null);let Bs=class m1{constructor(t,n,r,o=vt.none){this.type=t,this.attrs=n,this.marks=o,this.content=r||ie.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,o=0){this.content.nodesBetween(t,n,r,o,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,o){return this.content.textBetween(t,n,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&om(this.attrs,n||t.defaultAttrs||Vbe)&&vt.sameSet(this.marks,r||vt.none)}copy(t=null){return t==this.content?this:new m1(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new m1(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return we.empty;let o=this.resolve(t),i=this.resolve(n),s=r?0:o.sharedDepth(n),a=o.start(s),c=o.node(s).content.cut(o.pos-a,i.pos-a);return new we(c,o.depth-s,i.depth-s)}replace(t,n,r){return Nbe(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:o}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(o==t||n.isText)return n;t-=o+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}}resolve(t){return Cp.resolveCached(this,t)}resolveNoCache(t){return Cp.resolve(this,t)}rangeHasMark(t,n,r){let o=!1;return n>t&&this.nodesBetween(t,n,i=>(r.isInSet(i.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),w5(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=ie.empty,o=0,i=r.childCount){let s=this.contentMatchAt(t).matchFragment(r,o,i),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=o;l<i;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;let i=this.contentMatchAt(t).matchType(r),s=i&&i.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=vt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!vt.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let o=ie.fromJSON(t,n.content),i=t.nodeType(n.type).create(n.attrs,o,r);return i.type.checkAttrs(i.attrs),i}};Bs.prototype.text=void 0;class lm extends Bs{constructor(t,n,r,o){if(super(t,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):w5(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new lm(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new lm(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function w5(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class al{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new Fbe(t,n);if(r.next==null)return al.empty;let o=_5(r);r.next&&r.err("Unexpected trailing text");let i=Wbe(Gbe(o));return qbe(i,r),i}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let o=this;for(let i=n;o&&i<r;i++)o=o.matchType(t.child(i).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let o=[this];function i(s,a){let l=s.matchFragment(t,r);if(l&&(!n||l.validEnd))return ie.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:p}=s.next[c];if(!(u.isText||u.hasRequiredAttrs())&&o.indexOf(p)==-1){o.push(p);let h=i(p,a.concat(u));if(h)return h}}return null}return i(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),i=o.match;if(i.matchType(t)){let s=[];for(let a=o;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<i.next.length;s++){let{type:a,next:l}=i.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!o.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:o}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let o=0;o<r.next.length;o++)t.indexOf(r.next[o].next)==-1&&n(r.next[o].next)}return n(this),t.map((r,o)=>{let i=o+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)i+=(s?", ":"")+r.next[s].type.name+"->"+t.indexOf(r.next[s].next);return i}).join(`
`)}}al.empty=new al(!0);class Fbe{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function _5(e){let t=[];do t.push(Bbe(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function Bbe(e){let t=[];do t.push(Hbe(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function Hbe(e){let t=jbe(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=zbe(e,t);else break;return t}function ZO(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function zbe(e,t){let n=ZO(e),r=n;return e.eat(",")&&(e.next!="}"?r=ZO(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function Ube(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let o=[];for(let i in n){let s=n[i];s.isInGroup(t)&&o.push(s)}return o.length==0&&e.err("No node type or group '"+t+"' found"),o}function jbe(e){if(e.eat("(")){let t=_5(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=Ube(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function Gbe(e){let t=[[]];return o(i(e,0),n()),t;function n(){return t.push([])-1}function r(s,a,l){let c={term:l,to:a};return t[s].push(c),c}function o(s,a){s.forEach(l=>l.to=a)}function i(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(i(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=i(s.exprs[l],a);if(l==s.exprs.length-1)return c;o(c,a=n())}else if(s.type=="star"){let l=n();return r(a,l),o(i(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return o(i(s.expr,a),l),o(i(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(i(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let u=n();o(i(s.expr,l),u),l=u}if(s.max==-1)o(i(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let u=n();r(l,u),o(i(s.expr,l),u),l=u}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function k5(e,t){return t-e}function QO(e,t){let n=[];return r(t),n.sort(k5);function r(o){let i=e[o];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(o);for(let s=0;s<i.length;s++){let{term:a,to:l}=i[s];!a&&n.indexOf(l)==-1&&r(l)}}}function Wbe(e){let t=Object.create(null);return n(QO(e,0));function n(r){let o=[];r.forEach(s=>{e[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<o.length;u++)o[u][0]==a&&(c=o[u][1]);QO(e,l).forEach(u=>{c||o.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let i=t[r.join(",")]=new al(r.indexOf(e.length-1)>-1);for(let s=0;s<o.length;s++){let a=o[s][1].sort(k5);i.next.push({type:o[s][0],next:t[a.join(",")]||n(a)})}return i}}function qbe(e,t){for(let n=0,r=[e];n<r.length;n++){let o=r[n],i=!o.validEnd,s=[];for(let a=0;a<o.next.length;a++){let{type:l,next:c}=o.next[a];s.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),r.indexOf(c)==-1&&r.push(c)}i&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function C5(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function E5(e,t){let n=Object.create(null);for(let r in e){let o=t&&t[r];if(o===void 0){let i=e[r];if(i.hasDefault)o=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function O5(e,t,n,r){for(let o in t)if(!(o in e))throw new RangeError(`Unsupported attribute ${o} for ${n} of type ${o}`);for(let o in e){let i=e[o];i.validate&&i.validate(t[o])}}function I5(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new Ybe(e,r,t[r]);return n}let eI=class T5{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=I5(t,r.attrs),this.defaultAttrs=C5(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==al.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:E5(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Bs(this,this.computeAttrs(t),ie.from(n),vt.setFrom(r))}createChecked(t=null,n,r){return n=ie.from(n),this.checkContent(n),new Bs(this,this.computeAttrs(t),n,vt.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=ie.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let o=this.contentMatch.matchFragment(n),i=o&&o.fillBefore(ie.empty,!0);return i?new Bs(this,t,n.append(i),vt.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){O5(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:vt.none:t}static compile(t,n){let r=Object.create(null);t.forEach((i,s)=>r[i]=new T5(i,n,s));let o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Kbe(e,t,n){let r=n.split("|");return o=>{let i=o===null?"null":typeof o;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${i}`)}}class Ybe{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Kbe(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Lv{constructor(t,n,r,o){this.name=t,this.rank=n,this.schema=r,this.spec=o,this.attrs=I5(t,o.attrs),this.excluded=null;let i=C5(this.attrs);this.instance=i?new vt(this,i):null}create(t=null){return!t&&this.instance?this.instance:new vt(this,E5(this.attrs,t))}static compile(t,n){let r=Object.create(null),o=0;return t.forEach((i,s)=>r[i]=new Lv(i,o++,n,s)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){O5(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class S5{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let o in t)n[o]=t[o];n.nodes=mn.from(t.nodes),n.marks=mn.from(t.marks||{}),this.nodes=eI.compile(this.spec.nodes,this),this.marks=Lv.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let i=this.nodes[o],s=i.spec.content||"",a=i.spec.marks;if(i.contentMatch=r[s]||(r[s]=al.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=a=="_"?null:a?tI(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let o in this.marks){let i=this.marks[o],s=i.spec.excludes;i.excluded=s==null?[i]:s==""?[]:tI(this,s.split(" "))}this.nodeFromJSON=o=>Bs.fromJSON(this,o),this.markFromJSON=o=>vt.fromJSON(this,o),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,o){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof eI){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,o)}text(t,n){let r=this.nodes.text;return new lm(r,r.defaultAttrs,t,vt.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function tI(e,t){let n=[];for(let r=0;r<t.length;r++){let o=t[r],i=e.marks[o],s=i;if(i)n.push(i);else for(let a in e.marks){let l=e.marks[a];(o=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function Xbe(e){return e.tag!=null}function Jbe(e){return e.style!=null}let Hd=class v1{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(o=>{if(Xbe(o))this.tags.push(o);else if(Jbe(o)){let i=/[^=]*/.exec(o.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let i=t.nodes[o.node];return i.contentMatch.matchType(i)})}parse(t,n={}){let r=new rI(this,n,!1);return r.addAll(t,vt.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new rI(this,n,!0);return r.addAll(t,vt.none,n.from,n.to),we.maxOpen(r.finish())}matchTag(t,n,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let i=this.tags[o];if(eye(t,i.tag)&&(i.namespace===void 0||t.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let s=i.getAttrs(t);if(s===!1)continue;i.attrs=s||void 0}return i}}}matchStyle(t,n,r,o){for(let i=o?this.styles.indexOf(o)+1:0;i<this.styles.length;i++){let s=this.styles[i],a=s.style;if(!(a.indexOf(t)!=0||s.context&&!r.matchesContext(s.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(t){let n=[];function r(o){let i=o.priority==null?50:o.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<i)break}n.splice(s,0,o)}for(let o in t.marks){let i=t.marks[o].spec.parseDOM;i&&i.forEach(s=>{r(s=oI(s)),s.mark||s.ignore||s.clearMark||(s.mark=o)})}for(let o in t.nodes){let i=t.nodes[o].spec.parseDOM;i&&i.forEach(s=>{r(s=oI(s)),s.node||s.ignore||s.mark||(s.node=o)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new v1(t,v1.schemaRules(t)))}};const P5={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Zbe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},$5={ol:!0,ul:!0},Ep=1,b1=2,zd=4;function nI(e,t,n){return t!=null?(t?Ep:0)|(t==="full"?b1:0):e&&e.whitespace=="pre"?Ep|b1:n&~zd}class lh{constructor(t,n,r,o,i,s){this.type=t,this.attrs=n,this.marks=r,this.solid=o,this.options=s,this.content=[],this.activeMarks=vt.none,this.match=i||(s&zd?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ie.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(t.type))?(this.match=r,o):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Ep)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-o[0].length))}}let n=ie.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(ie.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!P5.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class rI{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let o=n.topNode,i,s=nI(null,n.preserveWhitespace,0)|(r?zd:0);o?i=new lh(o.type,o.attrs,vt.none,!0,n.topMatch||o.type.contentMatch,s):r?i=new lh(null,null,vt.none,!0,null,s):i=new lh(t.schema.topNodeType,null,vt.none,!0,null,s),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,o=this.top,i=o.options&b1?"full":this.localPreserveWS||(o.options&Ep)>0;if(i==="full"||o.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(i)i!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=o.content[o.content.length-1],a=t.previousSibling;(!s||a&&a.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let o=this.localPreserveWS,i=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let s=t.nodeName.toLowerCase(),a;$5.hasOwnProperty(s)&&this.parser.normalizeLists&&Qbe(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(a=this.parser.matchTag(t,this,r));e:if(l?l.ignore:Zbe.hasOwnProperty(s))this.findInside(t),this.ignoreFallback(t,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let c,u=this.needsBlock;if(P5.hasOwnProperty(s))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),c=!0,i.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let p=l&&l.skip?n:this.readStyles(t,n);p&&this.addAll(t,p),c&&this.sync(i),this.needsBlock=u}else{let c=this.readStyles(t,n);c&&this.addElementByRule(t,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=o}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let i=this.parser.matchedStyles[o],s=r.getPropertyValue(i);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(i,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(t,n,r,o){let i,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let l=this.enter(s,n.attrs||null,r,n.preserveWhitespace);l&&(i=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(t);else if(o)this.addElement(t,r,o);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l,r),this.findAround(t,l,!1)}i&&this.sync(a)&&this.open--}addAll(t,n,r,o){let i=r||0;for(let s=r?t.childNodes[r]:t.firstChild,a=o==null?null:t.childNodes[o];s!=a;s=s.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(s,n);this.findAtPoint(t,i)}findPlace(t,n,r){let o,i;for(let s=this.open,a=0;s>=0;s--){let l=this.nodes[s],c=l.findWrapping(t);if(c&&(!o||o.length>c.length+a)&&(o=c,i=l,!c.length))break;if(l.solid){if(r)break;a+=2}}if(!o)return null;this.sync(i);for(let s=0;s<o.length;s++)n=this.enterInner(o[s],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let o=this.findPlace(t,n,r);if(o){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(t.type));let s=vt.none;for(let a of o.concat(t.marks))(i.type?i.type.allowsMarkType(a.type):iI(a.type,t.type))&&(s=a.addToSet(s));return i.content.push(t.mark(s)),!0}return!1}enter(t,n,r,o){let i=this.findPlace(t.create(n),r,!1);return i&&(i=this.enterInner(t,n,r,!0,o)),i}enterInner(t,n,r,o=!1,i){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(t);let a=nI(t,i,s.options);s.options&zd&&s.content.length==0&&(a|=zd);let l=vt.none;return r=r.filter(c=>(s.type?s.type.allowsMarkType(c.type):iI(c.type,t))?(l=c.addToSet(l),!1):!0),this.nodes.push(new lh(t,n,l,o,null,a)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Ep)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let o=r.length-1;o>=0;o--)t+=r[o].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&t.nodeType==1&&t.contains(this.find[o].node)&&n.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),s=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=i;l--)if(s(a-1,l))return!0;return!1}else{let u=l>0||l==0&&o?this.nodes[l].type:r&&l>=i?r.node(l-i).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function Qbe(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&$5.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function eye(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function oI(e){let t={};for(let n in e)t[n]=e[n];return t}function iI(e,t){let n=t.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(e))continue;let i=[],s=a=>{i.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==t||i.indexOf(u)<0&&s(u))return!0}};if(s(o.contentMatch))return!0}}class Cl{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=oy(n).createDocumentFragment());let o=r,i=[];return t.forEach(s=>{if(i.length||s.marks.length){let a=0,l=0;for(;a<i.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(i[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<i.length;)o=i.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],u=this.serializeMark(c,s.isInline,n);u&&(i.push([c,o]),o.appendChild(u.dom),o=u.contentDOM||u.dom)}}o.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:o}=Gh(oy(n),this.nodes[t.type.name](t),null,t.attrs);if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,o)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let o=t.marks.length-1;o>=0;o--){let i=this.serializeMark(t.marks[o],t.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(t,n,r={}){let o=this.marks[t.type.name];return o&&Gh(oy(r),o(t,n),null,t.attrs)}static renderSpec(t,n,r=null,o){return Gh(t,n,r,o)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Cl(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=sI(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return sI(t.marks)}}function sI(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function oy(e){return e.document||window.document}const aI=new WeakMap;function tye(e){let t=aI.get(e);return t===void 0&&aI.set(e,t=nye(e)),t}function nye(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let o=0;o<r.length;o++)n(r[o]);else for(let o in r)n(r[o])}return n(e),t}function Gh(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let o=t[0],i;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=tye(r))&&i.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=o.indexOf(" ");s>0&&(n=o.slice(0,s),o=o.slice(s+1));let a,l=n?e.createElementNS(n,o):e.createElement(o),c=t[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let p in c)if(c[p]!=null){let h=p.indexOf(" ");h>0?l.setAttributeNS(p.slice(0,h),p.slice(h+1),c[p]):p=="style"&&l.style?l.style.cssText=c[p]:l.setAttribute(p,c[p])}}for(let p=u;p<t.length;p++){let h=t[p];if(h===0){if(p<t.length-1||p>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:f,contentDOM:g}=Gh(e,h,n,r);if(l.appendChild(f),g){if(a)throw new RangeError("Multiple content holes");a=g}}}return{dom:l,contentDOM:a}}const R5=65535,A5=Math.pow(2,16);function rye(e,t){return e+t*A5}function lI(e){return e&R5}function oye(e){return(e-(e&R5))/A5}const N5=1,M5=2,Wh=4,D5=8;class y1{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&D5)>0}get deletedBefore(){return(this.delInfo&(N5|Wh))>0}get deletedAfter(){return(this.delInfo&(M5|Wh))>0}get deletedAcross(){return(this.delInfo&Wh)>0}}class wr{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&wr.empty)return wr.empty}recover(t){let n=0,r=lI(t);if(!this.inverted)for(let o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+oye(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let o=0,i=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?o:0);if(l>t)break;let c=this.ranges[a+i],u=this.ranges[a+s],p=l+c;if(t<=p){let h=c?t==l?-1:t==p?1:n:n,f=l+o+(h<0?0:u);if(r)return f;let g=t==(n<0?l:p)?null:rye(a/3,t-l),m=t==l?M5:t==p?N5:Wh;return(n<0?t!=l:t!=p)&&(m|=D5),new y1(f,m,g)}o+=u-c}return r?t+o:new y1(t+o,0,null)}touches(t,n){let r=0,o=lI(n),i=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[a+i],u=l+c;if(t<=u&&a==o*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,i=0;o<this.ranges.length;o+=3){let s=this.ranges[o],a=s-(this.inverted?i:0),l=s+(this.inverted?0:i),c=this.ranges[o+n],u=this.ranges[o+r];t(a,a+c,l,l+u),i+=u-c}}invert(){return new wr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?wr.empty:new wr(t<0?[0,-t,0]:[0,0,t])}}wr.empty=new wr([]);class cm{constructor(t,n,r=0,o=t?t.length:0){this.mirror=n,this.from=r,this.to=o,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new cm(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let o=t.getMirror(n);this.appendMap(t._maps[n],o!=null&&o<n?r+o:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let o=t.getMirror(n);this.appendMap(t._maps[n].invert(),o!=null&&o>n?r-o-1:void 0)}}invert(){let t=new cm;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let o=0;for(let i=this.from;i<this.to;i++){let s=this._maps[i],a=s.mapResult(t,n);if(a.recover!=null){let l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,t=this._maps[l].recover(a.recover);continue}}o|=a.delInfo,t=a.pos}return r?t:new y1(t,o,null)}}const iy=Object.create(null);class Fn{getMap(){return wr.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=iy[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in iy)throw new RangeError("Duplicate use of step JSON ID "+t);return iy[t]=n,n.prototype.jsonID=t,n}}class Jt{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new Jt(t,null)}static fail(t){return new Jt(null,t)}static fromReplace(t,n,r,o){try{return Jt.ok(t.replace(n,r,o))}catch(i){if(i instanceof im)return Jt.fail(i.message);throw i}}}function t_(e,t,n){let r=[];for(let o=0;o<e.childCount;o++){let i=e.child(o);i.content.size&&(i=i.copy(t_(i.content,t,i))),i.isInline&&(i=t(i,n,o)),r.push(i)}return ie.fromArray(r)}class Ts extends Fn{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new we(t_(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),o),n.openStart,n.openEnd);return Jt.fromReplace(t,this.from,this.to,i)}invert(){return new ro(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ts(n.pos,r.pos,this.mark)}merge(t){return t instanceof Ts&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ts(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ts(n.from,n.to,t.markFromJSON(n.mark))}}Fn.jsonID("addMark",Ts);class ro extends Fn{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new we(t_(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),t),n.openStart,n.openEnd);return Jt.fromReplace(t,this.from,this.to,r)}invert(){return new Ts(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ro(n.pos,r.pos,this.mark)}merge(t){return t instanceof ro&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new ro(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ro(n.from,n.to,t.markFromJSON(n.mark))}}Fn.jsonID("removeMark",ro);class Ss extends Fn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Jt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Jt.fromReplace(t,this.pos,this.pos+1,new we(ie.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(r))return new Ss(this.pos,n.marks[o]);return new Ss(this.pos,this.mark)}}return new ll(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Ss(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ss(n.pos,t.markFromJSON(n.mark))}}Fn.jsonID("addNodeMark",Ss);class ll extends Fn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Jt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Jt.fromReplace(t,this.pos,this.pos+1,new we(ie.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ss(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new ll(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ll(n.pos,t.markFromJSON(n.mark))}}Fn.jsonID("removeNodeMark",ll);class un extends Fn{constructor(t,n,r,o=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=o}apply(t){return this.structure&&x1(t,this.from,this.to)?Jt.fail("Structure replace would overwrite content"):Jt.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new wr([this.from,this.to-this.from,this.slice.size])}invert(t){return new un(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new un(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof un)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?we.empty:new we(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new un(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?we.empty:new we(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new un(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new un(n.from,n.to,we.fromJSON(t,n.slice),!!n.structure)}}Fn.jsonID("replace",un);class fn extends Fn{constructor(t,n,r,o,i,s,a=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=a}apply(t){if(this.structure&&(x1(t,this.from,this.gapFrom)||x1(t,this.gapTo,this.to)))return Jt.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Jt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Jt.fromReplace(t,this.from,this.to,r):Jt.fail("Content does not fit in gap")}getMap(){return new wr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new fn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||o<n.pos||i>r.pos?null:new fn(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new fn(n.from,n.to,n.gapFrom,n.gapTo,we.fromJSON(t,n.slice),n.insert,!!n.structure)}}Fn.jsonID("replaceAround",fn);function x1(e,t,n){let r=e.resolve(t),o=n-t,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let s=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}}return!1}function iye(e,t,n,r){let o=[],i=[],s,a;e.doc.nodesBetween(t,n,(l,c,u)=>{if(!l.isInline)return;let p=l.marks;if(!r.isInSet(p)&&u.type.allowsMarkType(r.type)){let h=Math.max(c,t),f=Math.min(c+l.nodeSize,n),g=r.addToSet(p);for(let m=0;m<p.length;m++)p[m].isInSet(g)||(s&&s.to==h&&s.mark.eq(p[m])?s.to=f:o.push(s=new ro(h,f,p[m])));a&&a.to==h?a.to=f:i.push(a=new Ts(h,f,r))}}),o.forEach(l=>e.step(l)),i.forEach(l=>e.step(l))}function sye(e,t,n,r){let o=[],i=0;e.doc.nodesBetween(t,n,(s,a)=>{if(!s.isInline)return;i++;let l=null;if(r instanceof Lv){let c=s.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,n);for(let u=0;u<l.length;u++){let p=l[u],h;for(let f=0;f<o.length;f++){let g=o[f];g.step==i-1&&p.eq(o[f].style)&&(h=g)}h?(h.to=c,h.step=i):o.push({style:p,from:Math.max(a,t),to:c,step:i})}}}),o.forEach(s=>e.step(new ro(s.from,s.to,s.style)))}function n_(e,t,n,r=n.contentMatch,o=!0){let i=e.doc.nodeAt(t),s=[],a=t+1;for(let l=0;l<i.childCount;l++){let c=i.child(l),u=a+c.nodeSize,p=r.matchType(c.type);if(!p)s.push(new un(a,u,we.empty));else{r=p;for(let h=0;h<c.marks.length;h++)n.allowsMarkType(c.marks[h].type)||e.step(new ro(a,u,c.marks[h]));if(o&&c.isText&&n.whitespace!="pre"){let h,f=/\r?\n|\r/g,g;for(;h=f.exec(c.text);)g||(g=new we(ie.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),s.push(new un(a+h.index,a+h.index+h[0].length,g))}}a=u}if(!r.validEnd){let l=r.fillBefore(ie.empty,!0);e.replace(a,a,new we(l,0,0))}for(let l=s.length-1;l>=0;l--)e.step(s[l])}function aye(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function _u(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let o=e.$from.node(r),i=e.$from.index(r),s=e.$to.indexAfter(r);if(r<e.depth&&o.canReplace(i,s,n))return r;if(r==0||o.type.spec.isolating||!aye(o,i,s))break}return null}function lye(e,t,n){let{$from:r,$to:o,depth:i}=t,s=r.before(i+1),a=o.after(i+1),l=s,c=a,u=ie.empty,p=0;for(let g=i,m=!1;g>n;g--)m||r.index(g)>0?(m=!0,u=ie.from(r.node(g).copy(u)),p++):l--;let h=ie.empty,f=0;for(let g=i,m=!1;g>n;g--)m||o.after(g+1)<o.end(g)?(m=!0,h=ie.from(o.node(g).copy(h)),f++):c++;e.step(new fn(l,c,s,a,new we(u.append(h),p,f),u.size-p,!0))}function r_(e,t,n=null,r=e){let o=cye(e,t),i=o&&uye(r,t);return i?o.map(cI).concat({type:t,attrs:n}).concat(i.map(cI)):null}function cI(e){return{type:e,attrs:null}}function cye(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;let s=i.length?i[0]:t;return n.canReplaceWith(r,o,s)?i:null}function uye(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.child(r),s=t.contentMatch.findWrapping(i.type);if(!s)return null;let l=(s.length?s[s.length-1]:t).contentMatch;for(let c=r;l&&c<o;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:s}function dye(e,t,n){let r=ie.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ie.from(n[s].type.create(n[s].attrs,r))}let o=t.start,i=t.end;e.step(new fn(o,i,o,i,new we(r,0,0),n.length,!0))}function pye(e,t,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,(s,a)=>{let l=typeof o=="function"?o(s):o;if(s.isTextblock&&!s.hasMarkup(r,l)&&fye(e.doc,e.mapping.slice(i).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let f=r.whitespace=="pre",g=!!r.contentMatch.matchType(r.schema.linebreakReplacement);f&&!g?c=!1:!f&&g&&(c=!0)}c===!1&&V5(e,s,a,i),n_(e,e.mapping.slice(i).map(a,1),r,void 0,c===null);let u=e.mapping.slice(i),p=u.map(a,1),h=u.map(a+s.nodeSize,1);return e.step(new fn(p,h,p+1,h-1,new we(ie.from(r.create(l,null,s.marks)),0,0),1,!0)),c===!0&&L5(e,s,a,i),!1}})}function L5(e,t,n,r){t.forEach((o,i)=>{if(o.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(o.text);){let l=e.mapping.slice(r).map(n+1+i+s.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function V5(e,t,n,r){t.forEach((o,i)=>{if(o.type==o.type.schema.linebreakReplacement){let s=e.mapping.slice(r).map(n+1+i);e.replaceWith(s,s+1,t.type.schema.text(`
`))}})}function fye(e,t,n){let r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function hye(e,t,n,r,o){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let s=n.create(r,null,o||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,s);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new fn(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new we(ie.from(s),0,0),1,!0))}function Ai(e,t,n=1,r){let o=e.resolve(t),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let c=o.depth-1,u=n-2;c>i;c--,u--){let p=o.node(c),h=o.index(c);if(p.type.spec.isolating)return!1;let f=p.content.cutByIndex(h,p.childCount),g=r&&r[u+1];g&&(f=f.replaceChild(0,g.type.create(g.attrs)));let m=r&&r[u]||p;if(!p.canReplace(h+1,p.childCount)||!m.type.validContent(f))return!1}let a=o.indexAfter(i),l=r&&r[0];return o.node(i).canReplaceWith(a,a,l?l.type:o.node(i+1).type)}function gye(e,t,n=1,r){let o=e.doc.resolve(t),i=ie.empty,s=ie.empty;for(let a=o.depth,l=o.depth-n,c=n-1;a>l;a--,c--){i=ie.from(o.node(a).copy(i));let u=r&&r[c];s=ie.from(u?u.type.create(u.attrs,s):o.node(a).copy(s))}e.step(new un(t,t,new we(i.append(s),n,n),!0))}function ga(e,t){let n=e.resolve(t),r=n.index();return F5(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function mye(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let o=0;o<t.childCount;o++){let i=t.child(o),s=i.type==r?e.type.schema.nodes.text:i.type;if(n=n.matchType(s),!n||!e.type.allowsMarks(i.marks))return!1}return n.validEnd}function F5(e,t){return!!(e&&t&&!e.isLeaf&&mye(e,t))}function Vv(e,t,n=-1){let r=e.resolve(t);for(let o=r.depth;;o--){let i,s,a=r.index(o);if(o==r.depth?(i=r.nodeBefore,s=r.nodeAfter):n>0?(i=r.node(o+1),a++,s=r.node(o).maybeChild(a)):(i=r.node(o).maybeChild(a-1),s=r.node(o+1)),i&&!i.isTextblock&&F5(i,s)&&r.node(o).canReplace(a,a+1))return t;if(o==0)break;t=n<0?r.before(o):r.after(o)}}function vye(e,t,n){let r=null,{linebreakReplacement:o}=e.doc.type.schema,i=e.doc.resolve(t-n),s=i.node().type;if(o&&s.inlineContent){let u=s.whitespace=="pre",p=!!s.contentMatch.matchType(o);u&&!p?r=!1:!u&&p&&(r=!0)}let a=e.steps.length;if(r===!1){let u=e.doc.resolve(t+n);V5(e,u.node(),u.before(),a)}s.inlineContent&&n_(e,t+n-1,s,i.node().contentMatchAt(i.index()),r==null);let l=e.mapping.slice(a),c=l.map(t-n);if(e.step(new un(c,l.map(t+n,-1),we.empty,!0)),r===!0){let u=e.doc.resolve(c);L5(e,u.node(),u.before(),e.steps.length)}return e}function bye(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let i=r.indexAfter(o);if(r.node(o).canReplaceWith(i,i,n))return r.after(o+1);if(i<r.node(o).childCount)return null}return null}function yye(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let o=n.content;for(let i=0;i<n.openStart;i++)o=o.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),c=r.node(s),u=!1;if(i==1)u=c.canReplace(l,l,o);else{let p=c.contentMatchAt(l).findWrapping(o.firstChild.type);u=p&&c.canReplaceWith(l,l,p[0])}if(u)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function Fv(e,t,n=t,r=we.empty){if(t==n&&!r.size)return null;let o=e.resolve(t),i=e.resolve(n);return B5(o,i,r)?new un(t,n,r):new xye(o,i,r).fit()}function B5(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class xye{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ie.empty;for(let o=0;o<=t.depth;o++){let i=t.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(t.indexAfter(o))})}for(let o=t.depth;o>0;o--)this.placed=ie.from(t.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(t<0?this.$to:r.doc.resolve(t));if(!o)return null;let i=this.placed,s=r.depth,a=o.depth;for(;s&&a&&i.childCount==1;)i=i.firstChild.content,s--,a--;let l=new we(i,s,a);return t>-1?new fn(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new un(r.pos,o.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<t;r++){let i=n.firstChild;if(n.childCount>1&&(o=0),i.type.spec.isolating&&o<=r){t=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let o,i=null;r?(i=sy(this.unplaced.content,r-1).firstChild,o=i.content):o=this.unplaced.content;let s=o.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,p=null;if(n==1&&(s?c.matchType(s.type)||(p=c.fillBefore(ie.from(s),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:a,parent:i,inject:p};if(n==2&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:i,wrap:u};if(i&&c.matchType(i.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,o=sy(t,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new we(t,n+1,Math.max(r,o.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,o=sy(t,n);if(o.childCount<=1&&n>0){let i=t.size-n<=n+o.size;this.unplaced=new we(md(t,n-1,1),n-1,i?n-1:r)}else this.unplaced=new we(md(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:o,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let m=0;m<i.length;m++)this.openFrontierNode(i[m]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-t,c=0,u=[],{match:p,type:h}=this.frontier[n];if(o){for(let m=0;m<o.childCount;m++)u.push(o.child(m));p=p.matchFragment(o)}let f=a.size+t-(s.content.size-s.openEnd);for(;c<a.childCount;){let m=a.child(c),b=p.matchType(m.type);if(!b)break;c++,(c>1||l==0||m.content.size)&&(p=b,u.push(H5(m.mark(h.allowedMarks(m.marks)),c==1?l:0,c==a.childCount?f:-1)))}let g=c==a.childCount;g||(f=-1),this.placed=vd(this.placed,n,ie.from(u)),this.frontier[n].match=p,g&&f<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,b=a;m<f;m++){let w=b.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),b=w.content}this.unplaced=g?t==0?we.empty:new we(md(s.content,t-1,1),t-1,f<0?s.openEnd:t-1):new we(md(s.content,t,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!ay(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:o}=this.frontier[n],i=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),s=ay(t,n,o,r,i);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=ay(t,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:s,move:i?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=vd(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let o=t.node(r),i=o.type.contentMatch.fillBefore(o.content,!0,t.index(r));this.openFrontierNode(o.type,o.attrs,i)}return t}openFrontierNode(t,n=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(t),this.placed=vd(this.placed,this.depth,ie.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ie.empty,!0);n.childCount&&(this.placed=vd(this.placed,this.frontier.length,n))}}function md(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(md(e.firstChild.content,t-1,n)))}function vd(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(vd(e.lastChild.content,t-1,n)))}function sy(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function H5(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,H5(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(ie.empty,!0)))),e.copy(r)}function ay(e,t,n,r,o){let i=e.node(t),s=o?e.indexAfter(t):e.index(t);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let a=r.fillBefore(i.content,!0,s);return a&&!wye(n,i.content,s)?a:null}function wye(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function _ye(e){return e.spec.defining||e.spec.definingForContent}function kye(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let o=e.doc.resolve(t),i=e.doc.resolve(n);if(B5(o,i,r))return e.step(new un(t,n,r));let s=U5(o,e.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(o.depth+1);s.unshift(a);for(let h=o.depth,f=o.pos-1;h>0;h--,f--){let g=o.node(h).type.spec;if(g.defining||g.definingAsContext||g.isolating)break;s.indexOf(h)>-1?a=h:o.before(h)==f&&s.splice(1,0,-h)}let l=s.indexOf(a),c=[],u=r.openStart;for(let h=r.content,f=0;;f++){let g=h.firstChild;if(c.push(g),f==r.openStart)break;h=g.content}for(let h=u-1;h>=0;h--){let f=c[h],g=_ye(f.type);if(g&&!f.sameMarkup(o.node(Math.abs(a)-1)))u=h;else if(g||!f.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let f=(h+u+1)%(r.openStart+1),g=c[f];if(g)for(let m=0;m<s.length;m++){let b=s[(m+l)%s.length],w=!0;b<0&&(w=!1,b=-b);let E=o.node(b-1),k=o.index(b-1);if(E.canReplaceWith(k,k,g.type,g.marks))return e.replace(o.before(b),w?i.after(b):n,new we(z5(r.content,0,r.openStart,f),f,r.openEnd))}}let p=e.steps.length;for(let h=s.length-1;h>=0&&(e.replace(t,n,r),!(e.steps.length>p));h--){let f=s[h];f<0||(t=o.before(f),n=i.after(f))}}function z5(e,t,n,r,o){if(t<n){let i=e.firstChild;e=e.replaceChild(0,i.copy(z5(i.content,t+1,n,r,i)))}if(t>r){let i=o.contentMatchAt(0),s=i.fillBefore(e).append(e);e=s.append(i.matchFragment(s).fillBefore(ie.empty,!0))}return e}function Cye(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let o=bye(e.doc,t,r.type);o!=null&&(t=n=o)}e.replaceRange(t,n,new we(ie.from(r),0,0))}function Eye(e,t,n){let r=e.doc.resolve(t),o=e.doc.resolve(n),i=U5(r,o);for(let s=0;s<i.length;s++){let a=i[s],l=s==i.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return e.delete(r.start(a),o.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),o.indexAfter(a-1))))return e.delete(r.before(a),o.after(a))}for(let s=1;s<=r.depth&&s<=o.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&o.end(s)-n!=o.depth-s&&r.start(s-1)==o.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),o.index(s-1)))return e.delete(r.before(s),n);e.delete(t,n)}function U5(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let o=r;o>=0;o--){let i=e.start(o);if(i<e.pos-(e.depth-o)||t.end(o)>t.pos+(t.depth-o)||e.node(o).type.spec.isolating||t.node(o).type.spec.isolating)break;(i==t.start(o)||o==e.depth&&o==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&o&&t.start(o-1)==i-1)&&n.push(o)}return n}class Pc extends Fn{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return Jt.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return Jt.fromReplace(t,this.pos,this.pos+1,new we(ie.from(o),0,n.isLeaf?0:1))}getMap(){return wr.empty}invert(t){return new Pc(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Pc(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Pc(n.pos,n.attr,n.value)}}Fn.jsonID("attr",Pc);class Op extends Fn{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let o in t.attrs)n[o]=t.attrs[o];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return Jt.ok(r)}getMap(){return wr.empty}invert(t){return new Op(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Op(n.attr,n.value)}}Fn.jsonID("docAttr",Op);let Yc=class extends Error{};Yc=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Yc.prototype=Object.create(Error.prototype);Yc.prototype.constructor=Yc;Yc.prototype.name="TransformError";class j5{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new cm}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Yc(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=we.empty){let o=Fv(this.doc,t,n,r);return o&&this.step(o),this}replaceWith(t,n,r){return this.replace(t,n,new we(ie.from(r),0,0))}delete(t,n){return this.replace(t,n,we.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return kye(this,t,n,r),this}replaceRangeWith(t,n,r){return Cye(this,t,n,r),this}deleteRange(t,n){return Eye(this,t,n),this}lift(t,n){return lye(this,t,n),this}join(t,n=1){return vye(this,t,n),this}wrap(t,n){return dye(this,t,n),this}setBlockType(t,n=t,r,o=null){return pye(this,t,n,r,o),this}setNodeMarkup(t,n,r=null,o){return hye(this,t,n,r,o),this}setNodeAttribute(t,n,r){return this.step(new Pc(t,n,r)),this}setDocAttribute(t,n){return this.step(new Op(t,n)),this}addNodeMark(t,n){return this.step(new Ss(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof vt)n.isInSet(r.marks)&&this.step(new ll(t,n));else{let o=r.marks,i,s=[];for(;i=n.isInSet(o);)s.push(new ll(t,i)),o=i.removeFromSet(o);for(let a=s.length-1;a>=0;a--)this.step(s[a])}return this}split(t,n=1,r){return gye(this,t,n,r),this}addMark(t,n,r){return iye(this,t,n,r),this}removeMark(t,n,r){return sye(this,t,n,r),this}clearIncompatible(t,n,r){return n_(this,t,n,r),this}}const ly=Object.create(null);class qe{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new Oye(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=we.empty){let r=n.content.lastChild,o=null;for(let a=0;a<n.openEnd;a++)o=r,r=r.lastChild;let i=t.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],u=t.mapping.slice(i);t.replaceRange(u.map(l.pos),u.map(c.pos),a?we.empty:n),a==0&&pI(t,i,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,o=this.ranges;for(let i=0;i<o.length;i++){let{$from:s,$to:a}=o[i],l=t.mapping.slice(r),c=l.map(s.pos),u=l.map(a.pos);i?t.deleteRange(c,u):(t.replaceRangeWith(c,u,n),pI(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let o=t.parent.inlineContent?new ze(t):oc(t.node(0),t.parent,t.pos,t.index(),n,r);if(o)return o;for(let i=t.depth-1;i>=0;i--){let s=n<0?oc(t.node(0),t.node(i),t.before(i+1),t.index(i),n,r):oc(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,n,r);if(s)return s}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Or(t.node(0))}static atStart(t){return oc(t,t,0,0,1)||new Or(t)}static atEnd(t){return oc(t,t,t.content.size,t.childCount,-1)||new Or(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=ly[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in ly)throw new RangeError("Duplicate use of selection JSON ID "+t);return ly[t]=n,n.prototype.jsonID=t,n}getBookmark(){return ze.between(this.$anchor,this.$head).getBookmark()}}qe.prototype.visible=!0;class Oye{constructor(t,n){this.$from=t,this.$to=n}}let uI=!1;function dI(e){!uI&&!e.parent.inlineContent&&(uI=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class ze extends qe{constructor(t,n=t){dI(t),dI(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return qe.near(r);let o=t.resolve(n.map(this.anchor));return new ze(o.parent.inlineContent?o:r,r)}replace(t,n=we.empty){if(super.replace(t,n),n==we.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof ze&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Bv(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ze(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let o=t.resolve(n);return new this(o,r==n?o:t.resolve(r))}static between(t,n,r){let o=t.pos-n.pos;if((!r||o)&&(r=o>=0?1:-1),!n.parent.inlineContent){let i=qe.findFrom(n,r,!0)||qe.findFrom(n,-r,!0);if(i)n=i.$head;else return qe.near(n,r)}return t.parent.inlineContent||(o==0?t=n:(t=(qe.findFrom(t,-r,!0)||qe.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=o<0&&(t=n))),new ze(t,n)}}qe.jsonID("text",ze);class Bv{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Bv(t.map(this.anchor),t.map(this.head))}resolve(t){return ze.between(t.resolve(this.anchor),t.resolve(this.head))}}class Pe extends qe{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:o}=n.mapResult(this.anchor),i=t.resolve(o);return r?qe.near(i):new Pe(i)}content(){return new we(ie.from(this.node),0,0)}eq(t){return t instanceof Pe&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new o_(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Pe(t.resolve(n.anchor))}static create(t,n){return new Pe(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Pe.prototype.visible=!1;qe.jsonID("node",Pe);class o_{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new Bv(r,r):new o_(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Pe.isSelectable(r)?new Pe(n):qe.near(n)}}class Or extends qe{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=we.empty){if(n==we.empty){t.delete(0,t.doc.content.size);let r=qe.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Or(t)}map(t){return new Or(t)}eq(t){return t instanceof Or}getBookmark(){return Iye}}qe.jsonID("all",Or);const Iye={map(){return this},resolve(e){return new Or(e)}};function oc(e,t,n,r,o,i=!1){if(t.inlineContent)return ze.create(e,n);for(let s=r-(o>0?0:1);o>0?s<t.childCount:s>=0;s+=o){let a=t.child(s);if(a.isAtom){if(!i&&Pe.isSelectable(a))return Pe.create(e,n-(o<0?a.nodeSize:0))}else{let l=oc(e,a,n+o,o<0?a.childCount:0,o,i);if(l)return l}n+=a.nodeSize*o}return null}function pI(e,t,n){let r=e.steps.length-1;if(r<t)return;let o=e.steps[r];if(!(o instanceof un||o instanceof fn))return;let i=e.mapping.maps[r],s;i.forEach((a,l,c,u)=>{s==null&&(s=u)}),e.setSelection(qe.near(e.doc.resolve(s),n))}const fI=1,ch=2,hI=4;class Tye extends j5{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|fI)&~ch,this.storedMarks=null,this}get selectionSet(){return(this.updated&fI)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=ch,this}ensureMarks(t){return vt.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&ch)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~ch,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||vt.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let o=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(o.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!t)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let s=this.doc.resolve(n);i=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,o.text(t,i)),this.selection.empty||this.setSelection(qe.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=hI,this}get scrolledIntoView(){return(this.updated&hI)>0}}function gI(e,t){return!t||!e?e:e.bind(t)}class bd{constructor(t,n,r){this.name=t,this.init=gI(n.init,r),this.apply=gI(n.apply,r)}}const Sye=[new bd("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new bd("selection",{init(e,t){return e.selection||qe.atStart(t.doc)},apply(e){return e.selection}}),new bd("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new bd("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class cy{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Sye.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new bd(r.key,r.spec.state,r))})}}class gc{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),o=null;for(;;){let i=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=o?o[s].n:0,c=o?o[s].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",t),!o){o=[];for(let p=0;p<this.config.plugins.length;p++)o.push(p<s?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),i=!0}o&&(o[s]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new gc(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let i=r[o];n[i.name]=i.apply(t,this[i.name],this,n)}return n}get tr(){return new Tye(this)}static create(t){let n=new cy(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new gc(n);for(let o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(t,r);return r}reconfigure(t){let n=new cy(this.schema,t.plugins),r=n.fields,o=new gc(n);for(let i=0;i<r.length;i++){let s=r[i].name;o[s]=this.hasOwnProperty(s)?this[s]:r[i].init(t,o)}return o}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=t[r],i=o.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(o,this[o.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let o=new cy(t.schema,t.plugins),i=new gc(o);return o.fields.forEach(s=>{if(s.name=="doc")i.doc=Bs.fromJSON(t.schema,n.doc);else if(s.name=="selection")i.selection=qe.fromJSON(i.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){i[s.name]=c.fromJSON.call(l,t,n[a],i);return}}i[s.name]=s.init(t,i)}}),i}}function G5(e,t,n){for(let r in e){let o=e[r];o instanceof Function?o=o.bind(t):r=="handleDOMEvents"&&(o=G5(o,t,{})),n[r]=o}return n}class pi{constructor(t){this.spec=t,this.props={},t.props&&G5(t.props,this,this.props),this.key=t.key?t.key.key:W5("plugin")}getState(t){return t[this.key]}}const uy=Object.create(null);function W5(e){return e in uy?e+"$"+ ++uy[e]:(uy[e]=0,e+"$")}class El{constructor(t="key"){this.key=W5(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const bn=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Xc=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let w1=null;const xi=function(e,t,n){let r=w1||(w1=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},Pye=function(){w1=null},cl=function(e,t,n,r){return n&&(mI(e,t,n,r,-1)||mI(e,t,n,r,1))},$ye=/^(img|br|input|textarea|hr)$/i;function mI(e,t,n,r,o){for(var i;;){if(e==n&&t==r)return!0;if(t==(o<0?0:zr(e))){let s=e.parentNode;if(!s||s.nodeType!=1||ff(e)||$ye.test(e.nodeName)||e.contentEditable=="false")return!1;t=bn(e)+(o<0?0:1),e=s}else if(e.nodeType==1){let s=e.childNodes[t+(o<0?-1:0)];if(s.nodeType==1&&s.contentEditable=="false")if(!((i=s.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)t+=o;else return!1;else e=s,t=o<0?zr(e):0}else return!1}}function zr(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Rye(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=zr(e)}else if(e.parentNode&&!ff(e))t=bn(e),e=e.parentNode;else return null}}function Aye(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!ff(e))t=bn(e)+1,e=e.parentNode;else return null}}function Nye(e,t,n){for(let r=t==0,o=t==zr(e);r||o;){if(e==n)return!0;let i=bn(e);if(e=e.parentNode,!e)return!1;r=r&&i==0,o=o&&i==zr(e)}}function ff(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Hv=function(e){return e.focusNode&&cl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Ma(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function Mye(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function Dye(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(zr(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(zr(r.startContainer),r.startOffset)}}}const ri=typeof navigator<"u"?navigator:null,vI=typeof document<"u"?document:null,ma=ri&&ri.userAgent||"",_1=/Edge\/(\d+)/.exec(ma),q5=/MSIE \d/.exec(ma),k1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ma),cr=!!(q5||k1||_1),Hs=q5?document.documentMode:k1?+k1[1]:_1?+_1[1]:0,Gr=!cr&&/gecko\/(\d+)/i.test(ma);Gr&&+(/Firefox\/(\d+)/.exec(ma)||[0,0])[1];const C1=!cr&&/Chrome\/(\d+)/.exec(ma),An=!!C1,K5=C1?+C1[1]:0,Zn=!cr&&!!ri&&/Apple Computer/.test(ri.vendor),Jc=Zn&&(/Mobile\/\w+/.test(ma)||!!ri&&ri.maxTouchPoints>2),Fr=Jc||(ri?/Mac/.test(ri.platform):!1),Lye=ri?/Win/.test(ri.platform):!1,Ti=/Android \d/.test(ma),hf=!!vI&&"webkitFontSmoothing"in vI.documentElement.style,Vye=hf?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Fye(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function hi(e,t){return typeof e=="number"?e:e[t]}function Bye(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function bI(e,t,n){let r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let s=n||e.dom;s;){if(s.nodeType!=1){s=Xc(s);continue}let a=s,l=a==i.body,c=l?Fye(i):Bye(a),u=0,p=0;if(t.top<c.top+hi(r,"top")?p=-(c.top-t.top+hi(o,"top")):t.bottom>c.bottom-hi(r,"bottom")&&(p=t.bottom-t.top>c.bottom-c.top?t.top+hi(o,"top")-c.top:t.bottom-c.bottom+hi(o,"bottom")),t.left<c.left+hi(r,"left")?u=-(c.left-t.left+hi(o,"left")):t.right>c.right-hi(r,"right")&&(u=t.right-c.right+hi(o,"right")),u||p)if(l)i.defaultView.scrollBy(u,p);else{let f=a.scrollLeft,g=a.scrollTop;p&&(a.scrollTop+=p),u&&(a.scrollLeft+=u);let m=a.scrollLeft-f,b=a.scrollTop-g;t={left:t.left-m,top:t.top-b,right:t.right-m,bottom:t.bottom-b}}let h=l?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(h))break;s=h=="absolute"?s.offsetParent:Xc(s)}}function Hye(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,o;for(let i=(t.left+t.right)/2,s=n+1;s<Math.min(innerHeight,t.bottom);s+=5){let a=e.root.elementFromPoint(i,s);if(!a||a==e.dom||!e.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,o=l.top;break}}return{refDOM:r,refTop:o,stack:Y5(e.dom)}}function Y5(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=Xc(r));return t}function zye({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;X5(n,r==0?0:r-t)}function X5(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:o,left:i}=e[n];r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Kl=null;function Uye(e){if(e.setActive)return e.setActive();if(Kl)return e.focus(Kl);let t=Y5(e);e.focus(Kl==null?{get preventScroll(){return Kl={preventScroll:!0},!0}}:void 0),Kl||(Kl=!1,X5(t,0))}function J5(e,t){let n,r=2e8,o,i=0,s=t.top,a=t.top,l,c;for(let u=e.firstChild,p=0;u;u=u.nextSibling,p++){let h;if(u.nodeType==1)h=u.getClientRects();else if(u.nodeType==3)h=xi(u).getClientRects();else continue;for(let f=0;f<h.length;f++){let g=h[f];if(g.top<=s&&g.bottom>=a){s=Math.max(g.bottom,s),a=Math.min(g.top,a);let m=g.left>t.left?g.left-t.left:g.right<t.left?t.left-g.right:0;if(m<r){n=u,r=m,o=m&&n.nodeType==3?{left:g.right<t.left?g.right:g.left,top:t.top}:t,u.nodeType==1&&m&&(i=p+(t.left>=(g.left+g.right)/2?1:0));continue}}else g.top>t.top&&!l&&g.left<=t.left&&g.right>=t.left&&(l=u,c={left:Math.max(g.left,Math.min(g.right,t.left)),top:g.top});!n&&(t.left>=g.right&&t.top>=g.top||t.left>=g.left&&t.top>=g.bottom)&&(i=p+1)}}return!n&&l&&(n=l,o=c,r=0),n&&n.nodeType==3?jye(n,o):!n||r&&n.nodeType==1?{node:e,offset:i}:J5(n,o)}function jye(e,t){let n=e.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);let i=gs(r,1);if(i.top!=i.bottom&&i_(t,i))return{node:e,offset:o+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}function i_(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function Gye(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function Wye(e,t,n){let{node:r,offset:o}=J5(t,n),i=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();i=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(r,o,i)}function qye(e,t,n,r){let o=-1;for(let i=t,s=!1;i!=e.dom;){let a=e.docView.nearestDesc(i,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!s&&l.left>r.left||l.top>r.top?o=a.posBefore:(!s&&l.right<r.left||l.bottom<r.top)&&(o=a.posAfter),s=!0),!a.contentDOM&&o<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;i=a.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,-1)}function Z5(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=o;;){let s=e.childNodes[i];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(i_(t,c))return Z5(s,t,c)}}if((i=(i+1)%r)==o)break}return e}function Kye(e,t){let n=e.dom.ownerDocument,r,o=0,i=Dye(n,t.left,t.top);i&&({node:r,offset:o}=i);let s=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),a;if(!s||!e.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=e.dom.getBoundingClientRect();if(!i_(t,c)||(s=Z5(e.dom,t,c),!s))return null}if(Zn)for(let c=s;r&&c;c=Xc(c))c.draggable&&(r=void 0);if(s=Gye(s,t),r){if(Gr&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let u=r.childNodes[o],p;u.nodeName=="IMG"&&(p=u.getBoundingClientRect()).right<=t.left&&p.bottom>t.top&&o++}let c;hf&&o&&r.nodeType==1&&(c=r.childNodes[o-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&o--,r==e.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(a=qye(e,r,o,t))}a==null&&(a=Wye(e,s,t));let l=e.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function yI(e){return e.top<e.bottom||e.left<e.right}function gs(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(yI(r))return r}return Array.prototype.find.call(n,yI)||e.getBoundingClientRect()}const Yye=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Q5(e,t,n){let{node:r,offset:o,atom:i}=e.docView.domFromPos(t,n<0?-1:1),s=hf||Gr;if(r.nodeType==3)if(s&&(Yye.test(r.nodeValue)||(n<0?!o:o==r.nodeValue.length))){let l=gs(xi(r,o,o),n);if(Gr&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let c=gs(xi(r,o-1,o-1),-1);if(c.top==l.top){let u=gs(xi(r,o,o+1),-1);if(u.top!=l.top)return Qu(u,u.left<c.left)}}return l}else{let l=o,c=o,u=n<0?1:-1;return n<0&&!o?(c++,u=-1):n>=0&&o==r.nodeValue.length?(l--,u=1):n<0?l--:c++,Qu(gs(xi(r,l,c),u),u<0)}if(!e.state.doc.resolve(t-(i||0)).parent.inlineContent){if(i==null&&o&&(n<0||o==zr(r))){let l=r.childNodes[o-1];if(l.nodeType==1)return dy(l.getBoundingClientRect(),!1)}if(i==null&&o<zr(r)){let l=r.childNodes[o];if(l.nodeType==1)return dy(l.getBoundingClientRect(),!0)}return dy(r.getBoundingClientRect(),n>=0)}if(i==null&&o&&(n<0||o==zr(r))){let l=r.childNodes[o-1],c=l.nodeType==3?xi(l,zr(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Qu(gs(c,1),!1)}if(i==null&&o<zr(r)){let l=r.childNodes[o];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?xi(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return Qu(gs(c,-1),!0)}return Qu(gs(r.nodeType==3?xi(r):r,-n),n>=0)}function Qu(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function dy(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function eM(e,t,n){let r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}function Xye(e,t,n){let r=t.selection,o=n=="up"?r.$from:r.$to;return eM(e,t,()=>{let{node:i}=e.docView.domFromPos(o.pos,n=="up"?-1:1);for(;;){let a=e.docView.nearestDesc(i,!0);if(!a)break;if(a.node.isBlock){i=a.contentDOM||a.dom;break}i=a.dom.parentNode}let s=Q5(e,o.pos,1);for(let a=i.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=xi(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?s.top-u.top>(u.bottom-s.top)*2:u.bottom-s.bottom>(s.bottom-u.top)*2))return!1}}return!0})}const Jye=/[\u0590-\u08ac]/;function Zye(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,i=!o,s=o==r.parent.content.size,a=e.domSelection();return a?!Jye.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?i:s:eM(e,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:p}=e.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",n,"character");let f=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:g,focusOffset:m}=e.domSelectionRange(),b=g&&!f.contains(g.nodeType==1?g:g.parentNode)||l==g&&c==m;try{a.collapse(u,p),l&&(l!=u||c!=p)&&a.extend&&a.extend(l,c)}catch{}return h!=null&&(a.caretBidiLevel=h),b}):r.pos==r.start()||r.pos==r.end()}let xI=null,wI=null,_I=!1;function Qye(e,t,n){return xI==t&&wI==n?_I:(xI=t,wI=n,_I=n=="up"||n=="down"?Xye(e,t,n):Zye(e,t,n))}const Wr=0,kI=1,Ha=2,oi=3;class gf{constructor(t,n,r,o){this.parent=t,this.children=n,this.dom=r,this.contentDOM=o,this.dirty=Wr,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let o=this.children[n];if(o==t)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let i,s;if(t==this.contentDOM)i=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.previousSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(s)+s.size:this.posAtStart}else{let i,s;if(t==this.contentDOM)i=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.nextSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}let o;if(t==this.dom&&this.contentDOM)o=n>bn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=t;;i=i.parentNode){if(i==this.dom){o=!1;break}if(i.previousSibling)break}if(o==null&&n==t.childNodes.length)for(let i=t;;i=i.parentNode){if(i==this.dom){o=!0;break}if(i.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,o=t;o;o=o.parentNode){let i=this.getDesc(o),s;if(i&&(!n||i.node))if(r&&(s=i.nodeDOM)&&!(s.nodeType==1?s.contains(t.nodeType==1?t:t.parentNode):s==t))r=!1;else return i}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let o=t;o;o=o.parentNode){let i=this.getDesc(o);if(i)return i.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let o=this.children[n],i=r+o.size;if(r==t&&i!=r){for(;!o.border&&o.children.length;)for(let s=0;s<o.children.length;s++){let a=o.children[s];if(a.size){o=a;break}}return o}if(t<i)return o.descAt(t-r-o.border);r=i}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,o=0;for(let i=0;r<this.children.length;r++){let s=this.children[r],a=i+s.size;if(a>t||s instanceof nM){o=t-i;break}i=a}if(o)return this.children[r].domFromPos(o-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof tM&&i.side>=0;r--);if(n<=0){let i,s=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,s=!1);return i&&n&&s&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?bn(i.dom)+1:0}}else{let i,s=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,s=!1);return i&&s&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?bn(i.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,i=-1;for(let s=r,a=0;;a++){let l=this.children[a],c=s+l.size;if(o==-1&&t<=c){let u=s+l.border;if(t>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,u);t=s;for(let p=a;p>0;p--){let h=this.children[p-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){o=bn(h.dom)+1;break}t-=h.size}o==-1&&(o=0)}if(o>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let p=this.children[u];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){i=bn(p.dom);break}n+=p.size}i==-1&&(i=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:t,to:n,fromOffset:o,toOffset:i}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,o=!1){let i=Math.min(t,n),s=Math.max(t,n);for(let f=0,g=0;f<this.children.length;f++){let m=this.children[f],b=g+m.size;if(i>g&&s<b)return m.setSelection(t-g-m.border,n-g-m.border,r,o);g=b}let a=this.domFromPos(t,t?-1:1),l=n==t?a:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),p=!1;if((Gr||Zn)&&t==n){let{node:f,offset:g}=a;if(f.nodeType==3){if(p=!!(g&&f.nodeValue[g-1]==`
`),p&&g==f.nodeValue.length)for(let m=f,b;m;m=m.parentNode){if(b=m.nextSibling){b.nodeName=="BR"&&(a=l={node:b.parentNode,offset:bn(b)+1});break}let w=m.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let m=f.childNodes[g-1];p=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(Gr&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(o=!0)}if(!(o||p&&Zn)&&cl(a.node,a.offset,u.anchorNode,u.anchorOffset)&&cl(l.node,l.offset,u.focusNode,u.focusOffset))return;let h=!1;if((c.extend||t==n)&&!(p&&Gr)){c.collapse(a.node,a.offset);try{t!=n&&c.extend(l.node,l.offset),h=!0}catch{}}if(!h){if(t>n){let g=a;a=l,l=g}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,o=0;o<this.children.length;o++){let i=this.children[o],s=r+i.size;if(r==s?t<=s&&n>=r:t<s&&n>r){let a=r+i.border,l=s-i.border;if(t>=a&&n<=l){this.dirty=t==r||n==s?Ha:kI,t==a&&n==l&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=oi:i.markDirty(t-a,n-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Ha:oi}r=s}this.dirty=Ha}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?Ha:kI;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class tM extends gf{constructor(t,n,r,o){let i,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!i)return o;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(t,[],s,null),this.widget=n,this.widget=n,i=this}matchesWidget(t){return this.dirty==Wr&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class e0e extends gf{constructor(t,n,r,o){super(t,[],n,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class ul extends gf{constructor(t,n,r,o,i){super(t,[],r,o),this.mark=n,this.spec=i}static create(t,n,r,o){let i=o.nodeViews[n.type.name],s=i&&i(n,o,r);return(!s||!s.dom)&&(s=Cl.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new ul(t,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&oi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=oi&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Wr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Wr}}slice(t,n,r){let o=ul.create(this.parent,this.mark,!0,r),i=this.children,s=this.size;n<s&&(i=O1(i,n,s,r)),t>0&&(i=O1(i,0,t,r));for(let a=0;a<i.length;a++)i[a].parent=o;return o.children=i,o}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class zs extends gf{constructor(t,n,r,o,i,s,a,l,c){super(t,[],i,s),this.node=n,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=a}static create(t,n,r,o,i,s){let a=i.nodeViews[n.type.name],l,c=a&&a(n,i,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,o),u=c&&c.dom,p=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:p}=Cl.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!p&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let h=u;return u=iM(u,r,n),c?l=new t0e(t,n,r,o,u,p||null,h,c,i,s+1):n.isText?new zv(t,n,r,o,u,h,i):new zs(t,n,r,o,u,p||null,h,i,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>ie.empty)}return t}matchesNode(t,n,r){return this.dirty==Wr&&t.eq(this.node)&&um(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,o=n,i=t.composing?this.localCompositionInfo(t,n):null,s=i&&i.pos>-1?i:null,a=i&&i.pos<0,l=new r0e(this,s&&s.node,t);s0e(this.node,this.innerDeco,(c,u,p)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,t):c.type.side>=0&&!p&&l.syncToMarks(u==this.node.childCount?vt.none:this.node.child(u).marks,r,t),l.placeWidget(c,t,o)},(c,u,p,h)=>{l.syncToMarks(c.marks,r,t);let f;l.findNodeMatch(c,u,p,h)||a&&t.state.selection.from>o&&t.state.selection.to<o+c.nodeSize&&(f=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(c,u,p,f,t)||l.updateNextNode(c,u,p,t,h,o)||l.addNode(c,u,p,t,o),o+=c.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Ha)&&(s&&this.protectLocalComposition(t,s),rM(this.contentDOM,this.children,t),Jc&&a0e(this.dom))}localCompositionInfo(t,n){let{from:r,to:o}=t.state.selection;if(!(t.state.selection instanceof ze)||r<n||o>n+this.node.content.size)return null;let i=t.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let s=i.nodeValue,a=l0e(this.node.content,s,r-n,o-n);return a<0?null:{node:i,pos:a,text:s}}else return{node:i,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:o}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let s=new e0e(this,i,n,o);t.input.compositionNodes.push(s),this.children=O1(this.children,r,r+o.length,t,s)}update(t,n,r,o){return this.dirty==oi||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,o),!0)}updateInner(t,n,r,o){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=Wr}updateOuterDeco(t){if(um(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=oM(this.dom,this.nodeDOM,E1(this.outerDeco,this.node,n),E1(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function CI(e,t,n,r,o){iM(r,t,e);let i=new zs(void 0,e,t,n,r,r,r,o,0);return i.contentDOM&&i.updateChildren(o,0),i}class zv extends zs{constructor(t,n,r,o,i,s,a){super(t,n,r,o,i,null,s,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,o){return this.dirty==oi||this.dirty!=Wr&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Wr||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=t,this.dirty=Wr,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let o=this.node.cut(t,n),i=document.createTextNode(o.text);return new zv(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=oi)}get domAtom(){return!1}isText(t){return this.node.text==t}}class nM extends gf{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Wr&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class t0e extends zs{constructor(t,n,r,o,i,s,a,l,c,u){super(t,n,r,o,i,s,a,c,u),this.spec=l}update(t,n,r,o){if(this.dirty==oi)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let i=this.spec.update(t,n,r);return i&&this.updateInner(t,n,r,o),i}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,o){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function rM(e,t,n){let r=e.firstChild,o=!1;for(let i=0;i<t.length;i++){let s=t[i],a=s.dom;if(a.parentNode==e){for(;a!=r;)r=EI(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(a,r);if(s instanceof ul){let l=r?r.previousSibling:e.lastChild;rM(s.contentDOM,s.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=EI(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}const Ud=function(e){e&&(this.nodeName=e)};Ud.prototype=Object.create(null);const za=[new Ud];function E1(e,t,n){if(e.length==0)return za;let r=n?za[0]:new Ud,o=[r];for(let i=0;i<e.length;i++){let s=e[i].type.attrs;if(s){s.nodeName&&o.push(r=new Ud(s.nodeName));for(let a in s){let l=s[a];l!=null&&(n&&o.length==1&&o.push(r=new Ud(t.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return o}function oM(e,t,n,r){if(n==za&&r==za)return t;let o=t;for(let i=0;i<r.length;i++){let s=r[i],a=n[i];if(i){let l;a&&a.nodeName==s.nodeName&&o!=e&&(l=o.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(o),a=za[0]),o=l}n0e(o,a||za[0],s)}return o}function n0e(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)o.indexOf(r[i])==-1&&e.classList.remove(r[i]);for(let i=0;i<o.length;i++)r.indexOf(o[i])==-1&&e.classList.add(o[i]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(t.style);)e.style.removeProperty(o[1])}n.style&&(e.style.cssText+=n.style)}}function iM(e,t,n){return oM(e,e,za,E1(t,n,e.nodeType!=1))}function um(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function EI(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class r0e{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=o0e(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let o=0,i=this.stack.length>>1,s=Math.min(i,t.length);for(;o<s&&(o==i-1?this.top:this.stack[o+1<<1]).matchesMark(t[o])&&t[o].type.spec.spanning!==!1;)o++;for(;o<i;)this.destroyRest(),this.top.dirty=Wr,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[i])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=ul.create(this.top,t[i],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}}findNodeMatch(t,n,r,o){let i=-1,s;if(o>=this.preMatch.index&&(s=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&s.matchesNode(t,n,r))i=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(t,n,r)&&!this.preMatch.matched.has(c)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(t,n,r,o,i){let s=this.top.children[o];return s.dirty==oi&&s.dom==s.contentDOM&&(s.dirty=Ha),s.update(t,n,r,i)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}t=n}}updateNextNode(t,n,r,o,i,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof zs){let c=this.preMatch.matched.get(l);if(c!=null&&c!=i)return!1;let u=l.dom,p,h=this.isLocked(u)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=oi&&um(n,l.outerDeco));if(!h&&l.update(t,n,r,o))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!h&&(p=this.recreateWrapper(l,t,n,r,o,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=Ha,p.updateChildren(o,s+1),p.dirty=Wr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,o,i,s){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!um(r,t.outerDeco)||!o.eq(t.innerDeco))return null;let a=zs.create(this.top,n,r,o,i,s);if(a.contentDOM){a.children=t.children,t.children=[];for(let l of a.children)l.parent=a}return t.destroy(),a}addNode(t,n,r,o,i){let s=zs.create(this.top,t,n,r,o,i);s.contentDOM&&s.updateChildren(o,i+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(t,n,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(t)&&(t==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let i=new tM(this.top,t,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof ul;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof zv)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Zn||An)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new nM(this.top,[],r,null);n!=this.top?n.children.push(o):n.children.splice(this.index++,0,o),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function o0e(e,t){let n=t,r=n.children.length,o=e.childCount,i=new Map,s=[];e:for(;o>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof ul)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(o-1))break;--o,i.set(a,o),s.push(a)}}return{index:o,matched:i,matches:s.reverse()}}function i0e(e,t){return e.type.side-t.type.side}function s0e(e,t,n,r){let o=t.locals(e),i=0;if(o.length==0){for(let c=0;c<e.childCount;c++){let u=e.child(c);r(u,o,t.forChild(i,u),c),i+=u.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let u,p;for(;s<o.length&&o[s].to==i;){let b=o[s++];b.widget&&(u?(p||(p=[u])).push(b):u=b)}if(u)if(p){p.sort(i0e);for(let b=0;b<p.length;b++)n(p[b],c,!!l)}else n(u,c,!!l);let h,f;if(l)f=-1,h=l,l=null;else if(c<e.childCount)f=c,h=e.child(c++);else break;for(let b=0;b<a.length;b++)a[b].to<=i&&a.splice(b--,1);for(;s<o.length&&o[s].from<=i&&o[s].to>i;)a.push(o[s++]);let g=i+h.nodeSize;if(h.isText){let b=g;s<o.length&&o[s].from<b&&(b=o[s].from);for(let w=0;w<a.length;w++)a[w].to<b&&(b=a[w].to);b<g&&(l=h.cut(b-i),h=h.cut(0,b-i),g=b,f=-1)}else for(;s<o.length&&o[s].to<g;)s++;let m=h.isInline&&!h.isLeaf?a.filter(b=>!b.inline):a.slice();r(h,m,t.forChild(i,h),f),i=g}}function a0e(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function l0e(e,t,n,r){for(let o=0,i=0;o<e.childCount&&i<=r;){let s=e.child(o++),a=i;if(i+=s.nodeSize,!s.isText)continue;let l=s.text;for(;o<e.childCount;){let c=e.child(o++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=n){if(i>=r&&l.slice(r-t.length-a,r-a)==t)return r-t.length;let c=a<r?l.lastIndexOf(t,r-a-1):-1;if(c>=0&&c+t.length+a>=n)return a+c;if(n==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}function O1(e,t,n,r,o){let i=[];for(let s=0,a=0;s<e.length;s++){let l=e[s],c=a,u=a+=l.size;c>=n||u<=t?i.push(l):(c<t&&i.push(l.slice(0,t-c,r)),o&&(i.push(o),o=void 0),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function s_(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),i=o&&o.size==0,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,c;if(Hv(n)){for(l=s;o&&!o.node;)o=o.parent;let p=o.node;if(o&&p.isAtom&&Pe.isSelectable(p)&&o.parent&&!(p.isInline&&Nye(n.focusNode,n.focusOffset,o.dom))){let h=o.posBefore;c=new Pe(s==h?a:r.resolve(h))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let p=s,h=s;for(let f=0;f<n.rangeCount;f++){let g=n.getRangeAt(f);p=Math.min(p,e.docView.posFromDOM(g.startContainer,g.startOffset,1)),h=Math.max(h,e.docView.posFromDOM(g.endContainer,g.endOffset,-1))}if(p<0)return null;[l,s]=h==e.state.selection.anchor?[h,p]:[p,h],a=r.resolve(s)}else l=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let p=t=="pointer"||e.state.selection.head<a.pos&&!i?1:-1;c=a_(e,u,a,p)}return c}function sM(e){return e.editable?e.hasFocus():lM(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Ni(e,t=!1){let n=e.state.selection;if(aM(e,n),!!sM(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&An){let r=e.domSelectionRange(),o=e.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&cl(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)u0e(e);else{let{anchor:r,head:o}=n,i,s;OI&&!(n instanceof ze)&&(n.$from.parent.inlineContent||(i=II(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=II(e,n.to))),e.docView.setSelection(r,o,e,t),OI&&(i&&TI(i),s&&TI(s)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&c0e(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const OI=Zn||An&&K5<63;function II(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),o=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(Zn&&o&&o.contentEditable=="false")return py(o);if((!o||o.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(o)return py(o);if(i)return py(i)}}function py(e){return e.contentEditable="true",Zn&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function TI(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function c0e(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=o)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!sM(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function u0e(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.collapse(n.parentNode,bn(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&cr&&Hs<=11&&(n.disabled=!0,n.disabled=!1)}function aM(e,t){if(t instanceof Pe){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(SI(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else SI(e)}function SI(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function a_(e,t,n,r){return e.someProp("createSelectionBetween",o=>o(e,t,n))||ze.between(t,n,r)}function PI(e){return e.editable&&!e.hasFocus()?!1:lM(e)}function lM(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function d0e(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return cl(t.node,t.offset,n.anchorNode,n.anchorOffset)}function I1(e,t){let{$anchor:n,$head:r}=e.selection,o=t>0?n.max(r):n.min(r),i=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return i&&qe.findFrom(i,t)}function Cs(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function $I(e,t,n){let r=e.state.selection;if(r instanceof ze)if(n.indexOf("s")>-1){let{$head:o}=r,i=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let s=e.state.doc.resolve(o.pos+i.nodeSize*(t<0?-1:1));return Cs(e,new ze(r.$anchor,s))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let o=I1(e.state,t);return o&&o instanceof Pe?Cs(e,o):!1}else if(!(Fr&&n.indexOf("m")>-1)){let o=r.$head,i=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter,s;if(!i||i.isText)return!1;let a=t<0?o.pos-i.nodeSize:o.pos;return i.isAtom||(s=e.docView.descAt(a))&&!s.contentDOM?Pe.isSelectable(i)?Cs(e,new Pe(t<0?e.state.doc.resolve(o.pos-i.nodeSize):o)):hf?Cs(e,new ze(e.state.doc.resolve(t<0?a:a+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Pe&&r.node.isInline)return Cs(e,new ze(t>0?r.$to:r.$from));{let o=I1(e.state,t);return o?Cs(e,o):!1}}}function dm(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function jd(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Yl(e,t){return t<0?p0e(e):f0e(e)}function p0e(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,s=!1;for(Gr&&n.nodeType==1&&r<dm(n)&&jd(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(jd(a,-1))o=n,i=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(cM(n))break;{let a=n.previousSibling;for(;a&&jd(a,-1);)o=n.parentNode,i=bn(a),a=a.previousSibling;if(a)n=a,r=dm(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?T1(e,n,r):o&&T1(e,o,i)}function f0e(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o=dm(n),i,s;for(;;)if(r<o){if(n.nodeType!=1)break;let a=n.childNodes[r];if(jd(a,1))i=n,s=++r;else break}else{if(cM(n))break;{let a=n.nextSibling;for(;a&&jd(a,1);)i=a.parentNode,s=bn(a)+1,a=a.nextSibling;if(a)n=a,r=0,o=dm(n);else{if(n=n.parentNode,n==e.dom)break;r=o=0}}}i&&T1(e,i,s)}function cM(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function h0e(e,t){for(;e&&t==e.childNodes.length&&!ff(e);)t=bn(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function g0e(e,t){for(;e&&!t&&!ff(e);)t=bn(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function T1(e,t,n){if(t.nodeType!=3){let i,s;(s=h0e(t,n))?(t=s,n=0):(i=g0e(t,n))&&(t=i,n=i.nodeValue.length)}let r=e.domSelection();if(!r)return;if(Hv(r)){let i=document.createRange();i.setEnd(t,n),i.setStart(t,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:o}=e;setTimeout(()=>{e.state==o&&Ni(e)},50)}function RI(e,t){let n=e.state.doc.resolve(t);if(!(An||Lye)&&n.parent.inlineContent){let o=e.coordsAtPos(t);if(t>n.start()){let i=e.coordsAtPos(t-1),s=(i.top+i.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(i.left-o.left)>1)return i.left<o.left?"ltr":"rtl"}if(t<n.end()){let i=e.coordsAtPos(t+1),s=(i.top+i.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(i.left-o.left)>1)return i.left>o.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function AI(e,t,n){let r=e.state.selection;if(r instanceof ze&&!r.empty||n.indexOf("s")>-1||Fr&&n.indexOf("m")>-1)return!1;let{$from:o,$to:i}=r;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let s=I1(e.state,t);if(s&&s instanceof Pe)return Cs(e,s)}if(!o.parent.inlineContent){let s=t<0?o:i,a=r instanceof Or?qe.near(s,t):qe.findFrom(s,t);return a?Cs(e,a):!1}return!1}function NI(e,t){if(!(e.state.selection instanceof ze))return!0;let{$head:n,$anchor:r,empty:o}=e.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let s=e.state.tr;return t<0?s.delete(n.pos-i.nodeSize,n.pos):s.delete(n.pos,n.pos+i.nodeSize),e.dispatch(s),!0}return!1}function MI(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function m0e(e){if(!Zn||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;MI(e,r,"true"),setTimeout(()=>MI(e,r,"false"),20)}return!1}function v0e(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function b0e(e,t){let n=t.keyCode,r=v0e(t);if(n==8||Fr&&n==72&&r=="c")return NI(e,-1)||Yl(e,-1);if(n==46&&!t.shiftKey||Fr&&n==68&&r=="c")return NI(e,1)||Yl(e,1);if(n==13||n==27)return!0;if(n==37||Fr&&n==66&&r=="c"){let o=n==37?RI(e,e.state.selection.from)=="ltr"?-1:1:-1;return $I(e,o,r)||Yl(e,o)}else if(n==39||Fr&&n==70&&r=="c"){let o=n==39?RI(e,e.state.selection.from)=="ltr"?1:-1:1;return $I(e,o,r)||Yl(e,o)}else{if(n==38||Fr&&n==80&&r=="c")return AI(e,-1,r)||Yl(e,-1);if(n==40||Fr&&n==78&&r=="c")return m0e(e)||AI(e,1,r)||Yl(e,1);if(r==(Fr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function l_(e,t){e.someProp("transformCopied",f=>{t=f(t,e)});let n=[],{content:r,openStart:o,openEnd:i}=t;for(;o>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,i--;let f=r.firstChild;n.push(f.type.name,f.attrs!=f.type.defaultAttrs?f.attrs:null),r=f.content}let s=e.someProp("clipboardSerializer")||Cl.fromSchema(e.state.schema),a=gM(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c=l.firstChild,u,p=0;for(;c&&c.nodeType==1&&(u=hM[c.nodeName.toLowerCase()]);){for(let f=u.length-1;f>=0;f--){let g=a.createElement(u[f]);for(;l.firstChild;)g.appendChild(l.firstChild);l.appendChild(g),p++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${o} ${i}${p?` -${p}`:""} ${JSON.stringify(n)}`);let h=e.someProp("clipboardTextSerializer",f=>f(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:h,slice:t}}function uM(e,t,n,r,o){let i=o.parent.type.spec.code,s,a;if(!n&&!t)return null;let l=!!t&&(r||i||!n);if(l){if(e.someProp("transformPastedText",h=>{t=h(t,i||r,e)}),i)return a=new we(ie.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",h=>{a=h(a,e,!0)}),a;let p=e.someProp("clipboardTextParser",h=>h(t,o,r,e));if(p)a=p;else{let h=o.marks(),{schema:f}=e.state,g=Cl.fromSchema(f);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(m=>{let b=s.appendChild(document.createElement("p"));m&&b.appendChild(g.serializeNode(f.text(m,h)))})}}else e.someProp("transformPastedHTML",p=>{n=p(n,e)}),s=_0e(n),hf&&k0e(s);let c=s&&s.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let p=+u[3];p>0;p--){let h=s.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;s=h}if(a||(a=(e.someProp("clipboardParser")||e.someProp("domParser")||Hd.fromSchema(e.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||u),context:o,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!y0e.test(h.parentNode.nodeName)?{ignore:!0}:null}})),u)a=C0e(DI(a,+u[1],+u[2]),u[4]);else if(a=we.maxOpen(x0e(a.content,o),!0),a.openStart||a.openEnd){let p=0,h=0;for(let f=a.content.firstChild;p<a.openStart&&!f.type.spec.isolating;p++,f=f.firstChild);for(let f=a.content.lastChild;h<a.openEnd&&!f.type.spec.isolating;h++,f=f.lastChild);a=DI(a,p,h)}return e.someProp("transformPasted",p=>{a=p(a,e,l)}),a}const y0e=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function x0e(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let o=t.node(n).contentMatchAt(t.index(n)),i,s=[];if(e.forEach(a=>{if(!s)return;let l=o.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&i.length&&pM(l,i,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=fM(s[s.length-1],i.length));let u=dM(a,l);s.push(u),o=o.matchType(u.type),i=l}}),s)return ie.from(s)}return e}function dM(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,ie.from(e));return e}function pM(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){let i=pM(e,t,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(ie.from(dM(n,e,o+1))))}}function fM(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,fM(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(ie.empty,!0);return e.copy(n.append(r))}function S1(e,t,n,r,o,i){let s=t<0?e.firstChild:e.lastChild,a=s.content;return e.childCount>1&&(i=0),o<r-1&&(a=S1(a,t,n,r,o+1,i)),o>=n&&(a=t<0?s.contentMatchAt(0).fillBefore(a,i<=o).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(ie.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(a))}function DI(e,t,n){return t<e.openStart&&(e=new we(S1(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new we(S1(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const hM={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let LI=null;function gM(){return LI||(LI=document.implementation.createHTMLDocument("title"))}let fy=null;function w0e(e){let t=window.trustedTypes;return t?(fy||(fy=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),fy.createHTML(e)):e}function _0e(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=gM().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),o;if((o=r&&hM[r[1].toLowerCase()])&&(e=o.map(i=>"<"+i+">").join("")+e+o.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=w0e(e),o)for(let i=0;i<o.length;i++)n=n.querySelector(o[i])||n;return n}function k0e(e){let t=e.querySelectorAll(An?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function C0e(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:o,openStart:i,openEnd:s}=e;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;o=ie.from(l.create(r[a+1],o)),i++,s++}return new we(o,i,s)}const Qn={},er={},E0e={touchstart:!0,touchmove:!0};class O0e{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function I0e(e){for(let t in Qn){let n=Qn[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{S0e(e,r)&&!c_(e,r)&&(e.editable||!(r.type in er))&&n(e,r)},E0e[t]?{passive:!0}:void 0)}Zn&&e.dom.addEventListener("input",()=>null),P1(e)}function Ps(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function T0e(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function P1(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>c_(e,r))})}function c_(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function S0e(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function P0e(e,t){!c_(e,t)&&Qn[t.type]&&(e.editable||!(t.type in er))&&Qn[t.type](e,t)}er.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!vM(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Ti&&An&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),Jc&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",o=>o(e,Ma(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||b0e(e,n)?n.preventDefault():Ps(e,"key")};er.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};er.keypress=(e,t)=>{let n=t;if(vM(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Fr&&n.metaKey)return;if(e.someProp("handleKeyPress",o=>o(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof ze)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(n.charCode),i=()=>e.state.tr.insertText(o).scrollIntoView();!/[\r\n]/.test(o)&&!e.someProp("handleTextInput",s=>s(e,r.$from.pos,r.$to.pos,o,i))&&e.dispatch(i()),n.preventDefault()}};function Uv(e){return{left:e.clientX,top:e.clientY}}function $0e(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function u_(e,t,n,r,o){if(r==-1)return!1;let i=e.state.doc.resolve(r);for(let s=i.depth+1;s>0;s--)if(e.someProp(t,a=>s>i.depth?a(e,n,i.nodeAfter,i.before(s),o,!0):a(e,n,i.node(s),i.before(s),o,!1)))return!0;return!1}function $c(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function R0e(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&Pe.isSelectable(r)?($c(e,new Pe(n)),!0):!1}function A0e(e,t){if(t==-1)return!1;let n=e.state.selection,r,o;n instanceof Pe&&(r=n.node);let i=e.state.doc.resolve(t);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s);if(Pe.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?o=i.before(n.$from.depth):o=i.before(s);break}}return o!=null?($c(e,Pe.create(e.state.doc,o)),!0):!1}function N0e(e,t,n,r,o){return u_(e,"handleClickOn",t,n,r)||e.someProp("handleClick",i=>i(e,t,r))||(o?A0e(e,n):R0e(e,n))}function M0e(e,t,n,r){return u_(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",o=>o(e,t,r))}function D0e(e,t,n,r){return u_(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",o=>o(e,t,r))||L0e(e,n,r)}function L0e(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?($c(e,ze.create(r,0,r.content.size)),!0):!1;let o=r.resolve(t);for(let i=o.depth+1;i>0;i--){let s=i>o.depth?o.nodeAfter:o.node(i),a=o.before(i);if(s.inlineContent)$c(e,ze.create(r,a+1,a+1+s.content.size));else if(Pe.isSelectable(s))$c(e,Pe.create(r,a));else continue;return!0}}function d_(e){return pm(e)}const mM=Fr?"metaKey":"ctrlKey";Qn.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=d_(e),o=Date.now(),i="singleClick";o-e.input.lastClick.time<500&&$0e(n,e.input.lastClick)&&!n[mM]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?i="doubleClick":e.input.lastClick.type=="doubleClick"&&(i="tripleClick")),e.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i,button:n.button};let s=e.posAtCoords(Uv(n));s&&(i=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new V0e(e,s,n,!!r)):(i=="doubleClick"?M0e:D0e)(e,s.pos,s.inside,n)?n.preventDefault():Ps(e,"pointer"))};class V0e{constructor(t,n,r,o){this.view=t,this.pos=n,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[mM],this.allowDefault=r.shiftKey;let i,s;if(n.inside>-1)i=t.state.doc.nodeAt(n.inside),s=n.inside;else{let u=t.state.doc.resolve(n.pos);i=u.parent,s=u.depth?u.before():0}const a=o?null:r.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=t.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof Pe&&c.from<=s&&c.to>s)&&(this.mightDrag={node:i,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Gr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ps(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ni(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Uv(t))),this.updateAllowDefault(t),this.allowDefault||!n?Ps(this.view,"pointer"):N0e(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Zn&&this.mightDrag&&!this.mightDrag.node.isAtom||An&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?($c(this.view,qe.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Ps(this.view,"pointer")}move(t){this.updateAllowDefault(t),Ps(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Qn.touchstart=e=>{e.input.lastTouch=Date.now(),d_(e),Ps(e,"pointer")};Qn.touchmove=e=>{e.input.lastTouch=Date.now(),Ps(e,"pointer")};Qn.contextmenu=e=>d_(e);function vM(e,t){return e.composing?!0:Zn&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const F0e=Ti?5e3:-1;er.compositionstart=er.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof ze&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),pm(e,!0),e.markCursor=null;else if(pm(e,!t.selection.empty),Gr&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let o=r.focusNode,i=r.focusOffset;o&&o.nodeType==1&&i!=0;){let s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(s.nodeType==3){let a=e.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else o=s,i=-1}}e.input.composing=!0}bM(e,F0e)};er.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,bM(e,20))};function bM(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>pm(e),t))}function yM(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=H0e());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function B0e(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=Rye(t.focusNode,t.focusOffset),r=Aye(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let o=r.pmViewDesc,i=e.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!o||!o.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function H0e(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function pm(e,t=!1){if(!(Ti&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),yM(e),t||e.docView&&e.docView.dirty){let n=s_(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function z0e(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const Ip=cr&&Hs<15||Jc&&Vye<604;Qn.copy=er.cut=(e,t)=>{let n=t,r=e.state.selection,o=n.type=="cut";if(r.empty)return;let i=Ip?null:n.clipboardData,s=r.content(),{dom:a,text:l}=l_(e,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):z0e(e,a),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function U0e(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function j0e(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Tp(e,r.value,null,o,t):Tp(e,r.textContent,r.innerHTML,o,t)},50)}function Tp(e,t,n,r,o){let i=uM(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,o,i||we.empty)))return!0;if(!i)return!1;let s=U0e(i),a=s?e.state.tr.replaceSelectionWith(s,r):e.state.tr.replaceSelection(i);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function xM(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}er.paste=(e,t)=>{let n=t;if(e.composing&&!Ti)return;let r=Ip?null:n.clipboardData,o=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&Tp(e,xM(r),r.getData("text/html"),o,n)?n.preventDefault():j0e(e,n)};class wM{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const G0e=Fr?"altKey":"ctrlKey";function _M(e,t){let n=e.someProp("dragCopies",r=>!r(t));return n??!t[G0e]}Qn.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o=e.state.selection,i=o.empty?null:e.posAtCoords(Uv(n)),s;if(!(i&&i.pos>=o.from&&i.pos<=(o instanceof Pe?o.to-1:o.to))){if(r&&r.mightDrag)s=Pe.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let p=e.docView.nearestDesc(n.target,!0);p&&p.node.type.spec.draggable&&p!=e.docView&&(s=Pe.create(e.state.doc,p.posBefore))}}let a=(s||e.state.selection).content(),{dom:l,text:c,slice:u}=l_(e,a);(!n.dataTransfer.files.length||!An||K5>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Ip?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Ip||n.dataTransfer.setData("text/plain",c),e.dragging=new wM(u,_M(e,n),s)};Qn.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};er.dragover=er.dragenter=(e,t)=>t.preventDefault();er.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let o=e.posAtCoords(Uv(n));if(!o)return;let i=e.state.doc.resolve(o.pos),s=r&&r.slice;s?e.someProp("transformPasted",g=>{s=g(s,e,!1)}):s=uM(e,xM(n.dataTransfer),Ip?null:n.dataTransfer.getData("text/html"),!1,i);let a=!!(r&&_M(e,n));if(e.someProp("handleDrop",g=>g(e,n,s||we.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?yye(e.state.doc,i.pos,s):i.pos;l==null&&(l=i.pos);let c=e.state.tr;if(a){let{node:g}=r;g?g.replace(c):c.deleteSelection()}let u=c.mapping.map(l),p=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,h=c.doc;if(p?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(h))return;let f=c.doc.resolve(u);if(p&&Pe.isSelectable(s.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new Pe(f));else{let g=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((m,b,w,E)=>g=E),c.setSelection(a_(e,f,c.doc.resolve(g)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))};Qn.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Ni(e)},20))};Qn.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Qn.beforeinput=(e,t)=>{if(An&&Ti&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",i=>i(e,Ma(8,"Backspace")))))return;let{$cursor:o}=e.state.selection;o&&o.pos>0&&e.dispatch(e.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let e in er)Qn[e]=er[e];function Sp(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class fm{constructor(t,n){this.toDOM=t,this.spec=n||Ja,this.side=this.spec.side||0}map(t,n,r,o){let{pos:i,deleted:s}=t.mapResult(n.from+o,this.side<0?-1:1);return s?null:new oo(i-r,i-r,this)}valid(){return!0}eq(t){return this==t||t instanceof fm&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Sp(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Us{constructor(t,n){this.attrs=t,this.spec=n||Ja}map(t,n,r,o){let i=t.map(n.from+o,this.spec.inclusiveStart?-1:1)-r,s=t.map(n.to+o,this.spec.inclusiveEnd?1:-1)-r;return i>=s?null:new oo(i,s,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Us&&Sp(this.attrs,t.attrs)&&Sp(this.spec,t.spec)}static is(t){return t.type instanceof Us}destroy(){}}class p_{constructor(t,n){this.attrs=t,this.spec=n||Ja}map(t,n,r,o){let i=t.mapResult(n.from+o,1);if(i.deleted)return null;let s=t.mapResult(n.to+o,-1);return s.deleted||s.pos<=i.pos?null:new oo(i.pos-r,s.pos-r,this)}valid(t,n){let{index:r,offset:o}=t.content.findIndex(n.from),i;return o==n.from&&!(i=t.child(r)).isText&&o+i.nodeSize==n.to}eq(t){return this==t||t instanceof p_&&Sp(this.attrs,t.attrs)&&Sp(this.spec,t.spec)}destroy(){}}class oo{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new oo(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new oo(t,t,new fm(n,r))}static inline(t,n,r,o){return new oo(t,n,new Us(r,o))}static node(t,n,r,o){return new oo(t,n,new p_(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof Us}get widget(){return this.type instanceof fm}}const ic=[],Ja={};class cn{constructor(t,n){this.local=t.length?t:ic,this.children=n.length?n:ic}static create(t,n){return n.length?hm(n,t,0,Ja):Pn}find(t,n,r){let o=[];return this.findInner(t??0,n??1e9,o,0,r),o}findInner(t,n,r,o,i){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=t&&(!i||i(a.spec))&&r.push(a.copy(a.from+o,a.to+o))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>t){let a=this.children[s]+1;this.children[s+2].findInner(t-a,n-a,r,o+a,i)}}map(t,n,r){return this==Pn||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Ja)}mapInner(t,n,r,o,i){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,r,o);l&&l.type.valid(n,l)?(s||(s=[])).push(l):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?W0e(this.children,s||[],t,n,r,o,i):s?new cn(s.sort(Za),ic):Pn}add(t,n){return n.length?this==Pn?cn.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let o,i=0;t.forEach((a,l)=>{let c=l+r,u;if(u=CM(n,a,c)){for(o||(o=this.children.slice());i<o.length&&o[i]<l;)i+=3;o[i]==l?o[i+2]=o[i+2].addInner(a,u,c+1):o.splice(i,0,l,l+a.nodeSize,hm(u,a,c+1,Ja)),i+=3}});let s=kM(i?EM(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||s.splice(a--,1);return new cn(s.length?this.local.concat(s).sort(Za):this.local,o||this.children)}remove(t){return t.length==0||this==Pn?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,o=this.local;for(let i=0;i<r.length;i+=3){let s,a=r[i]+n,l=r[i+1]+n;for(let u=0,p;u<t.length;u++)(p=t[u])&&p.from>a&&p.to<l&&(t[u]=null,(s||(s=[])).push(p));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[i+2].removeInner(s,a+1);c!=Pn?r[i+2]=c:(r.splice(i,3),i-=3)}if(o.length){for(let i=0,s;i<t.length;i++)if(s=t[i])for(let a=0;a<o.length;a++)o[a].eq(s,n)&&(o==this.local&&(o=this.local.slice()),o.splice(a--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new cn(o,r):Pn}forChild(t,n){if(this==Pn)return this;if(n.isLeaf)return cn.empty;let r,o;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(r=this.children[a+2]);break}let i=t+1,s=i+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>i&&l.type instanceof Us){let c=Math.max(i,l.from)-i,u=Math.min(s,l.to)-i;c<u&&(o||(o=[])).push(l.copy(c,u))}}if(o){let a=new cn(o.sort(Za),ic);return r?new Os([a,r]):a}return r||Pn}eq(t){if(this==t)return!0;if(!(t instanceof cn)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return f_(this.localsInner(t))}localsInner(t){if(this==Pn)return ic;if(t.inlineContent||!this.local.some(Us.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Us||n.push(this.local[r]);return n}forEachSet(t){t(this)}}cn.empty=new cn([],[]);cn.removeOverlap=f_;const Pn=cn.empty;class Os{constructor(t){this.members=t}map(t,n){const r=this.members.map(o=>o.map(t,n,Ja));return Os.from(r)}forChild(t,n){if(n.isLeaf)return cn.empty;let r=[];for(let o=0;o<this.members.length;o++){let i=this.members[o].forChild(t,n);i!=Pn&&(i instanceof Os?r=r.concat(i.members):r.push(i))}return Os.from(r)}eq(t){if(!(t instanceof Os)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let o=0;o<this.members.length;o++){let i=this.members[o].localsInner(t);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let s=0;s<i.length;s++)n.push(i[s])}}return n?f_(r?n:n.sort(Za)):ic}static from(t){switch(t.length){case 0:return Pn;case 1:return t[0];default:return new Os(t.every(n=>n instanceof cn)?t:t.reduce((n,r)=>n.concat(r instanceof cn?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function W0e(e,t,n,r,o,i,s){let a=e.slice();for(let c=0,u=i;c<n.maps.length;c++){let p=0;n.maps[c].forEach((h,f,g,m)=>{let b=m-g-(f-h);for(let w=0;w<a.length;w+=3){let E=a[w+1];if(E<0||h>E+u-p)continue;let k=a[w]+u-p;f>=k?a[w+1]=h<=k?-2:-1:h>=u&&b&&(a[w]+=b,a[w+1]+=b)}p+=b}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(e[c]+i),p=u-o;if(p<0||p>=r.content.size){l=!0;continue}let h=n.map(e[c+1]+i,-1),f=h-o,{index:g,offset:m}=r.content.findIndex(p),b=r.maybeChild(g);if(b&&m==p&&m+b.nodeSize==f){let w=a[c+2].mapInner(n,b,u+1,e[c]+i+1,s);w!=Pn?(a[c]=p,a[c+1]=f,a[c+2]=w):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=q0e(a,e,t,n,o,i,s),u=hm(c,r,0,s);t=u.local;for(let p=0;p<a.length;p+=3)a[p+1]<0&&(a.splice(p,3),p-=3);for(let p=0,h=0;p<u.children.length;p+=3){let f=u.children[p];for(;h<a.length&&a[h]<f;)h+=3;a.splice(h,0,u.children[p],u.children[p+1],u.children[p+2])}}return new cn(t.sort(Za),a)}function kM(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let o=e[r];n.push(new oo(o.from+t,o.to+t,o.type))}return n}function q0e(e,t,n,r,o,i,s){function a(l,c){for(let u=0;u<l.local.length;u++){let p=l.local[u].map(r,o,c);p?n.push(p):s.onRemove&&s.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&a(e[l+2],t[l]+i+1);return n}function CM(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,o=null;for(let i=0,s;i<e.length;i++)(s=e[i])&&s.from>n&&s.to<r&&((o||(o=[])).push(s),e[i]=null);return o}function EM(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function hm(e,t,n,r){let o=[],i=!1;t.forEach((a,l)=>{let c=CM(e,a,l+n);if(c){i=!0;let u=hm(c,a,n+l+1,r);u!=Pn&&o.push(l,l+a.nodeSize,u)}});let s=kM(i?EM(e):e,-n).sort(Za);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new cn(s,o):Pn}function Za(e,t){return e.from-t.from||e.to-t.to}function f_(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let o=n+1;o<t.length;o++){let i=t[o];if(i.from==r.from){i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),VI(t,o+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),VI(t,o,r.copy(i.from,r.to)));break}}}return t}function VI(e,t,n){for(;t<e.length&&Za(n,e[t])>0;)t++;e.splice(t,0,n)}function hy(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=Pn&&t.push(r)}),e.cursorWrapper&&t.push(cn.create(e.state.doc,[e.cursorWrapper.deco])),Os.from(t)}const K0e={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Y0e=cr&&Hs<=11;class X0e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class J0e{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new X0e,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);cr&&Hs<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),Y0e&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,K0e)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(PI(this.view)){if(this.suppressingSelectionUpdates)return Ni(this.view);if(cr&&Hs<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&cl(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let i=t.focusNode;i;i=Xc(i))n.add(i);for(let i=t.anchorNode;i;i=Xc(i))if(n.has(i)){r=i;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&PI(t)&&!this.ignoreSelectionChange(r),i=-1,s=-1,a=!1,l=[];if(t.editable)for(let u=0;u<n.length;u++){let p=this.registerMutation(n[u],l);p&&(i=i<0?p.from:Math.min(p.from,i),s=s<0?p.to:Math.max(p.to,s),p.typeOver&&(a=!0))}if(Gr&&l.length){let u=l.filter(p=>p.nodeName=="BR");if(u.length==2){let[p,h]=u;p.parentNode&&p.parentNode.parentNode==h.parentNode?h.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let h of u){let f=h.parentNode;f&&f.nodeName=="LI"&&(!p||e1e(t,p)!=f)&&h.remove()}}}let c=null;i<0&&o&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Hv(r)&&(c=s_(t))&&c.eq(qe.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Ni(t),this.currentSelection.set(r),t.scrollToSelection()):(i>-1||o)&&(i>-1&&(t.docView.markDirty(i,s),Z0e(t)),this.handleDOMChange(i,s,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Ni(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let u=0;u<t.addedNodes.length;u++){let p=t.addedNodes[u];n.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let o=t.previousSibling,i=t.nextSibling;if(cr&&Hs<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:p,nextSibling:h}=t.addedNodes[u];(!p||Array.prototype.indexOf.call(t.addedNodes,p)<0)&&(o=p),(!h||Array.prototype.indexOf.call(t.addedNodes,h)<0)&&(i=h)}let s=o&&o.parentNode==t.target?bn(o)+1:0,a=r.localPosFromDOM(t.target,s,-1),l=i&&i.parentNode==t.target?bn(i):t.target.childNodes.length,c=r.localPosFromDOM(t.target,l,1);return{from:a,to:c}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let FI=new WeakMap,BI=!1;function Z0e(e){if(!FI.has(e)&&(FI.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Gr,BI)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),BI=!0}}function HI(e,t){let n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,s=e.domAtPos(e.state.selection.anchor);return cl(s.node,s.offset,o,i)&&([n,r,o,i]=[o,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}}function Q0e(e,t){if(t.getComposedRanges){let o=t.getComposedRanges(e.root)[0];if(o)return HI(e,o)}let n;function r(o){o.preventDefault(),o.stopImmediatePropagation(),n=o.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?HI(e,n):null}function e1e(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function t1e(e,t,n){let{node:r,fromOffset:o,toOffset:i,from:s,to:a}=e.docView.parseRange(t,n),l=e.domSelectionRange(),c,u=l.anchorNode;if(u&&e.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Hv(l)||c.push({node:l.focusNode,offset:l.focusOffset})),An&&e.input.lastKeyCode===8)for(let b=i;b>o;b--){let w=r.childNodes[b-1],E=w.pmViewDesc;if(w.nodeName=="BR"&&!E){i=b;break}if(!E||E.size)break}let p=e.state.doc,h=e.someProp("domParser")||Hd.fromSchema(e.state.schema),f=p.resolve(s),g=null,m=h.parse(r,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:o,to:i,preserveWhitespace:f.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:n1e,context:f});if(c&&c[0].pos!=null){let b=c[0].pos,w=c[1]&&c[1].pos;w==null&&(w=b),g={anchor:b+s,head:w+s}}return{doc:m,sel:g,from:s,to:a}}function n1e(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Zn&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||Zn&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const r1e=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function o1e(e,t,n,r,o){let i=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let N=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,C=s_(e,N);if(C&&!e.state.selection.eq(C)){if(An&&Ti&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",I=>I(e,Ma(13,"Enter"))))return;let x=e.state.tr.setSelection(C);N=="pointer"?x.setMeta("pointer",!0):N=="key"&&x.scrollIntoView(),i&&x.setMeta("composition",i),e.dispatch(x)}return}let s=e.state.doc.resolve(t),a=s.sharedDepth(n);t=s.before(a+1),n=e.state.doc.resolve(n).after(a+1);let l=e.state.selection,c=t1e(e,t,n),u=e.state.doc,p=u.slice(c.from,c.to),h,f;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(h=e.state.selection.to,f="end"):(h=e.state.selection.from,f="start"),e.input.lastKeyCode=null;let g=a1e(p.content,c.doc.content,c.from,h,f);if(g&&e.input.domChangeCount++,(Jc&&e.input.lastIOSEnter>Date.now()-225||Ti)&&o.some(N=>N.nodeType==1&&!r1e.test(N.nodeName))&&(!g||g.endA>=g.endB)&&e.someProp("handleKeyDown",N=>N(e,Ma(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!g)if(r&&l instanceof ze&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))g={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let N=zI(e,e.state.doc,c.sel);if(N&&!N.eq(e.state.selection)){let C=e.state.tr.setSelection(N);i&&C.setMeta("composition",i),e.dispatch(C)}}return}e.state.selection.from<e.state.selection.to&&g.start==g.endB&&e.state.selection instanceof ze&&(g.start>e.state.selection.from&&g.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?g.start=e.state.selection.from:g.endA<e.state.selection.to&&g.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(g.endB+=e.state.selection.to-g.endA,g.endA=e.state.selection.to)),cr&&Hs<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>c.from&&c.doc.textBetween(g.start-c.from-1,g.start-c.from+1)==" "&&(g.start--,g.endA--,g.endB--);let m=c.doc.resolveNoCache(g.start-c.from),b=c.doc.resolveNoCache(g.endB-c.from),w=u.resolve(g.start),E=m.sameParent(b)&&m.parent.inlineContent&&w.end()>=g.endA;if((Jc&&e.input.lastIOSEnter>Date.now()-225&&(!E||o.some(N=>N.nodeName=="DIV"||N.nodeName=="P"))||!E&&m.pos<c.doc.content.size&&(!m.sameParent(b)||!m.parent.inlineContent)&&m.pos<b.pos&&!/\S/.test(c.doc.textBetween(m.pos,b.pos,"","")))&&e.someProp("handleKeyDown",N=>N(e,Ma(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>g.start&&s1e(u,g.start,g.endA,m,b)&&e.someProp("handleKeyDown",N=>N(e,Ma(8,"Backspace")))){Ti&&An&&e.domObserver.suppressSelectionUpdates();return}An&&g.endB==g.start&&(e.input.lastChromeDelete=Date.now()),Ti&&!E&&m.start()!=b.start()&&b.parentOffset==0&&m.depth==b.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==g.endA&&(g.endB-=2,b=c.doc.resolveNoCache(g.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(N){return N(e,Ma(13,"Enter"))})},20));let k=g.start,v=g.endA,_=N=>{let C=N||e.state.tr.replace(k,v,c.doc.slice(g.start-c.from,g.endB-c.from));if(c.sel){let x=zI(e,C.doc,c.sel);x&&!(An&&e.composing&&x.empty&&(g.start!=g.endB||e.input.lastChromeDelete<Date.now()-100)&&(x.head==k||x.head==C.mapping.map(v)-1)||cr&&x.empty&&x.head==k)&&C.setSelection(x)}return i&&C.setMeta("composition",i),C.scrollIntoView()},T;if(E){if(m.pos==b.pos){cr&&Hs<=11&&m.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ni(e),20));let N=_(e.state.tr.delete(k,v)),C=u.resolve(g.start).marksAcross(u.resolve(g.endA));C&&N.ensureMarks(C),e.dispatch(N)}else if(g.endA==g.endB&&(T=i1e(m.parent.content.cut(m.parentOffset,b.parentOffset),w.parent.content.cut(w.parentOffset,g.endA-w.start())))){let N=_(e.state.tr);T.type=="add"?N.addMark(k,v,T.mark):N.removeMark(k,v,T.mark),e.dispatch(N)}else if(m.parent.child(m.index()).isText&&m.index()==b.index()-(b.textOffset?0:1)){let N=m.parent.textBetween(m.parentOffset,b.parentOffset),C=()=>_(e.state.tr.insertText(N,k,v));e.someProp("handleTextInput",x=>x(e,k,v,N,C))||e.dispatch(C())}}else e.dispatch(_())}function zI(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:a_(e,t.resolve(n.anchor),t.resolve(n.head))}function i1e(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,o=n,i=r,s,a,l;for(let u=0;u<r.length;u++)o=r[u].removeFromSet(o);for(let u=0;u<n.length;u++)i=n[u].removeFromSet(i);if(o.length==1&&i.length==0)a=o[0],s="add",l=u=>u.mark(a.addToSet(u.marks));else if(o.length==0&&i.length==1)a=i[0],s="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<t.childCount;u++)c.push(l(t.child(u)));if(ie.from(c).eq(e))return{mark:a,type:s}}function s1e(e,t,n,r,o){if(n-t<=o.pos-r.pos||gy(r,!0,!1)<o.pos)return!1;let i=e.resolve(t);if(!r.parent.isTextblock){let a=i.nodeAfter;return a!=null&&n==t+a.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=e.resolve(gy(i,!0,!0));return!s.parent.isTextblock||s.pos>n||gy(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function gy(e,t,n){let r=e.depth,o=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n){let i=e.node(r).maybeChild(e.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,o++}return o}function a1e(e,t,n,r,o){let i=e.findDiffStart(t,n);if(i==null)return null;let{a:s,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if(o=="end"){let l=Math.max(0,i-Math.min(s,a));r-=s+l-i}if(s<i&&e.size<t.size){let l=r<=i&&r>=s?i-r:0;i-=l,i&&i<t.size&&UI(t.textBetween(i-1,i+1))&&(i+=l?1:-1),a=i+(a-s),s=i}else if(a<i){let l=r<=i&&r>=a?i-r:0;i-=l,i&&i<e.size&&UI(e.textBetween(i-1,i+1))&&(i+=l?1:-1),s=i+(s-a),a=i}return{start:i,endA:s,endB:a}}function UI(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class OM{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new O0e,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(KI),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=WI(this),GI(this),this.nodeViews=qI(this),this.docView=CI(this.state.doc,jI(this),hy(this),this.dom,this),this.domObserver=new J0e(this,(r,o,i,s)=>o1e(this,r,o,i,s)),this.domObserver.start(),I0e(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&P1(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(KI),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let o=this.state,i=!1,s=!1;t.storedMarks&&this.composing&&(yM(this),s=!0),this.state=t;let a=o.plugins!=t.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let f=qI(this);c1e(f,this.nodeViews)&&(this.nodeViews=f,i=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&P1(this),this.editable=WI(this),GI(this);let l=hy(this),c=jI(this),u=o.plugins!=t.plugins&&!o.doc.eq(t.doc)?"reset":t.scrollToSelection>o.scrollToSelection?"to selection":"preserve",p=i||!this.docView.matchesNode(t.doc,c,l);(p||!t.selection.eq(o.selection))&&(s=!0);let h=u=="preserve"&&s&&this.dom.style.overflowAnchor==null&&Hye(this);if(s){this.domObserver.stop();let f=p&&(cr||An)&&!this.composing&&!o.selection.empty&&!t.selection.empty&&l1e(o.selection,t.selection);if(p){let g=An?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=B0e(this)),(i||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=CI(t.doc,c,l,this.dom,this)),g&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&d0e(this))?Ni(this,f):(aM(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,o),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():h&&zye(h)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Pe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&bI(this,n.getBoundingClientRect(),t)}else bI(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(o=i)}this.dragging=new wM(t.slice,t.move,o<0?void 0:Pe.create(this.state.doc,o))}someProp(t,n){let r=this._props&&this._props[t],o;if(r!=null&&(o=n?n(r):r))return o;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[t];if(a!=null&&(o=n?n(a):a))return o}let i=this.state.plugins;if(i)for(let s=0;s<i.length;s++){let a=i[s].props[t];if(a!=null&&(o=n?n(a):a))return o}}hasFocus(){if(cr){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Uye(this.dom),Ni(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return Kye(this,t)}coordsAtPos(t,n=1){return Q5(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let o=this.docView.posFromDOM(t,n,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(t,n){return Qye(this,n||this.state,t)}pasteHTML(t,n){return Tp(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return Tp(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return l_(this,t)}destroy(){this.docView&&(T0e(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],hy(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Pye())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return P0e(this,t)}domSelectionRange(){let t=this.domSelection();return t?Zn&&this.root.nodeType===11&&Mye(this.dom.ownerDocument)==this.dom&&Q0e(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}OM.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function jI(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[oo.node(0,e.state.doc.content.size,t)]}function GI(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:oo.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function WI(e){return!e.someProp("editable",t=>t(e.state)===!1)}function l1e(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function qI(e){let t=Object.create(null);function n(r){for(let o in r)Object.prototype.hasOwnProperty.call(t,o)||(t[o]=r[o])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function c1e(e,t){let n=0,r=0;for(let o in e){if(e[o]!=t[o])return!0;n++}for(let o in t)r++;return n!=r}function KI(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ta={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},gm={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},u1e=typeof navigator<"u"&&/Mac/.test(navigator.platform),d1e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var yn=0;yn<10;yn++)ta[48+yn]=ta[96+yn]=String(yn);for(var yn=1;yn<=24;yn++)ta[yn+111]="F"+yn;for(var yn=65;yn<=90;yn++)ta[yn]=String.fromCharCode(yn+32),gm[yn]=String.fromCharCode(yn);for(var my in ta)gm.hasOwnProperty(my)||(gm[my]=ta[my]);function p1e(e){var t=u1e&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||d1e&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?gm:ta)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const f1e=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),h1e=typeof navigator<"u"&&/Win/.test(navigator.platform);function g1e(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,o,i,s;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))f1e?s=!0:o=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),s&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function m1e(e){let t=Object.create(null);for(let n in e)t[g1e(n)]=e[n];return t}function vy(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function v1e(e){return new pi({props:{handleKeyDown:b1e(e)}})}function b1e(e){let t=m1e(e);return function(n,r){let o=p1e(r),i,s=t[vy(o,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let a=t[vy(o,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(h1e&&r.ctrlKey&&r.altKey)&&(i=ta[r.keyCode])&&i!=o){let a=t[vy(i,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const h_=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function IM(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const TM=(e,t,n)=>{let r=IM(e,n);if(!r)return!1;let o=g_(r);if(!o){let s=r.blockRange(),a=s&&_u(s);return a==null?!1:(t&&t(e.tr.lift(s,a).scrollIntoView()),!0)}let i=o.nodeBefore;if(LM(e,o,t,-1))return!0;if(r.parent.content.size==0&&(Zc(i,"end")||Pe.isSelectable(i)))for(let s=r.depth;;s--){let a=Fv(e.doc,r.before(s),r.after(s),we.empty);if(a&&a.slice.size<a.to-a.from){if(t){let l=e.tr.step(a);l.setSelection(Zc(i,"end")?qe.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):Pe.create(l.doc,o.pos-i.nodeSize)),t(l.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return i.isAtom&&o.depth==r.depth-1?(t&&t(e.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),!0):!1},y1e=(e,t,n)=>{let r=IM(e,n);if(!r)return!1;let o=g_(r);return o?SM(e,o,t):!1},x1e=(e,t,n)=>{let r=$M(e,n);if(!r)return!1;let o=m_(r);return o?SM(e,o,t):!1};function SM(e,t,n){let r=t.nodeBefore,o=r,i=t.pos-1;for(;!o.isTextblock;i--){if(o.type.spec.isolating)return!1;let u=o.lastChild;if(!u)return!1;o=u}let s=t.nodeAfter,a=s,l=t.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=Fv(e.doc,i,l,we.empty);if(!c||c.from!=i||c instanceof un&&c.slice.size>=l-i)return!1;if(n){let u=e.tr.step(c);u.setSelection(ze.create(u.doc,i)),n(u.scrollIntoView())}return!0}function Zc(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const PM=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=g_(r)}let s=i&&i.nodeBefore;return!s||!Pe.isSelectable(s)?!1:(t&&t(e.tr.setSelection(Pe.create(e.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)};function g_(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function $M(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const RM=(e,t,n)=>{let r=$M(e,n);if(!r)return!1;let o=m_(r);if(!o)return!1;let i=o.nodeAfter;if(LM(e,o,t,1))return!0;if(r.parent.content.size==0&&(Zc(i,"start")||Pe.isSelectable(i))){let s=Fv(e.doc,r.before(),r.after(),we.empty);if(s&&s.slice.size<s.to-s.from){if(t){let a=e.tr.step(s);a.setSelection(Zc(i,"start")?qe.findFrom(a.doc.resolve(a.mapping.map(o.pos)),1):Pe.create(a.doc,a.mapping.map(o.pos))),t(a.scrollIntoView())}return!0}}return i.isAtom&&o.depth==r.depth-1?(t&&t(e.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0):!1},AM=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=m_(r)}let s=i&&i.nodeAfter;return!s||!Pe.isSelectable(s)?!1:(t&&t(e.tr.setSelection(Pe.create(e.doc,i.pos)).scrollIntoView()),!0)};function m_(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const w1e=(e,t)=>{let n=e.selection,r=n instanceof Pe,o;if(r){if(n.node.isTextblock||!ga(e.doc,n.from))return!1;o=n.from}else if(o=Vv(e.doc,n.from,-1),o==null)return!1;if(t){let i=e.tr.join(o);r&&i.setSelection(Pe.create(i.doc,o-e.doc.resolve(o).nodeBefore.nodeSize)),t(i.scrollIntoView())}return!0},_1e=(e,t)=>{let n=e.selection,r;if(n instanceof Pe){if(n.node.isTextblock||!ga(e.doc,n.to))return!1;r=n.to}else if(r=Vv(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},k1e=(e,t)=>{let{$from:n,$to:r}=e.selection,o=n.blockRange(r),i=o&&_u(o);return i==null?!1:(t&&t(e.tr.lift(o,i).scrollIntoView()),!0)},NM=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function v_(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const C1e=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),i=n.indexAfter(-1),s=v_(o.contentMatchAt(i));if(!s||!o.canReplaceWith(i,i,s))return!1;if(t){let a=n.after(),l=e.tr.replaceWith(a,a,s.createAndFill());l.setSelection(qe.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},MM=(e,t)=>{let n=e.selection,{$from:r,$to:o}=n;if(n instanceof Or||r.parent.inlineContent||o.parent.inlineContent)return!1;let i=v_(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=e.tr.insert(s,i.createAndFill());a.setSelection(ze.create(a.doc,s+1)),t(a.scrollIntoView())}return!0},DM=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Ai(e.doc,i))return t&&t(e.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),o=r&&_u(r);return o==null?!1:(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)};function E1e(e){return(t,n)=>{let{$from:r,$to:o}=t.selection;if(t.selection instanceof Pe&&t.selection.node.isBlock)return!r.parentOffset||!Ai(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],s,a,l=!1,c=!1;for(let f=r.depth;;f--)if(r.node(f).isBlock){l=r.end(f)==r.pos+(r.depth-f),c=r.start(f)==r.pos-(r.depth-f),a=v_(r.node(f-1).contentMatchAt(r.indexAfter(f-1))),i.unshift(l&&a?{type:a}:null),s=f;break}else{if(f==1)return!1;i.unshift(null)}let u=t.tr;(t.selection instanceof ze||t.selection instanceof Or)&&u.deleteSelection();let p=u.mapping.map(r.pos),h=Ai(u.doc,p,i.length,i);if(h||(i[0]=a?{type:a}:null,h=Ai(u.doc,p,i.length,i)),!h)return!1;if(u.split(p,i.length,i),!l&&c&&r.node(s).type!=a){let f=u.mapping.map(r.before(s)),g=u.doc.resolve(f);a&&r.node(s-1).canReplaceWith(g.index(),g.index()+1,a)&&u.setNodeMarkup(u.mapping.map(r.before(s)),a)}return n&&n(u.scrollIntoView()),!0}}const O1e=E1e(),I1e=(e,t)=>{let{$from:n,to:r}=e.selection,o,i=n.sharedDepth(r);return i==0?!1:(o=n.before(i),t&&t(e.tr.setSelection(Pe.create(e.doc,o))),!0)};function T1e(e,t,n){let r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(i,i+1)||!(o.isTextblock||ga(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function LM(e,t,n,r){let o=t.nodeBefore,i=t.nodeAfter,s,a,l=o.type.spec.isolating||i.type.spec.isolating;if(!l&&T1e(e,t,n))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(s=(a=o.contentMatchAt(o.childCount)).findWrapping(i.type))&&a.matchType(s[0]||i.type).validEnd){if(n){let f=t.pos+i.nodeSize,g=ie.empty;for(let w=s.length-1;w>=0;w--)g=ie.from(s[w].create(null,g));g=ie.from(o.copy(g));let m=e.tr.step(new fn(t.pos-1,f,t.pos,f,new we(g,1,0),s.length,!0)),b=m.doc.resolve(f+2*s.length);b.nodeAfter&&b.nodeAfter.type==o.type&&ga(m.doc,b.pos)&&m.join(b.pos),n(m.scrollIntoView())}return!0}let u=i.type.spec.isolating||r>0&&l?null:qe.findFrom(t,1),p=u&&u.$from.blockRange(u.$to),h=p&&_u(p);if(h!=null&&h>=t.depth)return n&&n(e.tr.lift(p,h).scrollIntoView()),!0;if(c&&Zc(i,"start",!0)&&Zc(o,"end")){let f=o,g=[];for(;g.push(f),!f.isTextblock;)f=f.lastChild;let m=i,b=1;for(;!m.isTextblock;m=m.firstChild)b++;if(f.canReplace(f.childCount,f.childCount,m.content)){if(n){let w=ie.empty;for(let k=g.length-1;k>=0;k--)w=ie.from(g[k].copy(w));let E=e.tr.step(new fn(t.pos-g.length,t.pos+i.nodeSize,t.pos+b,t.pos+i.nodeSize-b,new we(w,g.length,0),0,!0));n(E.scrollIntoView())}return!0}}return!1}function VM(e){return function(t,n){let r=t.selection,o=e<0?r.$from:r.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return o.node(i).isTextblock?(n&&n(t.tr.setSelection(ze.create(t.doc,e<0?o.start(i):o.end(i)))),!0):!1}}const S1e=VM(-1),P1e=VM(1);function $1e(e,t=null){return function(n,r){let{$from:o,$to:i}=n.selection,s=o.blockRange(i),a=s&&r_(s,e,t);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function YI(e,t=null){return function(n,r){let o=!1;for(let i=0;i<n.selection.ranges.length&&!o;i++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[i];n.doc.nodesBetween(s,a,(l,c)=>{if(o)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)o=!0;else{let u=n.doc.resolve(c),p=u.index();o=u.parent.canReplaceWith(p,p+1,e)}})}if(!o)return!1;if(r){let i=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];i.setBlockType(a,l,e,t)}r(i.scrollIntoView())}return!0}}function b_(...e){return function(t,n,r){for(let o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}b_(h_,TM,PM);b_(h_,RM,AM);b_(NM,MM,DM,O1e);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function R1e(e,t=null){return function(n,r){let{$from:o,$to:i}=n.selection,s=o.blockRange(i);if(!s)return!1;let a=r?n.tr:null;return A1e(a,s,e,t)?(r&&r(a.scrollIntoView()),!0):!1}}function A1e(e,t,n,r=null){let o=!1,i=t,s=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=s.resolve(t.start-2);i=new am(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new am(t.$from,s.resolve(t.$to.end(t.depth)),t.depth)),o=!0}let a=r_(i,n,r,t);return a?(e&&N1e(e,t,a,o,n),!0):!1}function N1e(e,t,n,r,o){let i=ie.empty;for(let u=n.length-1;u>=0;u--)i=ie.from(n[u].type.create(n[u].attrs,i));e.step(new fn(t.start-(r?2:0),t.end,t.start,t.end,new we(i,0,0),n.length,!0));let s=0;for(let u=0;u<n.length;u++)n[u].type==o&&(s=u+1);let a=n.length-s,l=t.start+n.length-(r?2:0),c=t.parent;for(let u=t.startIndex,p=t.endIndex,h=!0;u<p;u++,h=!1)!h&&Ai(e.doc,l,a)&&(e.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return e}function M1e(e){return function(t,n){let{$from:r,$to:o}=t.selection,i=r.blockRange(o,s=>s.childCount>0&&s.firstChild.type==e);return i?n?r.node(i.depth-1).type==e?D1e(t,n,e,i):L1e(t,n,i):!0:!1}}function D1e(e,t,n,r){let o=e.tr,i=r.end,s=r.$to.end(r.depth);i<s&&(o.step(new fn(i-1,s,i,s,new we(ie.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new am(o.doc.resolve(r.$from.pos),o.doc.resolve(s),r.depth));const a=_u(r);if(a==null)return!1;o.lift(r,a);let l=o.doc.resolve(o.mapping.map(i,-1)-1);return ga(o.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&o.join(l.pos),t(o.scrollIntoView()),!0}function L1e(e,t,n){let r=e.tr,o=n.parent;for(let f=n.end,g=n.endIndex-1,m=n.startIndex;g>m;g--)f-=o.child(g).nodeSize,r.delete(f-1,f+1);let i=r.doc.resolve(n.start),s=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==o.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?ie.empty:ie.from(o))))return!1;let p=i.pos,h=p+s.nodeSize;return r.step(new fn(p-(a?1:0),h+(l?1:0),p+1,h-1,new we((a?ie.empty:ie.from(o.copy(ie.empty))).append(l?ie.empty:ie.from(o.copy(ie.empty))),a?0:1,l?0:1),a?0:1)),t(r.scrollIntoView()),!0}function V1e(e){return function(t,n){let{$from:r,$to:o}=t.selection,i=r.blockRange(o,c=>c.childCount>0&&c.firstChild.type==e);if(!i)return!1;let s=i.startIndex;if(s==0)return!1;let a=i.parent,l=a.child(s-1);if(l.type!=e)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=ie.from(c?e.create():null),p=new we(ie.from(e.create(null,ie.from(a.type.create(null,u)))),c?3:1,0),h=i.start,f=i.end;n(t.tr.step(new fn(h-(c?3:1),f,h,f,p,1,!0)).scrollIntoView())}return!0}}var F1e=Object.defineProperty,FM=(e,t)=>{for(var n in t)F1e(e,n,{get:t[n],enumerable:!0})};function jv(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:i}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return i},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,i=n.storedMarks,n}}}var Gv=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:o}=n,i=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([s,a])=>[s,(...c)=>{const u=a(...c)(i);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(o),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:o}=this,{view:i}=r,s=[],a=!!e,l=e||o.tr,c=()=>(!a&&t&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(l),s.every(p=>p===!0)),u={...Object.fromEntries(Object.entries(n).map(([p,h])=>[p,(...g)=>{const m=this.buildProps(l,t),b=h(...g)(m);return s.push(b),u}])),run:c};return u}createCan(e){const{rawCommands:t,state:n}=this,r=!1,o=e||n.tr,i=this.buildProps(o,r);return{...Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...c)=>l(...c)({...i,dispatch:void 0})])),chain:()=>this.createChain(o,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:o}=this,{view:i}=r,s={tr:e,editor:r,view:i,state:jv({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([a,l])=>[a,(...c)=>l(...c)(s)]))}};return s}},B1e=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(r=>r.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(r=>r!==t):delete this.callbacks[e]),this}once(e,t){const n=(...r)=>{this.off(e,n),t.apply(this,r)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}};function H1e(e,t){const n=new j5(e);return t.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}var BM=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&BM(r)}return e};function uh(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return BM(n)}function Pp(e,t,n){if(e instanceof Bs||e instanceof ie)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,o=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return ie.fromArray(e.map(a=>t.nodeFromJSON(a)));const s=t.nodeFromJSON(e);return n.errorOnInvalidContent&&s.check(),s}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",i),Pp("",t,n)}if(o){if(n.errorOnInvalidContent){let s=!1,a="";const l=new S5({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(s=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Hd.fromSchema(l).parseSlice(uh(e),n.parseOptions):Hd.fromSchema(l).parse(uh(e),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const i=Hd.fromSchema(t);return n.slice?i.parseSlice(uh(e),n.parseOptions).content:i.parse(uh(e),n.parseOptions)}return Pp("",t,n)}function $1(e,t,n={},r={}){return Pp(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function z1e(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function U1e(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function Wv(e){return t=>U1e(t.$from,e)}function Oe(e,t,n){return e.config[t]===void 0&&e.parent?Oe(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Oe(e.parent,t,n):null}):e.config[t]}function y_(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=Oe(t,"addExtensions",n);return r?[t,...y_(r())]:t}).flat(10)}function x_(e,t){const n=Cl.fromSchema(t).serializeFragment(e),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(n),o.innerHTML}function HM(e){return typeof e=="function"}function gt(e,t=void 0,...n){return HM(e)?t?e.bind(t)(...n):e(...n):e}function j1e(e={}){return Object.keys(e).length===0&&e.constructor===Object}function $p(e){const t=e.filter(o=>o.type==="extension"),n=e.filter(o=>o.type==="node"),r=e.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function zM(e){const t=[],{nodeExtensions:n,markExtensions:r}=$p(e),o=[...n,...r],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage,extensions:o},l=Oe(s,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(p=>{Object.entries(u.attributes).forEach(([h,f])=>{t.push({type:p,name:h,attribute:{...i,...f}})})})})}),o.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=Oe(s,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,p])=>{const h={...i,...p};typeof h?.default=="function"&&(h.default=h.default()),h?.isRequired&&h?.default===void 0&&delete h.default,t.push({type:s.name,name:u,attribute:h})})}),t}function Kr(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([o,i])=>{if(!r[o]){r[o]=i;return}if(o==="class"){const a=i?String(i).split(" "):[],l=r[o]?r[o].split(" "):[],c=a.filter(u=>!l.includes(u));r[o]=[...l,...c].join(" ")}else if(o==="style"){const a=i?i.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[o]?r[o].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[p,h]=u.split(":").map(f=>f.trim());c.set(p,h)}),a.forEach(u=>{const[p,h]=u.split(":").map(f=>f.trim());c.set(p,h)}),r[o]=Array.from(c.entries()).map(([u,p])=>`${u}: ${p}`).join("; ")}else r[o]=i}),r},{})}function mm(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>Kr(n,r),{})}function G1e(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function XI(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const o=t.reduce((i,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(n):G1e(n.getAttribute(s.name));return a==null?i:{...i,[s.name]:a}},{});return{...r,...o}}}}function JI(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&j1e(n)?!1:n!=null))}function W1e(e,t){var n;const r=zM(e),{nodeExtensions:o,markExtensions:i}=$p(e),s=(n=o.find(c=>Oe(c,"topNode")))==null?void 0:n.name,a=Object.fromEntries(o.map(c=>{const u=r.filter(w=>w.type===c.name),p={name:c.name,options:c.options,storage:c.storage,editor:t},h=e.reduce((w,E)=>{const k=Oe(E,"extendNodeSchema",p);return{...w,...k?k(c):{}}},{}),f=JI({...h,content:gt(Oe(c,"content",p)),marks:gt(Oe(c,"marks",p)),group:gt(Oe(c,"group",p)),inline:gt(Oe(c,"inline",p)),atom:gt(Oe(c,"atom",p)),selectable:gt(Oe(c,"selectable",p)),draggable:gt(Oe(c,"draggable",p)),code:gt(Oe(c,"code",p)),whitespace:gt(Oe(c,"whitespace",p)),linebreakReplacement:gt(Oe(c,"linebreakReplacement",p)),defining:gt(Oe(c,"defining",p)),isolating:gt(Oe(c,"isolating",p)),attrs:Object.fromEntries(u.map(w=>{var E,k;return[w.name,{default:(E=w?.attribute)==null?void 0:E.default,validate:(k=w?.attribute)==null?void 0:k.validate}]}))}),g=gt(Oe(c,"parseHTML",p));g&&(f.parseDOM=g.map(w=>XI(w,u)));const m=Oe(c,"renderHTML",p);m&&(f.toDOM=w=>m({node:w,HTMLAttributes:mm(w,u)}));const b=Oe(c,"renderText",p);return b&&(f.toText=b),[c.name,f]})),l=Object.fromEntries(i.map(c=>{const u=r.filter(b=>b.type===c.name),p={name:c.name,options:c.options,storage:c.storage,editor:t},h=e.reduce((b,w)=>{const E=Oe(w,"extendMarkSchema",p);return{...b,...E?E(c):{}}},{}),f=JI({...h,inclusive:gt(Oe(c,"inclusive",p)),excludes:gt(Oe(c,"excludes",p)),group:gt(Oe(c,"group",p)),spanning:gt(Oe(c,"spanning",p)),code:gt(Oe(c,"code",p)),attrs:Object.fromEntries(u.map(b=>{var w,E;return[b.name,{default:(w=b?.attribute)==null?void 0:w.default,validate:(E=b?.attribute)==null?void 0:E.validate}]}))}),g=gt(Oe(c,"parseHTML",p));g&&(f.parseDOM=g.map(b=>XI(b,u)));const m=Oe(c,"renderHTML",p);return m&&(f.toDOM=b=>m({mark:b,HTMLAttributes:mm(b,u)})),[c.name,f]}));return new S5({topNode:s,nodes:a,marks:l})}function q1e(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}function w_(e){return e.sort((n,r)=>{const o=Oe(n,"priority")||100,i=Oe(r,"priority")||100;return o>i?-1:o<i?1:0})}function UM(e){const t=w_(y_(e)),n=q1e(t.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}function jM(e,t,n){const{from:r,to:o}=t,{blockSeparator:i=`

`,textSerializers:s={}}=n||{};let a="";return e.nodesBetween(r,o,(l,c,u,p)=>{var h;l.isBlock&&c>r&&(a+=i);const f=s?.[l.type.name];if(f)return u&&(a+=f({node:l,pos:c,parent:u,index:p,range:t})),!1;l.isText&&(a+=(h=l?.text)==null?void 0:h.slice(Math.max(r,c)-c,o-c))}),a}function K1e(e,t){const n={from:0,to:e.content.size};return jM(e,n,t)}function GM(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function ns(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}function WM(e,t){const n=ns(t,e.schema),{from:r,to:o,empty:i}=e.selection,s=[];i?(e.storedMarks&&s.push(...e.storedMarks),s.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function Zt(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function Y1e(e,t){const n=Zt(t,e.schema),{from:r,to:o}=e.selection,i=[];e.doc.nodesBetween(r,o,a=>{i.push(a)});const s=i.reverse().find(a=>a.type.name===n.name);return s?{...s.attrs}:{}}function qv(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function X1e(e,t){const n=qv(typeof t=="string"?t:t.name,e.schema);return n==="node"?Y1e(e,t):n==="mark"?WM(e,t):{}}function J1e(e,t=JSON.stringify){const n={};return e.filter(r=>{const o=t(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function Z1e(e){const t=J1e(e);return t.length===1?t:t.filter((n,r)=>!t.filter((i,s)=>s!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function Q1e(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((o,i)=>{const s=[];if(o.ranges.length)o.forEach((a,l)=>{s.push({from:a,to:l})});else{const{from:a,to:l}=n[i];if(a===void 0||l===void 0)return;s.push({from:a,to:l})}s.forEach(({from:a,to:l})=>{const c=t.slice(i).map(a,-1),u=t.slice(i).map(l),p=t.invert().map(c,-1),h=t.invert().map(u);r.push({oldRange:{from:p,to:h},newRange:{from:c,to:u}})})}),Z1e(r)}function __(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function vm(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>n.strict?t[o]===e[o]:__(t[o])?t[o].test(e[o]):t[o]===e[o]):!0}function qM(e,t,n={}){return e.find(r=>r.type===t&&vm(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function ZI(e,t,n={}){return!!qM(e,t,n)}function k_(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if((!o.node||!o.node.marks.some(u=>u.type===t))&&(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(u=>u.type===t)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!qM([...o.node.marks],t,n)))return;let s=o.index,a=e.start()+o.offset,l=s+1,c=a+o.node.nodeSize;for(;s>0&&ZI([...e.parent.child(s-1).marks],t,n);)s-=1,a-=e.parent.child(s).nodeSize;for(;l<e.parent.childCount&&ZI([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function KM(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(o=>{const i=n.resolve(e),s=k_(i,o.type);s&&r.push({mark:o,...s})}):n.nodesBetween(e,t,(o,i)=>{!o||o?.nodeSize===void 0||r.push(...o.marks.map(s=>({from:i,to:i+o.nodeSize,mark:s})))}),r}var exe=(e,t,n,r=20)=>{const o=e.doc.resolve(n);let i=r,s=null;for(;i>0&&s===null;){const a=o.node(i);a?.type.name===t?s=a:i-=1}return[s,i]};function by(e,t){return t.nodes[e]||t.marks[e]||null}function qh(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=e.find(i=>i.type===t&&i.name===r);return o?o.attribute.keepOnSplit:!1}))}var txe=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(o,i,s,a)=>{var l,c;const u=((c=(l=o.type.spec).toText)==null?void 0:c.call(l,{node:o,pos:i,parent:s,index:a}))||o.textContent||"%leaf%";n+=o.isAtom&&!o.isText?u:u.slice(0,Math.max(0,r-i))}),n};function R1(e,t,n={}){const{empty:r,ranges:o}=e.selection,i=t?ns(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(p=>i?i.name===p.type.name:!0).find(p=>vm(p.attrs,n,{strict:!1}));let s=0;const a=[];if(o.forEach(({$from:p,$to:h})=>{const f=p.pos,g=h.pos;e.doc.nodesBetween(f,g,(m,b)=>{if(!m.isText&&!m.marks.length)return;const w=Math.max(f,b),E=Math.min(g,b+m.nodeSize),k=E-w;s+=k,a.push(...m.marks.map(v=>({mark:v,from:w,to:E})))})}),s===0)return!1;const l=a.filter(p=>i?i.name===p.mark.type.name:!0).filter(p=>vm(p.mark.attrs,n,{strict:!1})).reduce((p,h)=>p+h.to-h.from,0),c=a.filter(p=>i?p.mark.type!==i&&p.mark.type.excludes(i):!0).reduce((p,h)=>p+h.to-h.from,0);return(l>0?l+c:l)>=s}function na(e,t,n={}){const{from:r,to:o,empty:i}=e.selection,s=t?Zt(t,e.schema):null,a=[];e.doc.nodesBetween(r,o,(p,h)=>{if(p.isText)return;const f=Math.max(r,h),g=Math.min(o,h+p.nodeSize);a.push({node:p,from:f,to:g})});const l=o-r,c=a.filter(p=>s?s.name===p.node.type.name:!0).filter(p=>vm(p.node.attrs,n,{strict:!1}));return i?!!c.length:c.reduce((p,h)=>p+h.to-h.from,0)>=l}function nxe(e,t,n={}){if(!t)return na(e,null,n)||R1(e,null,n);const r=qv(t,e.schema);return r==="node"?na(e,t,n):r==="mark"?R1(e,t,n):!1}var rxe=(e,t)=>{const{$from:n,$to:r,$anchor:o}=e.selection;if(t){const i=Wv(a=>a.type.name===t)(e.selection);if(!i)return!1;const s=e.doc.resolve(i.pos+1);return o.pos+1===s.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},oxe=e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)};function QI(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function eT(e,t){const{nodeExtensions:n}=$p(t),r=n.find(s=>s.name===e);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},i=gt(Oe(r,"group",o));return typeof i!="string"?!1:i.split(" ").includes("list")}function C_(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let o=!0;return e.content.forEach(i=>{o!==!1&&(C_(i,{ignoreWhitespace:n,checkChildren:t})||(o=!1))}),o}return!1}function YM(e){return e instanceof ze}function Ua(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function XM(e,t=null){if(!t)return null;const n=qe.atStart(e),r=qe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const o=n.from,i=r.to;return t==="all"?ze.create(e,Ua(0,o,i),Ua(e.content.size,o,i)):ze.create(e,Ua(t,o,i),Ua(t,o,i))}function ixe(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof un||o instanceof fn))return;const i=e.mapping.maps[r];let s=0;i.forEach((a,l,c,u)=>{s===0&&(s=u)}),e.setSelection(qe.near(e.doc.resolve(s),n))}var E_=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},sxe=(e,t)=>{if(__(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function dh(e){var t;const{editor:n,from:r,to:o,text:i,rules:s,plugin:a}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(t=c.nodeBefore||c.nodeAfter)!=null&&t.marks.find(h=>h.type.spec.code))return!1;let u=!1;const p=txe(c)+i;return s.forEach(h=>{if(u)return;const f=sxe(p,h.find);if(!f)return;const g=l.state.tr,m=jv({state:l.state,transaction:g}),b={from:r-(f[0].length-i.length),to:o},{commands:w,chain:E,can:k}=new Gv({editor:n,state:m});h.handler({state:m,range:b,match:f,commands:w,chain:E,can:k})===null||!g.steps.length||(h.undoable&&g.setMeta(a,{transform:g,from:r,to:o,text:i}),l.dispatch(g),u=!0)}),u}function axe(e){const{editor:t,rules:n}=e,r=new pi({state:{init(){return null},apply(o,i,s){const a=o.getMeta(r);if(a)return a;const l=o.getMeta("applyInputRules");return l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=x_(ie.from(u),s.schema);const{from:p}=l,h=p+u.length;dh({editor:t,from:p,to:h,text:u,rules:n,plugin:r})}),o.selectionSet||o.docChanged?null:i}},props:{handleTextInput(o,i,s,a){return dh({editor:t,from:i,to:s,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:i}=o.state.selection;i&&dh({editor:t,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(o,i){if(i.key!=="Enter")return!1;const{$cursor:s}=o.state.selection;return s?dh({editor:t,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function lxe(e){return Object.prototype.toString.call(e).slice(8,-1)}function ph(e){return lxe(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function JM(e,t){const n={...e};return ph(e)&&ph(t)&&Object.keys(t).forEach(r=>{ph(t[r])&&ph(e[r])?n[r]=JM(e[r],t[r]):n[r]=t[r]}),n}var O_=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...gt(Oe(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...gt(Oe(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>JM(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},Kv=class ZM extends O_{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new ZM(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,o=t.state.selection.$from;if(o.pos===o.end()){const s=o.marks();if(!!!s.find(c=>c?.type.name===n.name))return!1;const l=s.find(c=>c?.type.name===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",o.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function cxe(e){return typeof e=="number"}var uxe=class{constructor(e){this.find=e.find,this.handler=e.handler}},dxe=(e,t,n)=>{if(__(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(o=>{const i=[o.text];return i.index=o.index,i.input=e,i.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(o.replaceWith)),i}):[]};function pxe(e){const{editor:t,state:n,from:r,to:o,rule:i,pasteEvent:s,dropEvent:a}=e,{commands:l,chain:c,can:u}=new Gv({editor:t,state:n}),p=[];return n.doc.nodesBetween(r,o,(f,g)=>{var m,b,w,E,k;if((b=(m=f.type)==null?void 0:m.spec)!=null&&b.code||!(f.isText||f.isTextblock||f.isInline))return;const v=(k=(E=(w=f.content)==null?void 0:w.size)!=null?E:f.nodeSize)!=null?k:0,_=Math.max(r,g),T=Math.min(o,g+v);if(_>=T)return;const N=f.isText?f.text||"":f.textBetween(_-g,T-g,void 0,"");dxe(N,i.find,s).forEach(x=>{if(x.index===void 0)return;const I=_+x.index+1,R=I+x[0].length,M={from:n.tr.mapping.map(I),to:n.tr.mapping.map(R)},B=i.handler({state:n,range:M,match:x,commands:l,chain:c,can:u,pasteEvent:s,dropEvent:a});p.push(B)})}),p.every(f=>f!==null)}var fh=null,fxe=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",e),n};function hxe(e){const{editor:t,rules:n}=e;let r=null,o=!1,i=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:p,to:h,rule:f,pasteEvt:g})=>{const m=u.tr,b=jv({state:u,transaction:m});if(!(!pxe({editor:t,state:b,from:Math.max(p-1,0),to:h.b-1,rule:f,pasteEvent:g,dropEvent:a})||!m.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,m}};return n.map(u=>new pi({view(p){const h=g=>{var m;r=(m=p.dom.parentElement)!=null&&m.contains(g.target)?p.dom.parentElement:null,r&&(fh=t)},f=()=>{fh&&(fh=null)};return window.addEventListener("dragstart",h),window.addEventListener("dragend",f),{destroy(){window.removeEventListener("dragstart",h),window.removeEventListener("dragend",f)}}},props:{handleDOMEvents:{drop:(p,h)=>{if(i=r===p.dom.parentElement,a=h,!i){const f=fh;f?.isEditable&&setTimeout(()=>{const g=f.state.selection;g&&f.commands.deleteRange({from:g.from,to:g.to})},10)}return!1},paste:(p,h)=>{var f;const g=(f=h.clipboardData)==null?void 0:f.getData("text/html");return s=h,o=!!g?.includes("data-pm-slice"),!1}}},appendTransaction:(p,h,f)=>{const g=p[0],m=g.getMeta("uiEvent")==="paste"&&!o,b=g.getMeta("uiEvent")==="drop"&&!i,w=g.getMeta("applyPasteRules"),E=!!w;if(!m&&!b&&!E)return;if(E){let{text:_}=w;typeof _=="string"?_=_:_=x_(ie.from(_),f.schema);const{from:T}=w,N=T+_.length,C=fxe(_);return l({rule:u,state:f,from:T,to:{b:N},pasteEvt:C})}const k=h.doc.content.findDiffStart(f.doc.content),v=h.doc.content.findDiffEnd(f.doc.content);if(!(!cxe(k)||!v||k===v.b))return l({rule:u,state:f,from:k,to:v,pasteEvt:s})}}))}var Yv=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=UM(e),this.schema=W1e(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:by(t.name,this.schema)},r=Oe(t,"addCommands",n);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this;return w_([...this.extensions].reverse()).flatMap(r=>{const o={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:by(r.name,this.schema)},i=[],s=Oe(r,"addKeyboardShortcuts",o);let a={};if(r.type==="mark"&&Oe(r,"exitable",o)&&(a.ArrowRight=()=>Kv.handleExit({editor:e,mark:r})),s){const h=Object.fromEntries(Object.entries(s()).map(([f,g])=>[f,()=>g({editor:e})]));a={...a,...h}}const l=v1e(a);i.push(l);const c=Oe(r,"addInputRules",o);if(QI(r,e.options.enableInputRules)&&c){const h=c();if(h&&h.length){const f=axe({editor:e,rules:h}),g=Array.isArray(f)?f:[f];i.push(...g)}}const u=Oe(r,"addPasteRules",o);if(QI(r,e.options.enablePasteRules)&&u){const h=u();if(h&&h.length){const f=hxe({editor:e,rules:h});i.push(...f)}}const p=Oe(r,"addProseMirrorPlugins",o);if(p){const h=p();i.push(...h)}return i})}get attributes(){return zM(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=$p(this.extensions);return Object.fromEntries(t.filter(n=>!!Oe(n,"addNodeView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),o={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Zt(n.name,this.schema)},i=Oe(n,"addNodeView",o);if(!i)return[];const s=(a,l,c,u,p)=>{const h=mm(a,r);return i()({node:a,view:l,getPos:c,decorations:u,innerDecorations:p,editor:e,extension:n,HTMLAttributes:h})};return[n.name,s]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=$p(this.extensions);return Object.fromEntries(t.filter(n=>!!Oe(n,"addMarkView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),o={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:ns(n.name,this.schema)},i=Oe(n,"addMarkView",o);if(!i)return[];const s=(a,l,c)=>{const u=mm(a,r);return i()({mark:a,view:l,inline:c,editor:e,extension:n,HTMLAttributes:u,updateAttributes:p=>{Swe(a,e,p)}})};return[n.name,s]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var n;const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:by(t.name,this.schema)};t.type==="mark"&&((n=gt(Oe(t,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(t.name);const o=Oe(t,"onBeforeCreate",r),i=Oe(t,"onCreate",r),s=Oe(t,"onUpdate",r),a=Oe(t,"onSelectionUpdate",r),l=Oe(t,"onTransaction",r),c=Oe(t,"onFocus",r),u=Oe(t,"onBlur",r),p=Oe(t,"onDestroy",r);o&&this.editor.on("beforeCreate",o),i&&this.editor.on("create",i),s&&this.editor.on("update",s),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),p&&this.editor.on("destroy",p)})}};Yv.resolve=UM;Yv.sort=w_;Yv.flatten=y_;var gxe={};FM(gxe,{ClipboardTextSerializer:()=>eD,Commands:()=>rD,Delete:()=>oD,Drop:()=>iD,Editable:()=>sD,FocusEvents:()=>lD,Keymap:()=>cD,Paste:()=>uD,Tabindex:()=>dD,focusEventsPluginKey:()=>aD});var Po=class QM extends O_{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new QM(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},eD=Po.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new pi({key:new El("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:i}=o,s=Math.min(...i.map(u=>u.$from.pos)),a=Math.max(...i.map(u=>u.$to.pos)),l=GM(n);return jM(r,{from:s,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),tD={};FM(tD,{blur:()=>mxe,clearContent:()=>vxe,clearNodes:()=>bxe,command:()=>yxe,createParagraphNear:()=>xxe,cut:()=>wxe,deleteCurrentNode:()=>_xe,deleteNode:()=>kxe,deleteRange:()=>Cxe,deleteSelection:()=>Exe,enter:()=>Oxe,exitCode:()=>Ixe,extendMarkRange:()=>Txe,first:()=>Sxe,focus:()=>$xe,forEach:()=>Rxe,insertContent:()=>Axe,insertContentAt:()=>Mxe,joinBackward:()=>Vxe,joinDown:()=>Lxe,joinForward:()=>Fxe,joinItemBackward:()=>Bxe,joinItemForward:()=>Hxe,joinTextblockBackward:()=>zxe,joinTextblockForward:()=>Uxe,joinUp:()=>Dxe,keyboardShortcut:()=>Gxe,lift:()=>Wxe,liftEmptyBlock:()=>qxe,liftListItem:()=>Kxe,newlineInCode:()=>Yxe,resetAttributes:()=>Xxe,scrollIntoView:()=>Jxe,selectAll:()=>Zxe,selectNodeBackward:()=>Qxe,selectNodeForward:()=>ewe,selectParentNode:()=>twe,selectTextblockEnd:()=>nwe,selectTextblockStart:()=>rwe,setContent:()=>owe,setMark:()=>swe,setMeta:()=>awe,setNode:()=>lwe,setNodeSelection:()=>cwe,setTextSelection:()=>uwe,sinkListItem:()=>dwe,splitBlock:()=>pwe,splitListItem:()=>fwe,toggleList:()=>hwe,toggleMark:()=>gwe,toggleNode:()=>mwe,toggleWrap:()=>vwe,undoInputRule:()=>bwe,unsetAllMarks:()=>ywe,unsetMark:()=>xwe,updateAttributes:()=>wwe,wrapIn:()=>_we,wrapInList:()=>kwe});var mxe=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),vxe=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),bxe=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return n&&o.forEach(({$from:i,$to:s})=>{e.doc.nodesBetween(i.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=t,p=c.resolve(u.map(l)),h=c.resolve(u.map(l+a.nodeSize)),f=p.blockRange(h);if(!f)return;const g=_u(f);if(a.type.isTextblock){const{defaultType:m}=p.parent.contentMatchAt(p.index());t.setNodeMarkup(f.start,m)}(g||g===0)&&t.lift(f,g)})}),!0},yxe=e=>t=>e(t),xxe=()=>({state:e,dispatch:t})=>MM(e,t),wxe=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,i=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const s=r.mapping.map(t);return r.insert(s,i.content),r.setSelection(new ze(r.doc.resolve(Math.max(s-1,0)))),!0},_xe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let i=o.depth;i>0;i-=1)if(o.node(i).type===r.type){if(t){const a=o.before(i),l=o.after(i);e.delete(a,l).scrollIntoView()}return!0}return!1},kxe=e=>({tr:t,state:n,dispatch:r})=>{const o=Zt(e,n.schema),i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===o){if(r){const l=i.before(s),c=i.after(s);t.delete(l,c).scrollIntoView()}return!0}return!1},Cxe=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},Exe=()=>({state:e,dispatch:t})=>h_(e,t),Oxe=()=>({commands:e})=>e.keyboardShortcut("Enter"),Ixe=()=>({state:e,dispatch:t})=>C1e(e,t),Txe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const i=ns(e,r.schema),{doc:s,selection:a}=n,{$from:l,from:c,to:u}=a;if(o){const p=k_(l,i,t);if(p&&p.from<=c&&p.to>=u){const h=ze.create(s,p.from,p.to);n.setSelection(h)}}return!0},Sxe=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function Pxe(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function I_(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var $xe=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:i})=>{t={scrollIntoView:!0,...t};const s=()=>{(I_()||Pxe())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(i&&e===null&&!YM(n.state.selection))return s(),!0;const a=XM(o.doc,e)||n.state.selection,l=n.state.selection.eq(a);return i&&(l||o.setSelection(a),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),s()),!0},Rxe=(e,t)=>n=>e.every((r,o)=>t(r,{...n,index:o})),Axe=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),Nxe=e=>!("type"in e),Mxe=(e,t,n)=>({tr:r,dispatch:o,editor:i})=>{var s;if(o){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=b=>{i.emit("contentError",{editor:i,error:b,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{Pp(t,i.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(b){l(b)}try{a=Pp(t,i.schema,{parseOptions:c,errorOnInvalidContent:(s=n.errorOnInvalidContent)!=null?s:i.options.enableContentCheck})}catch(b){return l(b),!1}let{from:u,to:p}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},h=!0,f=!0;if((Nxe(a)?a:[a]).forEach(b=>{b.check(),h=h?b.isText&&b.marks.length===0:!1,f=f?b.isBlock:!1}),u===p&&f){const{parent:b}=r.doc.resolve(u);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(u-=1,p+=1)}let m;if(h){if(Array.isArray(t))m=t.map(b=>b.text||"").join("");else if(t instanceof ie){let b="";t.forEach(w=>{w.text&&(b+=w.text)}),m=b}else typeof t=="object"&&t&&t.text?m=t.text:m=t;r.insertText(m,u,p)}else{m=a;const b=r.doc.resolve(u),w=b.node(),E=b.parentOffset===0,k=w.isText||w.isTextblock,v=w.content.size>0;E&&k&&v&&(u=Math.max(0,u-1)),r.replaceWith(u,p,m)}n.updateSelection&&ixe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:m}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:m})}return!0},Dxe=()=>({state:e,dispatch:t})=>w1e(e,t),Lxe=()=>({state:e,dispatch:t})=>_1e(e,t),Vxe=()=>({state:e,dispatch:t})=>TM(e,t),Fxe=()=>({state:e,dispatch:t})=>RM(e,t),Bxe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Vv(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},Hxe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Vv(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},zxe=()=>({state:e,dispatch:t})=>y1e(e,t),Uxe=()=>({state:e,dispatch:t})=>x1e(e,t);function nD(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function jxe(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,o,i,s;for(let a=0;a<t.length-1;a+=1){const l=t[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))I_()||nD()?s=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}var Gxe=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const i=jxe(e).split(/-(?!$)/),s=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l?.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0},Wxe=(e,t={})=>({state:n,dispatch:r})=>{const o=Zt(e,n.schema);return na(n,o,t)?k1e(n,r):!1},qxe=()=>({state:e,dispatch:t})=>DM(e,t),Kxe=e=>({state:t,dispatch:n})=>{const r=Zt(e,t.schema);return M1e(r)(t,n)},Yxe=()=>({state:e,dispatch:t})=>NM(e,t);function tT(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,o)=>(n.includes(o)||(r[o]=e[o]),r),{})}var Xxe=(e,t)=>({tr:n,state:r,dispatch:o})=>{let i=null,s=null;const a=qv(typeof e=="string"?e:e.name,r.schema);return a?(a==="node"&&(i=Zt(e,r.schema)),a==="mark"&&(s=ns(e,r.schema)),o&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{i&&i===c.type&&n.setNodeMarkup(u,void 0,tT(c.attrs,t)),s&&c.marks.length&&c.marks.forEach(p=>{s===p.type&&n.addMark(u,u+c.nodeSize,s.create(tT(p.attrs,t)))})})}),!0):!1},Jxe=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),Zxe=()=>({tr:e,dispatch:t})=>{if(t){const n=new Or(e.doc);e.setSelection(n)}return!0},Qxe=()=>({state:e,dispatch:t})=>PM(e,t),ewe=()=>({state:e,dispatch:t})=>AM(e,t),twe=()=>({state:e,dispatch:t})=>I1e(e,t),nwe=()=>({state:e,dispatch:t})=>P1e(e,t),rwe=()=>({state:e,dispatch:t})=>S1e(e,t),owe=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:i,dispatch:s,commands:a})=>{const{doc:l}=i;if(r.preserveWhitespace!=="full"){const c=$1(e,o.schema,r,{errorOnInvalidContent:t??o.options.enableContentCheck});return s&&i.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return s&&i.setMeta("preventUpdate",!n),a.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??o.options.enableContentCheck})};function iwe(e,t,n){var r;const{selection:o}=t;let i=null;if(YM(o)&&(i=o.$cursor),i){const a=(r=e.storedMarks)!=null?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(a)||!a.some(c=>c.type.excludes(n)))}const{ranges:s}=o;return s.some(({$from:a,$to:l})=>{let c=a.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(a.pos,l.pos,(u,p,h)=>{if(c)return!1;if(u.isInline){const f=!h||h.type.allowsMarkType(n),g=!!n.isInSet(u.marks)||!u.marks.some(m=>m.type.excludes(n));c=f&&g}return!c}),c})}var swe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:i}=n,{empty:s,ranges:a}=i,l=ns(e,r.schema);if(o)if(s){const c=WM(r,l);n.addStoredMark(l.create({...c,...t}))}else a.forEach(c=>{const u=c.$from.pos,p=c.$to.pos;r.doc.nodesBetween(u,p,(h,f)=>{const g=Math.max(f,u),m=Math.min(f+h.nodeSize,p);h.marks.find(w=>w.type===l)?h.marks.forEach(w=>{l===w.type&&n.addMark(g,m,l.create({...w.attrs,...t}))}):n.addMark(g,m,l.create(t))})});return iwe(r,n,l)},awe=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),lwe=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const i=Zt(e,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),i.isTextblock?o().command(({commands:a})=>YI(i,{...s,...t})(n)?!0:a.clearNodes()).command(({state:a})=>YI(i,{...s,...t})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},cwe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,o=Ua(e,0,r.content.size),i=Pe.create(r,o);t.setSelection(i)}return!0},uwe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:o,to:i}=typeof e=="number"?{from:e,to:e}:e,s=ze.atStart(r).from,a=ze.atEnd(r).to,l=Ua(o,s,a),c=Ua(i,s,a),u=ze.create(r,l,c);t.setSelection(u)}return!0},dwe=e=>({state:t,dispatch:n})=>{const r=Zt(e,t.schema);return V1e(r)(t,n)};function nT(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(o=>t?.includes(o.type.name));e.tr.ensureMarks(r)}}var pwe=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:i,doc:s}=t,{$from:a,$to:l}=i,c=o.extensionManager.attributes,u=qh(c,a.node().type.name,a.node().attrs);if(i instanceof Pe&&i.node.isBlock)return!a.parentOffset||!Ai(s,a.pos)?!1:(r&&(e&&nT(n,o.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const p=l.parentOffset===l.parent.content.size,h=a.depth===0?void 0:z1e(a.node(-1).contentMatchAt(a.indexAfter(-1)));let f=p&&h?[{type:h,attrs:u}]:void 0,g=Ai(t.doc,t.mapping.map(a.pos),1,f);if(!f&&!g&&Ai(t.doc,t.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(g=!0,f=h?[{type:h,attrs:u}]:void 0),r){if(g&&(i instanceof ze&&t.deleteSelection(),t.split(t.mapping.map(a.pos),1,f),h&&!p&&!a.parentOffset&&a.parent.type!==h)){const m=t.mapping.map(a.before()),b=t.doc.resolve(m);a.node(-1).canReplaceWith(b.index(),b.index()+1,h)&&t.setNodeMarkup(t.mapping.map(a.before()),h)}e&&nT(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return g},fwe=(e,t={})=>({tr:n,state:r,dispatch:o,editor:i})=>{var s;const a=Zt(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const p=l.node(-1);if(p.type!==a)return!1;const h=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let w=ie.empty;const E=l.index(-1)?1:l.index(-2)?2:3;for(let C=l.depth-E;C>=l.depth-3;C-=1)w=ie.from(l.node(C).copy(w));const k=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,v={...qh(h,l.node().type.name,l.node().attrs),...t},_=((s=a.contentMatch.defaultType)==null?void 0:s.createAndFill(v))||void 0;w=w.append(ie.from(a.createAndFill(null,_)||void 0));const T=l.before(l.depth-(E-1));n.replace(T,l.after(-k),new we(w,4-E,0));let N=-1;n.doc.nodesBetween(T,n.doc.content.size,(C,x)=>{if(N>-1)return!1;C.isTextblock&&C.content.size===0&&(N=x+1)}),N>-1&&n.setSelection(ze.near(n.doc.resolve(N))),n.scrollIntoView()}return!0}const f=c.pos===l.end()?p.contentMatchAt(0).defaultType:null,g={...qh(h,p.type.name,p.attrs),...t},m={...qh(h,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const b=f?[{type:a,attrs:g},{type:f,attrs:m}]:[{type:a,attrs:g}];if(!Ai(n.doc,l.pos,2))return!1;if(o){const{selection:w,storedMarks:E}=r,{splittableMarks:k}=i.extensionManager,v=E||w.$to.parentOffset&&w.$from.marks();if(n.split(l.pos,2,b).scrollIntoView(),!v||!o)return!0;const _=v.filter(T=>k.includes(T.type.name));n.ensureMarks(_)}return!0},yy=(e,t)=>{const n=Wv(s=>s.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&ga(e.doc,n.pos)&&e.join(n.pos),!0},xy=(e,t)=>{const n=Wv(s=>s.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&ga(e.doc,r)&&e.join(r),!0},hwe=(e,t,n,r={})=>({editor:o,tr:i,state:s,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:p,splittableMarks:h}=o.extensionManager,f=Zt(e,s.schema),g=Zt(t,s.schema),{selection:m,storedMarks:b}=s,{$from:w,$to:E}=m,k=w.blockRange(E),v=b||m.$to.parentOffset&&m.$from.marks();if(!k)return!1;const _=Wv(T=>eT(T.type.name,p))(m);if(k.depth>=1&&_&&k.depth-_.depth<=1){if(_.node.type===f)return c.liftListItem(g);if(eT(_.node.type.name,p)&&f.validContent(_.node.content)&&a)return l().command(()=>(i.setNodeMarkup(_.pos,f),!0)).command(()=>yy(i,f)).command(()=>xy(i,f)).run()}return!n||!v||!a?l().command(()=>u().wrapInList(f,r)?!0:c.clearNodes()).wrapInList(f,r).command(()=>yy(i,f)).command(()=>xy(i,f)).run():l().command(()=>{const T=u().wrapInList(f,r),N=v.filter(C=>h.includes(C.type.name));return i.ensureMarks(N),T?!0:c.clearNodes()}).wrapInList(f,r).command(()=>yy(i,f)).command(()=>xy(i,f)).run()},gwe=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:i=!1}=n,s=ns(e,r.schema);return R1(r,s,t)?o.unsetMark(s,{extendEmptyMarkRange:i}):o.setMark(s,t)},mwe=(e,t,n={})=>({state:r,commands:o})=>{const i=Zt(e,r.schema),s=Zt(t,r.schema),a=na(r,i,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?o.setNode(s,l):o.setNode(i,{...l,...n})},vwe=(e,t={})=>({state:n,commands:r})=>{const o=Zt(e,n.schema);return na(n,o,t)?r.lift(o):r.wrapIn(o,t)},bwe=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let i;if(o.spec.isInputRules&&(i=o.getState(e))){if(t){const s=e.tr,a=i.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(i.text){const l=s.doc.resolve(i.from).marks();s.replaceWith(i.from,i.to,e.schema.text(i.text,l))}else s.delete(i.from,i.to)}return!0}}return!1},ywe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(i=>{e.removeMark(i.$from.pos,i.$to.pos)}),!0},xwe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var i;const{extendEmptyMarkRange:s=!1}=t,{selection:a}=n,l=ns(e,r.schema),{$from:c,empty:u,ranges:p}=a;if(!o)return!0;if(u&&s){let{from:h,to:f}=a;const g=(i=c.marks().find(b=>b.type===l))==null?void 0:i.attrs,m=k_(c,l,g);m&&(h=m.from,f=m.to),n.removeMark(h,f,l)}else p.forEach(h=>{n.removeMark(h.$from.pos,h.$to.pos,l)});return n.removeStoredMark(l),!0},wwe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let i=null,s=null;const a=qv(typeof e=="string"?e:e.name,r.schema);return a?(a==="node"&&(i=Zt(e,r.schema)),a==="mark"&&(s=ns(e,r.schema)),o&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let p,h,f,g;n.selection.empty?r.doc.nodesBetween(c,u,(m,b)=>{i&&i===m.type&&(f=Math.max(b,c),g=Math.min(b+m.nodeSize,u),p=b,h=m)}):r.doc.nodesBetween(c,u,(m,b)=>{b<c&&i&&i===m.type&&(f=Math.max(b,c),g=Math.min(b+m.nodeSize,u),p=b,h=m),b>=c&&b<=u&&(i&&i===m.type&&n.setNodeMarkup(b,void 0,{...m.attrs,...t}),s&&m.marks.length&&m.marks.forEach(w=>{if(s===w.type){const E=Math.max(b,c),k=Math.min(b+m.nodeSize,u);n.addMark(E,k,s.create({...w.attrs,...t}))}}))}),h&&(p!==void 0&&n.setNodeMarkup(p,void 0,{...h.attrs,...t}),s&&h.marks.length&&h.marks.forEach(m=>{s===m.type&&n.addMark(f,g,s.create({...m.attrs,...t}))}))}),!0):!1},_we=(e,t={})=>({state:n,dispatch:r})=>{const o=Zt(e,n.schema);return $1e(o,t)(n,r)},kwe=(e,t={})=>({state:n,dispatch:r})=>{const o=Zt(e,n.schema);return R1e(o,t)(n,r)},rD=Po.create({name:"commands",addCommands(){return{...tD}}}),oD=Po.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,o;const i=()=>{var s,a,l,c;if((c=(l=(a=(s=this.editor.options.coreExtensionOptions)==null?void 0:s.delete)==null?void 0:a.filterTransaction)==null?void 0:l.call(a,e))!=null?c:e.getMeta("y-sync$"))return;const u=H1e(e.before,[e,...t]);Q1e(u).forEach(f=>{u.mapping.mapResult(f.oldRange.from).deletedAfter&&u.mapping.mapResult(f.oldRange.to).deletedBefore&&u.before.nodesBetween(f.oldRange.from,f.oldRange.to,(g,m)=>{const b=m+g.nodeSize-2,w=f.oldRange.from<=m&&b<=f.oldRange.to;this.editor.emit("delete",{type:"node",node:g,from:m,to:b,newFrom:u.mapping.map(m),newTo:u.mapping.map(b),deletedRange:f.oldRange,newRange:f.newRange,partial:!w,editor:this.editor,transaction:e,combinedTransform:u})})});const h=u.mapping;u.steps.forEach((f,g)=>{var m,b;if(f instanceof ro){const w=h.slice(g).map(f.from,-1),E=h.slice(g).map(f.to),k=h.invert().map(w,-1),v=h.invert().map(E),_=(m=u.doc.nodeAt(w-1))==null?void 0:m.marks.some(N=>N.eq(f.mark)),T=(b=u.doc.nodeAt(E))==null?void 0:b.marks.some(N=>N.eq(f.mark));this.editor.emit("delete",{type:"mark",mark:f.mark,from:f.from,to:f.to,deletedRange:{from:k,to:v},newRange:{from:w,to:E},partial:!!(T||_),editor:this.editor,transaction:e,combinedTransform:u})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(i,0):i()}}),iD=Po.create({name:"drop",addProseMirrorPlugins(){return[new pi({key:new El("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),sD=Po.create({name:"editable",addProseMirrorPlugins(){return[new pi({key:new El("editable"),props:{editable:()=>this.editor.options.editable}})]}}),aD=new El("focusEvents"),lD=Po.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new pi({key:aD,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),cD=Po.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:p}=l,{pos:h,parent:f}=p,g=p.parent.isTextblock&&h>0?a.doc.resolve(h-1):p,m=g.parent.type.spec.isolating,b=p.pos-p.parentOffset,w=m&&g.parent.childCount===1?b===p.pos:qe.atStart(c).from===h;return!u||!f.type.isTextblock||f.textContent.length||!w||w&&p.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},i={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return I_()||nD()?i:o},addProseMirrorPlugins(){return[new pi({key:new El("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(m=>m.getMeta("composition")))return;const r=e.some(m=>m.docChanged)&&!t.doc.eq(n.doc),o=e.some(m=>m.getMeta("preventClearDocument"));if(!r||o)return;const{empty:i,from:s,to:a}=t.selection,l=qe.atStart(t.doc).from,c=qe.atEnd(t.doc).to;if(i||!(s===l&&a===c)||!C_(n.doc))return;const h=n.tr,f=jv({state:n,transaction:h}),{commands:g}=new Gv({editor:this.editor,state:f});if(g.clearNodes(),!!h.steps.length)return h}})]}}),uD=Po.create({name:"paste",addProseMirrorPlugins(){return[new pi({key:new El("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),dD=Po.create({name:"tabindex",addProseMirrorPlugins(){return[new pi({key:new El("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Cwe=class sc{constructor(t,n,r=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=o}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new sc(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new sc(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new sc(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const o=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,s=this.pos+r+(i?0:1);if(s<0||s>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(s);if(!o&&a.depth<=this.depth)return;const l=new sc(a,this.editor,o,o?n:null);o&&(l.actualDepth=this.depth+1),t.push(new sc(a,this.editor,o,o?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,o=this.parent;for(;o&&!r;){if(o.node.type.name===t)if(Object.keys(n).length>0){const i=o.node.attrs,s=Object.keys(n);for(let a=0;a<s.length;a+=1){const l=s[a];if(i[l]!==n[l])break}}else r=o;o=o.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let o=[];if(!this.children||this.children.length===0)return o;const i=Object.keys(n);return this.children.forEach(s=>{r&&o.length>0||(s.node.type.name===t&&i.every(l=>n[l]===s.node.attrs[l])&&o.push(s),!(r&&o.length>0)&&(o=o.concat(s.querySelectorAll(t,n,r))))}),o}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}},Ewe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Owe(e,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const o=document.createElement("style");return t&&o.setAttribute("nonce",t),o.setAttribute("data-tiptap-style",""),o.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(o),o}var Iwe=class extends B1e{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:o})=>{throw o},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:o,slice:i,moved:s})=>this.options.onDrop(o,i,s)),this.on("paste",({event:o,slice:i})=>this.options.onPaste(o,i)),this.on("delete",this.options.onDelete);const n=this.createDoc(),r=XM(n,this.options.autofocus);this.editorState=gc.create({doc:n,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Owe(Ewe,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,n=!0){this.setOptions({editable:t}),n&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,n)=>{if(n==="state")return this.editorState;if(n in t)return Reflect.get(t,n);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${n}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,n){const r=HM(n)?n(t,[...this.state.plugins]):[...this.state.plugins,t],o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}unregisterPlugin(t){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(t).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;r=r.filter(a=>!a.key.startsWith(s))}),n.length===r.length)return;const o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}createExtensionManager(){var t,n;const o=[...this.options.enableCoreExtensions?[sD,eD.configure({blockSeparator:(n=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:n.blockSeparator}),rD,lD,cD,dD,iD,uD,oD].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new Yv(o,this)}createCommandManager(){this.commandManager=new Gv({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=$1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(n){if(!(n instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(n.message))throw n;this.emit("contentError",{editor:this,error:n,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),t=$1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var n;this.editorView=new OM(t,{...this.options.editorProps,attributes:{role:"textbox",...(n=this.options.editorProps)==null?void 0:n.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.prependClass(),this.injectCSS();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(u=>{var p;return(p=this.capturedTransaction)==null?void 0:p.step(u)});return}const{state:n,transactions:r}=this.state.applyTransaction(t),o=!this.state.selection.eq(n.selection),i=r.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:n}),!i)return;this.view.updateState(n),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:r.slice(1)}),o&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=r.findLast(u=>u.getMeta("focus")||u.getMeta("blur")),l=a?.getMeta("focus"),c=a?.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:a}),c&&this.emit("blur",{editor:this,event:c.event,transaction:a}),!(t.getMeta("preventUpdate")||!r.some(u=>u.docChanged)||s.doc.eq(n.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:r.slice(1)})}getAttributes(t){return X1e(this.state,t)}isActive(t,n){const r=typeof t=="string"?t:null,o=typeof t=="string"?n:t;return nxe(this.state,r,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return x_(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:n=`

`,textSerializers:r={}}=t||{};return K1e(this.state.doc,{blockSeparator:n,textSerializers:{...GM(this.schema),...r}})}get isEmpty(){return C_(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,n;return(n=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?n:!0}$node(t,n){var r;return((r=this.$doc)==null?void 0:r.querySelector(t,n))||null}$nodes(t,n){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(t,n))||null}$pos(t){const n=this.state.doc.resolve(t);return new Cwe(n,this)}get $doc(){return this.$pos(0)}};function bm(e){return new E_({find:e.find,handler:({state:t,range:n,match:r})=>{const o=gt(e.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:i}=t,s=r[r.length-1],a=r[0];if(s){const l=a.search(/\S/),c=n.from+a.indexOf(s),u=c+s.length;if(KM(n.from,n.to,t.doc).filter(f=>f.mark.type.excluded.find(m=>m===e.type&&m!==f.mark.type)).filter(f=>f.to>c).length)return null;u<n.to&&i.delete(u,n.to),c>n.from&&i.delete(n.from+l,c);const h=n.from+l+s.length;i.addMark(n.from+l,h,e.type.create(o||{})),i.removeStoredMark(e.type)}},undoable:e.undoable})}function Twe(e){return new E_({find:e.find,handler:({state:t,range:n,match:r})=>{const o=t.doc.resolve(n.from),i=gt(e.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,i)},undoable:e.undoable})}function Rp(e){return new E_({find:e.find,handler:({state:t,range:n,match:r,chain:o})=>{const i=gt(e.getAttributes,void 0,r)||{},s=t.tr.delete(n.from,n.to),l=s.doc.resolve(n.from).blockRange(),c=l&&r_(l,e.type,i);if(!c)return null;if(s.wrap(l,c),e.keepMarks&&e.editor){const{selection:p,storedMarks:h}=t,{splittableMarks:f}=e.editor.extensionManager,g=h||p.$to.parentOffset&&p.$from.marks();if(g){const m=g.filter(b=>f.includes(b.type.name));s.ensureMarks(m)}}if(e.keepAttributes){const p=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(p,i).run()}const u=s.doc.resolve(n.from-1).nodeBefore;u&&u.type===e.type&&ga(s.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,u))&&s.join(n.from-1)},undoable:e.undoable})}function Swe(e,t,n={}){const{state:r}=t,{doc:o,tr:i}=r,s=e;o.descendants((a,l)=>{const c=i.mapping.map(l),u=i.mapping.map(l)+a.nodeSize;let p=null;if(a.marks.forEach(f=>{if(f!==s)return!1;p=f}),!p)return;let h=!1;if(Object.keys(n).forEach(f=>{n[f]!==p.attrs[f]&&(h=!0)}),h){const f=e.type.create({...e.attrs,...n});i.removeMark(c,u,e.type),i.addMark(c,u,f)}}),i.docChanged&&t.view.dispatch(i)}var rs=class pD extends O_{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new pD(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function ym(e){return new uxe({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:o})=>{const i=gt(e.getAttributes,void 0,r,o);if(i===!1||i===null)return null;const{tr:s}=t,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),p=n.from+l.indexOf(a),h=p+a.length;if(KM(n.from,n.to,t.doc).filter(g=>g.mark.type.excluded.find(b=>b===e.type&&b!==g.mark.type)).filter(g=>g.to>p).length)return null;h<n.to&&s.delete(h,n.to),p>n.from&&s.delete(n.from+u,p),c=n.from+u+a.length,s.addMark(n.from+u,c,e.type.create(i||{})),s.removeStoredMark(e.type)}}})}function rT(e){return U1((t,n)=>({get(){return t(),e},set(r){e=r,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}var Pwe=class extends Iwe{constructor(e={}){return super(e),this.contentComponent=null,this.appContext=null,this.reactiveState=rT(this.view.state),this.reactiveExtensionStorage=rT(this.extensionStorage),this.on("beforeTransaction",({nextState:t})=>{this.reactiveState.value=t,this.reactiveExtensionStorage.value=this.extensionStorage}),fe(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,t){const n=super.registerPlugin(e,t);return this.reactiveState&&(this.reactiveState.value=n),n}unregisterPlugin(e){const t=super.unregisterPlugin(e);return this.reactiveState&&t&&(this.reactiveState.value=t),t}},$we=P({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(e){const t=Q(),n=zt();return pS(()=>{const r=e.editor;r&&r.options.element&&t.value&&Nn(()=>{var o;if(!t.value||!((o=r.view.dom)!=null&&o.firstChild))return;const i=d(t.value);t.value.append(r.view.dom),r.contentComponent=n.ctx._,n&&(r.appContext={...n.appContext,provides:n.provides}),r.setOptions({element:i}),r.createNodeViews()})}),on(()=>{const r=e.editor;r&&(r.contentComponent=null,r.appContext=null)}),{rootEl:t}},render(){return uo("div",{ref:e=>{this.rootEl=e}})}}),Rwe=(e={})=>{const t=co();return Je(()=>{t.value=new Pwe(e)}),on(()=>{var n,r,o;const i=(n=t.value)==null?void 0:n.view.dom,s=i?.cloneNode(!0);(r=i?.parentNode)==null||r.replaceChild(s,i),(o=t.value)==null||o.destroy()}),t},Awe=rs.create({name:"doc",topNode:!0,content:"block+"}),Nwe=Awe,Mwe=rs.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",Kr(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Dwe=Mwe,Lwe=rs.create({name:"text",group:"inline"}),Vwe=Lwe,oT=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:n,...r}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},Fwe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Bwe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Hwe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,zwe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Uwe=Kv.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return oT("strong",{...Kr(this.options.HTMLAttributes,e),children:oT("slot",{})})},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[bm({find:Fwe,type:this.type}),bm({find:Hwe,type:this.type})]},addPasteRules(){return[ym({find:Bwe,type:this.type}),ym({find:zwe,type:this.type})]}}),jwe=Uwe,Gwe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Wwe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,qwe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Kwe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Ywe=Kv.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",Kr(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[bm({find:Gwe,type:this.type}),bm({find:qwe,type:this.type})]},addPasteRules(){return[ym({find:Wwe,type:this.type}),ym({find:Kwe,type:this.type})]}}),Xwe=Ywe,Jwe=Kv.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",Kr(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Zwe=Jwe,Qwe=rs.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,Kr(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>Twe({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),e_e=Qwe,t_e=Object.defineProperty,n_e=(e,t)=>{for(var n in t)t_e(e,n,{get:t[n],enumerable:!0})},r_e="listItem",iT="textStyle",sT=/^\s*([-+*])\s$/,fD=rs.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",Kr(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(r_e,this.editor.getAttributes(iT)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Rp({find:sT,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Rp({find:sT,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(iT),editor:this.editor})),[e]}}),hD=rs.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",Kr(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),o_e={};n_e(o_e,{findListItemPos:()=>mf,getNextListDepth:()=>T_,handleBackspace:()=>A1,handleDelete:()=>N1,hasListBefore:()=>gD,hasListItemAfter:()=>i_e,hasListItemBefore:()=>mD,listItemHasSubList:()=>vD,nextListIsDeeper:()=>bD,nextListIsHigher:()=>yD});var mf=(e,t)=>{const{$from:n}=t.selection,r=Zt(e,t.schema);let o=null,i=n.depth,s=n.pos,a=null;for(;i>0&&a===null;)o=n.node(i),o.type===r?a=i:(i-=1,s-=1);return a===null?null:{$pos:t.doc.resolve(s),depth:a}},T_=(e,t)=>{const n=mf(e,t);if(!n)return!1;const[,r]=exe(t,e,n.$pos.pos+4);return r},gD=(e,t,n)=>{const{$anchor:r}=e.selection,o=Math.max(0,r.pos-2),i=e.doc.resolve(o).node();return!(!i||!n.includes(i.type.name))},mD=(e,t)=>{var n;const{$anchor:r}=t.selection,o=t.doc.resolve(r.pos-2);return!(o.index()===0||((n=o.nodeBefore)==null?void 0:n.type.name)!==e)},vD=(e,t,n)=>{if(!n)return!1;const r=Zt(e,t.schema);let o=!1;return n.descendants(i=>{i.type===r&&(o=!0)}),o},A1=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!na(e.state,t)&&gD(e.state,t,n)){const{$anchor:a}=e.state.selection,l=e.state.doc.resolve(a.before()-1),c=[];l.node().descendants((h,f)=>{h.type.name===t&&c.push({node:h,pos:f})});const u=c.at(-1);if(!u)return!1;const p=e.state.doc.resolve(l.start()+u.pos+1);return e.chain().cut({from:a.start()-1,to:a.end()+1},p.end()).joinForward().run()}if(!na(e.state,t)||!oxe(e.state))return!1;const r=mf(t,e.state);if(!r)return!1;const i=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),s=vD(t,e.state,i);return mD(t,e.state)&&!s?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},bD=(e,t)=>{const n=T_(e,t),r=mf(e,t);return!r||!n?!1:n>r.depth},yD=(e,t)=>{const n=T_(e,t),r=mf(e,t);return!r||!n?!1:n<r.depth},N1=(e,t)=>{if(!na(e.state,t)||!rxe(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:o}=n;return!n.empty&&r.sameParent(o)?!1:bD(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():yD(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},i_e=(e,t)=>{var n;const{$anchor:r}=t.selection,o=t.doc.resolve(r.pos-r.parentOffset-2);return!(o.index()===o.parent.childCount-1||((n=o.nodeAfter)==null?void 0:n.type.name)!==e)},s_e=Po.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&N1(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&N1(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&A1(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&A1(e,n,r)&&(t=!0)}),t}}}}),a_e="listItem",aT="textStyle",lT=/^(\d+)\.\s$/,xD=rs.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",Kr(this.options.HTMLAttributes,n),0]:["ol",Kr(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(a_e,this.editor.getAttributes(aT)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Rp({find:lT,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Rp({find:lT,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(aT)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),l_e=/^\s*(\[([( |x])?\])\s$/,c_e=rs.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",Kr(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const o=document.createElement("li"),i=document.createElement("label"),s=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div"),c=u=>{var p,h;a.ariaLabel=((h=(p=this.options.a11y)==null?void 0:p.checkboxLabel)==null?void 0:h.call(p,u,a.checked))||`Task item checkbox for ${u.textContent||"empty task item"}`};return c(e),i.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",u=>u.preventDefault()),a.addEventListener("change",u=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:p}=u.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:h})=>{const f=n();if(typeof f!="number")return!1;const g=h.doc.nodeAt(f);return h.setNodeMarkup(f,void 0,{...g?.attrs,checked:p}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,p)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,p])=>{o.setAttribute(u,p)}),o.dataset.checked=e.attrs.checked,a.checked=e.attrs.checked,i.append(a,s),o.append(i,l),Object.entries(t).forEach(([u,p])=>{o.setAttribute(u,p)}),{dom:o,contentDOM:l,update:u=>u.type!==this.type?!1:(o.dataset.checked=u.attrs.checked,a.checked=u.attrs.checked,c(u),!0)}}},addInputRules(){return[Rp({find:l_e,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),u_e=rs.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",Kr(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Po.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(fD.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(hD.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(s_e.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(xD.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(c_e.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(u_e.configure(this.options.taskList)),e}});var d_e=fD,p_e=xD,f_e=hD;const h_e={key:0,class:"text-sm block mb-1 font-medium text-gray-700"},g_e={key:1,class:"border rounded-lg"},m_e={class:"h-10 px-3 flex gap-2 items-center border-b bg-zinc-200 [&>button]:p-1 [&>button]:rounded-md [&>button:hover]:bg-zinc-300"},v_e={class:"focus-within:ring focus-within:ring-zinc-700 rounded-b overflow-hidden [&>div]:overflow-y-auto [&>div]:max-h-48"},b_e=P({__name:"RichtextEditor",props:at({field:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const{t}=Et(),n=rt(e,"modelValue"),r=Rwe({content:n.value,extensions:[Nwe,Dwe,Vwe,jwe,Xwe,Zwe,e_e,d_e,p_e,f_e],injectCSS:!1,editorProps:{attributes:{class:"p-3 prose prose-sm prose-gray focus:outline-none"}},onUpdate({editor:o}){n.value=o.getHTML()}});return st(n,o=>{r.value&&r.value.getHTML()!==o&&r.value.commands.setContent(o)}),Nm(()=>{r.value?.destroy()}),(o,i)=>{const s=Abe,a=Pbe,l=Ibe,c=Cbe,u=mu,p=wbe,h=bbe;return y(),V("div",null,[e.field.label?(y(),V("label",h_e,j(e.field.label),1)):Z("",!0),d(r)?(y(),V("section",g_e,[D("header",m_e,[D("button",{title:"Bold",onClick:i[0]||(i[0]=f=>d(r).chain().focus().toggleBold().run()),class:Ne({"bg-zinc-300 text-blue-500":d(r).isActive("bold")})},[S(s,{class:"w-4 h-4"})],2),D("button",{title:"Italic",onClick:i[1]||(i[1]=f=>d(r).chain().focus().toggleItalic().run()),class:Ne({"bg-zinc-300 text-blue-500":d(r).isActive("italic")})},[S(a,{class:"w-4 h-4"})],2),D("button",{title:"Underline",onClick:i[2]||(i[2]=f=>d(r).chain().focus().toggleUnderline().run()),class:Ne({"bg-zinc-300 text-blue-500":d(r).isActive("underline")})},[S(l,{class:"w-4 h-4"})],2),e.field.inline?Z("",!0):(y(),V(ge,{key:0},[S(d(Ge).Root,null,{default:O(()=>[S(d(Ge).Trigger,{class:"flex outline-none items-center"},{default:O(()=>[S(c,{class:"w-4 h-4"}),S(u,{class:"w-3 h-3"})]),_:1}),S(d(Ge).Positioner,null,{default:O(()=>[S(d(Ge).Content,{class:"shadow-sm rounded-md bg-white border outline-none overflow-hidden"},{default:O(()=>[S(d(Ge).ItemGroup,null,{default:O(()=>[S(d(Ge).ItemGroupLabel,{class:"bg-zinc-300 px-3 py-2"},{default:O(()=>[...i[11]||(i[11]=[re("Headings",-1)])]),_:1}),S(d(Ge).Item,{value:"h1",class:"text-2xl flex items-center px-3 py-2 gap-2 cursor-pointer font-bold hover:bg-zinc-100",onClick:i[3]||(i[3]=f=>d(r).chain().focus().toggleHeading({level:1}).run())},{default:O(()=>[re(j(d(t)("Heading 1")),1)]),_:1}),S(d(Ge).Item,{value:"h2",class:"text-xl flex items-center px-3 py-2 gap-2 font-semibold cursor-pointer hover:bg-zinc-100",onClick:i[4]||(i[4]=f=>d(r).chain().focus().toggleHeading({level:2}).run())},{default:O(()=>[re(j(d(t)("Heading 2")),1)]),_:1}),S(d(Ge).Item,{value:"h2",class:"text-lg flex items-center px-3 py-2 gap-2 font-medium cursor-pointer hover:bg-zinc-100",onClick:i[5]||(i[5]=f=>d(r).chain().focus().toggleHeading({level:3}).run())},{default:O(()=>[re(j(d(t)("Heading 3")),1)]),_:1}),S(d(Ge).Item,{value:"h2",class:"text-md flex items-center px-3 py-2 gap-2 font-medium cursor-pointer hover:bg-zinc-100",onClick:i[6]||(i[6]=f=>d(r).chain().focus().toggleHeading({level:4}).run())},{default:O(()=>[re(j(d(t)("Heading 4")),1)]),_:1}),S(d(Ge).Item,{value:"h2",class:"text-sm flex items-center px-3 py-2 gap-2 font-medium cursor-pointer hover:bg-zinc-100",onClick:i[7]||(i[7]=f=>d(r).chain().focus().toggleHeading({level:5}).run())},{default:O(()=>[re(j(d(t)("Heading 5")),1)]),_:1}),S(d(Ge).Item,{value:"h2",class:"text-xs flex items-center px-3 py-2 gap-2 font-medium cursor-pointer hover:bg-zinc-100",onClick:i[8]||(i[8]=f=>d(r).chain().focus().toggleHeading({level:6}).run())},{default:O(()=>[re(j(d(t)("Heading 6")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),D("button",{title:"Bullet list",onClick:i[9]||(i[9]=f=>d(r).chain().focus().toggleBulletList().run()),class:Ne({"bg-zinc-300 text-blue-500":d(r).isActive("bulletList")})},[S(p,{class:"w-4 h-4"})],2),D("button",{title:"Numbered list",onClick:i[10]||(i[10]=f=>d(r).chain().focus().toggleOrderedList().run()),class:Ne({"bg-zinc-300 text-blue-500":d(r).isActive("orderedList")})},[S(h,{class:"w-4 h-4"})],2)],64))]),D("div",v_e,[S(d($we),{editor:d(r)},null,8,["editor"])])])):Z("",!0)])}}}),y_e={class:"flex flex-col gap-2"},x_e={key:0,class:"text-sm font-medium text-gray-700"},w_e={class:"flex flex-col gap-4"},__e={class:"flex gap-2"},k_e={class:"relative"},C_e=["onMousedown","onDblclick"],E_e={key:1,class:"flex flex-col gap-3 p-3 border rounded bg-gray-50"},O_e={class:"flex items-center justify-between"},I_e=P({__name:"GradientPicker",props:at({field:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=rt(e,"modelValue"),n={type:"linear",angle:90,stops:[{color:"#000000ff",position:0},{color:"#ffffffff",position:100}]},r=A({get:()=>t.value||n,set:k=>{t.value=k}});function o(){r.value={...r.value}}const i=Q(!1),s=Q(0),a=A(()=>{if(!r.value)return"linear-gradient(90deg, #000000 0%, #ffffff 100%)";const{type:k,angle:v,stops:_}=r.value,T=_.map(N=>`${l(N.color)} ${N.position}%`).join(", ");return k==="linear"?`linear-gradient(${v}deg, ${T})`:`radial-gradient(circle, ${T})`});function l(k){const v=k.replace("#",""),_=parseInt(v.slice(0,2),16),T=parseInt(v.slice(2,4),16),N=parseInt(v.slice(4,6),16),C=v.length===8?parseInt(v.slice(6,8),16)/255:1;return`rgba(${_}, ${T}, ${N}, ${C})`}function c(k){const v=[...r.value.stops].sort((I,R)=>I.position-R.position);let _=v[0],T=v[v.length-1];for(let I=0;I<v.length-1;I++)if(v[I].position<=k&&v[I+1].position>=k){_=v[I],T=v[I+1];break}const N=(k-_.position)/(T.position-_.position),x={color:u(_.color,T.color,N),position:Math.round(k)};r.value.stops.push(x),r.value.stops.sort((I,R)=>I.position-R.position),o(),s.value=r.value.stops.indexOf(x)}function u(k,v,_){const T=parseInt(k.slice(1,3),16),N=parseInt(k.slice(3,5),16),C=parseInt(k.slice(5,7),16),x=k.length===9?parseInt(k.slice(7,9),16):255,I=parseInt(v.slice(1,3),16),R=parseInt(v.slice(3,5),16),M=parseInt(v.slice(5,7),16),B=v.length===9?parseInt(v.slice(7,9),16):255,z=Math.round(T+(I-T)*_),J=Math.round(N+(R-N)*_),q=Math.round(C+(M-C)*_),K=Math.round(x+(B-x)*_);return`#${z.toString(16).padStart(2,"0")}${J.toString(16).padStart(2,"0")}${q.toString(16).padStart(2,"0")}${K.toString(16).padStart(2,"0")}`}function p(k){r.value.stops.length<=2||(r.value.stops.splice(k,1),o(),s.value===k?s.value=Math.max(0,k-1):s.value!==null&&s.value>k&&s.value--)}const h=Q(!1),f=Q(null),g=Q(!1),m=Q(0);function b(k){const v=Date.now();if(g.value||v-m.value<200){g.value=!1;return}const _=k.currentTarget.getBoundingClientRect(),T=(k.clientX-_.left)/_.width*100;c(T)}function w(k,v){k.preventDefault(),k.stopPropagation(),m.value=Date.now(),h.value=!0,f.value=v,s.value=v,g.value=!1;const T=k.target.parentElement.getBoundingClientRect(),N=k.clientX,C=I=>{if(h.value&&f.value!==null){Math.abs(I.clientX-N)>3&&(g.value=!0);const R=(I.clientX-T.left)/T.width*100,M=Math.max(0,Math.min(100,R));r.value.stops[f.value].position=Math.round(M),o()}},x=()=>{h.value=!1,f.value=null,document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",x),setTimeout(()=>{g.value=!1},100)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",x)}const E=A(()=>s.value!==null&&r.value?r.value.stops[s.value]:null);return st(()=>E.value?.position,k=>{if(k!==void 0&&s.value!==null&&r.value){const v=r.value.stops[s.value];r.value.stops.sort((_,T)=>_.position-T.position),o(),s.value=r.value.stops.findIndex(_=>_===v)}}),(k,v)=>(y(),V("div",y_e,[e.field.label?(y(),V("label",x_e,j(e.field.label),1)):Z("",!0),S(d(Xe).Root,{open:d(i),"onUpdate:open":v[6]||(v[6]=_=>Ce(i)?i.value=_:null)},{default:O(()=>[S(d(Xe).Trigger,{"as-child":""},{default:O(()=>[D("div",{class:"h-12 rounded border border-zinc-300 cursor-pointer hover:border-zinc-400 transition-colors",style:Yt({background:d(a)})},null,4)]),_:1}),S(d(Xe).Positioner,{class:"w-[var(--reference-width)] !min-w-auto"},{default:O(()=>[S(d(Xe).Content,{class:"border border-zinc-300 rounded shadow-lg z-50 bg-white w-full p-2"},{default:O(()=>[D("div",w_e,[D("div",__e,[S(d(Vt),{fullWidth:"",variant:d(r).type==="linear"?"accent":"default",onClick:v[0]||(v[0]=()=>{d(r).type="linear",o()})},{default:O(()=>[...v[7]||(v[7]=[re(" Linear ",-1)])]),_:1},8,["variant"]),S(d(Vt),{fullWidth:"",variant:d(r).type==="radial"?"accent":"default",onClick:v[1]||(v[1]=()=>{d(r).type="radial",o()})},{default:O(()=>[...v[8]||(v[8]=[re(" Radial ",-1)])]),_:1},8,["variant"])]),d(r).type==="linear"?(y(),$(d(Nr).Root,{key:0,min:0,max:360,"model-value":[d(r).angle??90],onValueChange:v[2]||(v[2]=_=>{d(r).angle=_.value[0],o()}),class:"relative w-full"},{default:O(()=>[S(d(Nr).Label,{class:"text-sm font-medium text-zinc-700 mb-1 block"},{default:O(()=>[re("Angle: "+j(d(r).angle)+"",1)]),_:1}),S(d(Nr).Control,{class:"flex-1 flex items-center h-2 select-none touch-none"},{default:O(()=>[S(d(Nr).Track,{class:"w-full overflow-hidden h-1 rounded-full bg-gray-100"},{default:O(()=>[S(d(Nr).Range,{class:"h-full bg-blue-500 rounded-full"})]),_:1}),S(d(Nr).Thumb,{index:0,class:"w-4 h-4 bg-white border-2 border-blue-500 rounded-full shadow-md cursor-pointer hover:scale-110 transition-transform"})]),_:1})]),_:1},8,["model-value"])):Z("",!0),D("div",k_e,[D("div",{class:"h-4 rounded relative cursor-crosshair",style:Yt({background:d(a)}),onClick:b},[(y(!0),V(ge,null,Ie(d(r).stops,(_,T)=>(y(),V("div",{key:T,class:Ne(["absolute w-3 h-3 rounded-full border-2 border-white shadow-md cursor-move active:cursor-grabbing top-1/2 -translate-y-1/2 -translate-x-1/2 hover:scale-110 transition-transform",{"ring-2 ring-blue-500 scale-110":d(s)===T}]),style:Yt({left:`${_.position}%`,backgroundColor:_.color}),onMousedown:N=>w(N,T),onDblclick:It(N=>p(T),["stop"])},null,46,C_e))),128))],4),v[9]||(v[9]=D("p",{class:"text-xs text-gray-500 mt-1"}," Click to add stop  Drag to move  Double-click stop to remove ",-1))]),d(E)?(y(),V("div",E_e,[D("div",O_e,[v[10]||(v[10]=D("p",{class:"text-sm font-medium"},"Edit Color Stop",-1)),d(r).stops.length>2?(y(),V("button",{key:0,type:"button",class:"text-xs text-red-600 hover:text-red-700",onClick:v[3]||(v[3]=_=>p(d(s)))}," Remove ")):Z("",!0)]),S(YN,{modelValue:d(E).color,"onUpdate:modelValue":v[4]||(v[4]=_=>d(E).color=_),label:"Color"},null,8,["modelValue"]),S(d(Nr).Root,{min:0,max:100,"model-value":[d(E).position],onValueChange:v[5]||(v[5]=_=>d(E).position=_.value[0]),class:"relative w-full"},{default:O(()=>[S(d(Nr).Label,{class:"text-sm font-medium text-zinc-700 mb-1 block"},{default:O(()=>[re("Position: "+j(d(E).position)+"%",1)]),_:1}),S(d(Nr).Control,{class:"flex-1 flex items-center h-2 select-none touch-none"},{default:O(()=>[S(d(Nr).Track,{class:"w-full overflow-hidden h-1 rounded-full bg-gray-100"},{default:O(()=>[S(d(Nr).Range,{class:"h-full bg-blue-500 rounded-full"})]),_:1}),S(d(Nr).Thumb,{index:0,class:"w-4 h-4 bg-white border-2 border-blue-500 rounded-full shadow-md cursor-pointer hover:scale-110 transition-transform"})]),_:1})]),_:1},8,["model-value"])])):Z("",!0)])]),_:1})]),_:1})]),_:1},8,["open"])]))}}),T_e={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function S_e(e,t){return y(),V("svg",T_e,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m4.5 15.75l7.5-7.5l7.5 7.5"},null,-1)])])}const P_e=fe({name:"heroicons-chevron-up",render:S_e}),$_e={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function R_e(e,t){return y(),V("svg",$_e,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M13.181 8.68a4.503 4.503 0 0 1 1.903 6.405m-9.768-2.782L3.56 14.06a4.5 4.5 0 0 0 6.364 6.365l3.129-3.129m5.614-5.615l1.757-1.757a4.5 4.5 0 0 0-6.364-6.365l-4.5 4.5q-.388.39-.661.84m1.903 6.405a4.5 4.5 0 0 1-1.242-.88a4.5 4.5 0 0 1-1.062-1.683m6.587 2.345l5.907 5.907m-5.907-5.907L8.898 8.898M2.991 2.99L8.898 8.9"},null,-1)])])}const A_e=fe({name:"heroicons-link-slash",render:R_e}),N_e={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function M_e(e,t){return y(),V("svg",N_e,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M8.25 6.75L12 3m0 0l3.75 3.75M12 3v18"},null,-1)])])}const D_e=fe({name:"heroicons-arrow-long-up",render:M_e}),L_e={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function V_e(e,t){return y(),V("svg",L_e,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M15.75 17.25L12 21m0 0l-3.75-3.75M12 21V3"},null,-1)])])}const F_e=fe({name:"heroicons-arrow-long-down",render:V_e}),B_e={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function H_e(e,t){return y(),V("svg",B_e,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"},null,-1)])])}const z_e=fe({name:"heroicons-arrow-long-left",render:H_e}),U_e={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function j_e(e,t){return y(),V("svg",U_e,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"},null,-1)])])}const G_e=fe({name:"heroicons-arrow-long-right",render:j_e}),W_e={class:"flex flex-col gap-1"},q_e={key:0,class:"flex items-center justify-between"},K_e={class:"text-sm font-medium text-gray-700"},Y_e={class:"flex border border-gray-300 rounded overflow-hidden divide-x"},X_e={class:"grid grid-cols-4 divide-x"},J_e=P({__name:"SpacingField",props:at({field:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=["top","right","bottom","left"],n={top:D_e,right:G_e,bottom:F_e,left:z_e},r=rt(e,"modelValue"),o={top:0,right:0,bottom:0,left:0},i=A({get:()=>r.value||o,set:c=>{r.value=c}}),s=Q(!0);function a(c,u){s.value?i.value={top:u,right:u,bottom:u,left:u}:i.value={...i.value,[c]:u}}function l(){if(s.value=!s.value,s.value){const c=i.value.top;i.value={top:c,right:c,bottom:c,left:c}}}return Je(()=>{i.value&&(s.value=i.value.top===i.value.right&&i.value.top===i.value.bottom&&i.value.top===i.value.left)}),(c,u)=>{const p=P_e,h=mu;return y(),V("div",W_e,[e.field.label?(y(),V("div",q_e,[D("label",K_e,j(e.field.label),1)])):Z("",!0),D("div",Y_e,[D("div",X_e,[(y(),V(ge,null,Ie(t,f=>S(d(Xu).Root,{class:"flex w-full relative group items-center gap-0.5 px-0.5","model-value":String(d(i)[f]),min:e.field.min,max:e.field.max,"onUpdate:modelValue":g=>a(f,Number(g))},{default:O(()=>[(y(),$(Xn(n[f]),{class:"w-4 h-4 text-gray-600 flex-none"})),S(d(Xu).Input,{class:"flex-1 w-full border-none outline-none text-sm py-1.5"}),S(d(Xu).Control,{class:"absolute top-0 right-1 bottom-0 flex flex-col hidden group-hover:flex"},{default:O(()=>[S(d(Xu).IncrementTrigger,{class:"flex-1 flex items-center"},{default:O(()=>[S(p,{class:"w-3 h-3 text-gray-600"})]),_:1}),S(d(Xu).DecrementTrigger,{class:"flex-1 flex items-center"},{default:O(()=>[S(h,{class:"w-3 h-3 text-gray-600"})]),_:1})]),_:1})]),_:2},1032,["model-value","min","max","onUpdate:modelValue"])),64))]),D("button",{type:"button",class:Ne(["flex-none p-1 rounded hover:bg-gray-100 transition-colors",{"text-blue-600":d(s),"text-gray-400":!d(s)}]),onClick:l},[d(s)?(y(),$(d(KN),{key:0,class:"w-4 h-4"})):(y(),$(d(A_e),{key:1,class:"w-4 h-4"}))],2)])])}}}),Z_e={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Q_e(e,t){return y(),V("svg",Z_e,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m16.862 4.487l1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8l.8-2.685a4.5 4.5 0 0 1 1.13-1.897zm0 0L19.5 7.125"},null,-1)])])}const eke=fe({name:"heroicons-pencil",render:Q_e}),tke={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function nke(e,t){return y(),V("svg",tke,[...t[0]||(t[0]=[D("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21q.512.078 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48 48 0 0 0-3.478-.397m-12 .562q.51-.088 1.022-.165m0 0a48 48 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a52 52 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a49 49 0 0 0-7.5 0"},null,-1)])])}const wD=fe({name:"heroicons-trash",render:nke}),_D=e=>[{value:"xs",label:e("Extra Small")},{value:"sm",label:e("Small")},{value:"base",label:e("Base")},{value:"lg",label:e("Large")},{value:"xl",label:e("Extra Large")},{value:"2xl",label:e("2XL")},{value:"3xl",label:e("3XL")},{value:"4xl",label:e("4XL")},{value:"5xl",label:e("5XL")},{value:"6xl",label:e("6XL")},{value:"7xl",label:e("7XL")},{value:"8xl",label:e("8XL")},{value:"9xl",label:e("9XL")}],kD=e=>[{value:"none",label:e("None")},{value:"tight",label:e("Tight")},{value:"snug",label:e("Snug")},{value:"normal",label:e("Normal")},{value:"relaxed",label:e("Relaxed")},{value:"loose",label:e("Loose")}],CD=e=>[{value:"tighter",label:e("Tighter")},{value:"tight",label:e("Tight")},{value:"normal",label:e("Normal")},{value:"wide",label:e("Wide")},{value:"wider",label:e("Wider")},{value:"widest",label:e("Widest")}],rke=e=>[{value:"normal",label:e("Normal")},{value:"italic",label:e("Italic")}],ED=e=>[{value:"none",label:e("None")},{value:"capitalize",label:e("Capitalize")},{value:"uppercase",label:e("Uppercase")},{value:"lowercase",label:e("Lowercase")}],oke=e=>({100:"Thin",200:"Extra Light",300:"Light",400:"Regular",500:"Medium",600:"Semi Bold",700:"Bold",800:"Extra Bold",900:"Black"})[e]||e,OD=e=>`${e} - ${oke(e)}`,ike={class:"flex flex-col gap-4"},ske={key:1,class:"pt-4 border-t border-zinc-200"},ake=P({__name:"TypographyPresetEditor",props:at({canDelete:{type:Boolean,default:!1}},{modelValue:{default:()=>({fontFamily:null,fontStyle:"normal",fontWeight:400,fontSize:"base",lineHeight:"normal",letterSpacing:"normal",textTransform:"none"})},modelModifiers:{}}),emits:at(["delete"],["update:modelValue"]),setup(e,{emit:t}){const n=e,r=t;function o(){r("delete")}const{t:i}=Et(),{findFont:s,isFetched:a}=Xw(),l=_D(i),c=kD(i),u=CD(i),p=rke(i),h=ED(i),f=rt(e,"modelValue",{get(R){return R&&typeof R.fontWeight=="string"?{...R,fontWeight:parseInt(R.fontWeight,10)}:R},set(R){return R}}),g={id:"fontSize",label:i("Font Size"),type:"select",options:l,responsive:!0},m={id:"lineHeight",label:i("Line Height"),type:"select",options:c,responsive:!0},b=A(()=>{const R=f.value.fontFamily?.styles||["normal"];return{id:"fontStyle",label:i("Font Style"),type:"select",options:R.map(M=>p.find(z=>z.value===M)||{value:M,label:M})}}),w={id:"letterSpacing",label:i("Letter Spacing"),type:"select",options:u},E={id:"textTransform",label:i("Text Transform"),type:"select",options:h},k=A({get:()=>f.value.fontFamily,set:R=>{if(!R){f.value={...f.value,fontFamily:null,fontWeight:400,fontStyle:"normal"};return}const M=f.value.fontWeight,B=R.weights.includes(M)?M:R.weights.includes(400)?400:R.weights[0],z=f.value.fontStyle,J=R.styles.includes(z)?z:R.styles.includes("normal")?"normal":R.styles[0];f.value={...f.value,fontFamily:{slug:R.slug,name:R.name,weights:R.weights,styles:R.styles},fontWeight:B,fontStyle:J}}}),v=A({get:()=>f.value.fontStyle,set:R=>{f.value={...f.value,fontStyle:R}}}),_=A({get:()=>f.value.fontSize,set:R=>{f.value={...f.value,fontSize:R}}}),T=A({get:()=>f.value.lineHeight,set:R=>{f.value={...f.value,lineHeight:R}}}),N=A({get:()=>f.value.letterSpacing,set:R=>{f.value={...f.value,letterSpacing:R}}}),C=A({get:()=>f.value.textTransform,set:R=>{f.value={...f.value,textTransform:R}}}),x=A({get:()=>f.value.fontWeight,set:R=>{f.value={...f.value,fontWeight:R}}});st(()=>({fetched:a.value,fontFamily:f.value.fontFamily}),({fetched:R,fontFamily:M})=>{if(!R||!M)return;const B=typeof M=="string"?M:M.slug,z=s(B);z&&(typeof M=="string"||!M.weights||M.weights.length===1)&&(f.value={...f.value,fontFamily:z})},{immediate:!0,deep:!0});const I=A(()=>{const R=f.value.fontFamily?.weights||[400];return{id:"fontWeight",label:i("Font Weight"),type:"select",options:R.map(M=>({value:M,label:OD(String(M))}))}});return(R,M)=>{const B=wD;return y(),V("div",ike,[S(WN,{field:{id:"fontFamily",label:d(i)("Font Family"),type:"font"},modelValue:d(k),"onUpdate:modelValue":M[0]||(M[0]=z=>Ce(k)?k.value=z:null)},null,8,["field","modelValue"]),S(d(ws),{field:d(b),modelValue:d(v),"onUpdate:modelValue":M[1]||(M[1]=z=>Ce(v)?v.value=z:null)},null,8,["field","modelValue"]),f.value.fontFamily?(y(),$(d(ws),{key:0,field:d(I),modelValue:d(x),"onUpdate:modelValue":M[2]||(M[2]=z=>Ce(x)?x.value=z:null)},null,8,["field","modelValue"])):Z("",!0),S(d(ws),{field:g,modelValue:d(_),"onUpdate:modelValue":M[3]||(M[3]=z=>Ce(_)?_.value=z:null)},null,8,["modelValue"]),S(d(ws),{field:m,modelValue:d(T),"onUpdate:modelValue":M[4]||(M[4]=z=>Ce(T)?T.value=z:null)},null,8,["modelValue"]),S(d(ws),{field:w,modelValue:d(N),"onUpdate:modelValue":M[5]||(M[5]=z=>Ce(N)?N.value=z:null)},null,8,["modelValue"]),S(d(ws),{field:E,modelValue:d(C),"onUpdate:modelValue":M[6]||(M[6]=z=>Ce(C)?C.value=z:null)},null,8,["modelValue"]),n.canDelete?(y(),V("div",ske,[D("button",{type:"button",class:"w-full flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg border border-red-200 hover:border-red-300 transition-colors",onClick:o},[S(B,{class:"w-4 h-4"}),re(" "+j(d(i)("Delete Preset")),1)])])):Z("",!0)])}}}),lke={class:"flex flex-col gap-1"},cke={key:0,class:"text-sm font-medium"},uke={class:"text-xs text-gray-500"},ID=P({__name:"TypographyPresetPreview",props:{preset:null,label:null},setup(e){const t=e,{t:n}=Et(),r=_D(n),o=kD(n),i=CD(n),s=ED(n),a=A(()=>t.label?t.preset?.name||Dv(t.label):""),l=A(()=>{const c=[];if(t.preset?.fontFamily?.name&&c.push(t.preset.fontFamily.name),t.preset?.fontWeight&&c.push(OD(t.preset.fontWeight)),t.preset?.fontSize){const u=typeof t.preset.fontSize=="string"?t.preset.fontSize:t.preset.fontSize._default||t.preset.fontSize[Object.keys(t.preset.fontSize)[0]];if(u){const p=r.find(h=>h.value===u)?.label||u;c.push(p)}}if(t.preset?.lineHeight){const u=typeof t.preset.lineHeight=="string"?t.preset.lineHeight:t.preset.lineHeight._default||t.preset.lineHeight[Object.keys(t.preset.lineHeight)[0]];if(u){const p=o.find(h=>h.value===u)?.label||u;c.push(p)}}if(t.preset?.fontStyle==="italic"&&c.push(n("Italic")),t.preset?.letterSpacing&&t.preset.letterSpacing!=="normal"){const u=i.find(p=>p.value===t.preset.letterSpacing)?.label;u&&c.push(u)}if(t.preset?.textTransform&&t.preset.textTransform!=="none"){const u=s.find(p=>p.value===t.preset.textTransform)?.label;u&&c.push(u)}return c.length>0?c.join("  "):n("Configure typography")});return(c,u)=>(y(),V("div",lke,[d(a)?(y(),V("div",cke,j(d(a)),1)):Z("",!0),D("div",uke,j(d(l)),1)]))}}),dke={class:"text-sm font-medium mb-1 text-gray-700"},pke={class:"grid gap-2 items-stretch mt-1"},fke=["onClick"],hke=["onClick","title"],gke={class:"flex-none h-12 border-b border-neutral-200 flex gap-3 px-4 items-center justify-between"},mke={class:"flex items-center gap-2 flex-1 min-w-0"},vke={class:"text-sm text-gray-600 flex-none"},bke=["title"],yke={class:"flex-1 flex flex-col min-h-0 overflow-y-auto p-4"},xke=P({__name:"TypographyPresets",props:at({field:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,n=rt(e,"modelValue"),{t:r}=Et(),o=Q(null),i=Q(!1),s=Q(!1),a=Q(""),l=A(()=>Object.keys(t.field.presets||{})),c=A({get(){return!o.value||!n.value?.[o.value]?null:n.value[o.value]},set(T){!o.value||!T||(n.value={...n.value,[o.value]:T})}}),u=A(()=>!o.value||!c.value?"":c.value.name||Dv(o.value)),p=A(()=>o.value?!l.value.includes(o.value):!1);function h(T){o.value=T,i.value=!0}function f(){const T=Object.keys(n.value),N=`typography-${T.length+1}`;n.value={...n.value,[N]:structuredClone(He(n.value[T[0]]))},h(N)}function g(T){return!l.value.includes(T)}function m(T){if(!g(T)||!n.value)return;const{[T]:N,...C}=n.value;n.value=C}function b(){p.value&&(s.value=!0,a.value=c.value?.name||u.value,Nn(()=>{const T=document.querySelector(".preset-name-input");T?.focus(),T?.select()}))}function w(){c.value&&(c.value={...c.value,name:a.value?.trim()},s.value=!1)}function E(){s.value=!1,a.value=""}function k(T){T.key==="Enter"?w():T.key==="Escape"&&E()}function v(){o.value&&(m(o.value),i.value=!1)}const _=A(()=>o.value!==null&&g(o.value||""));return(T,N)=>{const C=wD,x=XN,I=eke,R=So;return y(),V("div",null,[D("label",dke,j(e.field.label),1),D("div",pke,[(y(!0),V(ge,null,Ie(n.value,(M,B)=>(y(),V("div",{key:B,class:"relative group"},[D("button",{class:"w-full px-3 py-2 border border-zinc-300 rounded hover:bg-zinc-50 text-left cursor-pointer",onClick:z=>h(String(B))},[S(ID,{preset:M,label:String(B)},null,8,["preset","label"])],8,fke),g(String(B))?(y(),V("button",{key:0,type:"button",class:"absolute top-2 right-2 p-1 rounded-lg bg-white border border-zinc-300 hover:bg-red-50 hover:border-red-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity z-10",onClick:It(z=>m(String(B)),["stop","prevent"]),title:d(r)("Delete preset")},[S(C,{class:"w-3 h-3"})],8,hke)):Z("",!0)]))),128)),D("button",{class:"flex border-2 border-dashed flex items-center justify-center text-sm gap-2 py-1 rounded border-blue-400 text-blue-400 cursor-pointer",onClick:f},[S(x,{class:"h-4 w-4"}),D("span",null,j(d(r)("Add preset")),1)])]),S(d(mt).Root,{open:d(i),"onUpdate:open":N[2]||(N[2]=M=>Ce(i)?i.value=M:null),modal:!1,"close-on-interact-outside":!1},{default:O(()=>[S(d(mt).Positioner,{class:"flex fixed z-50 top-14 left-14 bottom-0 w-75 items-center justify-center"},{default:O(()=>[S(d(mt).Content,{class:"bg-white shadow flex flex-col w-full h-full overflow-hidden"},{default:O(()=>[D("header",gke,[D("div",mke,[D("span",vke,j(d(r)("Editing")),1),d(s)?yo((y(),V("input",{key:0,"onUpdate:modelValue":N[0]||(N[0]=M=>Ce(a)?a.value=M:null),type:"text",maxlength:"50",class:"preset-name-input flex-1 min-w-0 px-2 py-1 text-sm font-medium border border-blue-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",onBlur:w,onKeydown:k},null,544)),[[Zo,d(a)]]):(y(),V("button",{key:1,type:"button",class:Ne(["flex-1 min-w-0 text-left px-2 py-1 text-sm font-medium rounded truncate",d(p)?"hover:bg-gray-100 cursor-pointer":"cursor-default"]),title:d(p)?d(r)("Click to rename"):d(r)("Theme preset (cannot be renamed)"),onClick:b},[re(j(d(u))+" ",1),d(p)?(y(),$(I,{key:0,class:"inline-block w-3 h-3 ml-1 text-gray-400"})):Z("",!0)],10,bke))]),S(d(mt).CloseTrigger,{class:"cursor-pointer rounded-lg p-0.5 text-neutral-700 hover:bg-neutral-300"},{default:O(()=>[S(R,{class:"w-5 h-5"})]),_:1})]),D("div",yke,[d(o)&&d(c)?(y(),$(ake,{key:0,modelValue:d(c),"onUpdate:modelValue":N[1]||(N[1]=M=>Ce(c)?c.value=M:null),"can-delete":d(_),onDelete:v},null,8,["modelValue","can-delete"])):Z("",!0)])]),_:1})]),_:1})]),_:1},8,["open"])])}}}),wke={class:"text-sm font-medium mb-1 text-gray-700"},_ke={key:0},kke={key:0,class:"flex flex-1 gap-3"},Cke={class:"flex-1 text-left text-zinc-700"},Eke={key:1},Oke={class:"divide-y divide-zinc-200"},Ike=["onClick"],Tke={key:1,class:"text-sm text-red-400"},Ske=P({__name:"TypographyPicker",props:at({field:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const{theme:t}=Dt(),{t:n}=Et(),r=A(()=>{if(!t.value)return{};const u=t.value.settingsSchema.flatMap(p=>p.settings).find(p=>p.type==="typography_presets")?.id;return u?t.value.settings[u]||{}:{}}),o=A(()=>Object.keys(r.value).length>0),i=rt(e,"modelValue"),s=Q(!1),a=A(()=>i.value&&r.value?r.value[i.value]:null),l=A(()=>!i.value||!a.value?null:a.value.name||Dv(i.value));function c(u){i.value=u,s.value=!1}return(u,p)=>{const h=So,f=Yw,g=Kw,m=ID;return y(),V("div",null,[D("label",wke,j(e.field.label),1),d(o)?(y(),V("div",_ke,[S(d(Xe).Root,{open:d(s),"onUpdate:open":p[1]||(p[1]=b=>Ce(s)?s.value=b:null)},{default:O(()=>[S(d(Xe).Trigger,{class:"border border-zinc-300 rounded w-full flex justify-between h-10 px-3 items-center"},{default:O(()=>[d(a)?(y(),V("div",kke,[D("div",Cke,j(d(l)),1),D("button",{class:"ml-auto flex-none mr-1 p-1 rounded-lg hover:bg-zinc-100",onClick:p[0]||(p[0]=It(b=>i.value=null,["stop"]))},[S(h,{class:"w-4 h-4"})])])):(y(),V("span",Eke,j(d(n)("Select a typography preset")),1)),S(f,{class:"flex-none h-4 w-4"})]),_:1}),S(d(Xe).Positioner,null,{default:O(()=>[S(d(Xe).Content,{class:"border border-zinc-300 rounded shadow-md w-[var(--reference-width)] z-50 bg-white -mt-1 overflow-y-auto max-h-[360px]"},{default:O(()=>[D("div",Oke,[(y(!0),V(ge,null,Ie(d(r),(b,w)=>(y(),V("div",{key:w,class:Ne(["px-3 py-3 hover:bg-zinc-100 relative cursor-pointer",{"bg-zinc-100":i.value===String(w)}]),onClick:E=>c(String(w))},[i.value===String(w)?(y(),$(g,{key:0,class:"w-5 h-5 absolute top-2 right-2 text-green-400"})):Z("",!0),S(m,{preset:b,label:String(w)},null,8,["preset","label"])],10,Ike))),128))])]),_:1})]),_:1})]),_:1},8,["open"])])):(y(),V("div",Tke,j(d(n)("No typography presets defined in theme settings.")),1))])}}}),hh=Q(!1);function TD(){const e=kl(),{state:t}=Dt();async function n(){if(hh.value)return;hh.value=!0;const r=e.engine.getPage(),o=Lfe(r);o.onSuccess(()=>{e.ui.toast({type:"success",title:"Theme published successfully"}),e.ui.closeModal("confirm-publish"),t.haveEdits=!1}),o.onError(()=>{e.ui.toast({type:"error",title:"Failed to publish theme"})}),await o.execute(),hh.value=!1}return{isPublishing:Kd(hh),publish:n}}const Pke="bagisto_visual_editor_confirm_publish",$ke=P({__name:"PublishAction",setup(e){const{t}=Et(),n=kl(),{isPublishing:r,publish:o}=TD(),{haveEdits:i}=Dt();function s(){if(localStorage.getItem(Pke)===null){n.ui.openModal("confirm-publish");return}o()}return(a,l)=>(y(),$(d(Vt),{variant:"primary",loading:d(r),disabled:!d(i),onClick:s},{default:O(()=>[re(j(d(t)("Publish")),1)]),_:1},8,["loading","disabled"]))}}),Rke={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Ake(e,t){return y(),V("svg",Rke,[...t[0]||(t[0]=[D("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"},[D("path",{d:"M2.036 12.322a1 1 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178c.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178"}),D("path",{d:"M15 12a3 3 0 1 1-6 0a3 3 0 0 1 6 0"})],-1)])])}const Nke=fe({name:"heroicons-eye",render:Ake}),Mke=P({__name:"PreviewAction",setup(e){Et();const t=kl();function n(){const r=t.preview.state.previewUrl;window.open(r,"_blank")}return(r,o)=>{const i=Nke;return y(),$(d(Vt),{variant:"secondary",square:"",onClick:n,title:"Preview in new tab"},{default:O(()=>[S(i)]),_:1})}}}),Dke={class:"w-sm p-4 space-y-6"},Lke={class:"mb-4"},Vke={class:"flex gap-4 justify-end"},Fke="bagisto_visual_editor_confirm_publish",Bke=P({__name:"ConfirmPublish",setup(e){const{t}=Et(),n=kl(),{isPublishing:r,publish:o}=TD(),i=Q(!1);function s(){i.value&&localStorage.setItem(Fke,"true"),o()}return(a,l)=>{const c=t5;return y(),V("div",Dke,[D("p",null,j(d(t)("publish_warning_line1")),1),D("p",null,j(d(t)("publish_warning_line2")),1),D("div",Lke,[S(c,{label:d(t)("Don't ask next time"),modelValue:d(i),"onUpdate:modelValue":l[0]||(l[0]=u=>Ce(i)?i.value=u:null)},null,8,["label","modelValue"])]),D("div",Vke,[S(d(Vt),{disabled:d(r),onClick:l[1]||(l[1]=u=>d(n).ui.closeModal("confirm-publish"))},{default:O(()=>[re(j(d(t)("Cancel")),1)]),_:1},8,["disabled"]),S(d(Vt),{variant:"primary",loading:d(r),onClick:s},{default:O(()=>[re(j(d(t)("Publish")),1)]),_:1},8,["loading"])])])}}}),Hke=P({__name:"BackButton",setup(e){function t(){history.back()}return(n,r)=>{const o=qN;return y(),$(d(Vt),{square:"",title:"Back",onClick:t},{default:O(()=>[S(o,{class:"text-zinc-600"})]),_:1})}}}),{t:zke}=Et();function Uke(e){e.removeHeaderAction("back-button"),e.removeHeaderAction("title"),e.registerHeaderAction({id:"back-button",slot:"left",render:Hke}),e.registerHeaderAction({id:"title",slot:"left",render:Mre}),e.registerHeaderAction({id:"tools",slot:"center",render:Mle}),e.registerHeaderAction({id:"preview",slot:"right",render:Mke}),e.registerHeaderAction({id:"publish",slot:"right",render:$ke}),e.registerSidebarPanel({id:"theme-settings",title:"Theme settings",icon:Ire,render:Kfe}),e.registerSidebarPanel({id:"media",title:"Medias",icon:Pre,render:Jfe}),e.registerModal({id:"confirm-publish",title:zke("Publish edits ?"),size:"lg",render:Bke})}function jke(e){e.registerPropertyField({type:"category",render:Che}),e.registerPropertyField({type:"product",render:Hhe}),e.registerPropertyField({type:"cms-page",render:nge}),e.registerPropertyField({type:"font",render:WN}),e.registerPropertyField({type:"link",render:Mge}),e.registerPropertyField({type:"color-scheme",render:Wge}),e.registerPropertyField({type:"color-scheme-group",render:dme}),e.registerPropertyField({type:"icon",render:Dme}),e.registerPropertyField({type:"image",render:gbe}),e.registerPropertyField({type:"richtext",render:b_e}),e.registerPropertyField({type:"gradient",render:I_e}),e.registerPropertyField({type:"spacing",render:J_e}),e.registerPropertyField({type:"typography_presets",render:xke}),e.registerPropertyField({type:"typography",render:Ske})}function Gke(e){Uke(e),jke(e)}const{t:Wke}=Et();function qke(e){const t={changes:{added:[],updated:[],removed:[],moved:{}},blocks:{},regions:[]};for(const n of e)t.changes.added.push(...n.changes.added),t.changes.updated.push(...n.changes.updated),t.changes.removed.push(...n.changes.removed),Object.assign(t.changes.moved,n.changes.moved||{}),Object.assign(t.blocks,n.blocks),n.regions&&n.regions.length>0&&(t.regions=n.regions);return t.changes.added=[...new Set(t.changes.added)],t.changes.updated=[...new Set(t.changes.updated)],t.changes.removed=[...new Set(t.changes.removed)],t.changes.added=t.changes.added.filter(n=>!t.changes.removed.includes(n)),t.changes.updated=t.changes.updated.filter(n=>!t.changes.removed.includes(n)),t}function Kke(e){return e.changes.added.length>0||e.changes.updated.length>0||e.changes.removed.length>0||Object.keys(e.changes.moved||{}).length>0}function Yke(e,t){const n=[];for(const r of e){const o=t[r];if(!o||o.parentId&&e.includes(o.parentId))continue;const i=Xke(r,t);if(i){const s=t[i]?.parentId;s&&n.push(s);continue}if(o.ghost===!0){const s=o.parentId;s&&n.push(s);continue}n.push(r)}return Array.from(new Set(n))}function Xke(e,t){let n=e;for(;t[n]?.parentId;){const r=t[n].parentId;if(!t[r])break;if(t[r]?.repeated===!0)return r;n=r}return null}function Jke(e,t){const r=new DOMParser().parseFromString(e,"text/html"),o={html:{},css:[],js:[]};r.head.querySelectorAll('link[rel="stylesheet"]').forEach(i=>{o.css.push(i.outerHTML)}),r.querySelectorAll("style").forEach(i=>{o.css.push(i.outerHTML)}),r.querySelectorAll("script").forEach(i=>{o.js.push(i.outerHTML)});for(const i of t){const s=r.querySelector(`[data-block="${i}"]`);s&&(o.html[i]=s.outerHTML)}return o}function Zke(e,t){let n=[],r=[],o=!1;const i=BN(async()=>{if(n.length===0||o)return;const l=[...n];r.length>0&&(l.unshift(...r),r=[]),n=[],o=!0;const c=qke(l),u=Mfe(c);u.onSuccess(p=>{const h=e.engine.getPage().blocks,f=[...c.changes.added||[],...c.changes.updated||[]],g=Yke(f,h),m=Jke(p,g);e.preview.sendMessage("updates.effects",{effects:m,...c})}),u.onError(p=>{p.name!=="AbortError"&&(console.error("Failed to persist changes",p),e.ui.toast({type:"error",title:Wke("Failed to save changes")}),r=l)}),u.onFinish(()=>{o=!1,n.length>0&&i()}),await u.execute()},300);function s(l){Kke(l)&&([...l.changes.added,...l.changes.updated].forEach(c=>{const u=l.blocks[c];u.ghost&&u.parentId&&!l.blocks[u.parentId]&&(l.blocks[u.parentId]=e.engine.getBlockById(u.parentId))}),n.push(l),t.haveEdits=!0,i())}function a(l){const{blockId:c,key:u,value:p,oldValue:h}=l,f=e.engine.getBlockById(c);e.preview.sendMessage("block.property.updated",{block:f,key:u,value:p,oldValue:h})}e.engine.on("block:property:set",a),e.events.on("updates",s)}function Qke(e){e.events.on("ui:block:select",({blockId:t})=>{UA("block",t)}),e.events.on("ui:block:clear-selection",()=>{Lw("block")})}function eCe(e,t,n){const r=jA("template"),o=r&&n.templates?.find(i=>i.template===r);if(o){const i=new URL(o.previewUrl);i.searchParams.set("_designMode",t.theme?.code),i.searchParams.set("channel",t.channel),i.searchParams.set("locale",t.locale),e.preview.loadUrl(i.href)}else e.preview.loadUrl(n.storefrontUrl)}function tCe(e,t,n){Qke(e),eCe(e,t,n)}function nCe(e,t){e.preview.onReady(()=>{e.preview.onMessage("craftile.preview.page-data",({pageData:n})=>{Kc.done(),e.engine.setPage(n.content),t.pageData={url:n.template.url,template:n.template.name,sources:n.template.sources,settings:n.settings},t.theme&&n.settings&&(t.theme.settings=n.settings),n.preloadedModels&&Cre(n.preloadedModels);const r=jA("block");r&&(e.engine.getBlockById(r)?e.ui.setSelectedBlock(r):Lw("block"))})})}const S_=Symbol("CRAFTILE_EDITOR");function rCe(e){return({vueApp:t,editor:n})=>{t.provide(S_,n);const{state:r}=Dt();Gke(n.ui),nCe(n,r),Zke(n,r),tCe(n,r,e)}}const cT=new Map;function oCe(e,t){if(t===e||t==="*")return!0;if(t.endsWith("/*")){const r=t.slice(0,-2);return e.startsWith(r+"/")||e===r}if(t.startsWith("*/")){const r=t.slice(2);return e.endsWith("/"+r)||e===r}let n=cT.get(t);if(!n)try{const r=t.replace(/[.+?^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*");n=new RegExp(`^${r}$`),cT.set(t,n)}catch{return!1}return n.test(e)}function uT(e,t){return t.some(n=>oCe(e,n))}function dT(e,t){const n=e.regions&&e.regions.length>0,r=e.templates&&e.templates.length>0;if(!n&&!r)return!1;let o=!0;n&&(t.region?o=uT(t.region,e.regions):o=!1);let i=!0;return r&&(t.template?i=uT(t.template,e.templates):i=!1),o&&i}const{blockSchemas:iCe}=window.editorConfig,sCe=kre({channels:window.editorConfig.channels,channel:window.editorConfig.defaultChannel,theme:window.editorConfig.theme,templates:window.editorConfig.templates||[],haveEdits:window.editorConfig.haveEdits}),{fetchFonts:aCe}=Xw();aCe();Kc.configure({showSpinner:!1,minimum:.1,speed:400,trickleSpeed:500});const SD=xK({el:"#app",blockSchemas:iCe,devices:{presets:[{id:"mobile",label:"Mobile",width:376,icon:"mobile"},{id:"tablet",label:"Tablet",width:767,icon:"tablet"},{id:"desktop",label:"Desktop",width:1280,icon:"desktop"}]},i18n:window.editorConfig.messages.craftile,plugins:[_re,rCe(window.editorConfig)],blockLabelFunction(e,t){let n=null;for(const r of[lCe])if(n=r(e,t))break;return n??""},blockFilterFunction(e,t){const n={template:sCe.pageData?.template,region:t.regionName};return dT(e.meta?.disabledOn||{},n)||((e.meta?.enabledOn?.regions?.length??0)>0||(e.meta?.enabledOn?.templates?.length??0)>0)&&!dT(e.meta.enabledOn,n)?!1:t.parentId?!e.meta?.isSection:e.meta?.isSection}});window.craftileEditor=SD;window.Vue=eB;document.addEventListener("DOMContentLoaded",()=>{Kc.start(),document.dispatchEvent(new CustomEvent("visual:editor:ready",{detail:{editor:SD}}))});const lCe=(e,t)=>{if(!t)return null;const n=t.properties.find(o=>o.type==="text");if(!n)return null;const r=e.properties[n.id];return r?cCe(r):null};function cCe(e){const n=new DOMParser().parseFromString(e,"text/html").body.textContent;return n==="undefined"||n==="null"?e:n}
