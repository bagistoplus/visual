import{_ as Pn,a as Cn}from"./x-mark-C53-lOM0.js";import{_ as Mn,a as En,b as In,S as Ln,c as Bn}from"./sortable.core.esm-Cpr9kddi.js";import{_ as Dn}from"./trash-CNc9HWxX.js";import{d as wr,u as Fn,c as E,o as P,a as D,b as T,e as M,n as kn,t as L,w as Lr,f as z,g as Gn,h as Kn,F as N,r as Tr,i as Rr,j as xr,k as W,l as dn,m as F,p as Or,q as _n,s as vn,v as G,x as pn,y as $n,z as Pr,A as Un,B as J,C as Hn,D as gn,E as jn,G as Cr,H as Nn,I as hn,J as yn,K as zn,L as Wn,M as Jn,N as Xn,O as Qn,P as Br,Q as K,R as O,S as $,T as k,U as Yn,V as Zn,W as Dr,X as Vn}from"./index-DN8J3CJf.js";const ea=["data-disabled","data-id"],ra={key:0,class:"handle flex-none py-2 px-1 rounded-md hover:bg-zinc-200 cursor-move"},ta={class:"w-0 flex-1 truncate"},na=wr({__name:"Section",props:{section:null,static:{type:Boolean,default:!1}},emits:["activate","deactivate","toggle","remove"],setup(r,{emit:e}){const n=Fn(),t=e,i=r;function s(){n.push(i.section.id)}return(a,u)=>{const o=Mn,d=Dn,l=En,f=In;return P(),E("div",{onMouseenter:u[2]||(u[2]=v=>t("activate")),onMouseleave:u[3]||(u[3]=v=>t("deactivate")),class:"section flex rounded border border-zinc-100 h-10 cursor-pointer hover:bg-zinc-100 data-[disabled=true]:text-zinc-500","data-disabled":r.section.disabled,"data-id":r.section.name},[r.static?D("",!0):(P(),E("button",ra,[M(o,{class:"inline w-4"})])),T("div",{onClick:s,class:kn(["group py-2 pr-1 text-sm flex-1 flex items-center max-w-full",{"px-4":r.static,"px-2":!r.static}])},[T("div",ta,L(i.section.name),1),r.static?D("",!0):(P(),E("button",{key:0,onClick:u[0]||(u[0]=Lr(v=>t("remove"),["stop"])),class:"flex-none cursor-pointer invisible group-hover:visible py-[1px] px-[2px] rounded-md hover:bg-zinc-200"},[M(d,{class:"inline w-4"})])),T("button",{onClick:u[1]||(u[1]=Lr(v=>t("toggle"),["stop"])),class:"flex-none cursor-pointer invisible group-hover:visible py-[1px] px-[2px] rounded-md hover:bg-zinc-200 ml-1"},[r.section.disabled?(P(),z(f,{key:1,class:"inline w-4"})):(P(),z(l,{key:0,class:"inline w-4"}))])],2)],40,ea)}}}),aa={class:"pb-3"},ia={class:"text-sm font-semibold p-3"},sa={ref:"sortable",class:"space-y-1 mx-3"},ua={key:0,class:"text-sm px-3"},oa={key:1,class:"space-y-2 mt-4 px-3"},ca=["disabled"],fa=wr({__name:"SectionsGroup",props:{title:null,sections:null,order:{default:()=>[]},static:{type:Boolean,default:!1},canAddSection:{type:Boolean,default:!1}},emits:["reorder","reordering","addSection","toggleSection","removeSection","activateSection","deactivateSection"],setup(r,{emit:e}){const n=r,t=e,i=Gn("sortable");Kn(()=>{n.static||new Ln(i.value,{animation:150,ghostClass:"sortable-ghost",onChange({oldIndex:a,newIndex:u}){const o=s({oldIndex:a,newIndex:u});t("reordering",{order:o,sectionId:n.order[a]})},onEnd({newIndex:a,oldIndex:u}){const o=s({oldIndex:u,newIndex:a});t("reorder",o)}})});function s({oldIndex:a,newIndex:u}){const o=[...n.order],d=o.splice(a,1)[0];return o.splice(u,0,d),o}return(a,u)=>{const o=na,d=Bn;return P(),E("div",aa,[T("h2",ia,L(r.title),1),T("div",sa,[r.sections.length>0?(P(!0),E(N,{key:0},Tr(r.sections,l=>(P(),z(o,{key:l.id,static:r.static,section:l,onToggle:f=>t("toggleSection",l.id),onRemove:f=>t("removeSection",l.id),onActivate:f=>t("activateSection",l.id),onDeactivate:f=>t("deactivateSection",l.id)},null,8,["static","section","onToggle","onRemove","onActivate","onDeactivate"]))),128)):D("",!0)],512),r.static&&r.sections.length===0?(P(),E("p",ua,L(a.$t("No sections")),1)):D("",!0),n.static?D("",!0):(P(),E("div",oa,[T("button",{disabled:!r.canAddSection,class:"w-full text-sm text-blue-600 rounded-lg cursor-pointer outline-0 inline-flex items-center gap-2 px-2 py-1 hover:bg-gray-200 focus:ring focus:ring-gray-700 disabled:text-gray-400 disabled:pointer-events-none",onClick:u[0]||(u[0]=l=>t("addSection",l))},[M(d,{class:"w-4 h-4 inline mr-1"}),Rr(" "+L(a.$t("Add Section")),1)],8,ca)]))])}}});var Z,Fr;function bn(){if(Fr)return Z;Fr=1;function r(e,n){for(var t=-1,i=n.length,s=e.length;++t<i;)e[s+t]=n[t];return e}return Z=r,Z}var V,kr;function la(){if(kr)return V;kr=1;var r=xr(),e=W(),n="[object Arguments]";function t(i){return e(i)&&r(i)==n}return V=t,V}var ee,Gr;function Mr(){if(Gr)return ee;Gr=1;var r=la(),e=W(),n=Object.prototype,t=n.hasOwnProperty,i=n.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(a){return e(a)&&t.call(a,"callee")&&!i.call(a,"callee")};return ee=s,ee}var re,Kr;function da(){if(Kr)return re;Kr=1;var r=dn(),e=Mr(),n=F(),t=r?r.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(t&&s&&s[t])}return re=i,re}var te,$r;function _a(){if($r)return te;$r=1;var r=bn(),e=da();function n(t,i,s,a,u){var o=-1,d=t.length;for(s||(s=e),u||(u=[]);++o<d;){var l=t[o];i>0&&s(l)?i>1?n(l,i-1,s,a,u):r(u,l):a||(u[u.length]=l)}return u}return te=n,te}var ne,Ur;function va(){if(Ur)return ne;Ur=1;var r=Or();function e(){this.__data__=new r,this.size=0}return ne=e,ne}var ae,Hr;function pa(){if(Hr)return ae;Hr=1;function r(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}return ae=r,ae}var ie,jr;function ga(){if(jr)return ie;jr=1;function r(e){return this.__data__.get(e)}return ie=r,ie}var se,Nr;function ha(){if(Nr)return se;Nr=1;function r(e){return this.__data__.has(e)}return se=r,se}var ue,zr;function ya(){if(zr)return ue;zr=1;var r=Or(),e=_n(),n=vn(),t=200;function i(s,a){var u=this.__data__;if(u instanceof r){var o=u.__data__;if(!e||o.length<t-1)return o.push([s,a]),this.size=++u.size,this;u=this.__data__=new n(o)}return u.set(s,a),this.size=u.size,this}return ue=i,ue}var oe,Wr;function qn(){if(Wr)return oe;Wr=1;var r=Or(),e=va(),n=pa(),t=ga(),i=ha(),s=ya();function a(u){var o=this.__data__=new r(u);this.size=o.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=t,a.prototype.has=i,a.prototype.set=s,oe=a,oe}var ce,Jr;function ba(){if(Jr)return ce;Jr=1;var r="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,r),this}return ce=e,ce}var fe,Xr;function qa(){if(Xr)return fe;Xr=1;function r(e){return this.__data__.has(e)}return fe=r,fe}var le,Qr;function ma(){if(Qr)return le;Qr=1;var r=vn(),e=ba(),n=qa();function t(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new r;++s<a;)this.add(i[s])}return t.prototype.add=t.prototype.push=e,t.prototype.has=n,le=t,le}var de,Yr;function Aa(){if(Yr)return de;Yr=1;function r(e,n){for(var t=-1,i=e==null?0:e.length;++t<i;)if(n(e[t],t,e))return!0;return!1}return de=r,de}var _e,Zr;function Sa(){if(Zr)return _e;Zr=1;function r(e,n){return e.has(n)}return _e=r,_e}var ve,Vr;function mn(){if(Vr)return ve;Vr=1;var r=ma(),e=Aa(),n=Sa(),t=1,i=2;function s(a,u,o,d,l,f){var v=o&t,y=a.length,S=u.length;if(y!=S&&!(v&&S>y))return!1;var p=f.get(a),h=f.get(u);if(p&&h)return p==u&&h==a;var q=-1,c=!0,g=o&i?new r:void 0;for(f.set(a,u),f.set(u,a);++q<y;){var _=a[q],R=u[q];if(d)var m=v?d(R,_,q,u,a,f):d(_,R,q,a,u,f);if(m!==void 0){if(m)continue;c=!1;break}if(g){if(!e(u,function(b,w){if(!n(g,w)&&(_===b||l(_,b,o,d,f)))return g.push(w)})){c=!1;break}}else if(!(_===R||l(_,R,o,d,f))){c=!1;break}}return f.delete(a),f.delete(u),c}return ve=s,ve}var pe,et;function Ta(){if(et)return pe;et=1;var r=G(),e=r.Uint8Array;return pe=e,pe}var ge,rt;function Ra(){if(rt)return ge;rt=1;function r(e){var n=-1,t=Array(e.size);return e.forEach(function(i,s){t[++n]=[s,i]}),t}return ge=r,ge}var he,tt;function wa(){if(tt)return he;tt=1;function r(e){var n=-1,t=Array(e.size);return e.forEach(function(i){t[++n]=i}),t}return he=r,he}var ye,nt;function xa(){if(nt)return ye;nt=1;var r=dn(),e=Ta(),n=pn(),t=mn(),i=Ra(),s=wa(),a=1,u=2,o="[object Boolean]",d="[object Date]",l="[object Error]",f="[object Map]",v="[object Number]",y="[object RegExp]",S="[object Set]",p="[object String]",h="[object Symbol]",q="[object ArrayBuffer]",c="[object DataView]",g=r?r.prototype:void 0,_=g?g.valueOf:void 0;function R(m,b,w,C,x,A,B){switch(w){case c:if(m.byteLength!=b.byteLength||m.byteOffset!=b.byteOffset)return!1;m=m.buffer,b=b.buffer;case q:return!(m.byteLength!=b.byteLength||!A(new e(m),new e(b)));case o:case d:case v:return n(+m,+b);case l:return m.name==b.name&&m.message==b.message;case y:case p:return m==b+"";case f:var I=i;case S:var Y=C&a;if(I||(I=s),m.size!=b.size&&!Y)return!1;var j=B.get(m);if(j)return j==b;C|=u,B.set(m,b);var On=t(I(m),I(b),C,x,A,B);return B.delete(m),On;case h:if(_)return _.call(m)==_.call(b)}return!1}return ye=R,ye}var be,at;function Oa(){if(at)return be;at=1;var r=bn(),e=F();function n(t,i,s){var a=i(t);return e(t)?a:r(a,s(t))}return be=n,be}var qe,it;function Pa(){if(it)return qe;it=1;function r(e,n){for(var t=-1,i=e==null?0:e.length,s=0,a=[];++t<i;){var u=e[t];n(u,t,e)&&(a[s++]=u)}return a}return qe=r,qe}var me,st;function Ca(){if(st)return me;st=1;function r(){return[]}return me=r,me}var Ae,ut;function Ma(){if(ut)return Ae;ut=1;var r=Pa(),e=Ca(),n=Object.prototype,t=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),r(i(a),function(u){return t.call(a,u)}))}:e;return Ae=s,Ae}var Se,ot;function Ea(){if(ot)return Se;ot=1;function r(e,n){for(var t=-1,i=Array(e);++t<e;)i[t]=n(t);return i}return Se=r,Se}var U={exports:{}},Te,ct;function Ia(){if(ct)return Te;ct=1;function r(){return!1}return Te=r,Te}U.exports;var ft;function An(){return ft||(ft=1,function(r,e){var n=G(),t=Ia(),i=e&&!e.nodeType&&e,s=i&&!0&&r&&!r.nodeType&&r,a=s&&s.exports===i,u=a?n.Buffer:void 0,o=u?u.isBuffer:void 0,d=o||t;r.exports=d}(U,U.exports)),U.exports}var Re,lt;function Er(){if(lt)return Re;lt=1;var r=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=r}return Re=e,Re}var we,dt;function La(){if(dt)return we;dt=1;var r=xr(),e=Er(),n=W(),t="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",u="[object Error]",o="[object Function]",d="[object Map]",l="[object Number]",f="[object Object]",v="[object RegExp]",y="[object Set]",S="[object String]",p="[object WeakMap]",h="[object ArrayBuffer]",q="[object DataView]",c="[object Float32Array]",g="[object Float64Array]",_="[object Int8Array]",R="[object Int16Array]",m="[object Int32Array]",b="[object Uint8Array]",w="[object Uint8ClampedArray]",C="[object Uint16Array]",x="[object Uint32Array]",A={};A[c]=A[g]=A[_]=A[R]=A[m]=A[b]=A[w]=A[C]=A[x]=!0,A[t]=A[i]=A[h]=A[s]=A[q]=A[a]=A[u]=A[o]=A[d]=A[l]=A[f]=A[v]=A[y]=A[S]=A[p]=!1;function B(I){return n(I)&&e(I.length)&&!!A[r(I)]}return we=B,we}var xe,_t;function Sn(){if(_t)return xe;_t=1;function r(e){return function(n){return e(n)}}return xe=r,xe}var H={exports:{}};H.exports;var vt;function Ba(){return vt||(vt=1,function(r,e){var n=$n(),t=e&&!e.nodeType&&e,i=t&&!0&&r&&!r.nodeType&&r,s=i&&i.exports===t,a=s&&n.process,u=function(){try{var o=i&&i.require&&i.require("util").types;return o||a&&a.binding&&a.binding("util")}catch{}}();r.exports=u}(H,H.exports)),H.exports}var Oe,pt;function Tn(){if(pt)return Oe;pt=1;var r=La(),e=Sn(),n=Ba(),t=n&&n.isTypedArray,i=t?e(t):r;return Oe=i,Oe}var Pe,gt;function Da(){if(gt)return Pe;gt=1;var r=Ea(),e=Mr(),n=F(),t=An(),i=Pr(),s=Tn(),a=Object.prototype,u=a.hasOwnProperty;function o(d,l){var f=n(d),v=!f&&e(d),y=!f&&!v&&t(d),S=!f&&!v&&!y&&s(d),p=f||v||y||S,h=p?r(d.length,String):[],q=h.length;for(var c in d)(l||u.call(d,c))&&!(p&&(c=="length"||y&&(c=="offset"||c=="parent")||S&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||i(c,q)))&&h.push(c);return h}return Pe=o,Pe}var Ce,ht;function Fa(){if(ht)return Ce;ht=1;var r=Object.prototype;function e(n){var t=n&&n.constructor,i=typeof t=="function"&&t.prototype||r;return n===i}return Ce=e,Ce}var Me,yt;function ka(){if(yt)return Me;yt=1;function r(e,n){return function(t){return e(n(t))}}return Me=r,Me}var Ee,bt;function Ga(){if(bt)return Ee;bt=1;var r=ka(),e=r(Object.keys,Object);return Ee=e,Ee}var Ie,qt;function Ka(){if(qt)return Ie;qt=1;var r=Fa(),e=Ga(),n=Object.prototype,t=n.hasOwnProperty;function i(s){if(!r(s))return e(s);var a=[];for(var u in Object(s))t.call(s,u)&&u!="constructor"&&a.push(u);return a}return Ie=i,Ie}var Le,mt;function X(){if(mt)return Le;mt=1;var r=Un(),e=Er();function n(t){return t!=null&&e(t.length)&&!r(t)}return Le=n,Le}var Be,At;function Ir(){if(At)return Be;At=1;var r=Da(),e=Ka(),n=X();function t(i){return n(i)?r(i):e(i)}return Be=t,Be}var De,St;function $a(){if(St)return De;St=1;var r=Oa(),e=Ma(),n=Ir();function t(i){return r(i,n,e)}return De=t,De}var Fe,Tt;function Ua(){if(Tt)return Fe;Tt=1;var r=$a(),e=1,n=Object.prototype,t=n.hasOwnProperty;function i(s,a,u,o,d,l){var f=u&e,v=r(s),y=v.length,S=r(a),p=S.length;if(y!=p&&!f)return!1;for(var h=y;h--;){var q=v[h];if(!(f?q in a:t.call(a,q)))return!1}var c=l.get(s),g=l.get(a);if(c&&g)return c==a&&g==s;var _=!0;l.set(s,a),l.set(a,s);for(var R=f;++h<y;){q=v[h];var m=s[q],b=a[q];if(o)var w=f?o(b,m,q,a,s,l):o(m,b,q,s,a,l);if(!(w===void 0?m===b||d(m,b,u,o,l):w)){_=!1;break}R||(R=q=="constructor")}if(_&&!R){var C=s.constructor,x=a.constructor;C!=x&&"constructor"in s&&"constructor"in a&&!(typeof C=="function"&&C instanceof C&&typeof x=="function"&&x instanceof x)&&(_=!1)}return l.delete(s),l.delete(a),_}return Fe=i,Fe}var ke,Rt;function Ha(){if(Rt)return ke;Rt=1;var r=J(),e=G(),n=r(e,"DataView");return ke=n,ke}var Ge,wt;function ja(){if(wt)return Ge;wt=1;var r=J(),e=G(),n=r(e,"Promise");return Ge=n,Ge}var Ke,xt;function Na(){if(xt)return Ke;xt=1;var r=J(),e=G(),n=r(e,"Set");return Ke=n,Ke}var $e,Ot;function za(){if(Ot)return $e;Ot=1;var r=J(),e=G(),n=r(e,"WeakMap");return $e=n,$e}var Ue,Pt;function Wa(){if(Pt)return Ue;Pt=1;var r=Ha(),e=_n(),n=ja(),t=Na(),i=za(),s=xr(),a=Hn(),u="[object Map]",o="[object Object]",d="[object Promise]",l="[object Set]",f="[object WeakMap]",v="[object DataView]",y=a(r),S=a(e),p=a(n),h=a(t),q=a(i),c=s;return(r&&c(new r(new ArrayBuffer(1)))!=v||e&&c(new e)!=u||n&&c(n.resolve())!=d||t&&c(new t)!=l||i&&c(new i)!=f)&&(c=function(g){var _=s(g),R=_==o?g.constructor:void 0,m=R?a(R):"";if(m)switch(m){case y:return v;case S:return u;case p:return d;case h:return l;case q:return f}return _}),Ue=c,Ue}var He,Ct;function Ja(){if(Ct)return He;Ct=1;var r=qn(),e=mn(),n=xa(),t=Ua(),i=Wa(),s=F(),a=An(),u=Tn(),o=1,d="[object Arguments]",l="[object Array]",f="[object Object]",v=Object.prototype,y=v.hasOwnProperty;function S(p,h,q,c,g,_){var R=s(p),m=s(h),b=R?l:i(p),w=m?l:i(h);b=b==d?f:b,w=w==d?f:w;var C=b==f,x=w==f,A=b==w;if(A&&a(p)){if(!a(h))return!1;R=!0,C=!1}if(A&&!C)return _||(_=new r),R||u(p)?e(p,h,q,c,g,_):n(p,h,b,q,c,g,_);if(!(q&o)){var B=C&&y.call(p,"__wrapped__"),I=x&&y.call(h,"__wrapped__");if(B||I){var Y=B?p.value():p,j=I?h.value():h;return _||(_=new r),g(Y,j,q,c,_)}}return A?(_||(_=new r),t(p,h,q,c,g,_)):!1}return He=S,He}var je,Mt;function Rn(){if(Mt)return je;Mt=1;var r=Ja(),e=W();function n(t,i,s,a,u){return t===i?!0:t==null||i==null||!e(t)&&!e(i)?t!==t&&i!==i:r(t,i,s,a,n,u)}return je=n,je}var Ne,Et;function Xa(){if(Et)return Ne;Et=1;var r=qn(),e=Rn(),n=1,t=2;function i(s,a,u,o){var d=u.length,l=d,f=!o;if(s==null)return!l;for(s=Object(s);d--;){var v=u[d];if(f&&v[2]?v[1]!==s[v[0]]:!(v[0]in s))return!1}for(;++d<l;){v=u[d];var y=v[0],S=s[y],p=v[1];if(f&&v[2]){if(S===void 0&&!(y in s))return!1}else{var h=new r;if(o)var q=o(S,p,y,s,a,h);if(!(q===void 0?e(p,S,n|t,o,h):q))return!1}}return!0}return Ne=i,Ne}var ze,It;function wn(){if(It)return ze;It=1;var r=gn();function e(n){return n===n&&!r(n)}return ze=e,ze}var We,Lt;function Qa(){if(Lt)return We;Lt=1;var r=wn(),e=Ir();function n(t){for(var i=e(t),s=i.length;s--;){var a=i[s],u=t[a];i[s]=[a,u,r(u)]}return i}return We=n,We}var Je,Bt;function xn(){if(Bt)return Je;Bt=1;function r(e,n){return function(t){return t==null?!1:t[e]===n&&(n!==void 0||e in Object(t))}}return Je=r,Je}var Xe,Dt;function Ya(){if(Dt)return Xe;Dt=1;var r=Xa(),e=Qa(),n=xn();function t(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(a){return a===i||r(a,i,s)}}return Xe=t,Xe}var Qe,Ft;function Za(){if(Ft)return Qe;Ft=1;function r(e,n){return e!=null&&n in Object(e)}return Qe=r,Qe}var Ye,kt;function Va(){if(kt)return Ye;kt=1;var r=jn(),e=Mr(),n=F(),t=Pr(),i=Er(),s=Cr();function a(u,o,d){o=r(o,u);for(var l=-1,f=o.length,v=!1;++l<f;){var y=s(o[l]);if(!(v=u!=null&&d(u,y)))break;u=u[y]}return v||++l!=f?v:(f=u==null?0:u.length,!!f&&i(f)&&t(y,f)&&(n(u)||e(u)))}return Ye=a,Ye}var Ze,Gt;function ei(){if(Gt)return Ze;Gt=1;var r=Za(),e=Va();function n(t,i){return t!=null&&e(t,i,r)}return Ze=n,Ze}var Ve,Kt;function ri(){if(Kt)return Ve;Kt=1;var r=Rn(),e=Nn(),n=ei(),t=hn(),i=wn(),s=xn(),a=Cr(),u=1,o=2;function d(l,f){return t(l)&&i(f)?s(a(l),f):function(v){var y=e(v,l);return y===void 0&&y===f?n(v,l):r(f,y,u|o)}}return Ve=d,Ve}var er,$t;function Q(){if($t)return er;$t=1;function r(e){return e}return er=r,er}var rr,Ut;function ti(){if(Ut)return rr;Ut=1;function r(e){return function(n){return n==null?void 0:n[e]}}return rr=r,rr}var tr,Ht;function ni(){if(Ht)return tr;Ht=1;var r=yn();function e(n){return function(t){return r(t,n)}}return tr=e,tr}var nr,jt;function ai(){if(jt)return nr;jt=1;var r=ti(),e=ni(),n=hn(),t=Cr();function i(s){return n(s)?r(t(s)):e(s)}return nr=i,nr}var ar,Nt;function ii(){if(Nt)return ar;Nt=1;var r=Ya(),e=ri(),n=Q(),t=F(),i=ai();function s(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?t(a)?e(a[0],a[1]):r(a):i(a)}return ar=s,ar}var ir,zt;function si(){if(zt)return ir;zt=1;function r(e){return function(n,t,i){for(var s=-1,a=Object(n),u=i(n),o=u.length;o--;){var d=u[e?o:++s];if(t(a[d],d,a)===!1)break}return n}}return ir=r,ir}var sr,Wt;function ui(){if(Wt)return sr;Wt=1;var r=si(),e=r();return sr=e,sr}var ur,Jt;function oi(){if(Jt)return ur;Jt=1;var r=ui(),e=Ir();function n(t,i){return t&&r(t,i,e)}return ur=n,ur}var or,Xt;function ci(){if(Xt)return or;Xt=1;var r=X();function e(n,t){return function(i,s){if(i==null)return i;if(!r(i))return n(i,s);for(var a=i.length,u=t?a:-1,o=Object(i);(t?u--:++u<a)&&s(o[u],u,o)!==!1;);return i}}return or=e,or}var cr,Qt;function fi(){if(Qt)return cr;Qt=1;var r=oi(),e=ci(),n=e(r);return cr=n,cr}var fr,Yt;function li(){if(Yt)return fr;Yt=1;var r=fi(),e=X();function n(t,i){var s=-1,a=e(t)?Array(t.length):[];return r(t,function(u,o,d){a[++s]=i(u,o,d)}),a}return fr=n,fr}var lr,Zt;function di(){if(Zt)return lr;Zt=1;function r(e,n){var t=e.length;for(e.sort(n);t--;)e[t]=e[t].value;return e}return lr=r,lr}var dr,Vt;function _i(){if(Vt)return dr;Vt=1;var r=zn();function e(n,t){if(n!==t){var i=n!==void 0,s=n===null,a=n===n,u=r(n),o=t!==void 0,d=t===null,l=t===t,f=r(t);if(!d&&!f&&!u&&n>t||u&&o&&l&&!d&&!f||s&&o&&l||!i&&l||!a)return 1;if(!s&&!u&&!f&&n<t||f&&i&&a&&!s&&!u||d&&i&&a||!o&&a||!l)return-1}return 0}return dr=e,dr}var _r,en;function vi(){if(en)return _r;en=1;var r=_i();function e(n,t,i){for(var s=-1,a=n.criteria,u=t.criteria,o=a.length,d=i.length;++s<o;){var l=r(a[s],u[s]);if(l){if(s>=d)return l;var f=i[s];return l*(f=="desc"?-1:1)}}return n.index-t.index}return _r=e,_r}var vr,rn;function pi(){if(rn)return vr;rn=1;var r=Wn(),e=yn(),n=ii(),t=li(),i=di(),s=Sn(),a=vi(),u=Q(),o=F();function d(l,f,v){f.length?f=r(f,function(p){return o(p)?function(h){return e(h,p.length===1?p[0]:p)}:p}):f=[u];var y=-1;f=r(f,s(n));var S=t(l,function(p,h,q){var c=r(f,function(g){return g(p)});return{criteria:c,index:++y,value:p}});return i(S,function(p,h){return a(p,h,v)})}return vr=d,vr}var pr,tn;function gi(){if(tn)return pr;tn=1;function r(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}return pr=r,pr}var gr,nn;function hi(){if(nn)return gr;nn=1;var r=gi(),e=Math.max;function n(t,i,s){return i=e(i===void 0?t.length-1:i,0),function(){for(var a=arguments,u=-1,o=e(a.length-i,0),d=Array(o);++u<o;)d[u]=a[i+u];u=-1;for(var l=Array(i+1);++u<i;)l[u]=a[u];return l[i]=s(d),r(t,this,l)}}return gr=n,gr}var hr,an;function yi(){if(an)return hr;an=1;function r(e){return function(){return e}}return hr=r,hr}var yr,sn;function bi(){if(sn)return yr;sn=1;var r=yi(),e=Jn(),n=Q(),t=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:r(s),writable:!0})}:n;return yr=t,yr}var br,un;function qi(){if(un)return br;un=1;var r=800,e=16,n=Date.now;function t(i){var s=0,a=0;return function(){var u=n(),o=e-(u-a);if(a=u,o>0){if(++s>=r)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return br=t,br}var qr,on;function mi(){if(on)return qr;on=1;var r=bi(),e=qi(),n=e(r);return qr=n,qr}var mr,cn;function Ai(){if(cn)return mr;cn=1;var r=Q(),e=hi(),n=mi();function t(i,s){return n(e(i,s,r),i+"")}return mr=t,mr}var Ar,fn;function Si(){if(fn)return Ar;fn=1;var r=pn(),e=X(),n=Pr(),t=gn();function i(s,a,u){if(!t(u))return!1;var o=typeof a;return(o=="number"?e(u)&&n(a,u.length):o=="string"&&a in u)?r(u[a],s):!1}return Ar=i,Ar}var Sr,ln;function Ti(){if(ln)return Sr;ln=1;var r=_a(),e=pi(),n=Ai(),t=Si(),i=n(function(s,a){if(s==null)return[];var u=a.length;return u>1&&t(s,a[0],a[1])?a=[]:u>2&&t(a[0],a[1],a[2])&&(a=[a[0]]),e(s,r(a,1),[])});return Sr=i,Sr}var Ri=Ti();const wi=Xn(Ri),xi={class:"w-full h-full flex flex-col"},Oi={class:"flex none px-4 py-3 border-b font-medium"},Pi={key:0,class:"flex items-center gap-2"},Ci=["innerHTML"],Mi={class:"flex-1 overflow-y-auto"},Ei={class:"flex-none h-12 border-b border-gray-200 bg-gray-100 flex gap-3 px-4 items-center justify-between"},Ii={class:"flex-1 flex flex-col overflow-hidden"},Li={class:"flex items-center gap-3 px-3 border-b py-2 focus-within:ring focus-within:ring-gray-700"},Bi=["placeholder"],Di={class:"flex-1 p-6 overflow-y-auto"},Fi={class:"sticky capitalize mb-2 font-medium"},ki={class:"grid grid-cols-2 gap-6"},Gi=["onClick"],Ki={class:"aspect-[16/9] bg-gray-100"},$i=["src","alt"],Ui={class:"text-center p-3"},Hi={class:"uppercase text-xs font-semibold"},ji={class:"text-xs line-clamp-2"},Xi=wr({__name:"index",setup(r){const e=Qn(),n=Br(!1),t=Br(""),i=wi(window.ThemeEditor.availableSections(),["name"],["asc"]),s=K(()=>!!e.themeData.source),a=K(()=>i.filter(c=>c.disabledOn.some(_=>l(_,e.themeData.template))?!1:c.enabledOn.some(_=>l(_,e.themeData.template)))),u=K(()=>{if(!t.value)return a.value;const c=new RegExp(t.value,"gi");return a.value.filter(g=>c.test(g.slug)||c.test(g.name)||c.test(g.description)||c.test(g.previewDescription))}),o=K(()=>{const c={};return u.value.forEach(g=>{let _="default";g.slug.includes("::")&&(_=g.slug.split("::")[0]),c[_]||(c[_]=[]),c[_].push(g)}),c}),d=K(()=>e.templates.find(c=>c.template===e.themeData.template));function l(c,g){return new RegExp("^"+c.replace(/\*/g,".*")+"$").test(g)}function f(){n.value=!n.value}function v(c){e.setContentSectionsOrder(c)}function y(c){e.toggleSection(c)}function S(c){e.removeSection(c)}function p(c){e.activateSection(c)}function h(c){e.deactivateSection(c)}function q(c){f(),e.addNewSection(c)}return(c,g)=>{var b;const _=fa,R=Pn,m=Cn;return P(),E(N,null,[T("div",xi,[T("header",Oi,[O(d)?(P(),E("h2",Pi,[T("span",{innerHTML:O(d).icon,class:"h-4 w-4"},null,8,Ci),Rr(" "+L((b=O(d))==null?void 0:b.label),1)])):D("",!0)]),T("div",Mi,[M(_,{static:"",title:c.$t("Layout Header Sections"),sections:O(e).beforeContentSections,onToggleSection:y,onActivateSection:p,onDeactivateSection:h},null,8,["title","sections"]),g[2]||(g[2]=T("hr",null,null,-1)),M(_,{title:c.$t("Template Sections"),order:O(e).contentSectionsOrder,sections:O(e).contentSections,"can-add-section":O(s),onReorder:v,onReordering:O(e).reorderingContentSections,onAddSection:f,onToggleSection:y,onRemoveSection:S,onActivateSection:p,onDeactivateSection:h},null,8,["title","order","sections","can-add-section","onReordering"]),g[3]||(g[3]=T("hr",null,null,-1)),M(_,{static:"",title:c.$t("Layout Footer Sections"),sections:O(e).afterContentSections,onToggleSection:y,onActivateSection:p,onDeactivateSection:h},null,8,["title","sections"])])]),M(O(k).Root,{open:O(n),"onUpdate:open":g[1]||(g[1]=w=>Dr(n)?n.value=w:null),lazyMount:""},{default:$(()=>[(P(),z(Vn,{to:"body"},[M(O(k).Backdrop,{class:"fixed h-screen w-screen left-0 top-0 backdrop-blur-sm bg-gray-700/30"}),M(O(k).Positioner,{class:"flex fixed inset-0 items-center justify-center"},{default:$(()=>[M(O(k).Content,{class:"bg-white shadow rounded-md flex flex-col w-full max-w-2xl h-3/4 overflow-hidden"},{default:$(()=>[T("header",Ei,[M(O(k).Title,null,{default:$(()=>[Rr(L(c.$t("Add new section")),1)]),_:1}),M(O(k).CloseTrigger,{class:"cursor-pointer rounded-lg p-0.5 text-neutral-700 hover:bg-neutral-300"},{default:$(()=>[M(R,{class:"w-5 h-5"})]),_:1})]),T("section",Ii,[T("div",Li,[M(m,{class:"w-4 h-4"}),Yn(T("input",{"onUpdate:modelValue":g[0]||(g[0]=w=>Dr(t)?t.value=w:null),type:"text",name:"search",class:"appearance-none block w-full outline-none",placeholder:c.$t("Search a section")},null,8,Bi),[[Zn,O(t)]])]),T("div",Di,[(P(!0),E(N,null,Tr(O(o),(w,C)=>(P(),E("div",{key:C,class:"mb-4"},[T("h4",Fi,L(c.$t("From"))+" "+L(C.replace("-"," ")),1),T("div",ki,[(P(!0),E(N,null,Tr(w,x=>(P(),E("div",{key:x.slug,class:"rounded cursor-pointer shadow hover:shadow-lg",onClick:A=>q(x)},[T("div",Ki,[x.previewImageUrl?(P(),E("img",{key:0,src:x.previewImageUrl,alt:x.name,class:"h-full w-full object-cover object-center"},null,8,$i)):D("",!0)]),T("div",Ui,[T("h3",Hi,L(x.name),1),T("p",ji,L(x.previewDescription),1)])],8,Gi))),128))])]))),128))])])]),_:1})]),_:1})]))]),_:1},8,["open"])],64)}}});export{Xi as default};
